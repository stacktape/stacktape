"use strict";module.exports = validate10;module.exports.default = validate10;const schema11 = {"type":"object","properties":{"serviceName":{"description":"#### The name of this service.\n\n---\n\n> **Deprecated:** Use the `--projectName` option in the CLI instead.\n\nThe CloudFormation stack name will be in the format: `{serviceName}-{stage}`.\n\nMust be alphanumeric and can contain dashes. Must match the regex `[a-zA-Z][-a-zA-Z0-9]*`.","type":"string"},"providerConfig":{"description":"#### Configuration for 3rd-party service providers.","type":"object","properties":{"mongoDbAtlas":{"$ref":"#/definitions/MongoDbAtlasProvider"},"upstash":{"$ref":"#/definitions/UpstashProvider"}},"additionalProperties":false},"variables":{"description":"#### Defines variables that can be used throughout the configuration.\n\n---\n\nVariables can be accessed using the `$Var().{variable-name}` directive.\nThey are useful when you want to reuse the same value for multiple properties.\n\nExample: `dbAddress: $ResourceParam('myDatabase', 'host')`","type":"object","additionalProperties":{}},"budgetControl":{"$ref":"#/definitions/BudgetControl","description":"#### Configures a monthly budget and notifications for the stack.\n\n---\n\nBudget control allows you to monitor your spending and configure email notifications when cost thresholds are met.\nThe budget is reset at the beginning of each calendar month."},"hooks":{"$ref":"#/definitions/Hooks","description":"#### Configures hooks to be executed before or after specified commands.\n\n---\n\nHooks are used to automatically execute scripts from the `scripts` section."},"scripts":{"description":"#### A list of script definitions.\n\n---\n\nScripts allow you to specify and execute custom logic. Defining scripts in your Stacktape configuration offers several benefits:\n- They are easily reusable by all members of your team.\n- They can be executed automatically as part of lifecycle [hooks](https://docs.stacktape.com/configuration/hooks/) (e.g., before/after `deploy`/`delete`) or manually using the [`script:run` command](https://docs.stacktape.com/cli/commands/script-run/).\n- You can use the `connectTo` property to easily inject environment variables for connecting to your stack's resources.\n- You can leverage bastion scripts and tunneling to access resources that are only available within a VPC.\n\nThere are three types of scripts:\n1.  **`local-script`**: Executed locally on the same machine where the Stacktape command is run.\n2.  **`local-script-with-bastion-tunneling`**: Same as `local-script`, but connections to resources in the `connectTo` list are tunneled through a bastion host, allowing you to access VPC-only resources.\n3.  **`bastion-script`**: Executed on the bastion host itself.\n\nScripts can be either shell commands or files written in JavaScript, TypeScript, or Python.","type":"object","additionalProperties":{"anyOf":[{"$ref":"#/definitions/LocalScript"},{"$ref":"#/definitions/BastionScript"},{"$ref":"#/definitions/LocalScriptWithBastionTunneling"}]}},"directives":{"description":"#### Configures custom, user-defined directives for use in this configuration.\n\n---\n\nDirectives can be used to dynamically configure certain aspects of your stack.","type":"array","items":{"$ref":"#/definitions/DirectiveDefinition"}},"deploymentConfig":{"$ref":"#/definitions/DeploymentConfig","description":"#### Configures deployment-related aspects for this stack."},"stackConfig":{"$ref":"#/definitions/StackConfig","description":"#### Configures other, uncategorized aspects of this stack."},"resources":{"description":"#### The infrastructure resources that make up your stack.\n\n---\n\nEach resource consists of multiple underlying AWS resources.\nTo see all resources in this stack, including their underlying CloudFormation resources, use the `stacktape stack-info --detailed` command.\nEach resource specified here counts towards your resource limit.","type":"object","additionalProperties":{"$ref":"#/definitions/StacktapeResourceDefinition"}},"cloudformationResources":{"description":"#### Raw CloudFormation resources that will be deployed in this stack.\n\n---\n\nThese resources will be merged with the resources managed by Stacktape.\nEach CloudFormation resource consists of a logical name and its definition.\n\nTo avoid logical name conflicts, you can see all logical names for resources deployed by Stacktape using the `stacktape stack-info --detailed` command.\nResources specified here do not count towards your resource limit.\n\nFor a list of all supported AWS CloudFormation resources, see the [AWS documentation](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html).","type":"object","additionalProperties":{"$ref":"#/definitions/default"}}},"additionalProperties":false,"required":["resources"],"definitions":{"MongoDbAtlasProvider":{"type":"object","properties":{"publicKey":{"description":"#### Your MongoDB Atlas public API key.\n\n---\n\nYou can get API keys for your organization by following the [guide in the docs](https://docs.stacktape.com/user-guides/mongo-db-atlas-credentials/).","type":"string"},"privateKey":{"description":"#### Your MongoDB Atlas private API key.\n\n---\n\nYou can get API keys for your organization by following the [guide in the docs](https://docs.stacktape.com/user-guides/mongo-db-atlas-credentials/).\n\nFor security reasons, you should store your credentials as secrets. For more details, see the [secrets guide](https://docs.stacktape.com/resources/secrets/).","type":"string"},"organizationId":{"description":"#### Your MongoDB Atlas Organization ID.\n\n---\n\nYou can get the organization ID for your organization by following the [guide in the docs](https://docs.stacktape.com/user-guides/mongo-db-atlas-credentials/).","type":"string"},"accessibility":{"$ref":"#/definitions/MongoDbAtlasAccessibility","description":"#### Configures the connectivity settings of the MongoDB Atlas project.\n\n---\n\nIf your stack contains a MongoDB Atlas cluster, Stacktape will automatically create a MongoDB Atlas Project for it.\nAll MongoDB Atlas clusters in your stack will be deployed within this project.\n\nNetwork connectivity to clusters is configured at the project level, so the accessibility settings defined here will apply to all MongoDB Atlas clusters in your stack."}},"additionalProperties":false},"MongoDbAtlasAccessibility":{"type":"object","properties":{"accessibilityMode":{"description":"#### Configures the accessibility mode for this database.\n\n---\n\nThe following modes are supported:\n\n- **`internet`**: The least restrictive mode. The database can be accessed from anywhere on the internet.\n- **`vpc`**: The database can only be accessed from resources within your VPC. This includes any [function](https://docs.stacktape.com/compute-resources/lambda-functions) (with `joinDefaultVpc: true`), [batch job](https://docs.stacktape.com/compute-resources/batch-jobs), or [container workload](https://docs.stacktape.com/compute-resources/multi-container-workloads) in your stack, provided they have the required credentials. IP addresses configured in `whitelistedIps` can also access the database.\n- **`scoping-workloads-in-vpc`**: Similar to `vpc` mode, but more restrictive. In addition to being in the same VPC, resources must have the necessary security group permissions to access the cluster. For functions, batch jobs, and container services, these permissions can be granted using the `connectTo` property in their respective configurations. IP addresses configured in `whitelistedIps` can also access the cluster.\n- **`whitelisted-ips-only`**: The cluster can only be accessed from the IP addresses and CIDR blocks listed in `whitelistedIps`.\n\nTo learn more about VPCs, see the [VPC documentation](https://docs.stacktape.com/user-guides/vpcs/).","default":"internet","enum":["internet","scoping-workloads-in-vpc","vpc","whitelisted-ips-only"],"type":"string"},"whitelistedIps":{"description":"#### A list of IP addresses or IP ranges (in CIDR format) that are allowed to access the cluster.\n\n---\n\nThe behavior of this property varies based on the `accessibilityMode`:\n- **`internet`**: This property has no effect, as the database is accessible from anywhere.\n- **`vpc`** and **`scoping-workloads-in-vpc`**: These IP addresses can be used to allow access from specific locations outside of the VPC (e.g., your office IP address).\n- **`whitelisted-ips-only`**: These are the only addresses that can access the database.","type":"array","items":{"type":"string"}}},"additionalProperties":false,"required":["accessibilityMode"]},"UpstashProvider":{"type":"object","properties":{"accountEmail":{"description":"#### The email address associated with your Upstash account.\n\n---\n\nAll database operations (create, update, delete) will be performed on behalf of this account.","type":"string"},"apiKey":{"description":"#### The API key associated with your Upstash account or team.\n\n---\n\nYou can create an API key in the [Upstash console](https://console.upstash.com/account/api).","type":"string"}},"additionalProperties":false,"required":["accountEmail","apiKey"]},"BudgetControl":{"type":"object","properties":{"limit":{"description":"#### Budget Limit\n\n---\n\nThe total cost (in USD) that you want to track with this budget. Notification thresholds are calculated as a percentage of this limit.","type":"number"},"notifications":{"description":"#### Budget Notifications\n\n---\n\nA list of notifications to send when a budget threshold is met.\n\nNotifications are sent via email and can be triggered based on either actual or forecasted spend. You can configure up to 5 notifications per stack.","type":"array","items":{"$ref":"#/definitions/BudgetNotification"}}},"additionalProperties":false,"required":["limit"]},"BudgetNotification":{"type":"object","properties":{"budgetType":{"description":"#### Budget Type\n\n---\n\nDetermines whether the notification is based on `ACTUAL` or `FORECASTED` spend.\n\n- `ACTUAL`: Based on the costs you have already incurred this month.\n- `FORECASTED`: Based on a prediction of your total spend for the month.\n\n> **Note:** AWS requires about 5 weeks of usage data to generate accurate forecasts. Forecast-based notifications will not be triggered until sufficient historical data is available.","default":"ACTUAL","enum":["ACTUAL","FORECASTED"],"type":"string"},"thresholdPercentage":{"description":"#### Threshold Percentage\n\n---\n\nThe percentage of the budget limit at which the notification should be triggered.\n\nFor example, if the `limit` is $200 and `thresholdPercentage` is 80, the notification will be sent when the spend exceeds $160.","default":100,"type":"number"},"emails":{"description":"#### Email Recipients\n\n---\n\nA list of email addresses that will receive the notification. You can specify up to 10 recipients.","type":"array","items":{"type":"string"}}},"additionalProperties":false,"required":["emails"]},"Hooks":{"type":"object","properties":{"beforeDeploy":{"description":"#### Before Deploy\n\n---\n\nA list of scripts to execute before the `deploy` and `codebuild:deploy` commands. When using `codebuild:deploy`, these hooks run in the CodeBuild environment, not on your local machine.","type":"array","items":{"$ref":"#/definitions/NamedScriptLifecycleHook"}},"afterDeploy":{"description":"#### After Deploy\n\n---\n\nA list of scripts to execute after the `deploy` and `codebuild:deploy` commands. When using `codebuild:deploy`, these hooks run in the CodeBuild environment, not on your local machine.","type":"array","items":{"$ref":"#/definitions/NamedScriptLifecycleHook"}},"beforeDelete":{"description":"#### Before Delete\n\n---\n\nA list of scripts to execute before the `delete` command. These hooks only run if you provide the `--configPath` and `--stage` options when running the command.","type":"array","items":{"$ref":"#/definitions/NamedScriptLifecycleHook"}},"afterDelete":{"description":"#### After Delete\n\n---\n\nA list of scripts to execute after the `delete` command. These hooks only run if you provide the `--configPath` and `--stage` options when running the command.","type":"array","items":{"$ref":"#/definitions/NamedScriptLifecycleHook"}},"beforeBucketSync":{"description":"#### Before Bucket Sync\n\n---\n\nA list of scripts to execute before the `bucket:sync` command.","type":"array","items":{"$ref":"#/definitions/NamedScriptLifecycleHook"}},"afterBucketSync":{"description":"#### After Bucket Sync\n\n---\n\nA list of scripts to execute after the `bucket:sync` command.","type":"array","items":{"$ref":"#/definitions/NamedScriptLifecycleHook"}},"beforeDev":{"description":"#### Before Dev\n\n---\n\nA list of scripts to execute before the `dev` command.","type":"array","items":{"$ref":"#/definitions/NamedScriptLifecycleHook"}},"afterDev":{"description":"#### After Dev\n\n---\n\nA list of scripts to execute after the `dev` command.","type":"array","items":{"$ref":"#/definitions/NamedScriptLifecycleHook"}}},"additionalProperties":false},"NamedScriptLifecycleHook":{"type":"object","properties":{"scriptName":{"description":"#### Script Name\n\n---\n\nThe name of the script to execute. The script must be defined in the `scripts` section of your configuration.","type":"string"},"skipOnCI":{"description":"#### Skip on CI\n\n---\n\nIf `true`, this hook will not run in a CI/CD environment (e.g., AWS CodeBuild, GitHub Actions, GitLab CI). This is useful for hooks that should only run locally.","default":false,"type":"boolean"},"skipOnLocal":{"description":"#### Skip on Local\n\n---\n\nIf `true`, this hook will only run in a CI/CD environment and will be skipped during local execution.","default":false,"type":"boolean"}},"additionalProperties":false,"required":["scriptName"]},"LocalScript":{"description":"#### A script that runs on your local machine.\n\n---\n\nLocal scripts are executed on the same machine where the Stacktape command is run.\nThey are useful for tasks like building your application, running database migrations, or other automation.\n\nThe script must define one of the following: `executeCommand`, `executeScript`, `executeCommands`, or `executeScripts`.","type":"object","properties":{"type":{"type":"string","const":"local-script"},"properties":{"$ref":"#/definitions/LocalScriptProps"}},"additionalProperties":false,"required":["properties","type"]},"LocalScriptProps":{"type":"object","properties":{"executeScript":{"description":"#### Execute Script\n\n---\n\nThe path to a script file to execute. The script can be written in JavaScript, TypeScript, or Python and runs in a separate process.\n\nThe executable is determined by `defaults:configure` or the system default (`node` for JS/TS, `python` for Python). You can only use one of `executeScript`, `executeScripts`, `executeCommand`, or `executeCommands`.","type":"string"},"executeCommand":{"description":"#### Execute Command\n\n---\n\nA single terminal command to execute in a separate shell process.\n\nThe command runs on the machine executing the Stacktape command. Be aware of potential differences between local and CI environments (e.g., OS, shell). You can only use one of `executeScript`, `executeScripts`, `executeCommand`, or `executeCommands`.","type":"string"},"executeScripts":{"description":"#### Execute Scripts\n\n---\n\nA list of script files to execute sequentially. Each script runs in a separate process.\n\nThe script can be written in JavaScript, TypeScript, or Python. The executable is determined by `defaults:configure` or the system default. You can only use one of `executeScript`, `executeScripts`, `executeCommand`, or `executeCommands`.","type":"array","items":{"type":"string"}},"executeCommands":{"description":"#### Execute Commands\n\n---\n\nA list of terminal commands to execute sequentially. Each command runs in a separate shell process.\n\nThe commands run on the machine executing the Stacktape command. Be aware of potential differences between environments. You can only use one of `executeScript`, `executeScripts`, `executeCommand`, or `executeCommands`.","type":"array","items":{"type":"string"}},"cwd":{"description":"#### Working Directory\n\n---\n\nThe directory where the script or command will be executed.","default":"The directory where the Stacktape command was executed.","type":"string"},"pipeStdio":{"description":"#### Pipe Stdio\n\n---\n\nIf `true`, pipes the standard input/output (stdio) of the hook process to the main process. This allows you to see logs from your hook and interact with prompts.","default":true,"type":"boolean"},"connectTo":{"description":"#### Connect To\n\n---\n\nA list of resources the script needs to interact with. Stacktape automatically injects environment variables with connection details for each specified resource.\n\nEnvironment variable names are in the format `STP_[RESOURCE_NAME]_[VARIABLE_NAME]` (e.g., `STP_MY_DATABASE_CONNECTION_STRING`).\n\n**Injected Variables by Resource Type:**\n- **`Bucket`**: `NAME`, `ARN`\n- **`DynamoDbTable`**: `NAME`, `ARN`, `STREAM_ARN`\n- **`MongoDbAtlasCluster`**: `CONNECTION_STRING`\n- **`RelationalDatabase`**: `CONNECTION_STRING`, `JDBC_CONNECTION_STRING`, `HOST`, `PORT`. For Aurora clusters, `READER_CONNECTION_STRING`, `READER_JDBC_CONNECTION_STRING`, and `READER_HOST` are also included.\n- **`RedisCluster`**: `HOST`, `READER_HOST`, `PORT`\n- **`EventBus`**: `ARN`\n- **`Function`**: `ARN`\n- **`BatchJob`**: `JOB_DEFINITION_ARN`, `STATE_MACHINE_ARN`\n- **`UserAuthPool`**: `ID`, `CLIENT_ID`, `ARN`\n- **`SnsTopic`**: `ARN`, `NAME`\n- **`SqsQueue`**: `ARN`, `NAME`, `URL`\n- **`UpstashKafkaTopic`**: `TOPIC_NAME`, `TOPIC_ID`, `USERNAME`, `PASSWORD`, `TCP_ENDPOINT`, `REST_URL`\n- **`UpstashRedis`**: `HOST`, `PORT`, `PASSWORD`, `REST_TOKEN`, `REST_URL`, `REDIS_URL`\n- **`PrivateService`**: `ADDRESS`\n- **`WebService`**: `URL`","type":"array","items":{"type":"string"}},"environment":{"description":"#### Environment Variables\n\n---\n\nA list of environment variables to pass to the script or command.\n\nValues can be:\n- A static string, number, or boolean.\n- The result of a [custom directive](https://docs.stacktape.com/configuration/directives/#custom-directives).\n- A reference to another resource's parameter using the [`$ResourceParam` directive](https://docs.stacktape.com/configuration/referencing-parameters/).\n- A value from a [secret](https://docs.stacktape.com/resources/secrets/) using the [`$Secret` directive](https://docs.stacktape.com/configuration/directives/#secret).","type":"array","items":{"$ref":"#/definitions/EnvironmentVar"}},"assumeRoleOfResource":{"description":"#### Assume Role of Resource\n\n---\n\nThe name of a deployed resource whose IAM role the script should assume. This grants the script the same permissions as the specified resource.\n\nThe resource must be deployed before the script is executed. Stacktape injects temporary AWS credentials as environment variables, which are automatically used by most AWS SDKs and CLIs.\n\n**Supported Resource Types:**\n- `function`\n- `batch-job`\n- `worker-service`\n- `web-service`\n- `private-service`\n- `multi-container-workload`\n- `nextjs-web`","type":"string"}},"additionalProperties":false},"EnvironmentVar":{"type":"object","properties":{"name":{"description":"#### Variable Name\n\n---\n\nThe name of the environment variable.","type":"string"},"value":{"description":"#### Variable Value\n\n---\n\nThe value of the environment variable. Numbers and booleans will be converted to strings.","type":["string","number","boolean"]}},"additionalProperties":false,"required":["name","value"]},"BastionScript":{"description":"#### A script that runs remotely on a bastion server.\n\n---\n\nBastion scripts are executed on a bastion server within your VPC, not on your local machine.\nLogs from the script's execution are streamed in real-time to your terminal.\n\nThis is useful for running commands that need direct access to VPC resources\nor for ensuring consistent execution environments across different machines.","type":"object","properties":{"type":{"type":"string","const":"bastion-script"},"properties":{"$ref":"#/definitions/BastionScriptProps"}},"additionalProperties":false,"required":["properties","type"]},"BastionScriptProps":{"type":"object","properties":{"bastionResource":{"description":"#### Bastion Resource Name\n\n---\n\nThe name of the bastion resource on which the commands will be executed.","type":"string"},"executeCommand":{"description":"#### Execute Command\n\n---\n\nA single terminal command to execute on the bastion host. Logs from the execution are streamed to your terminal.\n\nYou can use either `executeCommand` or `executeCommands`, but not both.","type":"string"},"executeCommands":{"description":"#### Execute Commands\n\n---\n\nA list of terminal commands to execute sequentially as a script on the bastion host. Logs from the execution are streamed to your terminal.\n\nYou can use either `executeCommand` or `executeCommands`, but not both.","type":"array","items":{"type":"string"}},"cwd":{"description":"#### Working Directory\n\n---\n\nThe directory on the bastion host where the command will be executed.","default":"/","type":"string"},"connectTo":{"description":"#### Connect To\n\n---\n\nA list of resources the script needs to interact with. Stacktape automatically injects environment variables with connection details for each specified resource.\n\nEnvironment variable names are in the format `STP_[RESOURCE_NAME]_[VARIABLE_NAME]` (e.g., `STP_MY_DATABASE_CONNECTION_STRING`).\n\n**Injected Variables by Resource Type:**\n- **`Bucket`**: `NAME`, `ARN`\n- **`DynamoDbTable`**: `NAME`, `ARN`, `STREAM_ARN`\n- **`MongoDbAtlasCluster`**: `CONNECTION_STRING`\n- **`RelationalDatabase`**: `CONNECTION_STRING`, `JDBC_CONNECTION_STRING`, `HOST`, `PORT`. For Aurora clusters, `READER_CONNECTION_STRING`, `READER_JDBC_CONNECTION_STRING`, and `READER_HOST` are also included.\n- **`RedisCluster`**: `HOST`, `READER_HOST`, `PORT`\n- **`EventBus`**: `ARN`\n- **`Function`**: `ARN`\n- **`BatchJob`**: `JOB_DEFINITION_ARN`, `STATE_MACHINE_ARN`\n- **`UserAuthPool`**: `ID`, `CLIENT_ID`, `ARN`\n- **`SnsTopic`**: `ARN`, `NAME`\n- **`SqsQueue`**: `ARN`, `NAME`, `URL`\n- **`UpstashKafkaTopic`**: `TOPIC_NAME`, `TOPIC_ID`, `USERNAME`, `PASSWORD`, `TCP_ENDPOINT`, `REST_URL`\n- **`UpstashRedis`**: `HOST`, `PORT`, `PASSWORD`, `REST_TOKEN`, `REST_URL`, `REDIS_URL`\n- **`PrivateService`**: `ADDRESS`\n- **`WebService`**: `URL`","type":"array","items":{"type":"string"}},"environment":{"description":"#### Environment Variables\n\n---\n\nA list of environment variables to pass to the script or command.\n\nValues can be:\n- A static string, number, or boolean.\n- The result of a [custom directive](https://docs.stacktape.com/configuration/directives/#custom-directives).\n- A reference to another resource's parameter using the [`$ResourceParam` directive](https://docs.stacktape.com/configuration/referencing-parameters/).\n- A value from a [secret](https://docs.stacktape.com/resources/secrets/) using the [`$Secret` directive](https://docs.stacktape.com/configuration/directives/#secret).","type":"array","items":{"$ref":"#/definitions/EnvironmentVar"}},"assumeRoleOfResource":{"description":"#### Assume Role of Resource\n\n---\n\nThe name of a deployed resource whose IAM role the script should assume. This grants the script the same permissions as the specified resource.\n\nThe resource must be deployed before the script is executed. Stacktape injects temporary AWS credentials as environment variables, which are automatically used by most AWS SDKs and CLIs.\n\n**Supported Resource Types:**\n- `function`\n- `batch-job`\n- `worker-service`\n- `web-service`\n- `private-service`\n- `multi-container-workload`\n- `nextjs-web`","type":"string"}},"additionalProperties":false},"LocalScriptWithBastionTunneling":{"description":"#### A local script with secure tunneling through a bastion host.\n\n---\n\nThis script type runs locally but tunnels connections to resources through a bastion server.\nIt provides a secure, encrypted connection to resources that are only accessible within the VPC,\nsuch as private databases or Redis clusters.\n\nThe environment variables injected by `connectTo` are automatically adjusted to use the tunneled endpoints.","type":"object","properties":{"type":{"type":"string","const":"local-script-with-bastion-tunneling"},"properties":{"$ref":"#/definitions/LocalScriptWithBastionTunnelingProps"}},"additionalProperties":false,"required":["properties","type"]},"LocalScriptWithBastionTunnelingProps":{"type":"object","properties":{"bastionResource":{"description":"#### Bastion Resource Name\n\n---\n\nThe name of the bastion resource to use for tunneling to protected resources.","type":"string"},"executeScript":{"description":"#### Execute Script\n\n---\n\nThe path to a script file to execute. The script can be written in JavaScript, TypeScript, or Python and runs in a separate process.\n\nThe executable is determined by `defaults:configure` or the system default (`node` for JS/TS, `python` for Python). You can only use one of `executeScript`, `executeScripts`, `executeCommand`, or `executeCommands`.","type":"string"},"executeCommand":{"description":"#### Execute Command\n\n---\n\nA single terminal command to execute in a separate shell process.\n\nThe command runs on the machine executing the Stacktape command. Be aware of potential differences between local and CI environments (e.g., OS, shell). You can only use one of `executeScript`, `executeScripts`, `executeCommand`, or `executeCommands`.","type":"string"},"executeScripts":{"description":"#### Execute Scripts\n\n---\n\nA list of script files to execute sequentially. Each script runs in a separate process.\n\nThe script can be written in JavaScript, TypeScript, or Python. The executable is determined by `defaults:configure` or the system default. You can only use one of `executeScript`, `executeScripts`, `executeCommand`, or `executeCommands`.","type":"array","items":{"type":"string"}},"executeCommands":{"description":"#### Execute Commands\n\n---\n\nA list of terminal commands to execute sequentially. Each command runs in a separate shell process.\n\nThe commands run on the machine executing the Stacktape command. Be aware of potential differences between environments. You can only use one of `executeScript`, `executeScripts`, `executeCommand`, or `executeCommands`.","type":"array","items":{"type":"string"}},"cwd":{"description":"#### Working Directory\n\n---\n\nThe directory where the script or command will be executed.","default":"The directory where the Stacktape command was executed.","type":"string"},"pipeStdio":{"description":"#### Pipe Stdio\n\n---\n\nIf `true`, pipes the standard input/output (stdio) of the hook process to the main process. This allows you to see logs from your hook and interact with prompts.","default":true,"type":"boolean"},"connectTo":{"description":"#### Connect To\n\n---\n\nA list of resources the script needs to interact with. Stacktape automatically injects environment variables with connection details for each specified resource.\n\nEnvironment variable names are in the format `STP_[RESOURCE_NAME]_[VARIABLE_NAME]` (e.g., `STP_MY_DATABASE_CONNECTION_STRING`).\n\n**Injected Variables by Resource Type:**\n- **`Bucket`**: `NAME`, `ARN`\n- **`DynamoDbTable`**: `NAME`, `ARN`, `STREAM_ARN`\n- **`MongoDbAtlasCluster`**: `CONNECTION_STRING`\n- **`RelationalDatabase`**: `CONNECTION_STRING`, `JDBC_CONNECTION_STRING`, `HOST`, `PORT`. For Aurora clusters, `READER_CONNECTION_STRING`, `READER_JDBC_CONNECTION_STRING`, and `READER_HOST` are also included.\n- **`RedisCluster`**: `HOST`, `READER_HOST`, `PORT`\n- **`EventBus`**: `ARN`\n- **`Function`**: `ARN`\n- **`BatchJob`**: `JOB_DEFINITION_ARN`, `STATE_MACHINE_ARN`\n- **`UserAuthPool`**: `ID`, `CLIENT_ID`, `ARN`\n- **`SnsTopic`**: `ARN`, `NAME`\n- **`SqsQueue`**: `ARN`, `NAME`, `URL`\n- **`UpstashKafkaTopic`**: `TOPIC_NAME`, `TOPIC_ID`, `USERNAME`, `PASSWORD`, `TCP_ENDPOINT`, `REST_URL`\n- **`UpstashRedis`**: `HOST`, `PORT`, `PASSWORD`, `REST_TOKEN`, `REST_URL`, `REDIS_URL`\n- **`PrivateService`**: `ADDRESS`\n- **`WebService`**: `URL`","type":"array","items":{"type":"string"}},"environment":{"description":"#### Environment Variables\n\n---\n\nA list of environment variables to pass to the script or command.\n\nValues can be:\n- A static string, number, or boolean.\n- The result of a [custom directive](https://docs.stacktape.com/configuration/directives/#custom-directives).\n- A reference to another resource's parameter using the [`$ResourceParam` directive](https://docs.stacktape.com/configuration/referencing-parameters/).\n- A value from a [secret](https://docs.stacktape.com/resources/secrets/) using the [`$Secret` directive](https://docs.stacktape.com/configuration/directives/#secret).","type":"array","items":{"$ref":"#/definitions/EnvironmentVar"}},"assumeRoleOfResource":{"description":"#### Assume Role of Resource\n\n---\n\nThe name of a deployed resource whose IAM role the script should assume. This grants the script the same permissions as the specified resource.\n\nThe resource must be deployed before the script is executed. Stacktape injects temporary AWS credentials as environment variables, which are automatically used by most AWS SDKs and CLIs.\n\n**Supported Resource Types:**\n- `function`\n- `batch-job`\n- `worker-service`\n- `web-service`\n- `private-service`\n- `multi-container-workload`\n- `nextjs-web`","type":"string"}},"additionalProperties":false},"DirectiveDefinition":{"type":"object","properties":{"name":{"description":"#### Directive Name\n\n---\n\nThe name of the custom directive.","type":"string"},"filePath":{"description":"#### File Path\n\n---\n\nThe path to the file where the directive is defined, in the format `{file-path}:{handler}`.\n\nIf the `{handler}` is omitted:\n- For `.js` and `.ts` files, the `default` export is used.\n- For `.py` files, the `main` function is used.","type":"string"}},"additionalProperties":false,"required":["filePath","name"]},"DeploymentConfig":{"type":"object","properties":{"terminationProtection":{"description":"#### Enable Termination Protection\n\n---\n\nIf `true`, protects the stack from accidental deletion. You must disable this protection before you can delete the stack.","default":false,"type":"boolean"},"cloudformationRoleArn":{"description":"<< Description missing. Will be provided soon. >>","type":"string"},"triggerRollbackOnAlarms":{"description":"#### Rollback Alarms\n\n---\n\nA list of alarms that will trigger a rollback if they enter the `ALARM` state during a stack deployment.\n\nYou can specify an alarm by its name (if defined in the `alarms` section) or by its ARN.\n\n> An alarm must exist before the deployment starts to be used as a rollback trigger. If you specify a newly created alarm, it will only be used in subsequent deployments.","type":"array","items":{"type":"string"}},"monitoringTimeAfterDeploymentInMinutes":{"description":"#### Post-Deployment Monitoring Time\n\n---\n\nThe amount of time (in minutes) that CloudFormation should monitor the stack and rollback alarms after a deployment.\n\nIf a rollback alarm is triggered or the update is canceled during this period, the stack will be rolled back.","default":0,"type":"number"},"disableAutoRollback":{"description":"#### Disable Auto-Rollback\n\n---\n\nIf `true`, disables automatic rollback on deployment failure.\n\n- **With auto-rollback (default):** If a deployment fails, the stack is automatically rolled back to the last known good state.\n- **Without auto-rollback:** If a deployment fails, the stack remains in the `UPDATE_FAILED` state. You can then either fix the issues and redeploy or manually roll back using the `stacktape rollback` command.","default":false,"type":"boolean"},"publishEventsToArn":{"description":"<< Description missing. Will be provided soon. >>","type":"array","items":{"type":"string"}},"previousVersionsToKeep":{"description":"#### Previous Versions to Keep\n\n---\n\nThe number of previous deployment artifact versions (functions, images, templates) to keep.","default":10,"type":"number"},"disableS3TransferAcceleration":{"description":"#### Disable S3 Transfer Acceleration\n\n---\n\nIf `true`, disables the use of S3 Transfer Acceleration for uploading deployment artifacts.\n\nS3 Transfer Acceleration can improve upload times and security by routing uploads through the nearest AWS edge location. It may incur minor additional costs.","default":false,"type":"boolean"}},"additionalProperties":false},"StackConfig":{"type":"object","properties":{"outputs":{"description":"#### Stack Outputs\n\n---\n\nA list of custom outputs for your stack, such as API Gateway URLs, database endpoints, or resource ARNs. These outputs are often dynamically generated by AWS and are only known after deployment.","type":"array","items":{"$ref":"#/definitions/StackOutput"}},"tags":{"description":"#### Stack Tags\n\n---\n\nA list of tags to apply to the stack. These tags are propagated to all supported AWS resources created in the stack and can help with cost allocation and resource management. You can specify a maximum of 45 tags.","type":"array","items":{"$ref":"#/definitions/CloudformationTag"}},"disableStackInfoSaving":{"description":"#### Disable Stack Info Saving\n\n---\n\nIf `true`, disables saving information about the deployed stack to a local file after each deployment.\n\nBy default, stack information is saved to `.stacktape-stack-info/<<stack-name>>.json`.","default":false,"type":"boolean"},"stackInfoDirectory":{"description":"#### Stack Info Directory\n\n---\n\nThe directory where information about deployed stacks will be saved.","default":".stacktape-stack-info/","type":"string"},"vpc":{"$ref":"#/definitions/VpcSettings","description":"#### VPC configuration\n\n---\n\nConfigure VPC settings including VPC reuse and NAT Gateway configuration for private subnets."}},"additionalProperties":false},"StackOutput":{"type":"object","properties":{"name":{"description":"#### Output Name\n\n---\n\nThe name of the stack output.","type":"string"},"value":{"description":"#### Output Value\n\n---\n\nThe value of the stack output.","type":"string"},"description":{"description":"#### Output Description\n\n---\n\nA human-readable description of the stack output.","type":"string"},"export":{"description":"#### Export Output\n\n---\n\nIf `true`, exports the stack output so it can be referenced by other stacks using the [`$CfStackOutput` directive](https://docs.stacktape.com/configuration/directives#cf-stack-output).","default":false,"type":"boolean"}},"additionalProperties":false,"required":["name","value"]},"CloudformationTag":{"type":"object","properties":{"name":{"description":"#### Tag Name\n\n---\n\nThe name of the tag. It must be between 1 and 128 characters and can contain Unicode letters, digits, whitespace, and the characters `_`, `.`, `/`, `=`, `+`, `-`.","type":"string"},"value":{"description":"#### Tag Value\n\n---\n\nThe value of the tag. It must be between 1 and 256 characters.","type":"string"}},"additionalProperties":false,"required":["name","value"]},"VpcSettings":{"type":"object","properties":{"reuseVpc":{"$ref":"#/definitions/VpcReuseConfig","description":"#### Reuse VPC from another stack or use existing VPC.\n\n---\n\nIf this property is set, resources will be created in the VPC of the specified existing stack or the provided VPC ID.\n\nReusing a VPC is helpful when services in this stack are tightly coupled with services in another stack\n(e.g., if this stack needs to access VPC-protected resources from another stack).\n\n> **Note:** It is recommended to specify this property when creating a new stack. If you add this property to an already deployed stack, updating may cause resources to be replaced and data to be lost.\n\nBy default, each stack has its own dedicated VPC."},"nat":{"$ref":"#/definitions/NatSettings","description":"#### NAT Gateway configuration for private subnets.\n\n---\n\nConfigures NAT Gateways that provide internet access for workloads deployed in private subnets.\n\nThis configuration only applies when you have workloads using the `usePrivateSubnetsWithNAT` option."}},"additionalProperties":false},"VpcReuseConfig":{"type":"object","properties":{"projectName":{"description":"#### Project name of target stack\n---\n- Project name of the target stack (stack in which the VPC is created).\n- Must be used together with `stage`.\n- Cannot be used together with `vpcId`.","type":"string"},"stage":{"description":"#### Stage of target stack\n---\n- The stage of the target stack (stack in which the VPC is created).\n- Must be used together with `projectName`.\n- Cannot be used together with `vpcId`.","type":"string"},"vpcId":{"description":"#### VPC ID\n---\n- Direct VPC ID to reuse (e.g., `vpc-1234567890abcdef0`).\n- Cannot be used together with `projectName` and `stage`.\n- The VPC must have at least 3 public subnets. Public subnets are identified by having a route to an Internet Gateway (0.0.0.0/0 -> igw-*) in their associated route table.","type":"string"}},"additionalProperties":false},"NatSettings":{"type":"object","properties":{"availabilityZones":{"description":"#### Number of availability zones for NAT Gateway deployment.\n\n---\n\nControls how many availability zones will have a dedicated NAT Gateway for high availability.\n\n- **1 AZ:** Single NAT Gateway (lowest cost, but no redundancy if that AZ fails)\n- **2 AZs:** NAT Gateways in two zones (balanced cost and availability)\n- **3 AZs:** NAT Gateways in three zones (highest availability and cost)\n\nHigher numbers provide better fault tolerance but increase costs proportionally.\n\nEach NAT Gateway receives a static Elastic IP address that persists across deployments,\nallowing you to whitelist these IP addresses in external services (e.g., third-party APIs, databases, payment gateways).","default":2,"enum":[1,2,3],"type":"number"}},"additionalProperties":false},"StacktapeResourceDefinition":{"anyOf":[{"$ref":"#/definitions/ContainerWorkload"},{"$ref":"#/definitions/BatchJob"},{"$ref":"#/definitions/WebService"},{"$ref":"#/definitions/PrivateService"},{"$ref":"#/definitions/WorkerService"},{"$ref":"#/definitions/RelationalDatabase"},{"$ref":"#/definitions/ApplicationLoadBalancer"},{"$ref":"#/definitions/NetworkLoadBalancer"},{"$ref":"#/definitions/HttpApiGateway"},{"$ref":"#/definitions/Bucket"},{"$ref":"#/definitions/UserAuthPool"},{"$ref":"#/definitions/EventBus"},{"$ref":"#/definitions/Bastion"},{"$ref":"#/definitions/DynamoDbTable"},{"$ref":"#/definitions/StateMachine"},{"$ref":"#/definitions/MongoDbAtlasCluster"},{"$ref":"#/definitions/RedisCluster"},{"$ref":"#/definitions/CustomResourceInstance"},{"$ref":"#/definitions/CustomResourceDefinition"},{"$ref":"#/definitions/UpstashRedis"},{"$ref":"#/definitions/DeploymentScript"},{"$ref":"#/definitions/AwsCdkConstruct"},{"$ref":"#/definitions/SqsQueue"},{"$ref":"#/definitions/SnsTopic"},{"$ref":"#/definitions/HostingBucket"},{"$ref":"#/definitions/WebAppFirewall"},{"$ref":"#/definitions/NextjsWeb"},{"$ref":"#/definitions/OpenSearchDomain"},{"$ref":"#/definitions/EfsFilesystem"},{"$ref":"#/definitions/LambdaFunction"},{"$ref":"#/definitions/EdgeLambdaFunction"}]},"ContainerWorkload":{"description":"#### A resource for running and managing containerized applications.\n\n---\n\nA multi-container workload is a fully managed, auto-scaling, and easy-to-use runtime for your Docker containers.\nIt allows you to run one or more containers together with shared resources.","type":"object","properties":{"type":{"type":"string","const":"multi-container-workload"},"properties":{"$ref":"#/definitions/ContainerWorkloadProps"},"overrides":{"description":"#### Resource Overrides\n\n---\n\nOverrides properties of the underlying CloudFormation resources that Stacktape creates.\n\nChild resources are identified by their CloudFormation logical ID (e.g., `MyBucketBucket`). You can find these IDs by running `stacktape stack:info --detailed`.\n\nFor a list of properties that can be overridden, refer to the [AWS CloudFormation documentation](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html).","type":"object","additionalProperties":{"type":"object","additionalProperties":{}}}},"additionalProperties":false,"required":["properties","type"]},"ContainerWorkloadProps":{"type":"object","properties":{"containers":{"description":"#### A list of containers that will run in this workload.\n\n---\n\nA workload can consist of one or more containers. Containers within the same workload share computing resources and scale together as a single unit.","type":"array","items":{"$ref":"#/definitions/ContainerWorkloadContainer"}},"resources":{"$ref":"#/definitions/ContainerWorkloadResourcesConfig","description":"#### Configures the computing resources (CPU, memory, and instance types) for the workload.\n\n---\n\nYou can choose between two compute engines:\n- **Fargate**: A serverless option where you don't need to manage the underlying servers. You specify CPU and memory, and AWS handles the rest. This is the simplest way to run containers.\n- **EC2**: This option gives you fine-grained control over the underlying virtual machines (instances). You can choose specific EC2 instance types to optimize for your workload's needs.\n\nTo use Fargate, specify the `cpu` and `memory` properties. To use EC2, specify the `instanceTypes` property."},"scaling":{"$ref":"#/definitions/ContainerWorkloadScaling","description":"#### Configures how the workload scales in and out.\n\n---\n\nScaling is handled horizontally, meaning more instances of your workload are added to handle increased demand.\nIncoming traffic is automatically distributed among the available instances."},"deployment":{"$ref":"#/definitions/ContainerWorkloadDeploymentConfig","description":"#### Configures the deployment strategy for updating the workload.\n\n---\n\nThis allows for safe, gradual deployments. Instead of instantly replacing the old version, traffic is shifted to the new version over time.\nThis provides an opportunity to monitor for issues and roll back if necessary.\n\nSupported strategies include Canary, Linear, and AllAtOnce deployments.\n\n> **Note:** To use gradual deployments, your workload must be integrated with an Application Load Balancer."},"enableRemoteSessions":{"description":"#### Enables interactive shell access to running containers.\n\n---\n\nWhen enabled, you can use the `stacktape container:session` command to get a shell inside a running container.\nThis is useful for debugging and inspecting your application in a live environment.\nIt uses AWS ECS Exec and SSM Session Manager for secure connections.","type":"boolean"},"usePrivateSubnetsWithNAT":{"description":"#### Deploys the workload in private subnets with internet access through NAT Gateway.\n\n---\n\nWhen the workload is in a private subnet, it does not have public IP and direct internet access.\nInstead, all outbound internet traffic is routed through a NAT Gateway.\n\nYou can assign a static public IP address to the NAT Gateway and configure high availability using `stackConfig.vpcSettings`.\nThis allows you to whitelist your service's IP address in external services (e.g., third-party APIs, databases, payment gateways).\n\n**Cost considerations:**\n- NAT Gateways incur additional AWS charges for both the gateway itself and data processing","default":false,"type":"boolean"},"connectTo":{"description":"#### Connect To\n\n---\n\nConfigures access to other resources in your stack and AWS services. By specifying resources here, Stacktape automatically:\n- Configures IAM role permissions.\n- Sets up security group rules to allow network traffic.\n- Injects environment variables with connection details into the compute resource.\n\nEnvironment variables are named `STP_[RESOURCE_NAME]_[VARIABLE_NAME]` (e.g., `STP_MY_DATABASE_CONNECTION_STRING`).\n\n---\n\n#### Granted Permissions and Injected Variables:\n\n**`Bucket`**\n- **Permissions:** List, create, get, delete, and tag objects.\n- **Variables:** `NAME`, `ARN`\n\n**`DynamoDbTable`**\n- **Permissions:** Get, put, update, delete, scan, and query items; describe table stream.\n- **Variables:** `NAME`, `ARN`, `STREAM_ARN`\n\n**`MongoDbAtlasCluster`**\n- **Permissions:** Allows connection to clusters with `accessibilityMode` set to `scoping-workloads-in-vpc`. Creates a temporary user for secure, credential-less access.\n- **Variables:** `CONNECTION_STRING`\n\n**`RelationalDatabase`**\n- **Permissions:** Allows connection to databases with `accessibilityMode` set to `scoping-workloads-in-vpc`.\n- **Variables:** `CONNECTION_STRING`, `JDBC_CONNECTION_STRING`, `HOST`, `PORT`. For Aurora clusters, `READER_CONNECTION_STRING`, `READER_JDBC_CONNECTION_STRING`, and `READER_HOST` are also included.\n\n**`RedisCluster`**\n- **Permissions:** Allows connection to clusters with `accessibilityMode` set to `scoping-workloads-in-vpc`.\n- **Variables:** `HOST`, `READER_HOST`, `PORT`\n\n**`EventBus`**\n- **Permissions:** Publish events.\n- **Variables:** `ARN`\n\n**`Function`**\n- **Permissions:** Invoke the function, including via its URL if enabled.\n- **Variables:** `ARN`\n\n**`BatchJob`**\n- **Permissions:** Submit, list, describe, and terminate jobs; manage state machine executions.\n- **Variables:** `JOB_DEFINITION_ARN`, `STATE_MACHINE_ARN`\n\n**`UserAuthPool`**\n- **Permissions:** Full control over the user pool (`cognito-idp:*`).\n- **Variables:** `ID`, `CLIENT_ID`, `ARN`\n\n**`SnsTopic`**\n- **Permissions:** Confirm, list, publish, and manage subscriptions.\n- **Variables:** `ARN`, `NAME`\n\n**`SqsQueue`**\n- **Permissions:** Send, receive, delete, and purge messages.\n- **Variables:** `ARN`, `NAME`, `URL`\n\n**`UpstashKafkaTopic`**\n- **Variables:** `TOPIC_NAME`, `TOPIC_ID`, `USERNAME`, `PASSWORD`, `TCP_ENDPOINT`, `REST_URL`\n\n**`UpstashRedis`**\n- **Variables:** `HOST`, `PORT`, `PASSWORD`, `REST_TOKEN`, `REST_URL`, `REDIS_URL`\n\n**`PrivateService`**\n- **Variables:** `ADDRESS`\n\n**`aws:ses` (Macro)**\n- **Permissions:** Full permissions for AWS SES (`ses:*`).","type":"array","items":{"type":"string"}},"iamRoleStatements":{"description":"#### Custom IAM Role Statements\n\n---\n\nA list of raw AWS IAM role statements to append to the resource's role, allowing for fine-grained permission control.","type":"array","items":{"$ref":"#/definitions/StpIamRoleStatement"}}},"additionalProperties":false,"required":["containers","resources"]},"ContainerWorkloadContainer":{"type":"object","properties":{"events":{"description":"#### Configures how this container receives traffic and events.\n\n---\n\nEvent integrations allow containers to:\n- Receive requests from load balancers.\n- Communicate with other containers in the same workload.","type":"array","items":{"anyOf":[{"$ref":"#/definitions/ContainerWorkloadLoadBalancerIntegration"},{"$ref":"#/definitions/ContainerWorkloadHttpApiIntegration"},{"$ref":"#/definitions/ContainerWorkloadInternalIntegration"},{"$ref":"#/definitions/ContainerWorkloadServiceConnectIntegration"},{"$ref":"#/definitions/ContainerWorkloadNetworkLoadBalancerIntegration"}]}},"loadBalancerHealthCheck":{"$ref":"#/definitions/LoadBalancerHealthCheck","description":"#### Configures how a load balancer checks the health of this container.\n\n---\n\n> This property only has an effect if the container is integrated with an Application Load Balancer or Network Load Balancer."},"name":{"description":"#### A unique name for the container within the workload.","type":"string"},"packaging":{"$ref":"#/definitions/ContainerWorkloadContainerPackaging","description":"#### Configures the container image."},"essential":{"description":"#### Determines if this container is critical for the workload's health.\n\n---\n\nIf an essential container fails or stops, all other containers in the same workload instance are also stopped. The entire instance is then terminated and replaced.","type":"boolean"},"logging":{"$ref":"#/definitions/ContainerWorkloadContainerLogging","description":"#### Configures the logging behavior for this container.\n\n---\n\nContainer logs (`stdout` and `stderr`) are automatically sent to a CloudWatch log group.\n\nYou can view logs in two ways:\n  - Through the AWS CloudWatch console. Use the `stacktape stack-info` command to get a direct link.\n  - Using the `stacktape logs` command to stream logs directly to your terminal."},"dependsOn":{"description":"#### A list of other containers that this container depends on to start.\n\n---\n\nThis defines the startup order for containers within the workload.\nFor example, you can require a database container to be `HEALTHY` before your application container starts.","type":"array","items":{"$ref":"#/definitions/ContainerDependency"}},"environment":{"description":"#### Environment variables to inject into the container.\n\n---\n\nEnvironment variables are ideal for providing configuration details to your container, such as database connection strings, API keys, or other dynamic parameters.","type":"array","items":{"$ref":"#/definitions/EnvironmentVar"}},"internalHealthCheck":{"$ref":"#/definitions/ContainerHealthCheck","description":"#### Configures an internal health check to determine if the container is healthy.\n\n---\n\nIf this health check fails for an essential container, the entire workload instance will be terminated and replaced."},"stopTimeout":{"description":"#### The time (in seconds) to wait before forcefully killing the container if it doesn't shut down gracefully.\n\n---\n\nWhen a container is stopped, it first receives a `SIGTERM` signal. If it doesn't exit within this timeout, it will be sent a `SIGKILL` signal.\nThis allows for graceful shutdown procedures. The timeout must be between 2 and 120 seconds.","default":2,"type":"number"},"volumeMounts":{"description":"#### A list of file system volumes to mount to the container.\n\n---\n\nVolumes provide persistent storage that can be shared across multiple containers and persists even if the container is stopped or replaced.\nCurrently, only EFS (Elastic File System) volumes are supported.","type":"array","items":{"$ref":"#/definitions/ContainerEfsMount"}}},"additionalProperties":false,"required":["name","packaging"]},"ContainerWorkloadLoadBalancerIntegration":{"description":"#### Triggers a container when a request matches the specified conditions on an Application Load Balancer.\n\n---\n\nYou can route requests based on HTTP method, path, headers, query parameters, and source IP address.","type":"object","properties":{"type":{"type":"string","const":"application-load-balancer"},"properties":{"$ref":"#/definitions/ContainerWorkloadLoadBalancerIntegrationProps","description":"#### Properties of the integration"}},"additionalProperties":false,"required":["properties","type"]},"ContainerWorkloadLoadBalancerIntegrationProps":{"type":"object","properties":{"containerPort":{"description":"#### The container port that will receive traffic from the load balancer.","type":"number"},"loadBalancerName":{"description":"#### The name of the Application Load Balancer.\n\n---\n\nThis must reference a load balancer defined in your Stacktape configuration.","type":"string"},"listenerPort":{"description":"#### The port of the load balancer listener to attach to.\n\n---\n\nYou only need to specify this if the load balancer uses custom listeners.","type":"number"},"priority":{"description":"#### The priority of this integration rule.\n\n---\n\nLoad balancer rules are evaluated in order from the lowest priority to the highest.\nThe first rule that matches an incoming request will handle it.","type":"number"},"paths":{"description":"#### A list of URL paths that will trigger this integration.\n\n---\n\nThe request will be routed if its path matches any of the paths in this list.\nThe comparison is case-sensitive and supports `*` and `?` wildcards.\n\nExample: `/users`, `/articles/*`","type":"array","items":{"type":"string"}},"methods":{"description":"#### A list of HTTP methods that will trigger this integration.\n\n---\n\nExample: `GET`, `POST`, `DELETE`","type":"array","items":{"type":"string"}},"hosts":{"description":"#### A list of hostnames that will trigger this integration.\n\n---\n\nThe hostname is parsed from the `Host` header of the request.\nWildcards (`*` and `?`) are supported.\n\nExample: `api.example.com`, `*.myapp.com`","type":"array","items":{"type":"string"}},"headers":{"description":"#### A list of header conditions that the request must match.\n\n---\n\nAll header conditions must be met for the request to be routed.","type":"array","items":{"$ref":"#/definitions/LbHeaderCondition"}},"queryParams":{"description":"#### A list of query parameter conditions that the request must match.\n\n---\n\nAll query parameter conditions must be met for the request to be routed.","type":"array","items":{"$ref":"#/definitions/LbQueryParamCondition"}},"sourceIps":{"description":"#### A list of source IP addresses (in CIDR format) that are allowed to trigger this integration.\n\n---\n\n> **Note:** If the client is behind a proxy, this will be the IP address of the proxy.","type":"array","items":{"type":"string"}}},"additionalProperties":false,"required":["containerPort","loadBalancerName","priority"]},"LbHeaderCondition":{"type":"object","properties":{"headerName":{"description":"#### The name of the HTTP header.","type":"string"},"values":{"description":"#### A list of allowed values for the header.\n\n---\n\nThe condition is met if the header's value in the incoming request matches any of the values in this list. The comparison is case-insensitive.","type":"array","items":{"type":"string"}}},"additionalProperties":false,"required":["headerName","values"]},"LbQueryParamCondition":{"type":"object","properties":{"paramName":{"description":"#### The name of the query parameter.","type":"string"},"values":{"description":"#### A list of allowed values for the query parameter.\n\n---\n\nThe condition is met if the query parameter's value in the incoming request matches any of the values in this list. The comparison is case-insensitive.","type":"array","items":{"type":"string"}}},"additionalProperties":false,"required":["paramName","values"]},"ContainerWorkloadHttpApiIntegration":{"description":"#### Triggers a container when an HTTP API Gateway receives a matching request.\n\n---\n\nYou can route requests based on HTTP method and path.","type":"object","properties":{"type":{"type":"string","const":"http-api-gateway"},"properties":{"$ref":"#/definitions/ContainerWorkloadHttpApiIntegrationProps","description":"#### Properties of the integration"}},"additionalProperties":false,"required":["properties","type"]},"ContainerWorkloadHttpApiIntegrationProps":{"type":"object","properties":{"containerPort":{"description":"#### The container port that will receive traffic from the API Gateway.","type":"number"},"httpApiGatewayName":{"description":"#### The name of the HTTP API Gateway.","type":"string"},"method":{"description":"#### The HTTP method that will trigger this integration.\n\n---\n\nYou can specify an exact method (e.g., `GET`) or use `*` to match any method.","enum":["*","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT"],"type":"string"},"path":{"description":"#### The URL path that will trigger this integration.\n\n---\n\n- **Exact path**: `/users`\n- **Path with parameter**: `/users/{id}`. The `id` will be available in `event.pathParameters.id`.\n- **Greedy path**: `/files/{proxy+}`. This will match any path starting with `/files/`.","type":"string"},"authorizer":{"$ref":"#/definitions/StpAuthorizer","description":"#### An authorizer to protect this route.\n\n---\n\nUnauthorized requests will be rejected with a `401 Unauthorized` response."},"payloadFormat":{"description":"#### The payload format version for the Lambda integration.\n\n---\n\nFor details on the differences between formats, see the [AWS documentation](https://docs.aws.amazon.com/apigateway/latest/developerguide/http-api-develop-integrations-lambda.html).","default":"'1.0'","enum":["1.0","2.0"],"type":"string"}},"additionalProperties":false,"required":["containerPort","httpApiGatewayName","method","path"]},"StpAuthorizer":{"anyOf":[{"$ref":"#/definitions/CognitoAuthorizer"},{"$ref":"#/definitions/LambdaAuthorizer"}]},"CognitoAuthorizer":{"type":"object","properties":{"type":{"description":"#### Cognito JWT authorizer\n\n---\n\nConfigures an HTTP API authorizer that validates JSON Web Tokens (JWTs) issued by a Cognito user pool.\nThis is the simplest way to protect routes when your users sign in via `user-auth-pool`.\n\nStacktape turns this into an API Gateway v2 authorizer of type `JWT` that checks the token's issuer and audience.","type":"string","const":"cognito"},"properties":{"$ref":"#/definitions/CognitoAuthorizerProperties"}},"additionalProperties":false,"required":["properties","type"]},"CognitoAuthorizerProperties":{"type":"object","properties":{"userPoolName":{"description":"#### Name of the user pool to protect the API\n\n---\n\nThe Stacktape name of the `user-auth-pool` resource whose tokens should be accepted by this HTTP API authorizer.\nStacktape uses this to:\n\n- Set the expected **audience** to the user pool client ID.\n- Build the expected **issuer** URL based on the user pool and AWS region.\n\nIn practice this means only JWTs issued by this pool (and its client) will be considered valid.","type":"string"},"identitySources":{"description":"#### Where to read the JWT from in the request\n\n---\n\nA list of identity sources that tell API Gateway where to look for the bearer token, using the\n`$request.*` syntax from API Gateway (for example `'$request.header.Authorization'`).\n\nIf you omit this, Stacktape defaults to reading the token from the `Authorization` HTTP header,\nusing a JWT authorizer as described in the API Gateway v2 authorizer docs\n([AWS::ApiGatewayV2::Authorizer](https://docs.aws.amazon.com/AWSCloudFormation/latest/TemplateReference/aws-resource-apigatewayv2-authorizer)).","type":"array","items":{"type":"string"}}},"additionalProperties":false,"required":["userPoolName"]},"LambdaAuthorizer":{"type":"object","properties":{"type":{"description":"#### Lambda-based HTTP API authorizer\n\n---\n\nConfigures an API Gateway **request** authorizer that runs a Lambda function to decide whether a request is allowed.\nThis is useful when your authorization logic can't be expressed as simple JWT validation  for example when you\ncheck API keys, look up permissions in a database, or integrate with a non-JWT identity system.\n\nStacktape creates an `AWS::ApiGatewayV2::Authorizer` of type `REQUEST` and wires it up to your Lambda.","type":"string","const":"lambda"},"properties":{"$ref":"#/definitions/LambdaAuthorizerProperties"}},"additionalProperties":false,"required":["properties","type"]},"LambdaAuthorizerProperties":{"type":"object","properties":{"functionName":{"description":"#### Name of the authorizer function\n\n---\n\nThe Stacktape name of a `function` resource that should run for each authorized request.\nAPI Gateway calls this Lambda, passes request details, and uses its response to allow or deny access.","type":"string"},"iamResponse":{"description":"#### Use IAM-style (v1) authorizer responses\n\n---\n\n- If `true`, your Lambda must return a full IAM policy document (the \"v1\" format).\n- If `false` or omitted, Stacktape enables **simple responses** (the HTTP API v2 payload format)\n  so your Lambda can return a small JSON object with an `isAuthorized` flag and optional context.\n\nThis flag is wired to `EnableSimpleResponses` on the underlying `AWS::ApiGatewayV2::Authorizer`.","type":"boolean"},"identitySources":{"description":"#### Where to read identity data from\n\n---\n\nA list of request fields API Gateway should pass into your Lambda authorizer (for example headers, query parameters,\nor stage variables) using the `$request.*` syntax.\n\nWhen left empty, no specific identity sources are configured and your Lambda must inspect the incoming event directly.","type":"array","items":{"type":"string"}},"cacheResultSeconds":{"description":"#### Cache authorizer results\n\n---\n\nNumber of seconds API Gateway should cache the result of the Lambda authorizer for a given identity.\nWhile cached, repeated requests skip calling your authorizer function and reuse the previous result.\n\nThis value is applied to `AuthorizerResultTtlInSeconds`. If omitted, Stacktape sets it to `0` (no caching).","type":"number"}},"additionalProperties":false,"required":["functionName"]},"ContainerWorkloadInternalIntegration":{"description":"#### Opens a container port for connections from other containers within the same workload.","type":"object","properties":{"type":{"type":"string","const":"workload-internal"},"properties":{"$ref":"#/definitions/ContainerWorkloadInternalIntegrationProps","description":"#### Properties of the integration"}},"additionalProperties":false,"required":["properties","type"]},"ContainerWorkloadInternalIntegrationProps":{"type":"object","properties":{"containerPort":{"description":"#### The container port to open for internal traffic.","type":"number"}},"additionalProperties":false,"required":["containerPort"]},"ContainerWorkloadServiceConnectIntegration":{"description":"#### Opens a container port for connections from other compute resources in the same stack.","type":"object","properties":{"type":{"type":"string","const":"service-connect"},"properties":{"$ref":"#/definitions/ContainerWorkloadServiceConnectIntegrationProps","description":"#### Properties of the integration"}},"additionalProperties":false,"required":["properties","type"]},"ContainerWorkloadServiceConnectIntegrationProps":{"type":"object","properties":{"containerPort":{"description":"#### The container port to open for service-to-service communication.","type":"number"},"alias":{"description":"#### An alias for this service, used for service discovery.\n\n---\n\nOther resources in the stack can connect to this service using a URL like `protocol://alias:port` (e.g., `http://my-service:8080`).\nBy default, the alias is derived from the resource and container names (e.g., `my-resource-my-container`).","type":"string"},"protocol":{"description":"#### The protocol used for service-to-service communication.\n\n---\n\nSpecifying the protocol allows AWS to capture protocol-specific metrics, such as the number of HTTP 5xx errors.","enum":["grpc","http","http2"],"type":"string"}},"additionalProperties":false,"required":["containerPort"]},"ContainerWorkloadNetworkLoadBalancerIntegration":{"description":"#### Triggers a container when a request is made to a Network Load Balancer.\n\n---\n\nA Network Load Balancer operates at the transport layer (Layer 4) and can handle TCP and TLS traffic.","type":"object","properties":{"type":{"type":"string","const":"network-load-balancer"},"properties":{"$ref":"#/definitions/ContainerWorkloadNetworkLoadBalancerIntegrationProps","description":"#### Properties of the integration"}},"additionalProperties":false,"required":["properties","type"]},"ContainerWorkloadNetworkLoadBalancerIntegrationProps":{"type":"object","properties":{"containerPort":{"description":"#### The container port that will receive traffic from the load balancer.","type":"number"},"loadBalancerName":{"description":"#### The name of the Network Load Balancer.\n\n---\n\nThis must reference a load balancer defined in your Stacktape configuration.","type":"string"},"listenerPort":{"description":"#### The port of the listener that will forward traffic to this integration.","type":"number"}},"additionalProperties":false,"required":["containerPort","listenerPort","loadBalancerName"]},"LoadBalancerHealthCheck":{"type":"object","properties":{"healthcheckPath":{"description":"#### The path on which the load balancer performs health checks.\n---","default":"/","type":"string"},"healthcheckInterval":{"description":"#### The interval (in seconds) between health checks.\n---","default":5,"type":"number"},"healthcheckTimeout":{"description":"#### The timeout (in seconds) for a health check to be considered failed.\n---","default":4,"type":"number"},"healthCheckProtocol":{"description":"#### The protocol the load balancer uses for health checks.\n---\n- For Application Load Balancers, the default is `HTTP`.\n- For Network Load Balancers, the default is `TCP`.","enum":["HTTP","TCP"],"type":"string"},"healthCheckPort":{"description":"#### The port the load balancer uses for health checks.\n---\n- By default, this is the same port that receives traffic from the load balancer.","type":"number"}},"additionalProperties":false},"ContainerWorkloadContainerPackaging":{"anyOf":[{"$ref":"#/definitions/StpBuildpackCwImagePackaging"},{"$ref":"#/definitions/ExternalBuildpackCwImagePackaging"},{"$ref":"#/definitions/PrebuiltCwImagePackaging"},{"$ref":"#/definitions/CustomDockerfileCwImagePackaging"},{"$ref":"#/definitions/NixpacksCwImagePackaging"}]},"StpBuildpackCwImagePackaging":{"description":"#### A zero-config buildpack that creates a container image from your source code.\n\n---\n\nThe `stacktape-image-buildpack` automatically bundles your code and dependencies into an optimized container image.\n\n**Supported languages:** JavaScript, TypeScript, Python, Java, and Go.\n\nFor JS/TS, your code is bundled into a single file with source maps.\nThe resulting image is uploaded to a managed ECR repository.","type":"object","properties":{"type":{"type":"string","const":"stacktape-image-buildpack"},"properties":{"$ref":"#/definitions/StpBuildpackCwImagePackagingProps"}},"additionalProperties":false,"required":["properties","type"]},"StpBuildpackCwImagePackagingProps":{"description":"#### Configures an image to be built automatically by Stacktape from your source code.","type":"object","properties":{"languageSpecificConfig":{"description":"#### Language-specific packaging configuration.","anyOf":[{"$ref":"#/definitions/EsLanguageSpecificConfig"},{"$ref":"#/definitions/PyLanguageSpecificConfig"},{"$ref":"#/definitions/JavaLanguageSpecificConfig"},{"$ref":"#/definitions/GoLanguageSpecificConfig"}]},"requiresGlibcBinaries":{"description":"#### Builds the image with support for glibc-based binaries.\n\n---\n\nBy default, Stacktape uses Alpine-based Docker images, which use `musl` instead of `glibc`.\nEnable this option if your application has native dependencies that require `glibc`.\nThis will result in a larger container image.","type":"boolean"},"customDockerBuildCommands":{"description":"#### A list of commands to be executed during the `docker build` process.\n\n---\n\nThese commands are executed using the `RUN` directive in the Dockerfile.\nThis is useful for installing additional system dependencies in your container.","type":"array","items":{"type":"string"}},"entryfilePath":{"description":"#### The path to the entry point of your application, relative to your Stacktape configuration file.\n\n---\n\nStacktape will attempt to bundle your code and its dependencies into a single file.\nIf a dependency cannot be bundled (e.g., it relies on binary executables), it will be installed and included in the deployment package separately.","type":"string"},"includeFiles":{"description":"#### A glob pattern of files to explicitly include in the deployment package.\n\n---\n\nThe path is relative to your Stacktape configuration file.","type":"array","items":{"type":"string"}},"excludeFiles":{"description":"#### A glob pattern of files to explicitly exclude from the deployment package.\n\n---","type":"array","items":{"type":"string"}},"excludeDependencies":{"description":"#### A list of dependencies to exclude from the deployment package.","type":"array","items":{"type":"string"}}},"additionalProperties":false,"required":["entryfilePath"]},"EsLanguageSpecificConfig":{"type":"object","properties":{"tsConfigPath":{"description":"#### The path to the `tsconfig.json` file.\n\n---\n\nThis is primarily used to resolve path aliases during the build process.","type":"string"},"emitTsDecoratorMetadata":{"description":"#### Emits TypeScript decorator metadata in the final bundle.\n\n---\n\nThis is required by frameworks like NestJS and ORMs like TypeORM.\nIt's disabled by default as it can increase build times.","type":"boolean"},"dependenciesToExcludeFromBundle":{"description":"#### A list of dependencies to exclude from the main bundle.\n\n---\n\nThese dependencies will be treated as \"external\" and will not be bundled directly into your application's code.\nInstead, they will be installed separately in the deployment package.\nUse `*` to exclude all dependencies from the bundle.","type":"array","items":{"type":"string"}},"outputModuleFormat":{"description":"#### The output module format for the compiled code.\n\n---\n\n- `cjs` (CommonJS): The standard module system for Node.js.\n- `esm` (ECMAScript Modules): The modern standard for JavaScript modules. Allows features like top-level `await`.\n\n> **Note:** Many Node.js dependencies do not yet support ES modules.\n> Using `esm` may also affect the quality of stack traces for errors.","default":"'cjs'","enum":["cjs","esm"],"type":"string"},"nodeVersion":{"description":"#### The major version of Node.js to use.","default":18,"enum":[16,17,18,19,20,21,22,23,24],"type":"number"},"disableSourceMaps":{"description":"#### Disables the generation of source maps.\n\n---\n\nDisabling source maps can reduce the size of your deployment package, but it will make it more difficult to debug errors in production, as stack traces will not map back to your original source code.","type":"boolean"},"outputSourceMapsTo":{"description":"#### Outputs source maps to a specified directory.\n\n---\n\nIf you use this option, source maps will not be uploaded to AWS, and stack traces in CloudWatch logs will not be correctly mapped.\nThis is useful if you plan to upload source maps to an external error tracking service like Sentry.","type":"string"},"dependenciesToExcludeFromDeploymentPackage":{"description":"#### A list of dependencies to exclude from the deployment package.\n\n---\n\nThis only applies to dependencies that are not statically bundled.\nTo exclude a dependency from the static bundle, use `dependenciesToExcludeFromBundle`.\nUse `*` to exclude all non-bundled dependencies.","type":"array","items":{"type":"string"}}},"additionalProperties":false},"PyLanguageSpecificConfig":{"type":"object","properties":{"packageManagerFile":{"description":"#### The path to your project's dependency file.\n\n---\n\nThis can be a `requirements.txt`, `Pipfile`, or `pyproject.toml` file.","type":"string"},"packageManager":{"$ref":"#/definitions/SupportedPythonPackageManager","description":"#### The Python package manager to use.\n\n---\n\nStacktape will automatically detect the package manager based on the files in your project.\nYou only need to set this if you are using a non-standard file name for your dependencies."},"pythonVersion":{"$ref":"#/definitions/SupportedPythonVersion","description":"#### The version of Python to use.","default":3.9},"runAppAs":{"$ref":"#/definitions/SupportedPythonRunAppAs","description":"#### The Python web server gateway interface to use.\n\n---\n\n> This property is only for the `stacktape-image-buildpack`.\n\nYou can choose between `WSGI` (for frameworks like Flask or Django) and `ASGI` (for frameworks like FastAPI).\nThe server will automatically bind to the port specified by the `PORT` environment variable.\n\nTo use this, you must specify the application variable in your `entryfilePath` (e.g., `my_app/main.py:app`)."},"minify":{"description":"#### Minifies the Python code.\n\n---\n\nIf enabled, Stacktape will minify the Python code using `pyminify`.\nThis can reduce the size of the deployment package, but it will make it more difficult to debug errors in production, as stack traces will not map back to your original source code.","default":true,"type":"boolean"}},"additionalProperties":false},"SupportedPythonPackageManager":{"enum":["pip","pipenv","poetry"],"type":"string"},"SupportedPythonVersion":{"enum":[2.7,3.11,3.12,3.13,3.14,3.6,3.7,3.8,3.9],"type":"number"},"SupportedPythonRunAppAs":{"enum":["ASGI","WSGI"],"type":"string"},"JavaLanguageSpecificConfig":{"type":"object","properties":{"useMaven":{"description":"#### Specifies whether to use Maven instead of Gradle.\n\n---\n\nBy default, Stacktape uses Gradle to build Java projects.","type":"boolean"},"packageManagerFile":{"description":"#### The path to your project's build file (`pom.xml` for Maven or `build.gradle` for Gradle).","type":"string"},"javaVersion":{"$ref":"#/definitions/SupportedJavaVersion","description":"#### The version of Java to use.","default":11}},"additionalProperties":false},"SupportedJavaVersion":{"enum":[11,17,19,8],"type":"number"},"GoLanguageSpecificConfig":{"type":"object","additionalProperties":false},"ExternalBuildpackCwImagePackaging":{"description":"#### Builds a container image using an external buildpack.\n\n---\n\nExternal buildpacks (buildpacks.io) automatically detect your application type\nand build an optimized container image with zero configuration.\n\nThe default builder is `paketobuildpacks/builder-jammy-base`.\nYou can find buildpacks for almost any language or framework.","type":"object","properties":{"type":{"type":"string","const":"external-buildpack"},"properties":{"$ref":"#/definitions/ExternalBuildpackCwImagePackagingProps"}},"additionalProperties":false,"required":["properties","type"]},"ExternalBuildpackCwImagePackagingProps":{"type":"object","properties":{"builder":{"description":"#### The Buildpack Builder to use.\n\n---","default":"paketobuildpacks/builder-jammy-base","type":"string"},"buildpacks":{"description":"#### The specific Buildpack to use.\n\n---\n\nBy default, the buildpack is detected automatically.","type":"array","items":{"type":"string"}},"sourceDirectoryPath":{"description":"#### The path to the source code directory.","type":"string"},"command":{"description":"#### A command to be executed when the container starts.\n\n---\n\nExample: `['/app/start.sh']`","type":"array","items":{"type":"string"}}},"additionalProperties":false,"required":["sourceDirectoryPath"]},"PrebuiltCwImagePackaging":{"description":"#### Uses a pre-built container image.\n\n---\n\nWith `prebuilt-image`, you provide a reference to an existing container image.\nThis can be a public image from Docker Hub or a private image from any container registry.\n\nFor private registries, configure `repositoryCredentialsSecretArn` with credentials stored in AWS Secrets Manager.","type":"object","properties":{"type":{"type":"string","const":"prebuilt-image"},"properties":{"$ref":"#/definitions/PrebuiltImageCwPackagingProps"}},"additionalProperties":false,"required":["properties","type"]},"PrebuiltImageCwPackagingProps":{"description":"#### Configures a pre-built container image.","type":"object","properties":{"repositoryCredentialsSecretArn":{"description":"#### The ARN of a secret containing credentials for a private container registry.\n\n---\n\nThe secret must be a JSON object with `username` and `password` keys.\nYou can create secrets using the `stacktape secret:create` command.","type":"string"},"entryPoint":{"description":"#### A script to be executed when the container starts.\n\n---\n\nThis overrides the `ENTRYPOINT` instruction in the Dockerfile.","type":"array","items":{"type":"string"}},"image":{"description":"#### The name or URL of the container image.","type":"string"},"command":{"description":"#### A command to be executed when the container starts.\n\n---\n\nThis overrides the `CMD` instruction in the Dockerfile.\n\nExample: `['/app/start.sh']`","type":"array","items":{"type":"string"}}},"additionalProperties":false,"required":["image"]},"CustomDockerfileCwImagePackaging":{"description":"#### Builds a container image from your own Dockerfile.\n\n---\n\nWith `custom-dockerfile`, you provide a path to your Dockerfile and build context.\nStacktape builds the image and uploads it to a managed ECR repository.\n\nThis gives you full control over the container environment and is ideal for complex setups.","type":"object","properties":{"type":{"type":"string","const":"custom-dockerfile"},"properties":{"$ref":"#/definitions/CustomDockerfileCwImagePackagingProps"}},"additionalProperties":false,"required":["properties","type"]},"CustomDockerfileCwImagePackagingProps":{"description":"#### Configures an image to be built by Stacktape from a specified Dockerfile.","type":"object","properties":{"entryPoint":{"description":"#### A script to be executed when the container starts.\n\n---\n\nThis overrides the `ENTRYPOINT` instruction in the Dockerfile.","type":"array","items":{"type":"string"}},"dockerfilePath":{"description":"#### The path to the Dockerfile, relative to `buildContextPath`.","type":"string"},"buildContextPath":{"description":"#### The path to the build context directory, relative to your Stacktape configuration file.","type":"string"},"buildArgs":{"description":"#### A list of arguments to pass to the `docker build` command.","type":"array","items":{"$ref":"#/definitions/DockerBuildArg"}},"command":{"description":"#### A command to be executed when the container starts.\n\n---\n\nThis overrides the `CMD` instruction in the Dockerfile.\n\nExample: `['/app/start.sh']`","type":"array","items":{"type":"string"}}},"additionalProperties":false,"required":["buildContextPath"]},"DockerBuildArg":{"type":"object","properties":{"argName":{"description":"#### Argument name","type":"string"},"value":{"description":"#### Argument value","type":"string"}},"additionalProperties":false,"required":["argName","value"]},"NixpacksCwImagePackaging":{"description":"#### Builds a container image using Nixpacks.\n\n---\n\nNixpacks automatically detects your application type and builds an optimized container image.\nIn most cases, no configuration is required.\n\nIt supports a wide range of languages and frameworks out of the box.","type":"object","properties":{"type":{"type":"string","const":"nixpacks"},"properties":{"$ref":"#/definitions/NixpacksCwImagePackagingProps"}},"additionalProperties":false,"required":["properties","type"]},"NixpacksCwImagePackagingProps":{"type":"object","properties":{"sourceDirectoryPath":{"description":"#### The path to the source code directory.","type":"string"},"buildImage":{"description":"#### The base image to use for building the application.\n\n---\n\nFor more details, see the [Nixpacks documentation](https://nixpacks.com/docs/configuration/file#build-image).","type":"string"},"providers":{"description":"#### A list of providers to use for determining the build and runtime environments.","type":"array","items":{"type":"string"}},"startCmd":{"description":"#### The command to execute when starting the application.\n\n---\n\nThis overrides the default start command inferred by Nixpacks.","type":"string"},"startRunImage":{"description":"#### The base image to use for running the application.","type":"string"},"startOnlyIncludeFiles":{"description":"#### A list of file paths to include in the runtime environment; all other files will be excluded.","type":"array","items":{"type":"string"}},"phases":{"description":"#### The build phases for the application.","type":"array","items":{"$ref":"#/definitions/NixpacksPhase"}}},"additionalProperties":false,"required":["sourceDirectoryPath"]},"NixpacksPhase":{"type":"object","properties":{"name":{"description":"#### The name of the build phase.","type":"string"},"cmds":{"description":"#### A list of shell commands to execute in this phase.","type":"array","items":{"type":"string"}},"nixPkgs":{"description":"#### A list of Nix packages to install in this phase.","type":"array","items":{"type":"string"}},"nixLibs":{"description":"#### A list of Nix libraries to include in this phase.","type":"array","items":{"type":"string"}},"nixOverlay":{"description":"#### A list of Nix overlay files to apply in this phase.","type":"array","items":{"type":"string"}},"nixpkgsArchive":{"description":"#### The Nixpkgs archive to use.","type":"string"},"aptPkgs":{"description":"#### A list of APT packages to install in this phase.","type":"array","items":{"type":"string"}},"cacheDirectories":{"description":"#### A list of directories to cache between builds to speed up subsequent builds.","type":"array","items":{"type":"string"}},"onlyIncludeFiles":{"description":"#### A list of file paths to include in this phase; all other files will be excluded.","type":"array","items":{"type":"string"}}},"additionalProperties":false,"required":["name"]},"ContainerWorkloadContainerLogging":{"type":"object","properties":{"disabled":{"description":"#### Disables application logging to CloudWatch for this container.","default":false,"type":"boolean"},"retentionDays":{"description":"#### The number of days to retain logs in CloudWatch.","default":90,"enum":[1,120,14,150,180,1827,3,30,365,3653,400,5,545,60,7,731,90],"type":"number"},"logForwarding":{"description":"#### Log Forwarding\n\n---\n\nForwards logs to a specified destination for monitoring, analysis, or long-term storage.\n\nLog forwarding is handled by an [Amazon Kinesis Data Firehose](https://aws.amazon.com/kinesis/data-firehose/) delivery stream. You will incur costs based on the volume of data transferred (approximately $0.03 per GB). For detailed pricing, see the [AWS Kinesis Firehose Pricing](https://aws.amazon.com/kinesis/data-firehose/pricing/) page.\n\nSupported destinations:\n- `http-endpoint`: Delivers logs to any HTTP endpoint that complies with [Firehose request and response specifications](https://docs.aws.amazon.com/firehose/latest/dev/httpdeliveryrequestresponse.html). Many third-party logging services are compatible out-of-the-box.\n- `datadog`: Delivers logs to [Datadog](https://www.datadoghq.com/).\n- `highlight`: Delivers logs to a [Highlight.io](https://www.highlight.io/) project.\n\nFor more information, refer to the [Stacktape documentation on log forwarding](https://docs.stacktape.com/configuration/log-forwarding/).\n\n> If logs fail to be delivered after multiple retries, they are stored in a backup S3 bucket named `{stackName}-{resourceName}-logs-{generatedHash}`. The retry duration can be configured.","anyOf":[{"$ref":"#/definitions/HttpEndpointLogForwarding"},{"$ref":"#/definitions/HighlightLogForwarding"},{"$ref":"#/definitions/DatadogLogForwarding"}]}},"additionalProperties":false},"HttpEndpointLogForwarding":{"type":"object","properties":{"type":{"type":"string","const":"http-endpoint"},"properties":{"$ref":"#/definitions/HttpEndpointLogForwardingProps"}},"additionalProperties":false,"required":["properties","type"]},"HttpEndpointLogForwardingProps":{"type":"object","properties":{"endpointUrl":{"description":"#### Endpoint URL\n\n---\n\nThe HTTPS endpoint where logs will be forwarded.","type":"string"},"gzipEncodingEnabled":{"description":"#### Enable GZIP Compression\n\n---\n\nIf `true`, Firehose will compress the request body using GZIP before sending it to the destination. This can reduce data transfer costs.","default":false,"type":"boolean"},"parameters":{"description":"#### Custom Parameters\n\n---\n\nKey-value pairs of additional metadata to send to the HTTP endpoint.\n\nThese parameters are sent in the `X-Amz-Firehose-Common-Attributes` header as a JSON object: `{\"commonAttributes\":{\"param1\":\"val1\", \"param2\":\"val2\"}}`.","type":"object","additionalProperties":{"type":"string"}},"retryDuration":{"description":"#### Retry Duration\n\n---\n\nThe total time Kinesis Data Firehose will spend retrying a failed delivery. This duration begins after the first delivery attempt fails.\n\nLogs that cannot be delivered within this duration are sent to a backup S3 bucket.","default":300,"type":"number"},"accessKey":{"description":"#### Access Key\n\n---\n\nCredentials for authenticating with the endpoint. The key is sent in the `X-Amz-Firehose-Access-Key` header.\n\nThe value can be any string, such as a JWT token or an access key. It is highly recommended to store the access key as a [Stacktape secret](https://docs.stacktape.com/resources/secrets/).","type":"string"}},"additionalProperties":false,"required":["endpointUrl"]},"HighlightLogForwarding":{"type":"object","properties":{"type":{"type":"string","const":"highlight"},"properties":{"$ref":"#/definitions/HighlightLogForwardingProps"}},"additionalProperties":false,"required":["properties","type"]},"HighlightLogForwardingProps":{"type":"object","properties":{"projectId":{"description":"#### Project ID\n\n---\n\nThe ID of your [highlight.io](https://www.highlight.io/) project. You can find this in your [highlight.io console](https://app.highlight.io/).","type":"string"},"endpointUrl":{"description":"#### Endpoint URL\n\n---\n\nThe HTTPS endpoint where logs will be forwarded.","default":"https://pub.highlight.io/v1/logs/firehose","type":"string"}},"additionalProperties":false,"required":["projectId"]},"DatadogLogForwarding":{"type":"object","properties":{"type":{"type":"string","const":"datadog"},"properties":{"$ref":"#/definitions/DatadogLogForwardingProps"}},"additionalProperties":false,"required":["properties","type"]},"DatadogLogForwardingProps":{"type":"object","properties":{"apiKey":{"description":"#### API Key\n\n---\n\nYour Datadog API key, required for delivering logs. You can find your key in the [Datadog console](https://app.datadoghq.com/organization-settings/api-keys).\n\nIt is highly recommended to store the API key as a [Stacktape secret](https://docs.stacktape.com/resources/secrets/).","type":"string"},"endpointUrl":{"description":"#### Endpoint URL\n\n---\n\nThe HTTPS endpoint where logs will be forwarded.\n\nIf your Datadog account is in the EU, you should use `https://aws-kinesis-http-intake.logs.datadoghq.eu/v1/input`.","default":"https://aws-kinesis-http-intake.logs.datadoghq.com/v1/input","type":"string"}},"additionalProperties":false,"required":["apiKey"]},"ContainerDependency":{"type":"object","properties":{"containerName":{"description":"The name of the container that this container depends on.","type":"string"},"condition":{"description":"#### The condition that the dependency container must meet.\n---\nAvailable conditions:\n- `START`: The dependency has started.\n- `COMPLETE`: The dependency has finished executing (regardless of success).\n- `SUCCESS`: The dependency has finished with an exit code of `0`.\n- `HEALTHY`: The dependency has passed its first health check.","enum":["COMPLETE","HEALTHY","START","SUCCESS"],"type":"string"}},"additionalProperties":false,"required":["condition","containerName"]},"ContainerHealthCheck":{"type":"object","properties":{"healthCheckCommand":{"description":"#### The command to run to determine if the container is healthy.\n\n---\n\n- Must start with `CMD` (execute command directly) or `CMD-SHELL` (run with the container's default shell).\n- An exit code of `0` indicates success; any other exit code indicates failure.\n- Example: `[ \"CMD-SHELL\", \"curl -f http://localhost/ || exit 1\" ]`","type":"array","items":{"type":"string"}},"intervalSeconds":{"description":"#### The time period (in seconds) between health checks.\n---\nMust be between 5 and 300 seconds.","default":30,"type":"number"},"timeoutSeconds":{"description":"#### The time period (in seconds) to wait for a health check to succeed before it is considered failed.\n---\nMust be between 2 and 60 seconds.","default":5,"type":"number"},"retries":{"description":"#### The number of consecutive failed health checks required before the container is considered unhealthy.\n---\nMust be between 1 and 10.","default":3,"type":"number"},"startPeriodSeconds":{"description":"#### A grace period (in seconds) to allow the container to start before failed health checks are counted.\n---\nMust be between 0 and 300 seconds. Disabled by default.","type":"number"}},"additionalProperties":false,"required":["healthCheckCommand"]},"ContainerEfsMount":{"type":"object","properties":{"type":{"description":"#### The type of the volume mount.","type":"string","const":"efs"},"properties":{"$ref":"#/definitions/ContainerEfsMountProps","description":"#### Properties for the EFS volume mount."}},"additionalProperties":false,"required":["properties","type"]},"ContainerEfsMountProps":{"type":"object","properties":{"efsFilesystemName":{"description":"#### The name of the EFS filesystem to mount.\n\n---\n\nThis must match the name of an EFS filesystem defined in your Stacktape configuration.","type":"string"},"rootDirectory":{"description":"#### The root directory within the EFS filesystem to mount.\n\n---\n\nThis restricts the container's access to a specific directory within the filesystem. If not specified, the container can access the entire filesystem.","default":"/","type":"string"},"mountPath":{"description":"#### The path where the EFS volume will be mounted inside the container.\n\n---\n\nThis must be an absolute path, for example: `/data` or `/app/storage`.","type":"string"}},"additionalProperties":false,"required":["efsFilesystemName","mountPath"]},"ContainerWorkloadResourcesConfig":{"type":"object","properties":{"cpu":{"description":"#### The number of virtual CPUs allocated to the workload.\n\n---\n\nWhen using EC2 `instanceTypes`, the vCPUs of the instance are shared among the containers running on it.","enum":[0.25,0.5,1,16,2,4,8],"type":"number"},"memory":{"description":"#### The amount of memory (in MB) allocated to the workload.\n\n---\n\n**For Fargate:** You must choose a value compatible with your selected vCPU count.\n  - 0.25 vCPU: 512, 1024, 2048 MB\n  - 0.5 vCPU: 1024, 2048, 3072, 4096 MB\n  - 1 vCPU: 2048-8192 MB (in 1024 MB increments)\n  - 2 vCPU: 4096-16384 MB (in 1024 MB increments)\n  - 4 vCPU: 8192-30720 MB (in 1024 MB increments)\n  - 8 vCPU: 16384-61440 MB (in 4096 MB increments)\n  - 16 vCPU: 32768-122880 MB (in 8192 MB increments)\n\n**For EC2:** If you don't specify this, Stacktape will automatically allocate the maximum memory available on the smallest specified `instanceType`.","type":"number"},"instanceTypes":{"description":"#### The types of EC2 instances (virtual machines) that can be used for the workload.\n\n---\n\nInstances are automatically added or removed to meet scaling demands.\n\n> **Recommendation:** For optimal resource utilization, specify a single instance type and omit the `cpu` and `memory` properties. Stacktape will then size the containers to fit the instance perfectly.\n\nThe order of instance types matters; the first in the list is preferred.\nFor a full list of instance types, see the [AWS EC2 instance types documentation](https://aws.amazon.com/ec2/instance-types/).\n\n> Instances are automatically refreshed weekly to ensure they are patched and up-to-date. Your workload remains available during this process.","type":"array","items":{"type":"string"}},"enableWarmPool":{"description":"#### Enables a warm pool for EC2 Auto Scaling.\n\n---\n\n> **Note:** This only works when a single instance type is specified.\n\nA warm pool keeps pre-initialized EC2 instances in a stopped state, ready to launch quickly for faster scale-out events.\nThis improves scaling performance and can reduce costs, as you only pay for storage on stopped instances.\nFor more details, see the [AWS Auto Scaling warm pools documentation](https://docs.aws.amazon.com/autoscaling/ec2/userguide/ec2-auto-scaling-warm-pools.html).","type":"boolean"},"architecture":{"description":"#### The CPU architecture for the containers (only applies to Fargate).\n\n---\n\n- **x86_64**: Traditional 64-bit architecture.\n- **arm64**: Modern ARM-based architecture, which is often ~20% cheaper.\n\nIf you are using a buildpack-based packaging method, Stacktape will automatically build for the target architecture.\nIf you are using a `prebuilt-image`, ensure it supports the specified architecture.\n\n> This property is ignored if you specify `instanceTypes`, as the architecture is determined by the EC2 instances.","default":"'x86_64'","enum":["arm64","x86_64"],"type":"string"}},"additionalProperties":false},"ContainerWorkloadScaling":{"type":"object","properties":{"minInstances":{"description":"#### The minimum number of workload instances to keep running.","default":1,"type":"number"},"maxInstances":{"description":"#### The maximum number of workload instances that can be running.","default":1,"type":"number"},"scalingPolicy":{"$ref":"#/definitions/ContainerWorkloadScalingPolicy","description":"#### Configures the triggers for scaling actions."}},"additionalProperties":false},"ContainerWorkloadScalingPolicy":{"type":"object","properties":{"keepAvgCpuUtilizationUnder":{"description":"#### The average CPU utilization target for scaling.\n\n---\n\nIf the average CPU utilization across all instances exceeds this value, a new instance is added (scale-out).\nIf it falls below this value, an instance is removed (scale-in).","default":80,"type":"number"},"keepAvgMemoryUtilizationUnder":{"description":"#### The average memory utilization target for scaling.\n\n---\n\nIf the average memory utilization across all instances exceeds this value, a new instance is added (scale-out).\nIf it falls below this value, an instance is removed (scale-in).","default":80,"type":"number"}},"additionalProperties":false},"ContainerWorkloadDeploymentConfig":{"type":"object","properties":{"strategy":{"description":"#### The strategy to use for deploying updates.\n\n---\n\n- **Canary10Percent5Minutes**: Shifts 10% of traffic, then the rest after 5 minutes.\n- **Canary10Percent15Minutes**: Shifts 10% of traffic, then the rest after 15 minutes.\n- **Linear10PercentEvery1Minute**: Shifts 10% of traffic every minute.\n- **Linear10PercentEvery3Minutes**: Shifts 10% of traffic every 3 minutes.\n- **AllAtOnce**: Shifts all traffic at once.","enum":["AllAtOnce","Canary10Percent15Minutes","Canary10Percent5Minutes","Linear10PercentEvery1Minutes","Linear10PercentEvery3Minutes"],"type":"string"},"beforeAllowTrafficFunction":{"description":"#### The name of a Lambda function to run before traffic shifting begins.\n\n---\n\nThis \"hook\" function is typically used to run validation checks before the new version receives production traffic.\nThe function must signal success or failure to CodeDeploy. For more details, see the [documentation](https://docs.stacktape.com/compute-resources/multi-container-workloads/#hook-functions).","type":"string"},"afterTrafficShiftFunction":{"description":"#### The name of a Lambda function to run after all traffic has been shifted.\n\n---\n\nThis \"hook\" function is typically used for post-deployment validation.\nThe function must signal success or failure to CodeDeploy. For more details, see the [documentation](https://docs.stacktape.com/compute-resources/multi-container-workloads/#hook-functions).","type":"string"},"testListenerPort":{"description":"#### The port of the listener to be used for test traffic.\n\n---\n\nIf you are using `beforeAllowTrafficFunction` with a custom listener on your load balancer, specify the listener port here.\nTo learn how to use this, see the [test listener documentation](https://docs.stacktape.com/compute-resources/multi-container-workloads/#test-traffic-listener).","type":"number"}},"additionalProperties":false,"required":["strategy"]},"StpIamRoleStatement":{"type":"object","properties":{"Sid":{"description":"#### Statement ID (Sid)\n\n---\n\nAn optional identifier for the statement. For more information, see the [AWS documentation](https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies.html#policies-introduction).","type":"string"},"Effect":{"description":"#### Effect\n\n---\n\nSpecifies whether the statement results in an `Allow` or `Deny`. For more information, see the [AWS documentation](https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies.html#policies-introduction).","default":"Allow","type":"string"},"Action":{"description":"#### Action\n\n---\n\nA list of actions that the statement allows or denies (e.g., `s3:GetObject`). For more information, see the [AWS documentation](https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies.html#policies-introduction).","type":"array","items":{"type":"string"}},"Condition":{"description":"#### Condition\n\n---\n\nSpecifies the conditions under which the statement is in effect. For more information, see the [AWS documentation](https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies.html#policies-introduction)."},"Resource":{"description":"#### Resource\n\n---\n\nA list of resources to which the actions apply. For more information, see the [AWS documentation](https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies.html#policies-introduction).","type":"array","items":{"type":"string"}}},"additionalProperties":false,"required":["Resource"]},"BatchJob":{"description":"#### A resource for running containerized batch computing jobs.\n\n---\n\nBatch jobs are ideal for workloads that need to run to completion, such as data processing, machine learning pipelines, or other long-running background tasks.\nStacktape manages the underlying infrastructure, so you can focus on your application.\n\n- **Pay-per-use**: You only pay for the compute resources consumed by your job.\n- **Scalable**: Handles both CPU-intensive and GPU-accelerated workloads.\n- **Resilient**: Provides built-in support for retries, logging, and event-driven scheduling.","type":"object","properties":{"type":{"type":"string","const":"batch-job"},"properties":{"$ref":"#/definitions/BatchJobProps"},"overrides":{"description":"#### Resource Overrides\n\n---\n\nOverrides properties of the underlying CloudFormation resources that Stacktape creates.\n\nChild resources are identified by their CloudFormation logical ID (e.g., `MyBucketBucket`). You can find these IDs by running `stacktape stack:info --detailed`.\n\nFor a list of properties that can be overridden, refer to the [AWS CloudFormation documentation](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html).","type":"object","additionalProperties":{"type":"object","additionalProperties":{}}}},"additionalProperties":false,"required":["properties","type"]},"BatchJobProps":{"type":"object","properties":{"container":{"$ref":"#/definitions/BatchJobContainer","description":"#### Configures the Docker container for the batch job."},"resources":{"$ref":"#/definitions/BatchJobResources","description":"#### Configures the computing resources for the job.\n\n---\n\nUse this to specify the amount of CPU, memory, and (optionally) GPU required.\nStacktape will automatically provision an instance that meets these requirements when the job runs."},"timeout":{"description":"#### The maximum time (in seconds) the job is allowed to run.\n\n---\n\nIf the job exceeds this timeout, it will be stopped. If retries are configured, the job will be re-run.","type":"number"},"useSpotInstances":{"description":"#### Runs the job on Spot Instances to reduce compute costs.\n\n---\n\n**Benefits:**\n- Save up to 90% compared to on-demand pricing by using spare AWS capacity.\n\n**Important Considerations:**\n- Spot Instances can be interrupted at any time. Your container will receive a `SIGTERM` signal and has **120 seconds** to save its state and shut down gracefully.\n- Your application should be designed to be fault-tolerant. This can be achieved by implementing checkpointing or by making the job idempotent (safe to restart from the beginning).\n\nFor more information, see the [AWS Spot Instance Advisor](https://aws.amazon.com/ec2/spot/instance-advisor/) for interruption rates and best practices.","default":false,"type":"boolean"},"logging":{"$ref":"#/definitions/BatchJobLogging","description":"#### Configures the logging behavior for the batch job.\n\n---\n\nContainer logs (`stdout` and `stderr`) are automatically sent to a CloudWatch log group.\nBy default, logs are retained for 180 days. You can view them in the [Stacktape Console](https://console.stacktape.com)."},"retryConfig":{"$ref":"#/definitions/BatchJobRetryConfiguration","description":"#### Configures the retry behavior for the job.\n\n---\n\nIf a job fails (e.g., non-zero exit code, timeout, Spot Instance interruption), it can be automatically retried."},"events":{"description":"#### Configures event triggers that start the batch job.\n\n---\n\nA batch job can be triggered by various events, such as an HTTP request, a file upload to S3, or a schedule.\nStacktape manages the underlying trigger mechanism automatically.","type":"array","items":{"anyOf":[{"$ref":"#/definitions/ApplicationLoadBalancerIntegration"},{"$ref":"#/definitions/SnsIntegration"},{"$ref":"#/definitions/SqsIntegration"},{"$ref":"#/definitions/KinesisIntegration"},{"$ref":"#/definitions/DynamoDbIntegration"},{"$ref":"#/definitions/S3Integration"},{"$ref":"#/definitions/ScheduleIntegration"},{"$ref":"#/definitions/CloudwatchLogIntegration"},{"$ref":"#/definitions/HttpApiIntegration"},{"$ref":"#/definitions/EventBusIntegration"}]}},"connectTo":{"description":"#### Connect To\n\n---\n\nConfigures access to other resources in your stack and AWS services. By specifying resources here, Stacktape automatically:\n- Configures IAM role permissions.\n- Sets up security group rules to allow network traffic.\n- Injects environment variables with connection details into the compute resource.\n\nEnvironment variables are named `STP_[RESOURCE_NAME]_[VARIABLE_NAME]` (e.g., `STP_MY_DATABASE_CONNECTION_STRING`).\n\n---\n\n#### Granted Permissions and Injected Variables:\n\n**`Bucket`**\n- **Permissions:** List, create, get, delete, and tag objects.\n- **Variables:** `NAME`, `ARN`\n\n**`DynamoDbTable`**\n- **Permissions:** Get, put, update, delete, scan, and query items; describe table stream.\n- **Variables:** `NAME`, `ARN`, `STREAM_ARN`\n\n**`MongoDbAtlasCluster`**\n- **Permissions:** Allows connection to clusters with `accessibilityMode` set to `scoping-workloads-in-vpc`. Creates a temporary user for secure, credential-less access.\n- **Variables:** `CONNECTION_STRING`\n\n**`RelationalDatabase`**\n- **Permissions:** Allows connection to databases with `accessibilityMode` set to `scoping-workloads-in-vpc`.\n- **Variables:** `CONNECTION_STRING`, `JDBC_CONNECTION_STRING`, `HOST`, `PORT`. For Aurora clusters, `READER_CONNECTION_STRING`, `READER_JDBC_CONNECTION_STRING`, and `READER_HOST` are also included.\n\n**`RedisCluster`**\n- **Permissions:** Allows connection to clusters with `accessibilityMode` set to `scoping-workloads-in-vpc`.\n- **Variables:** `HOST`, `READER_HOST`, `PORT`\n\n**`EventBus`**\n- **Permissions:** Publish events.\n- **Variables:** `ARN`\n\n**`Function`**\n- **Permissions:** Invoke the function, including via its URL if enabled.\n- **Variables:** `ARN`\n\n**`BatchJob`**\n- **Permissions:** Submit, list, describe, and terminate jobs; manage state machine executions.\n- **Variables:** `JOB_DEFINITION_ARN`, `STATE_MACHINE_ARN`\n\n**`UserAuthPool`**\n- **Permissions:** Full control over the user pool (`cognito-idp:*`).\n- **Variables:** `ID`, `CLIENT_ID`, `ARN`\n\n**`SnsTopic`**\n- **Permissions:** Confirm, list, publish, and manage subscriptions.\n- **Variables:** `ARN`, `NAME`\n\n**`SqsQueue`**\n- **Permissions:** Send, receive, delete, and purge messages.\n- **Variables:** `ARN`, `NAME`, `URL`\n\n**`UpstashKafkaTopic`**\n- **Variables:** `TOPIC_NAME`, `TOPIC_ID`, `USERNAME`, `PASSWORD`, `TCP_ENDPOINT`, `REST_URL`\n\n**`UpstashRedis`**\n- **Variables:** `HOST`, `PORT`, `PASSWORD`, `REST_TOKEN`, `REST_URL`, `REDIS_URL`\n\n**`PrivateService`**\n- **Variables:** `ADDRESS`\n\n**`aws:ses` (Macro)**\n- **Permissions:** Full permissions for AWS SES (`ses:*`).","type":"array","items":{"type":"string"}},"iamRoleStatements":{"description":"#### Custom IAM Role Statements\n\n---\n\nA list of raw AWS IAM role statements to append to the resource's role, allowing for fine-grained permission control.","type":"array","items":{"$ref":"#/definitions/StpIamRoleStatement"}}},"additionalProperties":false,"required":["container","resources"]},"BatchJobContainer":{"type":"object","properties":{"packaging":{"$ref":"#/definitions/BatchJobContainerPackaging","description":"#### Configures the container image for the batch job."},"environment":{"description":"#### A list of environment variables to inject into the container at runtime.\n\n---\n\nEnvironment variables are ideal for providing configuration details to your job, such as database connection strings, API keys, or other dynamic parameters.","type":"array","items":{"$ref":"#/definitions/EnvironmentVar"}}},"additionalProperties":false,"required":["packaging"]},"BatchJobContainerPackaging":{"anyOf":[{"$ref":"#/definitions/StpBuildpackBjImagePackaging"},{"$ref":"#/definitions/ExternalBuildpackBjImagePackaging"},{"$ref":"#/definitions/PrebuiltBjImagePackaging"},{"$ref":"#/definitions/CustomDockerfileBjImagePackaging"},{"$ref":"#/definitions/NixpacksBjImagePackaging"}]},"StpBuildpackBjImagePackaging":{"type":"object","properties":{"type":{"type":"string","const":"stacktape-image-buildpack"},"properties":{"$ref":"#/definitions/StpBuildpackBjImagePackagingProps"}},"additionalProperties":false,"required":["properties","type"]},"StpBuildpackBjImagePackagingProps":{"description":"#### Configures an image to be built automatically by Stacktape from your source code.","type":"object","properties":{"languageSpecificConfig":{"description":"#### Language-specific packaging configuration.","anyOf":[{"$ref":"#/definitions/EsLanguageSpecificConfig"},{"$ref":"#/definitions/PyLanguageSpecificConfig"},{"$ref":"#/definitions/JavaLanguageSpecificConfig"},{"$ref":"#/definitions/GoLanguageSpecificConfig"}]},"requiresGlibcBinaries":{"description":"#### Builds the image with support for glibc-based binaries.\n\n---\n\nBy default, Stacktape uses Alpine-based Docker images, which use `musl` instead of `glibc`.\nEnable this option if your application has native dependencies that require `glibc`.\nThis will result in a larger container image.","type":"boolean"},"customDockerBuildCommands":{"description":"#### A list of commands to be executed during the `docker build` process.\n\n---\n\nThese commands are executed using the `RUN` directive in the Dockerfile.\nThis is useful for installing additional system dependencies in your container.","type":"array","items":{"type":"string"}},"entryfilePath":{"description":"#### The path to the entry point of your application, relative to your Stacktape configuration file.\n\n---\n\nStacktape will attempt to bundle your code and its dependencies into a single file.\nIf a dependency cannot be bundled (e.g., it relies on binary executables), it will be installed and included in the deployment package separately.","type":"string"},"includeFiles":{"description":"#### A glob pattern of files to explicitly include in the deployment package.\n\n---\n\nThe path is relative to your Stacktape configuration file.","type":"array","items":{"type":"string"}},"excludeFiles":{"description":"#### A glob pattern of files to explicitly exclude from the deployment package.\n\n---","type":"array","items":{"type":"string"}},"excludeDependencies":{"description":"#### A list of dependencies to exclude from the deployment package.","type":"array","items":{"type":"string"}}},"additionalProperties":false,"required":["entryfilePath"]},"ExternalBuildpackBjImagePackaging":{"type":"object","properties":{"type":{"type":"string","const":"external-buildpack"},"properties":{"$ref":"#/definitions/ExternalBuildpackBjImagePackagingProps"}},"additionalProperties":false,"required":["properties","type"]},"ExternalBuildpackBjImagePackagingProps":{"type":"object","properties":{"builder":{"description":"#### The Buildpack Builder to use.\n\n---","default":"paketobuildpacks/builder-jammy-base","type":"string"},"buildpacks":{"description":"#### The specific Buildpack to use.\n\n---\n\nBy default, the buildpack is detected automatically.","type":"array","items":{"type":"string"}},"sourceDirectoryPath":{"description":"#### The path to the source code directory.","type":"string"},"command":{"description":"#### A command to be executed when the container starts.\n\n---\n\nExample: `['/app/start.sh']`","type":"array","items":{"type":"string"}}},"additionalProperties":false,"required":["sourceDirectoryPath"]},"PrebuiltBjImagePackaging":{"type":"object","properties":{"type":{"type":"string","const":"prebuilt-image"},"properties":{"$ref":"#/definitions/PrebuiltImageBjPackagingProps"}},"additionalProperties":false,"required":["properties","type"]},"PrebuiltImageBjPackagingProps":{"description":"#### Configures a pre-built container image.","type":"object","properties":{"image":{"description":"#### The name or URL of the container image.","type":"string"},"command":{"description":"#### A command to be executed when the container starts.\n\n---\n\nThis overrides the `CMD` instruction in the Dockerfile.\n\nExample: `['/app/start.sh']`","type":"array","items":{"type":"string"}}},"additionalProperties":false,"required":["image"]},"CustomDockerfileBjImagePackaging":{"type":"object","properties":{"type":{"type":"string","const":"custom-dockerfile"},"properties":{"$ref":"#/definitions/CustomDockerfileBjImagePackagingProps"}},"additionalProperties":false,"required":["properties","type"]},"CustomDockerfileBjImagePackagingProps":{"description":"#### Configures an image to be built by Stacktape from a specified Dockerfile.","type":"object","properties":{"dockerfilePath":{"description":"#### The path to the Dockerfile, relative to `buildContextPath`.","type":"string"},"buildContextPath":{"description":"#### The path to the build context directory, relative to your Stacktape configuration file.","type":"string"},"buildArgs":{"description":"#### A list of arguments to pass to the `docker build` command.","type":"array","items":{"$ref":"#/definitions/DockerBuildArg"}},"command":{"description":"#### A command to be executed when the container starts.\n\n---\n\nThis overrides the `CMD` instruction in the Dockerfile.\n\nExample: `['/app/start.sh']`","type":"array","items":{"type":"string"}}},"additionalProperties":false,"required":["buildContextPath"]},"NixpacksBjImagePackaging":{"type":"object","properties":{"type":{"type":"string","const":"nixpacks"},"properties":{"$ref":"#/definitions/NixpacksBjImagePackagingProps"}},"additionalProperties":false,"required":["properties","type"]},"NixpacksBjImagePackagingProps":{"type":"object","properties":{"sourceDirectoryPath":{"description":"#### The path to the source code directory.","type":"string"},"buildImage":{"description":"#### The base image to use for building the application.\n\n---\n\nFor more details, see the [Nixpacks documentation](https://nixpacks.com/docs/configuration/file#build-image).","type":"string"},"providers":{"description":"#### A list of providers to use for determining the build and runtime environments.","type":"array","items":{"type":"string"}},"startCmd":{"description":"#### The command to execute when starting the application.\n\n---\n\nThis overrides the default start command inferred by Nixpacks.","type":"string"},"startRunImage":{"description":"#### The base image to use for running the application.","type":"string"},"startOnlyIncludeFiles":{"description":"#### A list of file paths to include in the runtime environment; all other files will be excluded.","type":"array","items":{"type":"string"}},"phases":{"description":"#### The build phases for the application.","type":"array","items":{"$ref":"#/definitions/NixpacksPhase"}}},"additionalProperties":false,"required":["sourceDirectoryPath"]},"BatchJobResources":{"type":"object","properties":{"cpu":{"description":"#### The number of virtual CPUs (vCPUs) to allocate to the job.\n\n---\n\nMust be an integer (e.g., 1, 2, 4).","type":"number"},"memory":{"description":"#### The amount of memory (in MB) to allocate to the job.\n\n---\n\n> **Important:** AWS instances require a small amount of memory for their own management processes.\n> If you request memory in exact powers of 2 (e.g., 8192 MB for 8 GiB), a larger instance may be provisioned than you expect.\n>\n> **Recommendation:** To ensure efficient instance usage, consider requesting slightly less memory (e.g., 7680 MB instead of 8192 MB).\n> This allows the job to fit on a standard 8 GiB instance without needing to scale up.\n>\n> For more details, see the [AWS documentation on memory management](https://docs.aws.amazon.com/batch/latest/userguide/memory-management.html#ecs-reserved-memory).","type":"number"},"gpu":{"description":"#### The number of physical GPUs required by the job.\n\n---\n\nSpecifying this will ensure the job runs on a GPU-accelerated instance.\nSupported families include NVIDIA A100 (for deep learning) and A10G (for graphics and ML inference).\nIf omitted, a CPU-only instance will be used.","type":"number"}},"additionalProperties":false,"required":["cpu","memory"]},"BatchJobLogging":{"type":"object","properties":{"disabled":{"description":"#### Disables application logging to CloudWatch.","default":false,"type":"boolean"},"retentionDays":{"description":"#### The number of days to retain logs in CloudWatch.","default":90,"enum":[1,120,14,150,180,1827,3,30,365,3653,400,5,545,60,7,731,90],"type":"number"},"logForwarding":{"description":"#### Log Forwarding\n\n---\n\nForwards logs to a specified destination for monitoring, analysis, or long-term storage.\n\nLog forwarding is handled by an [Amazon Kinesis Data Firehose](https://aws.amazon.com/kinesis/data-firehose/) delivery stream. You will incur costs based on the volume of data transferred (approximately $0.03 per GB). For detailed pricing, see the [AWS Kinesis Firehose Pricing](https://aws.amazon.com/kinesis/data-firehose/pricing/) page.\n\nSupported destinations:\n- `http-endpoint`: Delivers logs to any HTTP endpoint that complies with [Firehose request and response specifications](https://docs.aws.amazon.com/firehose/latest/dev/httpdeliveryrequestresponse.html). Many third-party logging services are compatible out-of-the-box.\n- `datadog`: Delivers logs to [Datadog](https://www.datadoghq.com/).\n- `highlight`: Delivers logs to a [Highlight.io](https://www.highlight.io/) project.\n\nFor more information, refer to the [Stacktape documentation on log forwarding](https://docs.stacktape.com/configuration/log-forwarding/).\n\n> If logs fail to be delivered after multiple retries, they are stored in a backup S3 bucket named `{stackName}-{resourceName}-logs-{generatedHash}`. The retry duration can be configured.","anyOf":[{"$ref":"#/definitions/HttpEndpointLogForwarding"},{"$ref":"#/definitions/HighlightLogForwarding"},{"$ref":"#/definitions/DatadogLogForwarding"}]}},"additionalProperties":false},"BatchJobRetryConfiguration":{"type":"object","properties":{"attempts":{"description":"#### The maximum number of times to retry a failed job.\n\n---\n\nA job is retried if it fails due to an internal error, a timeout, or a Spot Instance interruption.\nOnce this limit is reached, the job is marked as failed.","default":1,"type":"number"},"retryIntervalSeconds":{"description":"#### The time (in seconds) to wait between retry attempts.","default":0,"type":"number"},"retryIntervalMultiplier":{"description":"#### A multiplier for the `retryIntervalSeconds`.\n\n---\n\nWith each retry, the wait time is multiplied by this value. This is useful for implementing an exponential backoff strategy, which can help alleviate pressure on downstream services.","default":1,"type":"number"}},"additionalProperties":false},"ApplicationLoadBalancerIntegration":{"description":"#### Triggers a function when an Application Load Balancer receives a matching HTTP request.\n\n---\n\nYou can route requests based on HTTP method, path, headers, query parameters, and source IP address.","type":"object","properties":{"type":{"description":"#### Triggers a function when an Application Load Balancer receives a matching HTTP request.\n\n---\n\nYou can route requests based on HTTP method, path, headers, query parameters, and source IP address.","type":"string","const":"application-load-balancer"},"properties":{"$ref":"#/definitions/ApplicationLoadBalancerIntegrationProps","description":"#### Properties of the integration"}},"additionalProperties":false,"required":["properties","type"]},"ApplicationLoadBalancerIntegrationProps":{"type":"object","properties":{"loadBalancerName":{"description":"#### The name of the Application Load Balancer.\n\n---\n\nThis must reference a load balancer defined in your Stacktape configuration.","type":"string"},"listenerPort":{"description":"#### The port of the load balancer listener to attach to.\n\n---\n\nYou only need to specify this if the load balancer uses custom listeners.","type":"number"},"priority":{"description":"#### The priority of this integration rule.\n\n---\n\nLoad balancer rules are evaluated in order from the lowest priority to the highest.\nThe first rule that matches an incoming request will handle it.","type":"number"},"paths":{"description":"#### A list of URL paths that will trigger this integration.\n\n---\n\nThe request will be routed if its path matches any of the paths in this list.\nThe comparison is case-sensitive and supports `*` and `?` wildcards.\n\nExample: `/users`, `/articles/*`","type":"array","items":{"type":"string"}},"methods":{"description":"#### A list of HTTP methods that will trigger this integration.\n\n---\n\nExample: `GET`, `POST`, `DELETE`","type":"array","items":{"type":"string"}},"hosts":{"description":"#### A list of hostnames that will trigger this integration.\n\n---\n\nThe hostname is parsed from the `Host` header of the request.\nWildcards (`*` and `?`) are supported.\n\nExample: `api.example.com`, `*.myapp.com`","type":"array","items":{"type":"string"}},"headers":{"description":"#### A list of header conditions that the request must match.\n\n---\n\nAll header conditions must be met for the request to be routed.","type":"array","items":{"$ref":"#/definitions/LbHeaderCondition"}},"queryParams":{"description":"#### A list of query parameter conditions that the request must match.\n\n---\n\nAll query parameter conditions must be met for the request to be routed.","type":"array","items":{"$ref":"#/definitions/LbQueryParamCondition"}},"sourceIps":{"description":"#### A list of source IP addresses (in CIDR format) that are allowed to trigger this integration.\n\n---\n\n> **Note:** If the client is behind a proxy, this will be the IP address of the proxy.","type":"array","items":{"type":"string"}}},"additionalProperties":false,"required":["loadBalancerName","priority"]},"SnsIntegration":{"description":"#### Triggers a function when a new message is published to an SNS topic.\n\n---\n\nAmazon SNS is a fully managed messaging service for both application-to-application (A2A) and application-to-person (A2P) communication.\n\nTo add a custom SNS topic to your stack, define it as a [CloudFormation resource](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-sns-topic.html) in the `cloudformationResources` section of your configuration.","type":"object","properties":{"type":{"type":"string","const":"sns"},"properties":{"$ref":"#/definitions/SnsIntegrationProps","description":"#### Properties of the integration"}},"additionalProperties":false,"required":["properties","type"]},"SnsIntegrationProps":{"type":"object","properties":{"snsTopicName":{"description":"#### The name of an SNS topic defined in your stack's resources.\n\n---\n\nYou must specify either `snsTopicName` or `snsTopicArn`.","type":"string"},"snsTopicArn":{"description":"#### The ARN of an existing SNS topic.\n\n---\n\nUse this to subscribe to a topic that is not managed by your stack.\nYou must specify either `snsTopicName` or `snsTopicArn`.","type":"string"},"filterPolicy":{"description":"#### A filter policy to apply to incoming messages.\n\n---\n\nThis allows you to filter messages based on their attributes, so the function is only triggered for relevant messages.\nIf you need to filter based on the message content, consider using an EventBridge event bus instead.\nFor more details on filter policies, see the [AWS documentation](https://docs.aws.amazon.com/sns/latest/dg/sns-subscription-filter-policies.html)."},"onDeliveryFailure":{"$ref":"#/definitions/SnsOnDeliveryFailure","description":"#### A destination for messages that fail to be delivered to the target.\n\n---\n\nIn rare cases (e.g., if the target function cannot scale fast enough), a message might fail to be delivered.\nThis property specifies an SQS queue where failed messages will be sent."}},"additionalProperties":false},"SnsOnDeliveryFailure":{"type":"object","properties":{"sqsQueueArn":{"description":"#### The ARN of the SQS queue for failed messages.","type":"string"},"sqsQueueName":{"description":"#### The name of an SQS queue (defined in your Stacktape configuration) for failed messages.","type":"string"}},"additionalProperties":false},"SqsIntegration":{"description":"#### Triggers a function when new messages are available in an SQS queue.\n\n---\n\nMessages are processed in batches. A single function invocation can receive multiple messages.\n\n> A single SQS queue should only be consumed by one function. If you need multiple consumers for the same message (a \"fan-out\" pattern), use an SNS topic or an EventBridge event bus.\n\nTo add a custom SQS queue, define it as a [CloudFormation resource](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-sqs-queues.html) in the `cloudformationResources` section.\n\nThe function is triggered when:\n- The batch window (`maxBatchWindowSeconds`) expires.\n- The maximum batch size (`batchSize`) is reached.\n- The maximum payload size (6 MB) is reached.","type":"object","properties":{"type":{"type":"string","const":"sqs"},"properties":{"$ref":"#/definitions/SqsIntegrationProps","description":"#### Properties of the integration"}},"additionalProperties":false,"required":["properties","type"]},"SqsIntegrationProps":{"type":"object","properties":{"sqsQueueName":{"description":"#### The name of an SQS queue defined in your stack's resources.\n\n---\n\nYou must specify either `sqsQueueName` or `sqsQueueArn`.","type":"string"},"sqsQueueArn":{"description":"#### The ARN of an existing SQS queue.\n\n---\n\nUse this to consume messages from a queue that is not managed by your stack.\nYou must specify either `sqsQueueName` or `sqsQueueArn`.","type":"string"},"batchSize":{"description":"#### The maximum number of records to process in a single batch.\n\n---\n\nMaximum is 10,000.","default":10,"type":"number"},"maxBatchWindowSeconds":{"description":"#### The maximum time (in seconds) to wait before invoking the function with a batch of records.\n\n---\n\nMaximum is 300 seconds. If not set, the function is invoked as soon as messages are available.","type":"number"}},"additionalProperties":false},"KinesisIntegration":{"description":"#### Triggers a function when new records are available in a Kinesis Data Stream.\n\n---\n\nKinesis is suitable for real-time data streaming and processing. Records are processed in batches.\nFor a comparison with SQS, see the [AWS documentation](https://aws.amazon.com/kinesis/data-streams/faqs/).\n\nTo add a custom Kinesis stream, define it as a [CloudFormation resource](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-kinesis-stream.html) in the `cloudformationResources` section.\n\nYou can consume messages in two ways:\n- **Directly**: Polls each shard once per second. Read throughput is shared with other consumers.\n- **Stream Consumer**: Provides a dedicated connection to each shard for higher throughput and lower latency.","type":"object","properties":{"type":{"type":"string","const":"kinesis-stream"},"properties":{"$ref":"#/definitions/KinesisIntegrationProps","description":"#### Properties of the integration"}},"additionalProperties":false,"required":["properties","type"]},"KinesisIntegrationProps":{"type":"object","properties":{"streamArn":{"description":"#### The ARN of the Kinesis stream to consume records from.","type":"string"},"consumerArn":{"description":"#### The ARN of a specific stream consumer to use.\n\n---\n\nThis cannot be used with `autoCreateConsumer`.","type":"string"},"autoCreateConsumer":{"description":"#### Automatically creates a dedicated stream consumer for this integration.\n\n---\n\nThis is recommended for minimizing latency and maximizing throughput.\nFor more details, see the [AWS documentation on stream consumers](https://docs.aws.amazon.com/streams/latest/dev/amazon-kinesis-consumers.html).\nThis cannot be used with `consumerArn`.","type":"boolean"},"maxBatchWindowSeconds":{"description":"#### The maximum time (in seconds) to wait before invoking the function with a batch of records.\n\n---\n\nMaximum is 300 seconds.","type":"number"},"batchSize":{"description":"#### The maximum number of records to process in a single batch.\n\n---\n\nMaximum is 10,000.","default":10,"type":"number"},"startingPosition":{"description":"#### The position in the stream from which to start reading records.\n\n---\n\n- `LATEST`: Read only new records.\n- `TRIM_HORIZON`: Read all available records from the beginning of the stream.","default":"TRIM_HORIZON","enum":["LATEST","TRIM_HORIZON"],"type":"string"},"maximumRetryAttempts":{"description":"#### The number of times to retry a failed batch of records.\n\n---\n\n> **Important:** If an error occurs, the entire batch is retried, including records that were processed successfully. Your function should be idempotent to handle this.","type":"number"},"onFailure":{"$ref":"#/definitions/DestinationOnFailure","description":"#### A destination (SQS queue or SNS topic) for batches that fail after all retry attempts."},"parallelizationFactor":{"description":"#### The number of batches to process concurrently from the same shard.","type":"number"},"bisectBatchOnFunctionError":{"description":"#### Splits a failed batch in two before retrying.\n\n---\n\nThis can be useful if a failure is caused by a batch being too large.","type":"boolean"}},"additionalProperties":false,"required":["streamArn"]},"DestinationOnFailure":{"type":"object","properties":{"arn":{"description":"#### The ARN of the SNS topic or SQS queue for failed batches.","type":"string"},"type":{"description":"#### The type of the destination.","enum":["sns","sqs"],"type":"string"}},"additionalProperties":false,"required":["arn","type"]},"DynamoDbIntegration":{"description":"#### Triggers a function when item-level changes occur in a DynamoDB table.\n\n---\n\nDynamoDB Streams capture a time-ordered sequence of modifications to items in a table.\nRecords are processed in batches.\nTo use this, you must enable streams on your DynamoDB table. For more information, see the [DynamoDB table documentation](https://docs.stacktape.com/resources/dynamo-db-tables/#item-change-streaming).","type":"object","properties":{"type":{"type":"string","const":"dynamo-db-stream"},"properties":{"$ref":"#/definitions/DynamoDbIntegrationProps","description":"#### Properties of the integration"}},"additionalProperties":false,"required":["properties","type"]},"DynamoDbIntegrationProps":{"type":"object","properties":{"streamArn":{"description":"#### The ARN of the DynamoDB table stream.","type":"string"},"maxBatchWindowSeconds":{"description":"#### The maximum time (in seconds) to wait before invoking the function with a batch of records.\n\n---\n\nMaximum is 300 seconds.","type":"number"},"batchSize":{"description":"#### The maximum number of records to process in a single batch.\n\n---\n\nMaximum is 1,000.","default":100,"type":"number"},"startingPosition":{"description":"#### The position in the stream from which to start reading records.\n\n---\n\n- `LATEST`: Read only new records.\n- `TRIM_HORIZON`: Read all available records from the beginning of the stream.","default":"TRIM_HORIZON","type":"string"},"maximumRetryAttempts":{"description":"#### The number of times to retry a failed batch of records.\n\n---\n\n> **Important:** If an error occurs, the entire batch is retried, including records that were processed successfully. Your function should be idempotent to handle this.","type":"number"},"onFailure":{"$ref":"#/definitions/DestinationOnFailure","description":"#### A destination (SQS queue or SNS topic) for batches that fail after all retry attempts."},"parallelizationFactor":{"description":"#### The number of batches to process concurrently from the same shard.","type":"number"},"bisectBatchOnFunctionError":{"description":"#### Splits a failed batch in two before retrying.\n\n---\n\nThis can be useful if a failure is caused by a batch being too large.","type":"boolean"}},"additionalProperties":false,"required":["streamArn"]},"S3Integration":{"description":"#### Triggers a function when a specified event occurs in an S3 bucket.\n\n---\n\nFor a list of supported event types, see the [AWS documentation](https://docs.aws.amazon.com/AmazonS3/latest/userguide/notification-how-to-event-types-and-destinations.html#supported-notification-event-types).","type":"object","properties":{"type":{"type":"string","const":"s3"},"properties":{"$ref":"#/definitions/S3IntegrationProps","description":"#### Properties of the integration"}},"additionalProperties":false,"required":["properties","type"]},"S3IntegrationProps":{"type":"object","properties":{"bucketArn":{"description":"#### The ARN of the S3 bucket to monitor for events.","type":"string"},"s3EventType":{"description":"#### The type of S3 event that will trigger the function.","enum":["s3:ObjectCreated:*","s3:ObjectCreated:CompleteMultipartUpload","s3:ObjectCreated:Copy","s3:ObjectCreated:Post","s3:ObjectCreated:Put","s3:ObjectRemoved:*","s3:ObjectRemoved:Delete","s3:ObjectRemoved:DeleteMarkerCreated","s3:ObjectRestore:*","s3:ObjectRestore:Completed","s3:ObjectRestore:Post","s3:ReducedRedundancyLostObject","s3:Replication:*","s3:Replication:OperationFailedReplication","s3:Replication:OperationMissedThreshold","s3:Replication:OperationNotTracked","s3:Replication:OperationReplicatedAfterThreshold"],"type":"string"},"filterRule":{"$ref":"#/definitions/S3FilterRule","description":"#### A filter to apply to objects, so the function is only triggered for relevant objects."}},"additionalProperties":false,"required":["bucketArn","s3EventType"]},"S3FilterRule":{"type":"object","properties":{"prefix":{"description":"#### The prefix that an object's key must have to trigger the function.","type":"string"},"suffix":{"description":"#### The suffix that an object's key must have to trigger the function.","type":"string"}},"additionalProperties":false},"ScheduleIntegration":{"description":"#### Triggers a function on a recurring schedule.\n\n---\n\nYou can define schedules using two formats:\n- **Rate expressions**: Run at a regular interval (e.g., `rate(5 minutes)`). See the [AWS documentation on rate expressions](https://docs.aws.amazon.com/AmazonCloudWatch/latest/events/ScheduledEvents.html#RateExpressions).\n- **Cron expressions**: Run at specific times (e.g., `cron(0 18 ? * MON-FRI *)`). See the [AWS documentation on cron expressions](https://docs.aws.amazon.com/AmazonCloudWatch/latest/events/ScheduledEvents.html#CronExpressions).","type":"object","properties":{"type":{"type":"string","const":"schedule"},"properties":{"$ref":"#/definitions/ScheduleIntegrationProps","description":"#### Properties of the integration"}},"additionalProperties":false,"required":["properties","type"]},"ScheduleIntegrationProps":{"type":"object","properties":{"scheduleRate":{"description":"#### The schedule rate or cron expression.\n\n---\n\nExamples: `rate(2 hours)`, `cron(0 10 * * ? *)`","type":"string"},"input":{"description":"#### A fixed JSON object to be passed as the event payload.\n\n---\n\nIf you need to customize the payload based on the event, use `inputTransformer` instead.\nYou can only use one of `input`, `inputPath`, or `inputTransformer`.\n\nExample:\n\n```yaml\ninput:\n  source: 'my-scheduled-event'\n```"},"inputPath":{"description":"#### A JSONPath expression to extract a portion of the event to pass to the target.\n\n---\n\nThis is useful for forwarding only a specific part of the event payload.\nYou can only use one of `input`, `inputPath`, or `inputTransformer`.\n\nExample:\n\n```yaml\ninputPath: '$.detail'\n```","type":"string"},"inputTransformer":{"$ref":"#/definitions/EventInputTransformer","description":"#### Customizes the event payload sent to the target.\n\n---\n\nThis allows you to extract values from the original event and use them to construct a new payload.\nYou can only use one of `input`, `inputPath`, or `inputTransformer`.\n\nExample:\n\n```yaml\ninputTransformer:\n  inputPathsMap:\n    eventTime: '$.time'\n  inputTemplate:\n    message: 'This event occurred at <eventTime>.'\n```"}},"additionalProperties":false,"required":["scheduleRate"]},"EventInputTransformer":{"type":"object","properties":{"inputPathsMap":{"description":"#### A map of key-value pairs to extract from the event payload.\n\n---\n\nEach value is a JSONPath expression that extracts data from the event. These extracted values can then be used in the `inputTemplate`."},"inputTemplate":{"description":"#### A template for constructing a new event payload.\n\n---\n\nUse placeholders (`<placeholder>`) to insert the values extracted with `inputPathsMap`."}},"additionalProperties":false,"required":["inputTemplate"]},"CloudwatchLogIntegration":{"description":"#### Triggers a function when a new log record is added to a CloudWatch log group.\n\n---\n\n> **Note:** The event payload is BASE64-encoded and gzipped. You will need to decode and decompress it in your function to access the log data.","type":"object","properties":{"type":{"type":"string","const":"cloudwatch-log"},"properties":{"$ref":"#/definitions/CloudwatchLogIntegrationProps","description":"#### Properties of the integration"}},"additionalProperties":false,"required":["properties","type"]},"CloudwatchLogIntegrationProps":{"type":"object","properties":{"logGroupArn":{"description":"#### The ARN of the log group to watch for new records.","type":"string"},"filter":{"description":"#### A filter pattern to apply to the log records.\n\n---\n\nOnly logs that match this pattern will trigger the function.\nFor details on the syntax, see the [AWS documentation on filter and pattern syntax](https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/FilterAndPatternSyntax.html).","type":"string"}},"additionalProperties":false,"required":["logGroupArn"]},"HttpApiIntegration":{"description":"#### Triggers a function when a request is made to an HTTP API Gateway.\n\n---\n\nRoutes are selected based on the most specific match. For more details on route evaluation, see the [AWS documentation](https://docs.aws.amazon.com/apigateway/latest/developerguide/http-api-develop-routes.html#http-api-develop-routes.evaluation).","type":"object","properties":{"type":{"type":"string","const":"http-api-gateway"},"properties":{"$ref":"#/definitions/HttpApiIntegrationProps","description":"#### Properties of the integration"}},"additionalProperties":false,"required":["properties","type"]},"HttpApiIntegrationProps":{"type":"object","properties":{"httpApiGatewayName":{"description":"#### The name of the HTTP API Gateway.","type":"string"},"method":{"description":"#### The HTTP method that will trigger this integration.\n\n---\n\nYou can specify an exact method (e.g., `GET`) or use `*` to match any method.","enum":["*","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT"],"type":"string"},"path":{"description":"#### The URL path that will trigger this integration.\n\n---\n\n- **Exact path**: `/users`\n- **Path with parameter**: `/users/{id}`. The `id` will be available in `event.pathParameters.id`.\n- **Greedy path**: `/files/{proxy+}`. This will match any path starting with `/files/`.","type":"string"},"authorizer":{"$ref":"#/definitions/StpAuthorizer","description":"#### An authorizer to protect this route.\n\n---\n\nUnauthorized requests will be rejected with a `401 Unauthorized` response."},"payloadFormat":{"description":"#### The payload format version for the Lambda integration.\n\n---\n\nFor details on the differences between formats, see the [AWS documentation](https://docs.aws.amazon.com/apigateway/latest/developerguide/http-api-develop-integrations-lambda.html).","default":"'1.0'","enum":["1.0","2.0"],"type":"string"}},"additionalProperties":false,"required":["httpApiGatewayName","method","path"]},"EventBusIntegration":{"description":"#### Triggers a batch job when an event matching a specified pattern is received by an event bus.\n\n---\n\nYou can use a custom event bus or the default AWS event bus.","type":"object","properties":{"type":{"type":"string","const":"event-bus"},"properties":{"$ref":"#/definitions/EventBusIntegrationProps","description":"#### Properties of the integration"}},"additionalProperties":false,"required":["properties","type"]},"EventBusIntegrationProps":{"type":"object","properties":{"eventBusArn":{"description":"#### The ARN of an existing event bus.\n\n---\n\nUse this to subscribe to an event bus that is not managed by your stack.\nYou must specify only one of `eventBusArn`, `eventBusName`, or `useDefaultBus`.","type":"string"},"eventBusName":{"description":"#### The name of an event bus defined in your stack's resources.\n\n---\n\nYou must specify only one of `eventBusArn`, `eventBusName`, or `useDefaultBus`.","type":"string"},"useDefaultBus":{"description":"#### Uses the default AWS event bus.\n\n---\n\nYou must specify only one of `eventBusArn`, `eventBusName`, or `useDefaultBus`.","type":"boolean"},"eventPattern":{"$ref":"#/definitions/EventBusIntegrationPattern","description":"#### A pattern to filter events from the event bus.\n\n---\n\nOnly events that match this pattern will trigger the target.\nFor details on the syntax, see the [AWS EventBridge documentation on event patterns](https://docs.aws.amazon.com/eventbridge/latest/userguide/eb-event-patterns.html)."},"onDeliveryFailure":{"$ref":"#/definitions/EventBusOnDeliveryFailure","description":"#### A destination for events that fail to be delivered to the target.\n\n---\n\nIn rare cases, an event might fail to be delivered. This property specifies an SQS queue where failed events will be sent."},"input":{"description":"#### A fixed JSON object to be passed as the event payload.\n\n---\n\nIf you need to customize the payload based on the event, use `inputTransformer` instead.\nYou can only use one of `input`, `inputPath`, or `inputTransformer`.\n\nExample:\n\n```yaml\ninput:\n  source: 'my-custom-event'\n```"},"inputPath":{"description":"#### A JSONPath expression to extract a portion of the event to pass to the target.\n\n---\n\nThis is useful for forwarding only a specific part of the event payload.\nYou can only use one of `input`, `inputPath`, or `inputTransformer`.\n\nExample:\n\n```yaml\ninputPath: '$.detail'\n```","type":"string"},"inputTransformer":{"$ref":"#/definitions/EventInputTransformer","description":"#### Customizes the event payload sent to the target.\n\n---\n\nThis allows you to extract values from the original event and use them to construct a new payload.\nYou can only use one of `input`, `inputPath`, or `inputTransformer`.\n\nExample:\n\n```yaml\ninputTransformer:\n  inputPathsMap:\n    instanceId: '$.detail.instance-id'\n    instanceState: '$.detail.state'\n  inputTemplate:\n    message: 'Instance <instanceId> is now in state <instanceState>.'\n```"}},"additionalProperties":false,"required":["eventPattern"]},"EventBusIntegrationPattern":{"type":"object","properties":{"version":{"description":"#### A filter for the `version` field of the event.\n\n---\n\nFor more details on event patterns, see the [AWS EventBridge documentation](https://docs.aws.amazon.com/eventbridge/latest/userguide/eb-event-patterns.html)."},"detail-type":{"description":"#### A filter for the `detail-type` field of the event.\n\n---\n\nFor more details on event patterns, see the [AWS EventBridge documentation](https://docs.aws.amazon.com/eventbridge/latest/userguide/eb-event-patterns.html)."},"source":{"description":"#### A filter for the `source` field of the event.\n\n---\n\nFor more details on event patterns, see the [AWS EventBridge documentation](https://docs.aws.amazon.com/eventbridge/latest/userguide/eb-event-patterns.html)."},"account":{"description":"#### A filter for the `account` field of the event.\n\n---\n\nFor more details on event patterns, see the [AWS EventBridge documentation](https://docs.aws.amazon.com/eventbridge/latest/userguide/eb-event-patterns.html)."},"region":{"description":"#### A filter for the `region` field of the event.\n\n---\n\nFor more details on event patterns, see the [AWS EventBridge documentation](https://docs.aws.amazon.com/eventbridge/latest/userguide/eb-event-patterns.html)."},"resources":{"description":"#### A filter for the `resources` field of the event.\n\n---\n\nFor more details on event patterns, see the [AWS EventBridge documentation](https://docs.aws.amazon.com/eventbridge/latest/userguide/eb-event-patterns.html)."},"detail":{"description":"#### A filter for the `detail` field of the event.\n\n---\n\nThe `detail` field contains the main payload of the event as a JSON object. You can create complex matching rules based on its contents.\nFor more details on event patterns, see the [AWS EventBridge documentation](https://docs.aws.amazon.com/eventbridge/latest/userguide/eb-event-patterns.html)."},"replay-name":{"description":"#### A filter for the `replay-name` field of the event.\n\n---\n\nFor more details on event patterns, see the [AWS EventBridge documentation](https://docs.aws.amazon.com/eventbridge/latest/userguide/eb-event-patterns.html)."}},"additionalProperties":false},"EventBusOnDeliveryFailure":{"type":"object","properties":{"sqsQueueArn":{"description":"#### The ARN of the SQS queue for failed events.","type":"string"},"sqsQueueName":{"description":"#### The name of an SQS queue (defined in your Stacktape configuration) for failed events.","type":"string"}},"additionalProperties":false},"WebService":{"description":"#### Web Service\n\n---\n\nA continuously running container with a public endpoint (URL) that is accessible from the internet.\nIt includes TLS/SSL out of the box and provides easy configuration for scaling, health checks, and other properties.","type":"object","properties":{"type":{"type":"string","const":"web-service"},"properties":{"$ref":"#/definitions/WebServiceProps"},"overrides":{"description":"#### Resource Overrides\n\n---\n\nOverrides properties of the underlying CloudFormation resources that Stacktape creates.\n\nChild resources are identified by their CloudFormation logical ID (e.g., `MyBucketBucket`). You can find these IDs by running `stacktape stack:info --detailed`.\n\nFor a list of properties that can be overridden, refer to the [AWS CloudFormation documentation](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html).","type":"object","additionalProperties":{"type":"object","additionalProperties":{}}}},"additionalProperties":false,"required":["properties","type"]},"WebServiceProps":{"type":"object","properties":{"cors":{"$ref":"#/definitions/HttpApiCorsConfig","description":"#### Configures CORS (Cross-Origin Resource Sharing) for this service.\n\n---\n\nIf CORS is configured using this property, any CORS headers returned from your application will be ignored and replaced.\n\n> This property is only effective if the `loadBalancing` type is `http-api-gateway` (the default)."},"customDomains":{"description":"#### Attaches custom domains to this Web Service.\n\n---\n\nStacktape allows you to connect custom domains to various resources, including Web Services, HTTP API Gateways, Application Load Balancers, and Buckets with CDNs.\n\nWhen you connect a custom domain, Stacktape automatically:\n\n- **Creates DNS records:** A DNS record is created to point your domain name to the resource.\n- **Adds TLS certificates:** If the resource uses HTTPS, Stacktape issues and attaches a free, AWS-managed TLS certificate, handling TLS termination for you.\n\nIf you want to use your own certificates, you can configure `customCertificateArns`.\n\n> To manage a custom domain, it must first be added to your AWS account as a [hosted zone](https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/AboutHZWorkingWith.html), and your domain registrar's name servers must point to it.\n> For more details, see the [Adding a domain guide](https://docs.stacktape.com/other-resources/domains-and-certificates/#adding-domain).","type":"array","items":{"$ref":"#/definitions/DomainConfiguration"}},"loadBalancing":{"description":"#### Configures the entry point used for distributing traffic to containers.\n\n---\n\nThe following entry point types are supported:\n\n- **`http-api-gateway`** (default):\n  - Distributes traffic to available containers randomly.\n  - Uses a pay-per-use pricing model (~$1 per million requests).\n  - Ideal for most workloads, but an `application-load-balancer` may be more cost-effective if you exceed ~500,000 requests per day.\n\n- **`application-load-balancer`**:\n  - Distributes traffic to available containers in a round-robin fashion.\n  - Uses a pricing model that combines a flat hourly charge (~$0.0252/hour) with usage-based charges for LCUs (Load Balancer Capacity Units) (~$0.08/hour).\n  - Eligible for the AWS Free Tier. For more details, see the [AWS pricing documentation](https://aws.amazon.com/elasticloadbalancing/pricing/).\n\n- **`network-load-balancer`**:\n  - Supports TCP and TLS protocols.\n  - Uses the same pricing model as the `application-load-balancer`.\n  - Also eligible for the AWS Free Tier.","anyOf":[{"$ref":"#/definitions/WebServiceHttpApiGatewayLoadBalancing"},{"$ref":"#/definitions/WebServiceAlbLoadBalancing"},{"$ref":"#/definitions/WebServiceNlbLoadBalancing"}]},"cdn":{"$ref":"#/definitions/CdnConfiguration","description":"#### Configures an AWS CloudFront CDN (Content Delivery Network) in front of your Web Service.\n\n---\n\nA CDN is a globally distributed network of edge locations that caches responses from your Web Service, bringing content closer to your users.\n\nUsing a CDN can:\n- Reduce latency and improve load times.\n- Lower bandwidth costs.\n- Decrease the amount of traffic hitting your origin (the Web Service containers).\n- Enhance security.\n\nThe CDN caches responses from the origin at the edge for a specified amount of time."},"alarms":{"description":"#### Additional alarms associated with this resource.\n\n---\n\nThese alarms will be merged with any alarms configured globally in the [console](https://console.stacktape.com/alarms).","type":"array","items":{"anyOf":[{"$ref":"#/definitions/ApplicationLoadBalancerAlarm"},{"$ref":"#/definitions/HttpApiGatewayAlarm"}]}},"disabledGlobalAlarms":{"description":"#### Disables globally configured alarms for this resource.\n\n---\n\nProvide a list of alarm names as configured in the [console](https://console.stacktape.com/alarms).","type":"array","items":{"type":"string"}},"deployment":{"$ref":"#/definitions/ContainerWorkloadDeploymentConfig","description":"#### Configures the deployment behavior of the Web Service.\n\n---\n\nThis allows you to safely update your service in a live environment by gradually shifting traffic to the new version.\nThis gives you the opportunity to monitor the workload during the update and quickly roll back in case of any issues.\n\nThe following deployment strategies are supported:\n- **`Canary10Percent5Minutes`**: Shifts 10% of traffic, then the remaining 90% five minutes later.\n- **`Canary10Percent15Minutes`**: Shifts 10% of traffic, then the remaining 90% fifteen minutes later.\n- **`Linear10PercentEvery1Minute`**: Shifts 10% of traffic every minute until all traffic is shifted.\n- **`Linear10PercentEvery3Minutes`**: Shifts 10% of traffic every three minutes until all traffic is shifted.\n- **`AllAtOnce`**: Shifts all traffic to the updated service at once.\n\nYou can use Lambda function hooks to validate or abort the deployment.\n\n> This feature requires the `loadBalancing` type to be set to `application-load-balancer`."},"useFirewall":{"description":"#### The name of the `web-app-firewall` resource to use for this Web Service.\n\n---\n\nA `web-app-firewall` can protect your resources from common web exploits that could affect availability, compromise security, or consume excessive resources.\nThe firewall works by filtering malicious requests before they reach your application.\n\nFor more information, see the [firewall documentation](https://docs.stacktape.com/security-resources/web-app-firewalls/).","type":"string"},"packaging":{"$ref":"#/definitions/ContainerWorkloadContainerPackaging","description":"#### Container Packaging\n\n---\n\nConfigures the container image for the service."},"environment":{"description":"#### Environment Variables\n\n---\n\nA list of environment variables to inject into the container at runtime. This is often used to provide configuration details, such as database URLs or secrets.","type":"array","items":{"$ref":"#/definitions/EnvironmentVar"}},"logging":{"$ref":"#/definitions/ContainerWorkloadContainerLogging","description":"#### Logging Configuration\n\n---\n\nConfigures the logging behavior for the service container.\n\nContainer logs (from `stdout` and `stderr`) are automatically sent to a CloudWatch log group and retained for 180 days by default. You can view logs in the AWS CloudWatch console or by using the [`stacktape logs` command](https://docs.stacktape.com/cli/commands/logs/)."},"resources":{"$ref":"#/definitions/ContainerWorkloadResourcesConfig","description":"#### Resource Allocation\n\n---\n\nConfigures the CPU, memory, and underlying compute engine for the service container.\n\nYou can choose between two compute engines:\n- **Fargate:** A serverless engine that abstracts away server management. To use Fargate, specify `cpu` and `memory` without `instanceTypes`.\n- **EC2:** Provides direct control over the underlying virtual servers. To use EC2, specify the desired `instanceTypes`."},"scaling":{"$ref":"#/definitions/ContainerWorkloadScaling","description":"#### Scaling Configuration\n\n---\n\nConfigures horizontal scaling by adding or removing container instances based on demand. Incoming requests are automatically distributed across all available containers."},"internalHealthCheck":{"$ref":"#/definitions/ContainerHealthCheck","description":"#### Internal Health Check\n\n---\n\nConfigures an internal health check to monitor the container's status. If a container fails the health check, it is automatically terminated and replaced with a new one."},"stopTimeout":{"description":"#### Stop Timeout\n\n---\n\nThe amount of time (in seconds) to wait before a container is forcefully killed if it does not exit gracefully.\n\nWhen a container is stopped, it receives a `SIGTERM` signal. If it doesn't exit within the timeout period, it receives a `SIGKILL` signal. This allows for graceful shutdown and cleanup. The timeout must be between 2 and 120 seconds.","default":2,"type":"number"},"enableRemoteSessions":{"description":"#### Enable Remote Sessions\n\n---\n\nIf `true`, allows you to start an interactive shell session inside a running container using the `stacktape container:session` command.\n\nThis uses AWS ECS Exec and SSM Session Manager for secure connections. It runs a small agent alongside your application, which consumes a minimal amount of CPU and memory. This is useful for debugging and inspecting deployed containers.","default":false,"type":"boolean"},"volumeMounts":{"description":"#### Volume Mounts\n\n---\n\nA list of volumes to attach to the container for persistent storage.\n\nCurrently, only EFS (Elastic File System) volumes are supported. Volumes can be shared across multiple containers and persist even if the container is stopped or replaced.","type":"array","items":{"$ref":"#/definitions/ContainerEfsMount"}},"sideContainers":{"description":"#### Sidecar Containers\n\n---\n\nA list of helper containers that run alongside the main service container to provide additional functionality.\n\n- **`run-on-init`:** Runs to completion before the main service container starts. Ideal for setup tasks like database migrations.\n- **`always-running`:** Runs for the entire lifecycle of the service container. Ideal for supporting services like logging, monitoring, or debugging agents.\n\n`always-running` containers can communicate with the main container via `localhost` on its exposed ports.","type":"array","items":{"$ref":"#/definitions/ServiceHelperContainer"}},"usePrivateSubnetsWithNAT":{"description":"#### Deploys the service in private subnets with internet access through NAT Gateway.\n\n---\n\nWhen the service is in a private subnet, it does not have public IP and direct internet access.\nInstead, all outbound internet traffic is routed through a NAT Gateway.\n\nYou can assign a static public IP address to the NAT Gateway and configure high availability using `stackConfig.vpcSettings`.\nThis allows you to whitelist your service's IP address in external services (e.g., third-party APIs, databases, payment gateways).\n\n**Cost considerations:**\n- NAT Gateways incur additional AWS charges for both the gateway itself and data processing","default":false,"type":"boolean"},"connectTo":{"description":"#### Connect To\n\n---\n\nConfigures access to other resources in your stack and AWS services. By specifying resources here, Stacktape automatically:\n- Configures IAM role permissions.\n- Sets up security group rules to allow network traffic.\n- Injects environment variables with connection details into the compute resource.\n\nEnvironment variables are named `STP_[RESOURCE_NAME]_[VARIABLE_NAME]` (e.g., `STP_MY_DATABASE_CONNECTION_STRING`).\n\n---\n\n#### Granted Permissions and Injected Variables:\n\n**`Bucket`**\n- **Permissions:** List, create, get, delete, and tag objects.\n- **Variables:** `NAME`, `ARN`\n\n**`DynamoDbTable`**\n- **Permissions:** Get, put, update, delete, scan, and query items; describe table stream.\n- **Variables:** `NAME`, `ARN`, `STREAM_ARN`\n\n**`MongoDbAtlasCluster`**\n- **Permissions:** Allows connection to clusters with `accessibilityMode` set to `scoping-workloads-in-vpc`. Creates a temporary user for secure, credential-less access.\n- **Variables:** `CONNECTION_STRING`\n\n**`RelationalDatabase`**\n- **Permissions:** Allows connection to databases with `accessibilityMode` set to `scoping-workloads-in-vpc`.\n- **Variables:** `CONNECTION_STRING`, `JDBC_CONNECTION_STRING`, `HOST`, `PORT`. For Aurora clusters, `READER_CONNECTION_STRING`, `READER_JDBC_CONNECTION_STRING`, and `READER_HOST` are also included.\n\n**`RedisCluster`**\n- **Permissions:** Allows connection to clusters with `accessibilityMode` set to `scoping-workloads-in-vpc`.\n- **Variables:** `HOST`, `READER_HOST`, `PORT`\n\n**`EventBus`**\n- **Permissions:** Publish events.\n- **Variables:** `ARN`\n\n**`Function`**\n- **Permissions:** Invoke the function, including via its URL if enabled.\n- **Variables:** `ARN`\n\n**`BatchJob`**\n- **Permissions:** Submit, list, describe, and terminate jobs; manage state machine executions.\n- **Variables:** `JOB_DEFINITION_ARN`, `STATE_MACHINE_ARN`\n\n**`UserAuthPool`**\n- **Permissions:** Full control over the user pool (`cognito-idp:*`).\n- **Variables:** `ID`, `CLIENT_ID`, `ARN`\n\n**`SnsTopic`**\n- **Permissions:** Confirm, list, publish, and manage subscriptions.\n- **Variables:** `ARN`, `NAME`\n\n**`SqsQueue`**\n- **Permissions:** Send, receive, delete, and purge messages.\n- **Variables:** `ARN`, `NAME`, `URL`\n\n**`UpstashKafkaTopic`**\n- **Variables:** `TOPIC_NAME`, `TOPIC_ID`, `USERNAME`, `PASSWORD`, `TCP_ENDPOINT`, `REST_URL`\n\n**`UpstashRedis`**\n- **Variables:** `HOST`, `PORT`, `PASSWORD`, `REST_TOKEN`, `REST_URL`, `REDIS_URL`\n\n**`PrivateService`**\n- **Variables:** `ADDRESS`\n\n**`aws:ses` (Macro)**\n- **Permissions:** Full permissions for AWS SES (`ses:*`).","type":"array","items":{"type":"string"}},"iamRoleStatements":{"description":"#### Custom IAM Role Statements\n\n---\n\nA list of raw AWS IAM role statements to append to the resource's role, allowing for fine-grained permission control.","type":"array","items":{"$ref":"#/definitions/StpIamRoleStatement"}}},"additionalProperties":false,"required":["packaging","resources"]},"HttpApiCorsConfig":{"type":"object","properties":{"enabled":{"description":"#### Enables CORS (Cross-Origin Resource Sharing).\n\n---\n\nIf you do not specify any additional properties, a default CORS configuration is used:\n- `allowedMethods`: Inferred from the methods used by integrations associated with the API Gateway.\n- `allowedOrigins`: `*`\n- `allowedHeaders`: `Content-Type`, `X-Amz-Date`, `Authorization`, `X-Api-Key`, `X-Amz-Security-Token`, `X-Amz-User-Agent`","default":false,"type":"boolean"},"allowedOrigins":{"description":"#### The origins to accept cross-domain requests from.\n\n---\n\nAn origin is a combination of a scheme (protocol), hostname (domain), and port.\n\nExample: `https://foo.example`","default":"*","type":"array","items":{"type":"string"}},"allowedHeaders":{"description":"#### The allowed HTTP headers.\n\n---\n\nEach header name in the `Access-Control-Request-Headers` header of a preflight request must match an entry in this list.","type":"array","items":{"type":"string"}},"allowedMethods":{"description":"#### The allowed HTTP methods.\n\n---\n\nBy default, Stacktape determines the allowed methods based on the event integrations associated with the gateway.","type":"array","items":{"$ref":"#/definitions/HttpMethod"}},"allowCredentials":{"description":"#### Configures the presence of credentials in the CORS request.","type":"boolean"},"exposedResponseHeaders":{"description":"#### The response headers that should be made available to scripts running in the browser in response to a cross-origin request.","type":"array","items":{"type":"string"}},"maxAge":{"description":"#### The time (in seconds) that the browser can cache the response for a preflight request.","type":"number"}},"additionalProperties":false,"required":["enabled"]},"HttpMethod":{"enum":["*","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT"],"type":"string"},"DomainConfiguration":{"type":"object","properties":{"domainName":{"description":"#### Domain Name\n\n---\n\nThe fully qualified domain name (e.g., `mydomain.com`, `api.mydomain.com`). Do not include the protocol (`https://`).","type":"string"},"customCertificateArn":{"description":"#### Custom Certificate ARN\n\n---\n\nThe ARN of a custom ACM certificate to use for this domain.\n\nBy default, Stacktape automatically generates and manages certificates for your domains. If you prefer to use a custom certificate from your AWS account, provide its ARN here.","type":"string"},"disableDnsRecordCreation":{"description":"#### Disable DNS Record Creation\n\n---\n\nIf `true`, Stacktape will not create a DNS record for this domain. This is useful if you want to manage DNS records manually.","default":false,"type":"boolean"}},"additionalProperties":false,"required":["domainName"]},"WebServiceHttpApiGatewayLoadBalancing":{"type":"object","properties":{"type":{"type":"string","const":"http-api-gateway"}},"additionalProperties":false,"required":["type"]},"WebServiceAlbLoadBalancing":{"type":"object","properties":{"type":{"type":"string","const":"application-load-balancer"},"properties":{"$ref":"#/definitions/WebServiceAlbLoadBalancingProps"}},"additionalProperties":false,"required":["type"]},"WebServiceAlbLoadBalancingProps":{"type":"object","properties":{"healthcheckPath":{"description":"#### The path on which the Load Balancer performs health checks.\n\n---","default":"/","type":"string"},"healthcheckInterval":{"description":"#### The interval (in seconds) for how often the health check is performed.\n\n---","default":5,"type":"number"},"healthcheckTimeout":{"description":"#### The timeout (in seconds) after which the health check is considered failed.\n\n---","default":4,"type":"number"}},"additionalProperties":false},"WebServiceNlbLoadBalancing":{"type":"object","properties":{"type":{"type":"string","const":"network-load-balancer"},"properties":{"$ref":"#/definitions/WebServiceNlbLoadBalancingProps"}},"additionalProperties":false,"required":["properties","type"]},"WebServiceNlbLoadBalancingProps":{"type":"object","properties":{"healthcheckPath":{"description":"#### The path on which the Load Balancer performs health checks.\n\n---\n\nThis only takes effect if `healthcheckProtocol` is set to `HTTP`.","default":"/","type":"string"},"healthcheckInterval":{"description":"#### The interval (in seconds) for how often the health check is performed.\n\n---\n\nMust be between 5 and 300.","default":5,"type":"number"},"healthcheckTimeout":{"description":"#### The timeout (in seconds) after which the health check is considered failed.\n\n---\n\nMust be between 2 and 120.","default":4,"type":"number"},"healthCheckProtocol":{"description":"#### The protocol the Load Balancer uses when performing health checks on targets.\n\n---","default":"TCP","enum":["HTTP","TCP"],"type":"string"},"healthCheckPort":{"description":"#### The port the Load Balancer uses when performing health checks on targets.\n\n---\n\nBy default, this uses the same port that receives traffic from the Load Balancer.","type":"number"},"ports":{"type":"array","items":{"$ref":"#/definitions/WebServiceNlbLoadBalancingPort"}}},"additionalProperties":false,"required":["ports"]},"WebServiceNlbLoadBalancingPort":{"type":"object","properties":{"port":{"description":"#### The port number exposed by the Load Balancer.\n\n---","type":"number"},"protocol":{"description":"#### The protocol to be used for the Load Balancer.\n\n---","default":"TLS","enum":["TCP","TLS"],"type":"string"},"containerPort":{"description":"#### The port number on the container that will receive traffic from the Load Balancer.\n\n---\n\nDefaults to the same port number specified in the `port` property.","type":"number"}},"additionalProperties":false,"required":["port"]},"CdnConfiguration":{"type":"object","properties":{"enabled":{"description":"#### Enables the CDN.\n\n---","default":false,"type":"boolean"},"cachingOptions":{"$ref":"#/definitions/CdnCachingOptions","description":"#### Configures custom caching options.\n\n---\n\nThis property controls the caching behavior of your edge distribution, including what content is cached, for how long, and when it should be re-fetched from the origin.\n\nIf a response from the origin does not include `Cache-Control` or `Expires` headers, a default caching behavior is used:\n- **bucket**: Objects are cached for 6 months by default, or until the cache is invalidated.\n- **http-api-gateway** and **application-load-balancer**: Responses are not cached by default."},"forwardingOptions":{"$ref":"#/definitions/CdnForwardingOptions","description":"#### Configures which parts of the request are forwarded to the origin.\n\n---\n\nThis includes headers, query parameters, and cookies."},"routeRewrites":{"description":"#### Redirects specific requests to a different origin.\n\n---\n\nEach incoming request to the CDN is evaluated against a list of route rewrites. If the request path matches a rewrite's path pattern, it is sent to the configured route.\n\nRoute rewrites are evaluated in order, and the first match determines where the request will be sent.\nIf no match is found, the request is sent to the default origin (the resource the CDN is attached to).\n\n**Example Use Cases:**\n- Serving static content from a bucket while routing dynamic paths to a Lambda function.\n- Caching `.jpg` files for a longer duration than other file types.","type":"array","items":{"$ref":"#/definitions/CdnRouteRewrite"}},"customDomains":{"description":"#### Attaches custom domains to this CDN.\n\n---\n\nWhen you connect a custom domain, Stacktape automatically:\n\n- **Creates DNS records:** A DNS record is created to point your domain name to the resource.\n- **Adds TLS certificates:** If the resource uses HTTPS, Stacktape issues and attaches a free, AWS-managed TLS certificate, handling TLS termination for you.\n\n> To manage a custom domain, it first needs to be added to your AWS account.\n> This means that a [hosted zone](https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/AboutHZWorkingWith.html)\n> (collection of records managed together for a given domain)\n> for your domain exists in your AWS account and your domain registrar's name servers are pointing to it.\n> To learn more, refer to [Adding a domain guide](https://docs.stacktape.com/other-resources/domains-and-certificates/#adding-domain).","type":"array","items":{"$ref":"#/definitions/DomainConfiguration"}},"edgeFunctions":{"$ref":"#/definitions/EdgeFunctionsConfig","description":"#### Configures Edge function triggers.\n\n---\n\nYou can associate an `edge-lambda-function` with the CDN to be executed at different stages:\n\n- `onRequest`: Executed when the CDN receives a request from a client, before checking the cache.\n- `onResponse`: Executed before returning a response to the client.\n\n**Potential Use Cases:**\n- Generating an immediate HTTP response without checking the cache or forwarding to the origin.\n- Modifying the request (e.g., rewriting the URL or headers) before forwarding to the origin.\n- Inspecting cookies or validating authorization headers and tokens."},"cloudfrontPriceClass":{"description":"#### Configures the locations from which the CDN serves traffic.\n\n---\n\nA higher price class results in more edge locations serving your traffic, which can improve performance in some regions but is more costly.\n\nFor example, if your users are primarily located in the US and Europe, you can save money by using `PriceClass_100`.\n\nFor more details, see the [AWS documentation on price classes](https://aws.amazon.com/cloudfront/pricing/).","default":"PriceClass_All","enum":["PriceClass_100","PriceClass_200","PriceClass_All"],"type":"string"},"defaultRoutePrefix":{"description":"#### Prefixes requests to the origin with a specified path.\n\n---\n\nIncoming requests will be prefixed with `defaultRoutePrefix` before being forwarded to the origin.\nFor example, if the CDN receives a request for `/my/resource/url`, the request will be sent to the origin as `/your_prefix/my/resource/url`.","type":"string"},"errorDocument":{"description":"#### The custom error document URL.\n\n---\n\nThis document is requested by the CDN if the original request to the origin returns a `404` error code.\n\nExample: `/error.html`","default":"/404.html","type":"string"},"indexDocument":{"description":"#### The custom index document served for requests to the root path (`/`).\n\n---","default":"/index.html","type":"string"},"disableInvalidationAfterDeploy":{"description":"#### Disables invalidation of the CDN cache after each deployment.\n\n---\n\nBy default, the cache is invalidated after every deployment to prevent serving outdated content.\nWhen the cache is invalidated, the CDN flushes all cached content, and new requests are sent directly to the origin.","default":false,"type":"boolean"},"useFirewall":{"description":"#### The name of the `web-app-firewall` resource to use with your CDN.\n\n---\n\nA `web-app-firewall` can protect your resources from common web exploits that could affect availability, compromise security, or consume excessive resources.\nThe firewall works by filtering malicious requests before they reach your application.\n\nFor more information, see the [firewall documentation](https://docs.stacktape.com/security-resources/web-app-firewalls/).","type":"string"}},"additionalProperties":false,"required":["enabled"]},"CdnCachingOptions":{"type":"object","properties":{"cacheMethods":{"description":"#### The HTTP methods for which responses will be cached.\n\n---\n\nPossible values are:\n- `['GET', 'HEAD']`\n- `['GET', 'HEAD', 'OPTIONS']`","type":"array","items":{"enum":["GET","HEAD","OPTIONS"],"type":"string"}},"minTTL":{"description":"#### The minimum amount of time (in seconds) that objects will remain in the CDN cache.\n\n---\n\nFor more details on cache expiration, see the [AWS documentation](https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/Expiration.html).","type":"number"},"maxTTL":{"description":"#### The maximum amount of time (in seconds) that objects will remain in the CDN cache.\n\n---\n\nFor more details on cache expiration, see the [AWS documentation](https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/Expiration.html).","type":"number"},"defaultTTL":{"description":"#### The default amount of time (in seconds) that objects will remain in the CDN cache.\n\n---\n\nFor more details on cache expiration, see the [AWS documentation](https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/Expiration.html).","type":"number"},"disableCompression":{"description":"#### Disables compression of objects served by the CDN.\n\n---\n\nCompression is enabled by default and can significantly reduce the size of responses, improving performance and lowering transfer costs.\nThe CDN uses `Gzip` and `Brotli` compression methods. If the viewer supports both, Brotli is used.\nThe client must indicate that it accepts compressed files using the `Accept-Encoding` HTTP header.\n\nFor more details on compression, see the [AWS documentation](https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/ServingCompressedFiles.html).","default":false,"type":"boolean"},"cacheKeyParameters":{"$ref":"#/definitions/CdnCacheKey","description":"#### Configures the HTTP headers, cookies, and URL query strings to include in the cache key.\n\n---\n\nBy default, the cache key depends on the origin type:\n- **bucket**: Only the URL path is included.\n- **http-api-gateway** and **application-load-balancer**: The URL path and query string are included.\n\nThe values included in the cache key are automatically forwarded in requests sent to the origin."},"cachePolicyId":{"description":"#### The ID of a pre-created cache policy to use.\n\n---\n\nUse this to apply a pre-configured cache policy instead of specifying `ttl`, `cacheKeyParameters`, and other options.","type":"string"}},"additionalProperties":false},"CdnCacheKey":{"type":"object","properties":{"cookies":{"$ref":"#/definitions/CacheKeyCookies","description":"#### Configures which cookies are included in the cache key.\n\n---\n\nCookies included in the cache key are automatically forwarded in requests sent to the origin.\nBy default, no cookies are included in the cache key."},"headers":{"$ref":"#/definitions/CacheKeyHeaders","description":"#### Configures which headers are included in the cache key.\n\n---\n\nHeaders included in the cache key are automatically forwarded in requests sent to the origin.\nBy default, no headers (except `Accept-Encoding` for compression) are included in the cache key."},"queryString":{"$ref":"#/definitions/CacheKeyQueryString","description":"#### Configures which query parameters are included in the cache key.\n\n---\n\nQuery parameters included in the cache key are automatically forwarded in requests sent to the origin.\nBy default, no query parameters are included in the cache key."}},"additionalProperties":false},"CacheKeyCookies":{"type":"object","properties":{"none":{"description":"#### No cookies are included in the cache key.","type":"boolean"},"whitelist":{"description":"#### Only the listed cookies are included in the cache key.","type":"array","items":{"type":"string"}},"allExcept":{"description":"#### All cookies except the listed ones are included in the cache key.","type":"array","items":{"type":"string"}},"all":{"description":"#### All cookies are included in the cache key.","type":"boolean"}},"additionalProperties":false},"CacheKeyHeaders":{"type":"object","properties":{"none":{"description":"#### No headers are included in the cache key.","type":"boolean"},"whitelist":{"description":"#### Only the listed headers are included in the cache key.","type":"array","items":{"type":"string"}}},"additionalProperties":false},"CacheKeyQueryString":{"type":"object","properties":{"all":{"description":"#### All query parameters are included in the cache key.","type":"boolean"},"none":{"description":"#### No query parameters are included in the cache key.","type":"boolean"},"whitelist":{"description":"#### Only the listed query parameters are included in the cache key.","type":"array","items":{"type":"string"}}},"additionalProperties":false},"CdnForwardingOptions":{"type":"object","properties":{"customRequestHeaders":{"description":"#### Adds static headers that the CDN will add to all requests sent to the origin.","type":"array","items":{"$ref":"#/definitions/CdnCustomRequestHeader"}},"allowedMethods":{"description":"#### The HTTP methods that will be forwarded by the CDN to the origin.\n\n---\n\nIf not set, all methods are forwarded.","type":"array","items":{"enum":["DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT"],"type":"string"}},"cookies":{"$ref":"#/definitions/ForwardCookies","description":"#### The cookies that will be forwarded to the origin.\n\n---\n\nIf not set, all cookies are forwarded.\nAll cookies that are part of the cache key (see `cachingOptions`) are automatically forwarded to the origin."},"headers":{"$ref":"#/definitions/ForwardHeaders","description":"#### The headers that will be forwarded to the origin.\n\n---\n\nIf not set, all headers are forwarded.\nAll headers that are part of the cache key (see `cachingOptions`) are automatically forwarded to the origin.\n\n> **Warning:** The `Authorization` header must be included as a cache key parameter in `cachingOptions` to be forwarded to the origin. This is to prevent unauthorized access to resources."},"queryString":{"$ref":"#/definitions/ForwardQueryString","description":"#### The query parameters that will be forwarded to the origin.\n\n---\n\nIf not set, all query string parameters are forwarded.\nAll query string parameters that are part of the cache key (see `cachingOptions`) are automatically forwarded to the origin."},"originRequestPolicyId":{"description":"#### The ID of a pre-created origin request policy to use.\n\n---\n\nUse this to apply a pre-configured origin request policy instead of specifying `cookies`, `headers`, and `queryString` options.","type":"string"}},"additionalProperties":false},"CdnCustomRequestHeader":{"type":"object","properties":{"headerName":{"description":"#### Name of the header","type":"string"},"value":{"description":"#### Value of the header","type":"string"}},"additionalProperties":false,"required":["headerName","value"]},"ForwardCookies":{"type":"object","properties":{"none":{"description":"#### No cookies are forwarded to the origin.","type":"boolean"},"whitelist":{"description":"#### Only the listed cookies are forwarded to the origin.","type":"array","items":{"type":"string"}},"all":{"description":"#### All cookies are forwarded to the origin.","type":"boolean"}},"additionalProperties":false},"ForwardHeaders":{"type":"object","properties":{"none":{"description":"#### No headers are forwarded to the origin.","type":"boolean"},"whitelist":{"description":"#### Only the listed headers are forwarded to the origin.","type":"array","items":{"type":"string"}},"allViewer":{"description":"#### All viewer headers are forwarded to the origin.","type":"boolean"},"allViewerAndWhitelistCloudFront":{"description":"#### All viewer headers and the listed CDN headers are forwarded to the origin.","type":"array","items":{"type":"string"}},"allExcept":{"description":"#### All viewer headers except the explicitly specified ones are forwarded to the origin.","type":"array","items":{"type":"string"}}},"additionalProperties":false},"ForwardQueryString":{"type":"object","properties":{"all":{"description":"#### All query parameters are forwarded to the origin.","type":"boolean"},"none":{"description":"#### No query parameters are forwarded to the origin.","type":"boolean"},"whitelist":{"description":"#### Only the listed query parameters are forwarded to the origin.","type":"array","items":{"type":"string"}}},"additionalProperties":false},"CdnRouteRewrite":{"type":"object","properties":{"path":{"description":"#### The path pattern to be matched by this route rewrite.\n\n---\n\nYou can use wildcards (`*`) to match multiple paths.\nFor more details on path patterns, see the [AWS documentation](https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/distribution-web-values-specify.html#DownloadDistValuesPathPattern).","type":"string"},"routePrefix":{"description":"#### Prefixes every request to the origin with the specified path.\n\n---\n\nAll requests matching this route will be prefixed with `routePrefix` before being forwarded to the origin.\nFor example, if the CDN receives a request for `/my/resource/url`, it will be sent to the origin as `/your_prefix/my/resource/url`.","type":"string"},"routeTo":{"description":"#### The origin to which the route rewrite forwards requests.\n\n---\n\nIf not set, the default origin (the one the CDN is attached to) is used.","anyOf":[{"$ref":"#/definitions/CdnLoadBalancerRoute"},{"$ref":"#/definitions/CdnHttpApiGatewayRoute"},{"$ref":"#/definitions/CdnLambdaFunctionRoute"},{"$ref":"#/definitions/CdnCustomDomainRoute"},{"$ref":"#/definitions/CdnBucketRoute"}]},"cachingOptions":{"$ref":"#/definitions/CdnCachingOptions","description":"#### Configures custom caching options for this route rewrite.\n\n---\n\nThis property controls the caching behavior for requests matching this route.\nIf a response from the origin does not include `Cache-Control` or `Expires` headers, a default caching behavior is used:\n- **bucket**: Objects are cached for 6 months by default.\n- **http-api-gateway** and **application-load-balancer**: Responses are not cached by default."},"forwardingOptions":{"$ref":"#/definitions/CdnForwardingOptions","description":"#### Redirects specific requests to a different origin.\n\n---\n\nForwarding options allow you to specify which parts of the request (headers, query parameters, cookies, etc.) are forwarded to the origin."},"edgeFunctions":{"$ref":"#/definitions/EdgeFunctionsConfig","description":"#### Configures Edge function triggers for this route.\n\n---\n\nYou can associate an `edge-lambda-function` with this route to be executed at different stages:\n\n- `onRequest`: Executed when the CDN receives a request from a client, before checking the cache.\n- `onResponse`: Executed before returning a response to the client.\n\n**Potential Use Cases:**\n- Generating an immediate HTTP response.\n- Modifying the request before forwarding it to the origin.\n- Inspecting cookies or validating authorization tokens."}},"additionalProperties":false,"required":["path"]},"CdnLoadBalancerRoute":{"type":"object","properties":{"type":{"type":"string","const":"application-load-balancer"},"properties":{"$ref":"#/definitions/CdnLoadBalancerOrigin"}},"additionalProperties":false,"required":["properties","type"]},"CdnLoadBalancerOrigin":{"type":"object","properties":{"loadBalancerName":{"description":"#### The name of the Load Balancer.","type":"string"},"listenerPort":{"description":"#### The port of the Load Balancer listener.\n\n---\n\nYou must specify this if the Load Balancer you are routing to uses custom listeners.","type":"number"},"originDomainName":{"description":"#### Explicitly sets the origin domain name to use when forwarding to the Load Balancer.\n\n---\n\nThis is only required if the Load Balancer has no `customDomains` attached and the listener uses `customCertificateArns`.","type":"string"}},"additionalProperties":false,"required":["loadBalancerName"]},"CdnHttpApiGatewayRoute":{"type":"object","properties":{"type":{"type":"string","const":"http-api-gateway"},"properties":{"$ref":"#/definitions/CdnHttpApiGatewayOrigin"}},"additionalProperties":false,"required":["properties","type"]},"CdnHttpApiGatewayOrigin":{"type":"object","properties":{"httpApiGatewayName":{"description":"#### The name of the HTTP API Gateway.","type":"string"}},"additionalProperties":false,"required":["httpApiGatewayName"]},"CdnLambdaFunctionRoute":{"type":"object","properties":{"type":{"type":"string","const":"function"},"properties":{"$ref":"#/definitions/CdnLambdaFunctionOrigin"}},"additionalProperties":false,"required":["properties","type"]},"CdnLambdaFunctionOrigin":{"type":"object","properties":{"functionName":{"description":"#### The name of the Web Service resource.","type":"string"}},"additionalProperties":false,"required":["functionName"]},"CdnCustomDomainRoute":{"type":"object","properties":{"type":{"type":"string","const":"custom-origin"},"properties":{"$ref":"#/definitions/CdnCustomOrigin"}},"additionalProperties":false,"required":["properties","type"]},"CdnCustomOrigin":{"type":"object","properties":{"domainName":{"description":"#### The domain name of the custom origin.\n\n---\n\nExample: `mydomain.com` or `domain.example.com`","type":"string"},"protocol":{"description":"#### The protocol to use when connecting to the custom origin.\n\n---","default":"HTTPS","enum":["HTTP","HTTPS"],"type":"string"},"port":{"description":"#### The port of the custom origin.\n\n---\n\nBy default, port 443 is used for `HTTPS` origins, and port 80 is used for `HTTP` origins.","default":443,"type":"number"}},"additionalProperties":false,"required":["domainName"]},"CdnBucketRoute":{"type":"object","properties":{"type":{"type":"string","const":"bucket"},"properties":{"$ref":"#/definitions/CdnBucketOrigin"}},"additionalProperties":false,"required":["properties","type"]},"CdnBucketOrigin":{"type":"object","properties":{"bucketName":{"description":"#### The name of the bucket.","type":"string"},"disableUrlNormalization":{"description":"#### Disables URL normalization.\n\n---\n\nURL normalization is enabled by default and is useful for serving HTML files from a bucket with clean URLs (without the `.html` extension).\nWhen enabled, the CDN can fetch the correct HTML file even if the URL is incomplete (e.g., `/about` instead of `/about.html` or `/about/index.html`).","default":false,"type":"boolean"}},"additionalProperties":false,"required":["bucketName"]},"EdgeFunctionsConfig":{"type":"object","properties":{"onRequest":{"description":"#### The name of the `edge-lambda-function` to be executed on request.\n\n---\n\nThe `onRequest` function is triggered when the CDN receives a request from a client. It allows you to:\n- Modify the request before forwarding it to the origin.\n- Return an immediate response to the client.\n- Make network calls to external resources to confirm user credentials or fetch additional content.\n\nThe body of the request is exposed to the function with some restrictions. For more details, see the [AWS documentation](https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/edge-functions-restrictions.html#lambda-at-edge-restrictions-request-body).","type":"string"},"onResponse":{"description":"#### The name of the `edge-lambda-function` to be executed on response.\n\n---\n\nThe `onResponse` function is triggered before the CDN returns a response to the client, allowing you to modify the response (e.g., headers, cookies).\n\nThis function does not execute if:\n- The origin returns an HTTP status code of 400 or higher.\n- The response was generated by a function triggered by a viewer request event (`onRequest`).","type":"string"},"onOriginRequest":{"description":"#### The name of the `edge-lambda-function` to be executed on origin request.\n\n---\n\n> **Warning:** Use this trigger only if you are an advanced user and understand the implications.\n> Using this trigger can override the default behavior configured by Stacktape, which uses pre-configured Lambdas for this trigger when using a CDN with a bucket, web-service, http-api-gateway, or application-load-balancer.\n\nThe `onOriginRequest` function is triggered after the CDN receives a request but before it is sent to the origin. This means the function is not triggered if the response is found in the cache.\n\nYou can use this function to:\n- Modify the request before forwarding it to the origin.\n- Return an immediate response to the client, which will be cached as if it came from the origin.\n- Make network calls to external resources.\n\nThe body of the request is exposed with some restrictions. See the [AWS documentation](https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/edge-functions-restrictions.html#lambda-at-edge-restrictions-request-body) for more details.","type":"string"},"onOriginResponse":{"description":"#### The name of the `edge-lambda-function` to be executed on origin response.\n\n---\n\nThe `onOriginResponse` function is triggered after the origin returns a response but before it is sent to the client.\n\nYou can use this function to:\n- Modify the response (e.g., headers, cookies), which will be cached as if it came from the origin.\n- Update the response status.","type":"string"}},"additionalProperties":false},"ApplicationLoadBalancerAlarm":{"type":"object","properties":{"trigger":{"$ref":"#/definitions/ApplicationLoadBalancerAlarmTrigger"},"evaluation":{"$ref":"#/definitions/AlarmEvaluation","description":"#### Specifies the time window for evaluating the metric to determine if the alarm should be triggered.\n\n---\n\nDefines the duration and frequency of metric evaluation."},"notificationTargets":{"description":"#### Defines where to send notifications when the alarm is triggered.\n\n---\n\nYou can specify a list of integrations, such as Slack, MS Teams, or email.","type":"array","items":{"$ref":"#/definitions/AlarmUserIntegration"}},"description":{"description":"#### Custom description for the alarm\n---\n- If custom description is specified, it is used in the alarm notification message\n- Custom description is also used in the alarm description in the AWS console (If not provided, Stacktape generates default description.)","type":"string"}},"additionalProperties":false,"required":["trigger"]},"ApplicationLoadBalancerAlarmTrigger":{"anyOf":[{"$ref":"#/definitions/ApplicationLoadBalancerCustomTrigger"},{"$ref":"#/definitions/ApplicationLoadBalancerErrorRateTrigger"},{"$ref":"#/definitions/ApplicationLoadBalancerUnhealthyTargetsTrigger"}]},"ApplicationLoadBalancerCustomTrigger":{"type":"object","properties":{"type":{"type":"string","const":"application-load-balancer-custom"},"properties":{"$ref":"#/definitions/ApplicationLoadBalancerCustomTriggerProps"}},"additionalProperties":false,"required":["properties","type"]},"ApplicationLoadBalancerCustomTriggerProps":{"type":"object","properties":{"metric":{"$ref":"#/definitions/ApplicationLoadBalancerMetric","description":"#### The metric to monitor on the Load Balancer.\n\n---\n\nThe threshold will be compared against the calculated value of `statistic(METRIC)`, where:\n- `statistic` is the function applied to the metric values collected during the evaluation period (default: `avg`).\n- `METRIC` is the chosen metric.\n\n**Available Metrics:**\n\n- `ActiveConnectionCount`: The total number of concurrent TCP connections active from clients to the load balancer and from the load balancer to targets.\n- `AnomalousHostCount`: The number of hosts detected with anomalies.\n- `ClientTLSNegotiationErrorCount`: The number of TLS connections initiated by the client that did not establish a session with the load balancer due to a TLS error.\n- `ConsumedLCUs`: The number of load balancer capacity units (LCU) used by your load balancer.\n- `DesyncMitigationMode_NonCompliant_Request_Count`: The number of requests that do not comply with RFC 7230.\n- `DroppedInvalidHeaderRequestCount`: The number of requests where the load balancer removed HTTP headers with invalid fields before routing the request.\n- `MitigatedHostCount`: The number of targets under mitigation.\n- `ForwardedInvalidHeaderRequestCount`: The number of requests routed by the load balancer that had HTTP headers with invalid fields.\n- `GrpcRequestCount`: The number of gRPC requests processed over IPv4 and IPv6.\n- `HTTP_Fixed_Response_Count`: The number of successful fixed-response actions.\n- `HTTP_Redirect_Count`: The number of successful redirect actions.\n- `HTTP_Redirect_Url_Limit_Exceeded_Count`: The number of redirect actions that failed because the URL in the response location header exceeded 8K.\n- `HTTPCode_ELB_3XX_Count`: The number of HTTP 3XX redirection codes originating from the load balancer.\n- `HTTPCode_ELB_4XX_Count`: The number of HTTP 4XX client error codes originating from the load balancer.\n- `HTTPCode_ELB_5XX_Count`: The number of HTTP 5XX server error codes originating from the load balancer.\n- `HTTPCode_ELB_500_Count`: The number of HTTP 500 error codes originating from the load balancer.\n- `HTTPCode_ELB_502_Count`: The number of HTTP 502 error codes originating from the load balancer.\n- `HTTPCode_ELB_503_Count`: The number of HTTP 503 error codes originating from the load balancer.\n- `HTTPCode_ELB_504_Count`: The number of HTTP 504 error codes originating from the load balancer.\n- `IPv6ProcessedBytes`: The total number of bytes processed by the load balancer over IPv6.\n- `IPv6RequestCount`: The number of IPv6 requests received by the load balancer.\n- `NewConnectionCount`: The total number of new TCP connections established from clients to the load balancer and from the load balancer to targets.\n- `NonStickyRequestCount`: The number of requests where the load balancer chose a new target because it could not use an existing sticky session.\n- `ProcessedBytes`: The total number of bytes processed by the load balancer over IPv4 and IPv6.\n- `RejectedConnectionCount`: The number of connections rejected because the load balancer reached its maximum number of connections.\n- `RequestCount`: The number of requests processed over IPv4 and IPv6.\n- `RuleEvaluations`: The number of rules processed by the load balancer, averaged over an hour.\n- `HealthyHostCount`: The number of targets that are considered healthy.\n- `HTTPCode_Target_2XX_Count`: The number of HTTP 2XX response codes generated by the targets.\n- `HTTPCode_Target_3XX_Count`: The number of HTTP 3XX response codes generated by the targets.\n- `HTTPCode_Target_4XX_Count`: The number of HTTP 4XX response codes generated by the targets.\n- `HTTPCode_Target_5XX_Count`: The number of HTTP 5XX response codes generated by the targets.\n- `RequestCountPerTarget`: The average number of requests per target in a target group.\n- `TargetConnectionErrorCount`: The number of connections that were not successfully established between the load balancer and a target.\n- `TargetResponseTime`: The time elapsed (in seconds) from when a request leaves the load balancer until the target starts sending response headers.\n- `TargetTLSNegotiationErrorCount`: The number of TLS connections initiated by the load balancer that did not establish a session with the target.\n- `UnHealthyHostCount`: The number of targets that are considered unhealthy.\n- `HealthyStateDNS`: The number of zones that meet the DNS healthy state requirements.\n- `HealthyStateRouting`: The number of zones that meet the routing healthy state requirements.\n- `UnhealthyRoutingRequestCount`: The number of requests routed using the routing failover action (fail open).\n- `UnhealthyStateDNS`: The number of zones that do not meet the DNS healthy state requirements.\n- `UnhealthyStateRouting`: The number of zones that do not meet the routing healthy state requirements.\n- `LambdaInternalError`: The number of requests to a Lambda function that failed due to an issue internal to the load balancer or AWS Lambda.\n- `LambdaTargetProcessedBytes`: The total number of bytes processed by the load balancer for requests to and responses from a Lambda function.\n- `LambdaUserError`: The number of requests to a Lambda function that failed due to an issue with the Lambda function itself.\n- `ELBAuthError`: The number of user authentications that could not be completed due to an internal error.\n- `ELBAuthFailure`: The number of user authentications that could not be completed because the IdP denied access.\n- `ELBAuthLatency`: The time elapsed (in milliseconds) to query the IdP for the ID token and user info.\n- `ELBAuthRefreshTokenSuccess`: The number of times the load balancer successfully refreshed user claims using a refresh token.\n- `ELBAuthSuccess`: The number of successful authentication actions.\n- `ELBAuthUserClaimsSizeExceeded`: The number of times a configured IdP returned user claims that exceeded 11K bytes in size."},"threshold":{"description":"#### The threshold that triggers the alarm.\n\n---\n\nThe threshold is compared against the calculated value of `statistic(METRIC)`, where:\n- `statistic` is the function applied to the metric values collected during the evaluation period (default: `avg`).\n- `METRIC` is the chosen metric.","type":"number"},"statistic":{"$ref":"#/definitions/StatisticFunction","description":"#### The statistic to apply to the metric data points.\n\n---\n\nSupported statistics:\n- **avg**: The average of the metric values.\n- **sum**: The sum of the metric values.\n- **p90**: The 90th percentile. 90% of the data points are lower than this value.\n- **p95**: The 95th percentile. 95% of the data points are lower than this value.\n- **p99**: The 99th percentile. 99% of the data points are lower than this value.\n- **min**: The lowest value from the data points.\n- **max**: The highest value from the data points.","default":"avg"},"comparisonOperator":{"$ref":"#/definitions/ComparisonOperator","description":"#### The arithmetic operation to use when comparing the specified statistic and threshold.\n\n---\n\nSupported operators:\n- `GreaterThanThreshold`\n- `GreaterThanOrEqualToThreshold`\n- `LessThanThreshold`\n- `LessThanOrEqualToThreshold`"}},"additionalProperties":false,"required":["metric","threshold"]},"ApplicationLoadBalancerMetric":{"enum":["ActiveConnectionCount","AnomalousHostCount","ClientTLSNegotiationErrorCount","ConsumedLCUs","DesyncMitigationMode_NonCompliant_Request_Count","DroppedInvalidHeaderRequestCount","ELBAuthError","ELBAuthFailure","ELBAuthLatency","ELBAuthRefreshTokenSuccess","ELBAuthSuccess","ELBAuthUserClaimsSizeExceeded","ForwardedInvalidHeaderRequestCount","GrpcRequestCount","HTTPCode_ELB_3XX_Count","HTTPCode_ELB_4XX_Count","HTTPCode_ELB_500_Count","HTTPCode_ELB_502_Count","HTTPCode_ELB_503_Count","HTTPCode_ELB_504_Count","HTTPCode_ELB_5XX_Count","HTTPCode_Target_2XX_Count","HTTPCode_Target_3XX_Count","HTTPCode_Target_4XX_Count","HTTPCode_Target_5XX_Count","HTTP_Fixed_Response_Count","HTTP_Redirect_Count","HTTP_Redirect_Url_Limit_Exceeded_Count","HealthyHostCount","HealthyStateDNS","HealthyStateRouting","IPv6ProcessedBytes","IPv6RequestCount","LambdaInternalError","LambdaTargetProcessedBytes","LambdaUserError","MitigatedHostCount","NewConnectionCount","NonStickyRequestCount","ProcessedBytes","RejectedConnectionCount","RequestCount","RequestCountPerTarget","RuleEvaluations","TargetConnectionErrorCount","TargetResponseTime","TargetTLSNegotiationErrorCount","UnHealthyHostCount","UnhealthyRoutingRequestCount","UnhealthyStateDNS","UnhealthyStateRouting"],"type":"string"},"StatisticFunction":{"enum":["avg","max","min","p90","p95","p99","sum"],"type":"string"},"ComparisonOperator":{"enum":["GreaterThanOrEqualToThreshold","GreaterThanThreshold","LessThanOrEqualToThreshold","LessThanThreshold"],"type":"string"},"ApplicationLoadBalancerErrorRateTrigger":{"type":"object","properties":{"type":{"type":"string","const":"application-load-balancer-error-rate"},"properties":{"$ref":"#/definitions/ApplicationLoadBalancerErrorRateTriggerProps"}},"additionalProperties":false,"required":["properties","type"]},"ApplicationLoadBalancerErrorRateTriggerProps":{"type":"object","properties":{"thresholdPercent":{"description":"#### The error rate percentage that triggers the alarm.\n\n---\n\nThe error rate is the percentage of total requests that result in a 4xx or 5xx HTTP status code.\nFor example, a value of 5 means the alarm will trigger if more than 5% of requests result in an error.","type":"number"},"comparisonOperator":{"$ref":"#/definitions/ComparisonOperator","description":"#### The arithmetic operation to use when comparing the specified statistic and threshold.\n\n---\n\nSupported operators:\n- `GreaterThanThreshold`\n- `GreaterThanOrEqualToThreshold`\n- `LessThanThreshold`\n- `LessThanOrEqualToThreshold`"}},"additionalProperties":false,"required":["thresholdPercent"]},"ApplicationLoadBalancerUnhealthyTargetsTrigger":{"type":"object","properties":{"type":{"type":"string","const":"application-load-balancer-unhealthy-targets"},"properties":{"$ref":"#/definitions/ApplicationLoadBalancerUnhealthyTargetsTriggerProps"}},"additionalProperties":false,"required":["properties","type"]},"ApplicationLoadBalancerUnhealthyTargetsTriggerProps":{"type":"object","properties":{"thresholdPercent":{"description":"#### The percentage of unhealthy targets that triggers the alarm.\n\n---\n\nAn Application Load Balancer routes traffic to multiple targets (e.g., containers). This alarm triggers if the percentage of unhealthy targets exceeds the specified threshold.\nIf the load balancer has multiple target groups, the alarm will trigger if *any* of them breach the threshold.","type":"number"},"onlyIncludeTargets":{"description":"#### Limits alarm to monitor health of only the specified target container services\n---\n- By specifying this property, only the containers of target container services that are specified are monitored for health.\n- Only services that are actually targeted by the load balancer can be part of the list.\n- If not specified, all targeted container services are monitored.","type":"array","items":{"type":"string"}},"comparisonOperator":{"$ref":"#/definitions/ComparisonOperator","description":"#### The arithmetic operation to use when comparing the specified statistic and threshold.\n\n---\n\nSupported operators:\n- `GreaterThanThreshold`\n- `GreaterThanOrEqualToThreshold`\n- `LessThanThreshold`\n- `LessThanOrEqualToThreshold`"}},"additionalProperties":false,"required":["thresholdPercent"]},"AlarmEvaluation":{"type":"object","properties":{"period":{"description":"#### The duration (in seconds) of a single evaluation period.\n\n---\n\nThis value determines how long to collect data for a single data point. It must be a multiple of 60.","default":60,"type":"number"},"evaluationPeriods":{"description":"#### The number of most recent periods to evaluate.\n\n---\n\nThe alarm is triggered only if the condition is met for a specified number of these periods (`breachedPeriods`).\nThis helps prevent alarms from being triggered by temporary spikes.\n\nFor example, a sudden, short-lived spike in CPU utilization might not be a problem.\nHowever, if the CPU utilization stays high for several consecutive periods, it could indicate an issue that requires attention.","default":1,"type":"number"},"breachedPeriods":{"description":"#### The number of periods (within `evaluationPeriods`) that must breach the threshold to trigger the alarm.\n\n---\n\nThis allows you to configure the alarm's sensitivity. For example, if you set `evaluationPeriods` to 5 and `breachedPeriods` to 3, the alarm will only trigger if the metric exceeds the threshold in at least 3 of the 5 most recent periods.\n\nThis value must be less than or equal to `evaluationPeriods`.","default":1,"type":"number"}},"additionalProperties":false},"AlarmUserIntegration":{"anyOf":[{"$ref":"#/definitions/MsTeamsIntegration"},{"$ref":"#/definitions/SlackIntegration"},{"$ref":"#/definitions/EmailIntegration"}]},"MsTeamsIntegration":{"type":"object","properties":{"type":{"type":"string","const":"ms-teams"},"properties":{"$ref":"#/definitions/MsTeamsIntegrationProps"}},"additionalProperties":false,"required":["type"]},"MsTeamsIntegrationProps":{"type":"object","properties":{"webhookUrl":{"description":"#### The URL that allows Stacktape to send a notification to the associated channel.\n\n---\n\nYou can get this URL by following [this guide](https://docs.microsoft.com/en-us/microsoftteams/platform/webhooks-and-connectors/how-to/add-incoming-webhook#create-incoming-webhook-1).","type":"string"}},"additionalProperties":false,"required":["webhookUrl"]},"SlackIntegration":{"type":"object","properties":{"type":{"type":"string","const":"slack"},"properties":{"$ref":"#/definitions/SlackIntegrationProps"}},"additionalProperties":false,"required":["type"]},"SlackIntegrationProps":{"type":"object","properties":{"conversationId":{"description":"#### The ID of the channel, direct message, multi-person direct message, or group.\n\n---\n\nTo get the conversation ID for a channel, navigate to the channel and click on its name.\nThe ID is located at the bottom of the **About** tab.","type":"string"},"accessToken":{"description":"#### The Bot User OAuth Token.\n\n---\n\nYou can get an access token by following the first two steps in [this Slack guide](https://slack.dev/node-slack-sdk/getting-started).","type":"string"}},"additionalProperties":false,"required":["accessToken","conversationId"]},"EmailIntegration":{"type":"object","properties":{"type":{"type":"string","const":"email"},"properties":{"$ref":"#/definitions/EmailIntegrationProps"}},"additionalProperties":false,"required":["properties","type"]},"EmailIntegrationProps":{"type":"object","properties":{"sender":{"description":"#### The email address of the sender.","type":"string"},"recipient":{"description":"#### The email address of the recipient.","type":"string"}},"additionalProperties":false,"required":["recipient","sender"]},"HttpApiGatewayAlarm":{"type":"object","properties":{"trigger":{"$ref":"#/definitions/HttpApiGatewayAlarmTrigger"},"evaluation":{"$ref":"#/definitions/AlarmEvaluation","description":"#### Specifies the time window for evaluating the metric to determine if the alarm should be triggered.\n\n---\n\nDefines the duration and frequency of metric evaluation."},"notificationTargets":{"description":"#### Defines where to send notifications when the alarm is triggered.\n\n---\n\nYou can specify a list of integrations, such as Slack, MS Teams, or email.","type":"array","items":{"$ref":"#/definitions/AlarmUserIntegration"}},"description":{"description":"#### Custom description for the alarm\n---\n- If custom description is specified, it is used in the alarm notification message\n- Custom description is also used in the alarm description in the AWS console (If not provided, Stacktape generates default description.)","type":"string"}},"additionalProperties":false,"required":["trigger"]},"HttpApiGatewayAlarmTrigger":{"anyOf":[{"$ref":"#/definitions/HttpApiGatewayErrorRateTrigger"},{"$ref":"#/definitions/HttpApiGatewayLatencyTrigger"}]},"HttpApiGatewayErrorRateTrigger":{"type":"object","properties":{"type":{"type":"string","const":"http-api-gateway-error-rate"},"properties":{"$ref":"#/definitions/HttpApiGatewayErrorRateTriggerProps"}},"additionalProperties":false,"required":["properties","type"]},"HttpApiGatewayErrorRateTriggerProps":{"type":"object","properties":{"thresholdPercent":{"description":"#### The error rate percentage that triggers the alarm.\n\n---\n\nThe error rate is the percentage of total requests that result in a 4xx or 5xx HTTP status code.\nFor example, a value of 5 means the alarm will trigger if more than 5% of requests result in an error.","type":"number"},"comparisonOperator":{"$ref":"#/definitions/ComparisonOperator","description":"#### The arithmetic operation to use when comparing the specified statistic and threshold.\n\n---\n\nSupported operators:\n- `GreaterThanThreshold`\n- `GreaterThanOrEqualToThreshold`\n- `LessThanThreshold`\n- `LessThanOrEqualToThreshold`"}},"additionalProperties":false,"required":["thresholdPercent"]},"HttpApiGatewayLatencyTrigger":{"type":"object","properties":{"type":{"type":"string","const":"http-api-gateway-latency"},"properties":{"$ref":"#/definitions/HttpApiGatewayLatencyTriggerProps"}},"additionalProperties":false,"required":["properties","type"]},"HttpApiGatewayLatencyTriggerProps":{"type":"object","properties":{"thresholdMilliseconds":{"description":"#### The latency in milliseconds that triggers the alarm.\n\n---\n\nLatency is the time from when API Gateway receives a request to when it sends a response.\nBy default, the alarm triggers if the **average** latency over the evaluation period is **greater than** the `thresholdMilliseconds`.\nYou can customize the behavior using the `statistic` and `comparisonOperator` properties.","type":"number"},"comparisonOperator":{"$ref":"#/definitions/ComparisonOperator","description":"#### The arithmetic operation to use when comparing the specified statistic and threshold.\n\n---\n\nSupported operators:\n- `GreaterThanThreshold`\n- `GreaterThanOrEqualToThreshold`\n- `LessThanThreshold`\n- `LessThanOrEqualToThreshold`"},"statistic":{"$ref":"#/definitions/StatisticFunction","description":"#### The statistic to apply to the metric data points.\n\n---\n\nSupported statistics:\n- **avg**: The average of the metric values.\n- **sum**: The sum of the metric values.\n- **p90**: The 90th percentile. 90% of the data points are lower than this value.\n- **p95**: The 95th percentile. 95% of the data points are lower than this value.\n- **p99**: The 99th percentile. 99% of the data points are lower than this value.\n- **min**: The lowest value from the data points.\n- **max**: The highest value from the data points.","default":"avg"}},"additionalProperties":false,"required":["thresholdMilliseconds"]},"ServiceHelperContainer":{"type":"object","properties":{"containerType":{"description":"#### Container Type\n\n---\n\nThe type of the helper container.\n\n- **`run-on-init`:** Runs to completion before the main service container starts. The main container will wait for this container to exit with a code of 0. Ideal for setup tasks like database migrations.\n- **`always-running`:** Runs for the entire lifecycle of the service container. Ideal for supporting services like logging or monitoring agents.","enum":["always-running","run-on-init"],"type":"string"},"name":{"description":"#### A unique name for the container within the workload.","type":"string"},"packaging":{"$ref":"#/definitions/ContainerWorkloadContainerPackaging","description":"#### Configures the container image."},"essential":{"description":"#### Determines if this container is critical for the workload's health.\n\n---\n\nIf an essential container fails or stops, all other containers in the same workload instance are also stopped. The entire instance is then terminated and replaced.","type":"boolean"},"logging":{"$ref":"#/definitions/ContainerWorkloadContainerLogging","description":"#### Configures the logging behavior for this container.\n\n---\n\nContainer logs (`stdout` and `stderr`) are automatically sent to a CloudWatch log group.\n\nYou can view logs in two ways:\n  - Through the AWS CloudWatch console. Use the `stacktape stack-info` command to get a direct link.\n  - Using the `stacktape logs` command to stream logs directly to your terminal."},"dependsOn":{"description":"#### A list of other containers that this container depends on to start.\n\n---\n\nThis defines the startup order for containers within the workload.\nFor example, you can require a database container to be `HEALTHY` before your application container starts.","type":"array","items":{"$ref":"#/definitions/ContainerDependency"}},"environment":{"description":"#### Environment variables to inject into the container.\n\n---\n\nEnvironment variables are ideal for providing configuration details to your container, such as database connection strings, API keys, or other dynamic parameters.","type":"array","items":{"$ref":"#/definitions/EnvironmentVar"}},"internalHealthCheck":{"$ref":"#/definitions/ContainerHealthCheck","description":"#### Configures an internal health check to determine if the container is healthy.\n\n---\n\nIf this health check fails for an essential container, the entire workload instance will be terminated and replaced."},"stopTimeout":{"description":"#### The time (in seconds) to wait before forcefully killing the container if it doesn't shut down gracefully.\n\n---\n\nWhen a container is stopped, it first receives a `SIGTERM` signal. If it doesn't exit within this timeout, it will be sent a `SIGKILL` signal.\nThis allows for graceful shutdown procedures. The timeout must be between 2 and 120 seconds.","default":2,"type":"number"},"volumeMounts":{"description":"#### A list of file system volumes to mount to the container.\n\n---\n\nVolumes provide persistent storage that can be shared across multiple containers and persists even if the container is stopped or replaced.\nCurrently, only EFS (Elastic File System) volumes are supported.","type":"array","items":{"$ref":"#/definitions/ContainerEfsMount"}}},"additionalProperties":false,"required":["containerType","name","packaging"]},"PrivateService":{"description":"#### Private Service\n\n---\n\nA continuously running container with a private endpoint that is only accessible from within your private network (VPC).\nIt provides an easy setup for scaling, health checks, and other properties.","type":"object","properties":{"type":{"type":"string","const":"private-service"},"properties":{"$ref":"#/definitions/PrivateServiceProps"},"overrides":{"description":"#### Resource Overrides\n\n---\n\nOverrides properties of the underlying CloudFormation resources that Stacktape creates.\n\nChild resources are identified by their CloudFormation logical ID (e.g., `MyBucketBucket`). You can find these IDs by running `stacktape stack:info --detailed`.\n\nFor a list of properties that can be overridden, refer to the [AWS CloudFormation documentation](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html).","type":"object","additionalProperties":{"type":"object","additionalProperties":{}}}},"additionalProperties":false,"required":["properties","type"]},"PrivateServiceProps":{"type":"object","properties":{"port":{"description":"#### The port on which the service is available to other resources in the stack.\n\n---\n\nThe port is injected into the container's runtime as the `PORT` environment variable.\n\n> If `loadBalancing` is set to `service-connect` (the default), connections are only possible from other container-based resources (e.g., web services, worker services, multi-container workloads).","default":3000,"type":"number"},"protocol":{"description":"#### The Service Connect protocol type.\n\n---\n\nIf you specify this parameter, AWS is able to capture protocol-specific metrics for the service (e.g., HTTP 5xx responses).","enum":["grpc","http","http2"],"type":"string"},"loadBalancing":{"$ref":"#/definitions/PrivateServiceLoadBalancing","description":"#### Configures the load balancing mechanism to use.\n\n---\n\nSupported types are `service-connect` and `application-load-balancer`.\n\n- **`service-connect`**:\n  - Distributes traffic evenly to available containers.\n  - Connections are only possible from other container-based resources in the stack.\n  - Supports any TCP protocol.\n  - This option is significantly cheaper, costing only ~$0.50 per month for a private Cloud Map DNS namespace.\n\n- **`application-load-balancer`**:\n  - Distributes traffic to available containers in a round-robin fashion.\n  - Supports the HTTP protocol only.\n  - Uses a pricing model that combines a flat hourly charge (~$0.0252/hour) with usage-based charges for LCUs (Load Balancer Capacity Units) (~$0.08/hour).\n  - Eligible for the AWS Free Tier. For more details, see the [AWS pricing documentation](https://aws.amazon.com/elasticloadbalancing/pricing/).","default":"service-connect"},"packaging":{"$ref":"#/definitions/ContainerWorkloadContainerPackaging","description":"#### Container Packaging\n\n---\n\nConfigures the container image for the service."},"environment":{"description":"#### Environment Variables\n\n---\n\nA list of environment variables to inject into the container at runtime. This is often used to provide configuration details, such as database URLs or secrets.","type":"array","items":{"$ref":"#/definitions/EnvironmentVar"}},"logging":{"$ref":"#/definitions/ContainerWorkloadContainerLogging","description":"#### Logging Configuration\n\n---\n\nConfigures the logging behavior for the service container.\n\nContainer logs (from `stdout` and `stderr`) are automatically sent to a CloudWatch log group and retained for 180 days by default. You can view logs in the AWS CloudWatch console or by using the [`stacktape logs` command](https://docs.stacktape.com/cli/commands/logs/)."},"resources":{"$ref":"#/definitions/ContainerWorkloadResourcesConfig","description":"#### Resource Allocation\n\n---\n\nConfigures the CPU, memory, and underlying compute engine for the service container.\n\nYou can choose between two compute engines:\n- **Fargate:** A serverless engine that abstracts away server management. To use Fargate, specify `cpu` and `memory` without `instanceTypes`.\n- **EC2:** Provides direct control over the underlying virtual servers. To use EC2, specify the desired `instanceTypes`."},"scaling":{"$ref":"#/definitions/ContainerWorkloadScaling","description":"#### Scaling Configuration\n\n---\n\nConfigures horizontal scaling by adding or removing container instances based on demand. Incoming requests are automatically distributed across all available containers."},"internalHealthCheck":{"$ref":"#/definitions/ContainerHealthCheck","description":"#### Internal Health Check\n\n---\n\nConfigures an internal health check to monitor the container's status. If a container fails the health check, it is automatically terminated and replaced with a new one."},"stopTimeout":{"description":"#### Stop Timeout\n\n---\n\nThe amount of time (in seconds) to wait before a container is forcefully killed if it does not exit gracefully.\n\nWhen a container is stopped, it receives a `SIGTERM` signal. If it doesn't exit within the timeout period, it receives a `SIGKILL` signal. This allows for graceful shutdown and cleanup. The timeout must be between 2 and 120 seconds.","default":2,"type":"number"},"enableRemoteSessions":{"description":"#### Enable Remote Sessions\n\n---\n\nIf `true`, allows you to start an interactive shell session inside a running container using the `stacktape container:session` command.\n\nThis uses AWS ECS Exec and SSM Session Manager for secure connections. It runs a small agent alongside your application, which consumes a minimal amount of CPU and memory. This is useful for debugging and inspecting deployed containers.","default":false,"type":"boolean"},"volumeMounts":{"description":"#### Volume Mounts\n\n---\n\nA list of volumes to attach to the container for persistent storage.\n\nCurrently, only EFS (Elastic File System) volumes are supported. Volumes can be shared across multiple containers and persist even if the container is stopped or replaced.","type":"array","items":{"$ref":"#/definitions/ContainerEfsMount"}},"sideContainers":{"description":"#### Sidecar Containers\n\n---\n\nA list of helper containers that run alongside the main service container to provide additional functionality.\n\n- **`run-on-init`:** Runs to completion before the main service container starts. Ideal for setup tasks like database migrations.\n- **`always-running`:** Runs for the entire lifecycle of the service container. Ideal for supporting services like logging, monitoring, or debugging agents.\n\n`always-running` containers can communicate with the main container via `localhost` on its exposed ports.","type":"array","items":{"$ref":"#/definitions/ServiceHelperContainer"}},"usePrivateSubnetsWithNAT":{"description":"#### Deploys the service in private subnets with internet access through NAT Gateway.\n\n---\n\nWhen the service is in a private subnet, it does not have public IP and direct internet access.\nInstead, all outbound internet traffic is routed through a NAT Gateway.\n\nYou can assign a static public IP address to the NAT Gateway and configure high availability using `stackConfig.vpcSettings`.\nThis allows you to whitelist your service's IP address in external services (e.g., third-party APIs, databases, payment gateways).\n\n**Cost considerations:**\n- NAT Gateways incur additional AWS charges for both the gateway itself and data processing","default":false,"type":"boolean"},"connectTo":{"description":"#### Connect To\n\n---\n\nConfigures access to other resources in your stack and AWS services. By specifying resources here, Stacktape automatically:\n- Configures IAM role permissions.\n- Sets up security group rules to allow network traffic.\n- Injects environment variables with connection details into the compute resource.\n\nEnvironment variables are named `STP_[RESOURCE_NAME]_[VARIABLE_NAME]` (e.g., `STP_MY_DATABASE_CONNECTION_STRING`).\n\n---\n\n#### Granted Permissions and Injected Variables:\n\n**`Bucket`**\n- **Permissions:** List, create, get, delete, and tag objects.\n- **Variables:** `NAME`, `ARN`\n\n**`DynamoDbTable`**\n- **Permissions:** Get, put, update, delete, scan, and query items; describe table stream.\n- **Variables:** `NAME`, `ARN`, `STREAM_ARN`\n\n**`MongoDbAtlasCluster`**\n- **Permissions:** Allows connection to clusters with `accessibilityMode` set to `scoping-workloads-in-vpc`. Creates a temporary user for secure, credential-less access.\n- **Variables:** `CONNECTION_STRING`\n\n**`RelationalDatabase`**\n- **Permissions:** Allows connection to databases with `accessibilityMode` set to `scoping-workloads-in-vpc`.\n- **Variables:** `CONNECTION_STRING`, `JDBC_CONNECTION_STRING`, `HOST`, `PORT`. For Aurora clusters, `READER_CONNECTION_STRING`, `READER_JDBC_CONNECTION_STRING`, and `READER_HOST` are also included.\n\n**`RedisCluster`**\n- **Permissions:** Allows connection to clusters with `accessibilityMode` set to `scoping-workloads-in-vpc`.\n- **Variables:** `HOST`, `READER_HOST`, `PORT`\n\n**`EventBus`**\n- **Permissions:** Publish events.\n- **Variables:** `ARN`\n\n**`Function`**\n- **Permissions:** Invoke the function, including via its URL if enabled.\n- **Variables:** `ARN`\n\n**`BatchJob`**\n- **Permissions:** Submit, list, describe, and terminate jobs; manage state machine executions.\n- **Variables:** `JOB_DEFINITION_ARN`, `STATE_MACHINE_ARN`\n\n**`UserAuthPool`**\n- **Permissions:** Full control over the user pool (`cognito-idp:*`).\n- **Variables:** `ID`, `CLIENT_ID`, `ARN`\n\n**`SnsTopic`**\n- **Permissions:** Confirm, list, publish, and manage subscriptions.\n- **Variables:** `ARN`, `NAME`\n\n**`SqsQueue`**\n- **Permissions:** Send, receive, delete, and purge messages.\n- **Variables:** `ARN`, `NAME`, `URL`\n\n**`UpstashKafkaTopic`**\n- **Variables:** `TOPIC_NAME`, `TOPIC_ID`, `USERNAME`, `PASSWORD`, `TCP_ENDPOINT`, `REST_URL`\n\n**`UpstashRedis`**\n- **Variables:** `HOST`, `PORT`, `PASSWORD`, `REST_TOKEN`, `REST_URL`, `REDIS_URL`\n\n**`PrivateService`**\n- **Variables:** `ADDRESS`\n\n**`aws:ses` (Macro)**\n- **Permissions:** Full permissions for AWS SES (`ses:*`).","type":"array","items":{"type":"string"}},"iamRoleStatements":{"description":"#### Custom IAM Role Statements\n\n---\n\nA list of raw AWS IAM role statements to append to the resource's role, allowing for fine-grained permission control.","type":"array","items":{"$ref":"#/definitions/StpIamRoleStatement"}}},"additionalProperties":false,"required":["packaging","resources"]},"PrivateServiceLoadBalancing":{"type":"object","properties":{"type":{"enum":["application-load-balancer","service-connect"],"type":"string"}},"additionalProperties":false,"required":["type"]},"WorkerService":{"description":"#### Worker Service\n\n---\n\nA continuously running container that is inaccessible from the internet.\nIdeal for background jobs and processing tasks.","type":"object","properties":{"type":{"type":"string","const":"worker-service"},"properties":{"$ref":"#/definitions/WorkerServiceProps"},"overrides":{"description":"#### Resource Overrides\n\n---\n\nOverrides properties of the underlying CloudFormation resources that Stacktape creates.\n\nChild resources are identified by their CloudFormation logical ID (e.g., `MyBucketBucket`). You can find these IDs by running `stacktape stack:info --detailed`.\n\nFor a list of properties that can be overridden, refer to the [AWS CloudFormation documentation](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html).","type":"object","additionalProperties":{"type":"object","additionalProperties":{}}}},"additionalProperties":false,"required":["properties","type"]},"WorkerServiceProps":{"type":"object","properties":{"packaging":{"$ref":"#/definitions/ContainerWorkloadContainerPackaging","description":"#### Container Packaging\n\n---\n\nConfigures the container image for the service."},"environment":{"description":"#### Environment Variables\n\n---\n\nA list of environment variables to inject into the container at runtime. This is often used to provide configuration details, such as database URLs or secrets.","type":"array","items":{"$ref":"#/definitions/EnvironmentVar"}},"logging":{"$ref":"#/definitions/ContainerWorkloadContainerLogging","description":"#### Logging Configuration\n\n---\n\nConfigures the logging behavior for the service container.\n\nContainer logs (from `stdout` and `stderr`) are automatically sent to a CloudWatch log group and retained for 180 days by default. You can view logs in the AWS CloudWatch console or by using the [`stacktape logs` command](https://docs.stacktape.com/cli/commands/logs/)."},"resources":{"$ref":"#/definitions/ContainerWorkloadResourcesConfig","description":"#### Resource Allocation\n\n---\n\nConfigures the CPU, memory, and underlying compute engine for the service container.\n\nYou can choose between two compute engines:\n- **Fargate:** A serverless engine that abstracts away server management. To use Fargate, specify `cpu` and `memory` without `instanceTypes`.\n- **EC2:** Provides direct control over the underlying virtual servers. To use EC2, specify the desired `instanceTypes`."},"scaling":{"$ref":"#/definitions/ContainerWorkloadScaling","description":"#### Scaling Configuration\n\n---\n\nConfigures horizontal scaling by adding or removing container instances based on demand. Incoming requests are automatically distributed across all available containers."},"internalHealthCheck":{"$ref":"#/definitions/ContainerHealthCheck","description":"#### Internal Health Check\n\n---\n\nConfigures an internal health check to monitor the container's status. If a container fails the health check, it is automatically terminated and replaced with a new one."},"stopTimeout":{"description":"#### Stop Timeout\n\n---\n\nThe amount of time (in seconds) to wait before a container is forcefully killed if it does not exit gracefully.\n\nWhen a container is stopped, it receives a `SIGTERM` signal. If it doesn't exit within the timeout period, it receives a `SIGKILL` signal. This allows for graceful shutdown and cleanup. The timeout must be between 2 and 120 seconds.","default":2,"type":"number"},"enableRemoteSessions":{"description":"#### Enable Remote Sessions\n\n---\n\nIf `true`, allows you to start an interactive shell session inside a running container using the `stacktape container:session` command.\n\nThis uses AWS ECS Exec and SSM Session Manager for secure connections. It runs a small agent alongside your application, which consumes a minimal amount of CPU and memory. This is useful for debugging and inspecting deployed containers.","default":false,"type":"boolean"},"volumeMounts":{"description":"#### Volume Mounts\n\n---\n\nA list of volumes to attach to the container for persistent storage.\n\nCurrently, only EFS (Elastic File System) volumes are supported. Volumes can be shared across multiple containers and persist even if the container is stopped or replaced.","type":"array","items":{"$ref":"#/definitions/ContainerEfsMount"}},"sideContainers":{"description":"#### Sidecar Containers\n\n---\n\nA list of helper containers that run alongside the main service container to provide additional functionality.\n\n- **`run-on-init`:** Runs to completion before the main service container starts. Ideal for setup tasks like database migrations.\n- **`always-running`:** Runs for the entire lifecycle of the service container. Ideal for supporting services like logging, monitoring, or debugging agents.\n\n`always-running` containers can communicate with the main container via `localhost` on its exposed ports.","type":"array","items":{"$ref":"#/definitions/ServiceHelperContainer"}},"usePrivateSubnetsWithNAT":{"description":"#### Deploys the service in private subnets with internet access through NAT Gateway.\n\n---\n\nWhen the service is in a private subnet, it does not have public IP and direct internet access.\nInstead, all outbound internet traffic is routed through a NAT Gateway.\n\nYou can assign a static public IP address to the NAT Gateway and configure high availability using `stackConfig.vpcSettings`.\nThis allows you to whitelist your service's IP address in external services (e.g., third-party APIs, databases, payment gateways).\n\n**Cost considerations:**\n- NAT Gateways incur additional AWS charges for both the gateway itself and data processing","default":false,"type":"boolean"},"connectTo":{"description":"#### Connect To\n\n---\n\nConfigures access to other resources in your stack and AWS services. By specifying resources here, Stacktape automatically:\n- Configures IAM role permissions.\n- Sets up security group rules to allow network traffic.\n- Injects environment variables with connection details into the compute resource.\n\nEnvironment variables are named `STP_[RESOURCE_NAME]_[VARIABLE_NAME]` (e.g., `STP_MY_DATABASE_CONNECTION_STRING`).\n\n---\n\n#### Granted Permissions and Injected Variables:\n\n**`Bucket`**\n- **Permissions:** List, create, get, delete, and tag objects.\n- **Variables:** `NAME`, `ARN`\n\n**`DynamoDbTable`**\n- **Permissions:** Get, put, update, delete, scan, and query items; describe table stream.\n- **Variables:** `NAME`, `ARN`, `STREAM_ARN`\n\n**`MongoDbAtlasCluster`**\n- **Permissions:** Allows connection to clusters with `accessibilityMode` set to `scoping-workloads-in-vpc`. Creates a temporary user for secure, credential-less access.\n- **Variables:** `CONNECTION_STRING`\n\n**`RelationalDatabase`**\n- **Permissions:** Allows connection to databases with `accessibilityMode` set to `scoping-workloads-in-vpc`.\n- **Variables:** `CONNECTION_STRING`, `JDBC_CONNECTION_STRING`, `HOST`, `PORT`. For Aurora clusters, `READER_CONNECTION_STRING`, `READER_JDBC_CONNECTION_STRING`, and `READER_HOST` are also included.\n\n**`RedisCluster`**\n- **Permissions:** Allows connection to clusters with `accessibilityMode` set to `scoping-workloads-in-vpc`.\n- **Variables:** `HOST`, `READER_HOST`, `PORT`\n\n**`EventBus`**\n- **Permissions:** Publish events.\n- **Variables:** `ARN`\n\n**`Function`**\n- **Permissions:** Invoke the function, including via its URL if enabled.\n- **Variables:** `ARN`\n\n**`BatchJob`**\n- **Permissions:** Submit, list, describe, and terminate jobs; manage state machine executions.\n- **Variables:** `JOB_DEFINITION_ARN`, `STATE_MACHINE_ARN`\n\n**`UserAuthPool`**\n- **Permissions:** Full control over the user pool (`cognito-idp:*`).\n- **Variables:** `ID`, `CLIENT_ID`, `ARN`\n\n**`SnsTopic`**\n- **Permissions:** Confirm, list, publish, and manage subscriptions.\n- **Variables:** `ARN`, `NAME`\n\n**`SqsQueue`**\n- **Permissions:** Send, receive, delete, and purge messages.\n- **Variables:** `ARN`, `NAME`, `URL`\n\n**`UpstashKafkaTopic`**\n- **Variables:** `TOPIC_NAME`, `TOPIC_ID`, `USERNAME`, `PASSWORD`, `TCP_ENDPOINT`, `REST_URL`\n\n**`UpstashRedis`**\n- **Variables:** `HOST`, `PORT`, `PASSWORD`, `REST_TOKEN`, `REST_URL`, `REDIS_URL`\n\n**`PrivateService`**\n- **Variables:** `ADDRESS`\n\n**`aws:ses` (Macro)**\n- **Permissions:** Full permissions for AWS SES (`ses:*`).","type":"array","items":{"type":"string"}},"iamRoleStatements":{"description":"#### Custom IAM Role Statements\n\n---\n\nA list of raw AWS IAM role statements to append to the resource's role, allowing for fine-grained permission control.","type":"array","items":{"$ref":"#/definitions/StpIamRoleStatement"}}},"additionalProperties":false,"required":["packaging","resources"]},"RelationalDatabase":{"description":"#### A fully managed relational (SQL) database resource.\n\n---\n\nSupports various database engines like PostgreSQL, MySQL, and MariaDB, with features like clustering and high availability.","type":"object","properties":{"type":{"type":"string","const":"relational-database"},"properties":{"$ref":"#/definitions/RelationalDatabaseProps"},"overrides":{"description":"#### Resource Overrides\n\n---\n\nOverrides properties of the underlying CloudFormation resources that Stacktape creates.\n\nChild resources are identified by their CloudFormation logical ID (e.g., `MyBucketBucket`). You can find these IDs by running `stacktape stack:info --detailed`.\n\nFor a list of properties that can be overridden, refer to the [AWS CloudFormation documentation](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html).","type":"object","additionalProperties":{"type":"object","additionalProperties":{}}}},"additionalProperties":false,"required":["properties","type"]},"RelationalDatabaseProps":{"type":"object","properties":{"credentials":{"$ref":"#/definitions/RelationalDatabaseCredentials","description":"#### Configures the credentials for the database's master user.\n\n---\n\nThese credentials are used to connect to the database and are included in the connection string."},"engine":{"description":"#### Configures the database engine.\n\n---\n\nThe engine determines the database type (e.g., PostgreSQL, MySQL), performance characteristics, and features like high availability and scaling.\n\nStacktape supports several engine types:\n\n- **RDS Engines**: Fully managed, single-node databases (e.g., `postgres`, `mysql`). Ideal for standard workloads.\n- **Aurora Engines**: High-performance, highly available clustered databases developed by AWS (e.g., `aurora-postgresql`, `aurora-mysql`).\n- **Aurora Serverless V2 Engines**: A serverless version of Aurora that automatically scales compute capacity based on demand (e.g., `aurora-postgresql-serverless-v2`). This is the recommended serverless option.\n\nFor more details on each engine, see the [AWS documentation](https://aws.amazon.com/rds/).","anyOf":[{"$ref":"#/definitions/AuroraEngine"},{"$ref":"#/definitions/AuroraServerlessEngine"},{"$ref":"#/definitions/AuroraServerlessV2Engine"},{"$ref":"#/definitions/RdsEngine"}]},"accessibility":{"$ref":"#/definitions/DatabaseAccessibility","description":"#### Configures the network accessibility of the database.\n\n---\n\nBy default, the database is accessible from the internet (but still protected by credentials).\nYou can restrict access to a VPC, specific IP addresses, or only to other resources within your stack."},"deletionProtection":{"description":"#### Protects the database from accidental deletion.\n\n---\n\nIf enabled, you must explicitly disable this protection before you can delete the database.","default":false,"type":"boolean"},"automatedBackupRetentionDays":{"description":"#### The number of days to retain automated backups.\n\n---\n\nAutomated backups are taken daily. You can retain them for up to 35 days.\nTo disable automated backups for RDS engines, set this to 0.\nThis setting does not affect manual snapshots.","default":1,"type":"number"},"preferredMaintenanceWindow":{"description":"#### The preferred time window for database maintenance.\n\n---\n\nMaintenance activities, such as OS patching or engine upgrades, will be performed during this window.\nThe database may be briefly unavailable during maintenance. To avoid downtime, use a multi-AZ deployment or an Aurora engine.\n\nThe format is `day:start_time-day:end_time` in UTC (e.g., `Sun:02:00-Sun:04:00`).\nBy default, the maintenance window is set to a region-specific time on Sundays.","type":"string"},"alarms":{"description":"#### A list of additional alarms to associate with this database.\n\n---\n\nThese alarms are merged with any globally configured alarms from the Stacktape console.","type":"array","items":{"$ref":"#/definitions/RelationalDatabaseAlarm"}},"disabledGlobalAlarms":{"description":"#### A list of global alarm names to disable for this database.\n\n---\n\nUse this to prevent specific globally-defined alarms from applying to this database.","type":"array","items":{"type":"string"}},"logging":{"$ref":"#/definitions/RelationalDatabaseLogging","description":"#### Configures logging for the database.\n\n---\n\nBy default, logs are enabled and retained for 90 days.\nThe available log types depend on the database engine. You can log connections, queries, errors, and more."},"dev":{"$ref":"#/definitions/DevModeConfig","description":"#### Dev Mode Configuration\n\n---\n\nConfigures how this database behaves during `stacktape dev` mode.\nBy default, databases run locally using Docker. Set `dev.remote: true` to connect to the deployed AWS database instead."}},"additionalProperties":false,"required":["credentials","engine"]},"RelationalDatabaseCredentials":{"type":"object","properties":{"masterUserName":{"description":"#### The username for the database's master user.\n\n---\n\nThis user will have administrative privileges for the database.\nAvoid using the following characters in the username: `[]{}(),;?*=!@`.\n\n> Changing this value after the database has been created will cause the database to be replaced, resulting in data loss.","default":"db_master_user","type":"string"},"masterUserPassword":{"description":"#### The password for the database's master user.\n\n---\n\nAvoid using the following characters in the password: `[]{}(),;?*=!@`.\n\n> **Recommendation:** Store the password in a [Stacktape secret](https://docs.stacktape.com/security-resources/secrets/) and reference it using the `$Secret` directive to avoid exposing it in your configuration file.","type":"string"}},"additionalProperties":false,"required":["masterUserPassword"]},"AuroraEngine":{"description":"#### A high-performance Aurora clustered database engine.\n\n---\n\nAurora is a fully managed, MySQL and PostgreSQL-compatible database developed by AWS.\nIt offers up to 5x the throughput of standard MySQL and 3x the throughput of standard PostgreSQL.\n\nAurora automatically replicates data across multiple Availability Zones for high availability\nand provides automatic failover with read replicas.","type":"object","properties":{"type":{"enum":["aurora-mysql","aurora-postgresql"],"type":"string"},"properties":{"$ref":"#/definitions/AuroraEngineProperties"}},"additionalProperties":false,"required":["properties","type"]},"AuroraEngineProperties":{"type":"object","properties":{"dbName":{"description":"#### The name of the initial database to create.","default":"defdb","type":"string"},"port":{"description":"#### The port on which the database will listen for connections.\n\n---\n\n- `aurora-mysql`: 3306\n- `aurora-postgresql`: 5432","type":"number"},"instances":{"description":"#### A list of database instances in the Aurora cluster.\n\n---\n\nThe first instance in the list is the primary (writer) instance. The rest are read replicas.\nRead requests are automatically load-balanced across all instances.\nIf the primary instance fails, a read replica is automatically promoted to be the new primary.","type":"array","items":{"$ref":"#/definitions/AuroraEngineInstance"}},"version":{"description":"#### The version of the database engine.\n\n---\n\nEach engine type supports a specific set of versions.\nFor a full list, see the [Stacktape documentation](https://docs.stacktape.com/database-resources/relational-databases/#engine-version).","type":"string"},"disableAutoMinorVersionUpgrade":{"description":"#### Specifies whether minor engine upgrades should be applied automatically.","default":false,"type":"boolean"}},"additionalProperties":false,"required":["instances","version"]},"AuroraEngineInstance":{"type":"object","properties":{"instanceSize":{"description":"#### The instance size for the database.\n\n---\n\nThis determines the CPU, memory, and networking capacity of the database instance.\nFor a list of available instance sizes, see the [AWS Aurora pricing documentation](https://aws.amazon.com/rds/aurora/pricing/#Database%20Instances).\n\n> **Note:** Not all instance sizes are available for all engines, versions, and regions.\n> Some instance families (like `t3` or `t4`) are intended for development and testing, not production workloads.","type":"string"}},"additionalProperties":false,"required":["instanceSize"]},"AuroraServerlessEngine":{"description":"#### An Aurora Serverless v1 database engine.\n\n---\n\nAurora Serverless v1 automatically scales compute capacity based on your application's needs.\nIt can pause during periods of inactivity and resume when traffic arrives, making it cost-effective\nfor variable or unpredictable workloads.\n\n**Note:** For new projects, consider using Aurora Serverless v2 which offers better scaling.","type":"object","properties":{"type":{"enum":["aurora-mysql-serverless","aurora-postgresql-serverless"],"type":"string"},"properties":{"$ref":"#/definitions/AuroraServerlessEngineProperties"}},"additionalProperties":false,"required":["type"]},"AuroraServerlessEngineProperties":{"type":"object","properties":{"version":{"description":"#### The version of the database engine.\n\n---\n\nFor serverless engines, you typically don't need to specify this, as AWS manages the version.\nFor a list of supported versions, see the [Stacktape documentation](https://docs.stacktape.com/database-resources/relational-databases/#engine-version).","type":"string"},"dbName":{"description":"#### The name of the initial database to create.","default":"defdb","type":"string"},"minCapacity":{"description":"#### The minimum number of Aurora Capacity Units (ACUs) for the database to scale down to.\n\n---\n\nEach ACU provides approximately 2 GB of memory and corresponding CPU and networking.\n\n**Allowed values:**\n- `aurora-mysql-serverless`: 1, 2, 4, 8, 16, 32, 64, 128, 256\n- `aurora-postgresql-serverless`: 2, 4, 8, 16, 32, 64, 128, 256","default":2,"type":"number"},"maxCapacity":{"description":"#### The maximum number of Aurora Capacity Units (ACUs) for the database to scale up to.\n\n---\n\n**Allowed values:**\n- `aurora-mysql-serverless`: 1, 2, 4, 8, 16, 32, 64, 128, 256\n- `aurora-postgresql-serverless`: 2, 4, 8, 16, 32, 64, 128, 256","default":4,"type":"number"},"pauseAfterSeconds":{"description":"#### The time (in seconds) of inactivity before the serverless database is paused.\n\n---\n\nThe database is considered inactive if there are no active connections.\nWhen paused, you are only charged for storage.\n\nThe value must be between 300 (5 minutes) and 86400 (24 hours). If not set, the database is never paused.","type":"number"},"disableAutoMinorVersionUpgrade":{"description":"#### Specifies whether minor engine upgrades should be applied automatically.","default":false,"type":"boolean"}},"additionalProperties":false},"AuroraServerlessV2Engine":{"description":"#### An Aurora Serverless v2 database engine (recommended serverless option).\n\n---\n\nAurora Serverless v2 provides instant, fine-grained scaling from 0.5 to 128 ACUs.\nIt scales in increments as small as 0.5 ACUs for more precise capacity matching.\n\nThis is the recommended serverless engine for most use cases, offering better performance\nand more granular scaling than v1.","type":"object","properties":{"type":{"enum":["aurora-mysql-serverless-v2","aurora-postgresql-serverless-v2"],"type":"string"},"properties":{"$ref":"#/definitions/AuroraServerlessV2EngineProperties"}},"additionalProperties":false,"required":["properties","type"]},"AuroraServerlessV2EngineProperties":{"type":"object","properties":{"dbName":{"description":"#### The name of the initial database to create.","default":"defdb","type":"string"},"minCapacity":{"description":"#### The minimum number of Aurora Capacity Units (ACUs) for the database to scale down to.\n\n---\n\nEach ACU provides approximately 2 GB of memory and corresponding CPU and networking.\n\n**Allowed values:**\n- `aurora-mysql-serverless-v2`: 0.5-128 (in 0.5 increments)\n- `aurora-postgresql-serverless-v2`: 0.5-128 (in 0.5 increments)","default":0.5,"type":"number"},"maxCapacity":{"description":"#### The maximum number of Aurora Capacity Units (ACUs) for the database to scale up to.\n\n---\n\n**Allowed values:**\n- `aurora-mysql-serverless-v2`: 0.5-128 (in 0.5 increments)\n- `aurora-postgresql-serverless-v2`: 0.5-128 (in 0.5 increments)","default":10,"type":"number"},"version":{"description":"#### The version of the database engine.\n\n---\n\nEach engine type supports a specific set of versions.\nFor a full list, see the [Stacktape documentation](https://docs.stacktape.com/database-resources/relational-databases/#engine-version).","type":"string"},"disableAutoMinorVersionUpgrade":{"description":"#### Specifies whether minor engine upgrades should be applied automatically.","default":false,"type":"boolean"}},"additionalProperties":false,"required":["version"]},"RdsEngine":{"description":"#### A standard RDS single-instance database engine.\n\n---\n\nRDS engines are fully managed, single-node databases ideal for standard workloads.\nSupported engines include PostgreSQL, MySQL, MariaDB, Oracle, and SQL Server.\n\nRDS handles routine database tasks such as provisioning, patching, backup, recovery,\nand failure detection. For high availability, enable multi-AZ deployment.","type":"object","properties":{"type":{"enum":["mariadb","mysql","oracle-ee","oracle-se2","postgres","sqlserver-ee","sqlserver-ex","sqlserver-se","sqlserver-web"],"type":"string"},"properties":{"$ref":"#/definitions/RdsEngineProperties"}},"additionalProperties":false,"required":["properties","type"]},"RdsEngineProperties":{"type":"object","properties":{"dbName":{"description":"#### The name of the initial database to create in the cluster.\n\n---\n\nThe behavior of this property depends on the engine:\n- For MySQL, MariaDB, and PostgreSQL, this is the name of the database created on initialization. If not specified, a default database is created.\n- For Oracle, this is the System ID (SID) of the database instance.\n- For SQL Server, this property is not applicable.","type":"string"},"port":{"description":"#### The port on which the database server will listen for connections.\n\n---\n\nDefault ports vary by engine:\n- MySQL/MariaDB: 3306\n- PostgreSQL: 5432\n- Oracle: 1521\n- SQL Server: 1433","type":"number"},"storage":{"$ref":"#/definitions/RdsEngineStorage","description":"#### Configures storage for the database.\n\n---\n\nStorage will automatically scale up when free space is low.\nFor more details on storage autoscaling, see the [AWS documentation](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_PIOPS.StorageTypes.html#USER_PIOPS.Autoscaling)."},"primaryInstance":{"$ref":"#/definitions/RdsEnginePrimaryInstance","description":"#### Configures the primary database instance.\n\n---\n\nThe primary instance handles all write operations. You can specify its size and enable multi-AZ deployment for high availability."},"readReplicas":{"description":"#### A list of read replicas for the primary instance.\n\n---\n\nRead replicas can handle read-only traffic to reduce the load on the primary instance.\nThey are kept in sync with the primary through asynchronous replication.\nEach read replica has its own endpoint.","type":"array","items":{"$ref":"#/definitions/RdsEngineReadReplica"}},"version":{"description":"#### The version of the database engine.\n\n---\n\nEach engine type supports a specific set of versions.\nFor a full list, see the [Stacktape documentation](https://docs.stacktape.com/database-resources/relational-databases/#engine-version).","type":"string"},"disableAutoMinorVersionUpgrade":{"description":"#### Specifies whether minor engine upgrades should be applied automatically.","default":false,"type":"boolean"}},"additionalProperties":false,"required":["primaryInstance","version"]},"RdsEngineStorage":{"type":"object","properties":{"initialSize":{"description":"#### The initial storage size (in GB) for the database.","default":20,"type":"number"},"maxSize":{"description":"#### The maximum storage size (in GB) that the database can scale up to.","default":200,"type":"number"}},"additionalProperties":false},"RdsEnginePrimaryInstance":{"type":"object","properties":{"instanceSize":{"description":"#### The instance size for the database.\n\n---\n\nThis determines the CPU, memory, and networking capacity of the database instance.\nFor a list of available instance sizes, see the [AWS RDS instance types documentation](https://aws.amazon.com/rds/instance-types/).\n\n> **Note:** Not all instance sizes are available for all engines, versions, and regions.\n> Some instance families (like `t3` or `t4`) are intended for development and testing, not production workloads.","type":"string"},"multiAz":{"description":"#### Specifies whether the database should be deployed across multiple Availability Zones (AZs) for high availability.\n\n---\n\nWhen enabled, a standby replica is created in a different AZ. If the primary instance fails, traffic is automatically failed over to the standby.\nThis also minimizes downtime during maintenance.","type":"boolean"}},"additionalProperties":false,"required":["instanceSize"]},"RdsEngineReadReplica":{"type":"object","properties":{"instanceSize":{"description":"#### The instance size for the database.\n\n---\n\nThis determines the CPU, memory, and networking capacity of the database instance.\nFor a list of available instance sizes, see the [AWS RDS instance types documentation](https://aws.amazon.com/rds/instance-types/).\n\n> **Note:** Not all instance sizes are available for all engines, versions, and regions.\n> Some instance families (like `t3` or `t4`) are intended for development and testing, not production workloads.","type":"string"},"multiAz":{"description":"#### Specifies whether the database should be deployed across multiple Availability Zones (AZs) for high availability.\n\n---\n\nWhen enabled, a standby replica is created in a different AZ. If the primary instance fails, traffic is automatically failed over to the standby.\nThis also minimizes downtime during maintenance.","type":"boolean"}},"additionalProperties":false,"required":["instanceSize"]},"DatabaseAccessibility":{"type":"object","properties":{"accessibilityMode":{"description":"#### The accessibility mode for the database.\n\n---\n\n- **internet**: The database is accessible from anywhere on the internet.\n- **vpc**: The database is only accessible from within the same VPC. You can optionally whitelist external IPs.\n- **scoping-workloads-in-vpc**: Similar to `vpc` mode, but requires explicit `connectTo` permissions for other resources in the stack to access the database.\n- **whitelisted-ips-only**: The database is only accessible from a specific list of IP addresses.\n\n> **Note:** Aurora Serverless engines do not support public accessibility. You must use `vpc` or `scoping-workloads-in-vpc` and connect via a bastion host or the Data API.\n\nFor more information on VPCs, see the [Stacktape VPCs documentation](https://docs.stacktape.com/user-guides/vpcs/).","default":"internet","enum":["internet","scoping-workloads-in-vpc","vpc","whitelisted-ips-only"],"type":"string"},"forceDisablePublicIp":{"description":"#### Disables public accessibility for the database endpoint.\n\n---\n\nThis ensures that the database can only be accessed from within its VPC, providing an additional layer of isolation.\n\n> For Aurora engines, this property can only be set when the database is created and cannot be changed later.","type":"boolean"},"whitelistedIps":{"description":"#### A list of IP addresses or CIDR ranges to allow access from.\n\n---\n\n- In `vpc` and `scoping-workloads-in-vpc` modes, this allows access from outside the VPC (e.g., an office IP).\n- In `whitelisted-ips-only` mode, only these addresses can access the database.\n- This has no effect in `internet` mode.","type":"array","items":{"type":"string"}}},"additionalProperties":false,"required":["accessibilityMode"]},"RelationalDatabaseAlarm":{"type":"object","properties":{"trigger":{"$ref":"#/definitions/RelationalDatabaseAlarmTrigger"},"evaluation":{"$ref":"#/definitions/AlarmEvaluation","description":"#### Specifies the time window for evaluating the metric to determine if the alarm should be triggered.\n\n---\n\nDefines the duration and frequency of metric evaluation."},"notificationTargets":{"description":"#### Defines where to send notifications when the alarm is triggered.\n\n---\n\nYou can specify a list of integrations, such as Slack, MS Teams, or email.","type":"array","items":{"$ref":"#/definitions/AlarmUserIntegration"}},"description":{"description":"#### Custom description for the alarm\n---\n- If custom description is specified, it is used in the alarm notification message\n- Custom description is also used in the alarm description in the AWS console (If not provided, Stacktape generates default description.)","type":"string"}},"additionalProperties":false,"required":["trigger"]},"RelationalDatabaseAlarmTrigger":{"anyOf":[{"$ref":"#/definitions/RelationalDatabaseReadLatencyTrigger"},{"$ref":"#/definitions/RelationalDatabaseWriteLatencyTrigger"},{"$ref":"#/definitions/RelationalDatabaseCPUUtilizationTrigger"},{"$ref":"#/definitions/RelationalDatabaseFreeStorageTrigger"},{"$ref":"#/definitions/RelationalDatabaseFreeMemoryTrigger"},{"$ref":"#/definitions/RelationalDatabaseConnectionCountTrigger"}]},"RelationalDatabaseReadLatencyTrigger":{"type":"object","properties":{"type":{"type":"string","const":"database-read-latency"},"properties":{"$ref":"#/definitions/RelationalDatabaseReadLatencyTriggerProps"}},"additionalProperties":false,"required":["properties","type"]},"RelationalDatabaseReadLatencyTriggerProps":{"type":"object","properties":{"thresholdSeconds":{"description":"#### The read latency in seconds that triggers the alarm.\n\n---\n\nRead latency is the average amount of time taken for a read I/O operation.\nBy default, the alarm triggers if the **average** read latency over the evaluation period is **greater than** the `thresholdSeconds`.\nYou can customize the behavior using the `statistic` and `comparisonOperator` properties.","type":"number"},"comparisonOperator":{"$ref":"#/definitions/ComparisonOperator","description":"#### The arithmetic operation to use when comparing the specified statistic and threshold.\n\n---\n\nSupported operators:\n- `GreaterThanThreshold`\n- `GreaterThanOrEqualToThreshold`\n- `LessThanThreshold`\n- `LessThanOrEqualToThreshold`"},"statistic":{"$ref":"#/definitions/StatisticFunction","description":"#### The statistic to apply to the metric data points.\n\n---\n\nSupported statistics:\n- **avg**: The average of the metric values.\n- **sum**: The sum of the metric values.\n- **p90**: The 90th percentile. 90% of the data points are lower than this value.\n- **p95**: The 95th percentile. 95% of the data points are lower than this value.\n- **p99**: The 99th percentile. 99% of the data points are lower than this value.\n- **min**: The lowest value from the data points.\n- **max**: The highest value from the data points.","default":"avg"}},"additionalProperties":false,"required":["thresholdSeconds"]},"RelationalDatabaseWriteLatencyTrigger":{"type":"object","properties":{"type":{"type":"string","const":"database-write-latency"},"properties":{"$ref":"#/definitions/RelationalDatabaseWriteLatencyTriggerProps"}},"additionalProperties":false,"required":["properties","type"]},"RelationalDatabaseWriteLatencyTriggerProps":{"type":"object","properties":{"thresholdSeconds":{"description":"#### The write latency in seconds that triggers the alarm.\n\n---\n\nWrite latency is the average amount of time taken for a write I/O operation.\nBy default, the alarm triggers if the **average** write latency over the evaluation period is **greater than** the `thresholdSeconds`.\nYou can customize the behavior using the `statistic` and `comparisonOperator` properties.","type":"number"},"comparisonOperator":{"$ref":"#/definitions/ComparisonOperator","description":"#### The arithmetic operation to use when comparing the specified statistic and threshold.\n\n---\n\nSupported operators:\n- `GreaterThanThreshold`\n- `GreaterThanOrEqualToThreshold`\n- `LessThanThreshold`\n- `LessThanOrEqualToThreshold`"},"statistic":{"$ref":"#/definitions/StatisticFunction","description":"#### The statistic to apply to the metric data points.\n\n---\n\nSupported statistics:\n- **avg**: The average of the metric values.\n- **sum**: The sum of the metric values.\n- **p90**: The 90th percentile. 90% of the data points are lower than this value.\n- **p95**: The 95th percentile. 95% of the data points are lower than this value.\n- **p99**: The 99th percentile. 99% of the data points are lower than this value.\n- **min**: The lowest value from the data points.\n- **max**: The highest value from the data points.","default":"avg"}},"additionalProperties":false,"required":["thresholdSeconds"]},"RelationalDatabaseCPUUtilizationTrigger":{"type":"object","properties":{"type":{"type":"string","const":"database-cpu-utilization"},"properties":{"$ref":"#/definitions/RelationalDatabaseCPUUtilizationTriggerProps"}},"additionalProperties":false,"required":["properties","type"]},"RelationalDatabaseCPUUtilizationTriggerProps":{"type":"object","properties":{"thresholdPercent":{"description":"#### The CPU utilization percentage that triggers the alarm.\n\n---\n\nBy default, the alarm triggers if the **average** CPU utilization over the evaluation period is **greater than** the `thresholdPercent`.\nYou can customize the behavior using the `statistic` and `comparisonOperator` properties.","type":"number"},"comparisonOperator":{"$ref":"#/definitions/ComparisonOperator","description":"#### The arithmetic operation to use when comparing the specified statistic and threshold.\n\n---\n\nSupported operators:\n- `GreaterThanThreshold`\n- `GreaterThanOrEqualToThreshold`\n- `LessThanThreshold`\n- `LessThanOrEqualToThreshold`"},"statistic":{"$ref":"#/definitions/StatisticFunction","description":"#### The statistic to apply to the metric data points.\n\n---\n\nSupported statistics:\n- **avg**: The average of the metric values.\n- **sum**: The sum of the metric values.\n- **p90**: The 90th percentile. 90% of the data points are lower than this value.\n- **p95**: The 95th percentile. 95% of the data points are lower than this value.\n- **p99**: The 99th percentile. 99% of the data points are lower than this value.\n- **min**: The lowest value from the data points.\n- **max**: The highest value from the data points.","default":"avg"}},"additionalProperties":false,"required":["thresholdPercent"]},"RelationalDatabaseFreeStorageTrigger":{"type":"object","properties":{"type":{"type":"string","const":"database-free-storage"},"properties":{"$ref":"#/definitions/RelationalDatabaseFreeStorageTriggerProps"}},"additionalProperties":false,"required":["properties","type"]},"RelationalDatabaseFreeStorageTriggerProps":{"type":"object","properties":{"thresholdMB":{"description":"#### The minimum amount of free storage (in MB) before the alarm is triggered.\n\n---\n\nBy default, the alarm triggers if the **minimum** available storage space over the evaluation period is **lower than** the `thresholdMB`.\nYou can customize the behavior using the `statistic` and `comparisonOperator` properties.","type":"number"},"comparisonOperator":{"$ref":"#/definitions/ComparisonOperator","description":"#### The arithmetic operation to use when comparing the specified statistic and threshold.\n\n---\n\nSupported operators:\n- `GreaterThanThreshold`\n- `GreaterThanOrEqualToThreshold`\n- `LessThanThreshold`\n- `LessThanOrEqualToThreshold`"},"statistic":{"$ref":"#/definitions/StatisticFunction","description":"#### The statistic to apply to the metric data points.\n\n---\n\nSupported statistics:\n- **avg**: The average of the metric values.\n- **sum**: The sum of the metric values.\n- **p90**: The 90th percentile. 90% of the data points are lower than this value.\n- **p95**: The 95th percentile. 95% of the data points are lower than this value.\n- **p99**: The 99th percentile. 99% of the data points are lower than this value.\n- **min**: The lowest value from the data points.\n- **max**: The highest value from the data points.","default":"avg"}},"additionalProperties":false,"required":["thresholdMB"]},"RelationalDatabaseFreeMemoryTrigger":{"type":"object","properties":{"type":{"type":"string","const":"database-free-memory"},"properties":{"$ref":"#/definitions/RelationalDatabaseFreeMemoryTriggerProps"}},"additionalProperties":false,"required":["properties","type"]},"RelationalDatabaseFreeMemoryTriggerProps":{"type":"object","properties":{"thresholdMB":{"description":"#### The minimum amount of free memory (in MB) before the alarm is triggered.\n\n---\n\nBy default, the alarm triggers if the **average** available free memory over the evaluation period is **lower than** the `thresholdMB`.\nYou can customize the behavior using the `statistic` and `comparisonOperator` properties.","type":"number"},"comparisonOperator":{"$ref":"#/definitions/ComparisonOperator","description":"#### The arithmetic operation to use when comparing the specified statistic and threshold.\n\n---\n\nSupported operators:\n- `GreaterThanThreshold`\n- `GreaterThanOrEqualToThreshold`\n- `LessThanThreshold`\n- `LessThanOrEqualToThreshold`"},"statistic":{"$ref":"#/definitions/StatisticFunction","description":"#### The statistic to apply to the metric data points.\n\n---\n\nSupported statistics:\n- **avg**: The average of the metric values.\n- **sum**: The sum of the metric values.\n- **p90**: The 90th percentile. 90% of the data points are lower than this value.\n- **p95**: The 95th percentile. 95% of the data points are lower than this value.\n- **p99**: The 99th percentile. 99% of the data points are lower than this value.\n- **min**: The lowest value from the data points.\n- **max**: The highest value from the data points.","default":"avg"}},"additionalProperties":false,"required":["thresholdMB"]},"RelationalDatabaseConnectionCountTrigger":{"type":"object","properties":{"type":{"type":"string","const":"database-connection-count"},"properties":{"$ref":"#/definitions/RelationalDatabaseConnectionCountTriggerProps"}},"additionalProperties":false,"required":["properties","type"]},"RelationalDatabaseConnectionCountTriggerProps":{"type":"object","properties":{"thresholdCount":{"description":"#### The number of database connections that triggers the alarm.\n\n---\n\nBy default, the alarm triggers if the **average** number of database connections over the evaluation period is **greater than** the `thresholdCount`.\nYou can customize the behavior using the `statistic` and `comparisonOperator` properties.","type":"number"},"comparisonOperator":{"$ref":"#/definitions/ComparisonOperator","description":"#### The arithmetic operation to use when comparing the specified statistic and threshold.\n\n---\n\nSupported operators:\n- `GreaterThanThreshold`\n- `GreaterThanOrEqualToThreshold`\n- `LessThanThreshold`\n- `LessThanOrEqualToThreshold`"},"statistic":{"$ref":"#/definitions/StatisticFunction","description":"#### The statistic to apply to the metric data points.\n\n---\n\nSupported statistics:\n- **avg**: The average of the metric values.\n- **sum**: The sum of the metric values.\n- **p90**: The 90th percentile. 90% of the data points are lower than this value.\n- **p95**: The 95th percentile. 95% of the data points are lower than this value.\n- **p99**: The 99th percentile. 99% of the data points are lower than this value.\n- **min**: The lowest value from the data points.\n- **max**: The highest value from the data points.","default":"avg"}},"additionalProperties":false,"required":["thresholdCount"]},"RelationalDatabaseLogging":{"type":"object","properties":{"disabled":{"description":"#### Disables the collection of database server logs to CloudWatch.","default":false,"type":"boolean"},"retentionDays":{"description":"#### The number of days to retain logs in CloudWatch.","default":90,"enum":[1,120,14,150,180,1827,3,30,365,3653,400,5,545,60,7,731,90],"type":"number"},"logTypes":{"description":"#### The types of logs to export to CloudWatch.\n\n---\n\nThe available log types depend on the database engine.\n\n- **PostgreSQL**: `postgresql`\n- **MySQL/MariaDB**: `audit`, `error`, `general`, `slowquery`\n- **Oracle**: `alert`, `audit`, `listener`, `trace`\n- **SQL Server**: `agent`, `error`","type":"array","items":{"type":"string"}},"engineSpecificOptions":{"description":"#### Engine-specific logging options.\n\n---\n\nThis allows for more granular control over what is logged.\nCurrently supported for PostgreSQL, MySQL, and MariaDB.","anyOf":[{"$ref":"#/definitions/PostgresLoggingOptions"},{"$ref":"#/definitions/MysqlLoggingOptions"}]},"logForwarding":{"description":"#### Log Forwarding\n\n---\n\nForwards logs to a specified destination for monitoring, analysis, or long-term storage.\n\nLog forwarding is handled by an [Amazon Kinesis Data Firehose](https://aws.amazon.com/kinesis/data-firehose/) delivery stream. You will incur costs based on the volume of data transferred (approximately $0.03 per GB). For detailed pricing, see the [AWS Kinesis Firehose Pricing](https://aws.amazon.com/kinesis/data-firehose/pricing/) page.\n\nSupported destinations:\n- `http-endpoint`: Delivers logs to any HTTP endpoint that complies with [Firehose request and response specifications](https://docs.aws.amazon.com/firehose/latest/dev/httpdeliveryrequestresponse.html). Many third-party logging services are compatible out-of-the-box.\n- `datadog`: Delivers logs to [Datadog](https://www.datadoghq.com/).\n- `highlight`: Delivers logs to a [Highlight.io](https://www.highlight.io/) project.\n\nFor more information, refer to the [Stacktape documentation on log forwarding](https://docs.stacktape.com/configuration/log-forwarding/).\n\n> If logs fail to be delivered after multiple retries, they are stored in a backup S3 bucket named `{stackName}-{resourceName}-logs-{generatedHash}`. The retry duration can be configured.","anyOf":[{"$ref":"#/definitions/HttpEndpointLogForwarding"},{"$ref":"#/definitions/HighlightLogForwarding"},{"$ref":"#/definitions/DatadogLogForwarding"}]}},"additionalProperties":false},"PostgresLoggingOptions":{"type":"object","properties":{"log_connections":{"description":"#### Logs all new client connections.","default":false,"type":"boolean"},"log_disconnections":{"description":"#### Logs all client disconnections.","default":false,"type":"boolean"},"log_lock_waits":{"description":"#### Logs sessions that are waiting for a lock.\n\n---\n\nThis can help identify performance issues caused by lock contention.","default":false,"type":"boolean"},"log_min_duration_statement":{"description":"#### The minimum execution time (in milliseconds) for a statement to be logged.\n\n---\n\n- `-1`: Disables this feature.\n- `0`: Logs all statements.\n- `>0`: Logs statements that exceed this duration.\n\nThis is useful for identifying slow queries.","default":10000,"type":"number"},"log_statement":{"description":"#### Controls which types of SQL statements are logged.\n\n---\n\n- `none`: No statements are logged.\n- `ddl`: Logs all Data Definition Language (DDL) statements (e.g., `CREATE`, `ALTER`).\n- `mod`: Logs all DDL statements plus `INSERT`, `UPDATE`, and `DELETE`.\n- `all`: Logs all statements.","default":"ddl","enum":["all","ddl","mod","none"],"type":"string"}},"additionalProperties":false},"MysqlLoggingOptions":{"type":"object","properties":{"server_audit_events":{"description":"#### The types of activity to record in the audit log.\n\n---\n\n- `CONNECT`: Successful and unsuccessful connections and disconnections.\n- `QUERY`: The text of all queries.\n- `QUERY_DDL`: Only Data Definition Language (DDL) queries.\n- `QUERY_DML`: Only Data Manipulation Language (DML) queries (including `SELECT`).\n- `QUERY_DML_NO_SELECT`: DML queries, excluding `SELECT`.\n- `QUERY_DCL`: Only Data Control Language (DCL) queries.","default":["QUERY_DDL"],"type":"array","items":{"enum":["CONNECT","QUERY","QUERY_DCL","QUERY_DDL","QUERY_DML","QUERY_DML_NO_SELECT"],"type":"string"}},"long_query_time":{"description":"#### The execution time (in seconds) above which a query is considered \"slow\" and logged to the slow query log.\n\n---\n\nUse `-1` to disable slow query logging.","default":10,"type":"number"}},"additionalProperties":false},"DevModeConfig":{"description":"#### Dev Mode Configuration\n\n---\n\nConfigures how this resource behaves during `stacktape dev` mode.","type":"object","properties":{"remote":{"description":"#### Use Remote Resource\n\n---\n\nIf `true`, connects to the deployed AWS resource instead of running a local emulation during dev mode.\n\nBy default, databases (RDS, Aurora), Redis clusters, and DynamoDB tables run locally during dev mode.\nSet this to `true` to use the deployed AWS resource instead.","default":false,"type":"boolean"}},"additionalProperties":false},"ApplicationLoadBalancer":{"description":"#### Application Load Balancer\n\n---\n\nA fully managed, Application (L7) Load Balancer that routes HTTP and HTTPS requests to other resources.","type":"object","properties":{"type":{"type":"string","const":"application-load-balancer"},"properties":{"$ref":"#/definitions/ApplicationLoadBalancerProps"},"overrides":{"description":"#### Resource Overrides\n\n---\n\nOverrides properties of the underlying CloudFormation resources that Stacktape creates.\n\nChild resources are identified by their CloudFormation logical ID (e.g., `MyBucketBucket`). You can find these IDs by running `stacktape stack:info --detailed`.\n\nFor a list of properties that can be overridden, refer to the [AWS CloudFormation documentation](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html).","type":"object","additionalProperties":{"type":"object","additionalProperties":{}}}},"additionalProperties":false,"required":["type"]},"ApplicationLoadBalancerProps":{"type":"object","properties":{"interface":{"description":"#### Configures the accessibility of the Load Balancer.\n\n---\n\n- `internet`: The Load Balancer is accessible from the internet.\n- `internal`: The Load Balancer is only accessible from within the same VPC network.\n\nTo learn more about VPCs, see the [Stacktape documentation](https://docs.stacktape.com/user-guides/vpcs).","default":"internet","enum":["internal","internet"],"type":"string"},"customDomains":{"description":"#### Configures custom domains for this Load Balancer.\n\n---\n\nStacktape allows you to connect your custom domain names to various resources, including Web Services, HTTP API Gateways, Application Load Balancers, and Buckets with CDNs.\n\nWhen you connect a custom domain, Stacktape automatically:\n\n- **Creates DNS records:** A DNS record is created to point your domain name to the resource.\n- **Adds TLS certificates:** If you are using HTTPS, Stacktape issues and attaches a free, AWS-managed TLS certificate to the resource, handling TLS termination for you.\n\nIf you want to use your own certificates, you can configure `customCertificateArns` on the listener.\n\n> To manage a custom domain, it must first be added to your AWS account as a [hosted zone](https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/AboutHZWorkingWith.html), and your domain registrar's name servers must point to it.\n> For more details, see the [Adding a domain guide](https://docs.stacktape.com/other-resources/domains-and-certificates/#adding-domain).","type":"array","items":{"type":"string"}},"listeners":{"description":"#### Configures custom listeners for this Load Balancer.\n\n---\n\nListeners define the port and protocol that the Load Balancer uses to accept incoming traffic.\n\nIf you do not specify any listeners, two are created by default:\n- An HTTPS listener on port 443 (all traffic is routed here).\n- An HTTP listener on port 80 (which automatically redirects to the HTTPS listener).","type":"array","items":{"$ref":"#/definitions/ApplicationLoadBalancerListener"}},"cdn":{"$ref":"#/definitions/ApplicationLoadBalancerCdnConfiguration","description":"#### Configures an AWS CloudFront CDN (Content Delivery Network) in front of your Application Load Balancer.\n\n---\n\nA CDN is a globally distributed network of edge locations that caches responses from your Application Load Balancer, bringing content closer to your users.\n\nUsing a CDN can:\n- Reduce latency and improve load times.\n- Lower bandwidth costs.\n- Decrease the amount of traffic hitting your origin.\n- Enhance security.\n\nThe \"origin\" is the resource (in this case, the Application Load Balancer) that the CDN is attached to.\nThe CDN has its own URL endpoint."},"alarms":{"description":"#### Additional alarms associated with this resource.\n\n---\n\nThese alarms will be merged with any alarms configured globally in the [console](https://console.stacktape.com/alarms).","type":"array","items":{"$ref":"#/definitions/ApplicationLoadBalancerAlarm"}},"disabledGlobalAlarms":{"description":"#### Disables globally configured alarms for this resource.\n\n---\n\nProvide a list of alarm names as configured in the [console](https://console.stacktape.com/alarms).","type":"array","items":{"type":"string"}},"useFirewall":{"description":"#### The name of the `web-app-firewall` resource to use for this Load Balancer.\n\n---\n\nA `web-app-firewall` can protect your resources from common web exploits that could affect availability, compromise security, or consume excessive resources.\nThe firewall works by filtering malicious requests before they reach your application.\n\nFor more information, see the [firewall documentation](https://docs.stacktape.com/security-resources/web-app-firewalls/).","type":"string"}},"additionalProperties":false},"ApplicationLoadBalancerListener":{"type":"object","properties":{"protocol":{"description":"#### The protocol for the listener.\n\n---\n\nIf you use `HTTPS`, the listener needs an SSL/TLS certificate. This can be configured in two ways:\n1.  **Automatic:** Configure `customDomains` to have Stacktape automatically generate and manage the certificate.\n2.  **Manual:** Configure `customCertificateArns` to use your own certificate, referenced by its ARN (Amazon Resource Name).","enum":["HTTP","HTTPS"],"type":"string"},"port":{"description":"#### The port number on which the listener is accessible.\n\n---\n\nBy default, `HTTPS` connections use port `443`, and `HTTP` connections use port `80`.","type":"number"},"customCertificateArns":{"description":"#### Used to configure custom SSL/TLS certificates.\n\n---\n\nThis is not necessary if you specify `customDomains` or if you are not using the `HTTPS` protocol for this listener.","type":"array","items":{"type":"string"}},"whitelistIps":{"description":"#### Limits listener accessibility to specific IP addresses.\n\n---\n\nBy default, all IP addresses are whitelisted.","type":"array","items":{"type":"string"}},"defaultAction":{"$ref":"#/definitions/LbRedirect","description":"#### Configures the listener's behavior for requests that do not match any integration.\n\n---\n\nCurrently, the only supported default action is `redirect`."}},"additionalProperties":false,"required":["port","protocol"]},"LbRedirect":{"type":"object","properties":{"type":{"description":"#### The type of the default action.","type":"string","const":"redirect"},"properties":{"$ref":"#/definitions/LbRedirectProperties","description":"#### Configures where to redirect the request.\n\n---\n\nA redirect changes the URI, which has the format: `protocol://hostname:port/path?query`.\nUnmodified URI components will retain their original values.\n\nTo avoid redirect loops, ensure that you sufficiently modify the URI.\nYou can reuse URI components with the following keywords: `#{protocol}`, `#{host}`, `#{port}`, `#{path}` (the leading `/` is removed), and `#{query}`.\n\nFor example, you can change the path to `/new/#{path}`, the hostname to `example.#{host}`, or the query to `#{query}&value=xyz`."}},"additionalProperties":false,"required":["properties","type"]},"LbRedirectProperties":{"type":"object","properties":{"path":{"description":"#### The absolute path to redirect to.\n\n---\n\n- Must start with a leading `/`.\n- Should not be percent-encoded.","type":"string"},"query":{"description":"#### The query parameters for the redirect.\n\n---\n\n- Should be URL-encoded where necessary, but not percent-encoded.\n- Do not include the leading `?`, as it is added automatically.","type":"string"},"port":{"description":"#### The port for the redirect.\n\n---\n\nYou can specify a value from 1 to 65535 or `#{port}`.","type":"number"},"host":{"description":"#### The hostname for the redirect.\n\n---\n\nShould not be percent-encoded.","type":"string"},"protocol":{"description":"#### The protocol for the redirect.\n\n---\n\n- Must be `HTTP`, `HTTPS`, or `#{protocol}`.\n- You cannot redirect from `HTTPS` to `HTTP`.","enum":["HTTP","HTTPS"],"type":"string"},"statusCode":{"description":"#### The HTTP redirect code.\n\n---\n\n- Use `HTTP_301` for a permanent redirect.\n- Use `HTTP_302` for a temporary redirect.","enum":["HTTP_301","HTTP_302"],"type":"string"}},"additionalProperties":false,"required":["statusCode"]},"ApplicationLoadBalancerCdnConfiguration":{"type":"object","properties":{"listenerPort":{"description":"#### The listener port to which CDN traffic will be forwarded.\n\n---\n\nYou must specify this if the Load Balancer uses custom listeners.","type":"number"},"originDomainName":{"description":"#### The origin domain name used for forwarding to the Load Balancer.\n\n---\n\nThis is only necessary if the Load Balancer has no `customDomains` attached and the listener uses `customCertificateArns`.","type":"string"},"enabled":{"description":"#### Enables the CDN.\n\n---","default":false,"type":"boolean"},"cachingOptions":{"$ref":"#/definitions/CdnCachingOptions","description":"#### Configures custom caching options.\n\n---\n\nThis property controls the caching behavior of your edge distribution, including what content is cached, for how long, and when it should be re-fetched from the origin.\n\nIf a response from the origin does not include `Cache-Control` or `Expires` headers, a default caching behavior is used:\n- **bucket**: Objects are cached for 6 months by default, or until the cache is invalidated.\n- **http-api-gateway** and **application-load-balancer**: Responses are not cached by default."},"forwardingOptions":{"$ref":"#/definitions/CdnForwardingOptions","description":"#### Configures which parts of the request are forwarded to the origin.\n\n---\n\nThis includes headers, query parameters, and cookies."},"routeRewrites":{"description":"#### Redirects specific requests to a different origin.\n\n---\n\nEach incoming request to the CDN is evaluated against a list of route rewrites. If the request path matches a rewrite's path pattern, it is sent to the configured route.\n\nRoute rewrites are evaluated in order, and the first match determines where the request will be sent.\nIf no match is found, the request is sent to the default origin (the resource the CDN is attached to).\n\n**Example Use Cases:**\n- Serving static content from a bucket while routing dynamic paths to a Lambda function.\n- Caching `.jpg` files for a longer duration than other file types.","type":"array","items":{"$ref":"#/definitions/CdnRouteRewrite"}},"customDomains":{"description":"#### Attaches custom domains to this CDN.\n\n---\n\nWhen you connect a custom domain, Stacktape automatically:\n\n- **Creates DNS records:** A DNS record is created to point your domain name to the resource.\n- **Adds TLS certificates:** If the resource uses HTTPS, Stacktape issues and attaches a free, AWS-managed TLS certificate, handling TLS termination for you.\n\n> To manage a custom domain, it first needs to be added to your AWS account.\n> This means that a [hosted zone](https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/AboutHZWorkingWith.html)\n> (collection of records managed together for a given domain)\n> for your domain exists in your AWS account and your domain registrar's name servers are pointing to it.\n> To learn more, refer to [Adding a domain guide](https://docs.stacktape.com/other-resources/domains-and-certificates/#adding-domain).","type":"array","items":{"$ref":"#/definitions/DomainConfiguration"}},"edgeFunctions":{"$ref":"#/definitions/EdgeFunctionsConfig","description":"#### Configures Edge function triggers.\n\n---\n\nYou can associate an `edge-lambda-function` with the CDN to be executed at different stages:\n\n- `onRequest`: Executed when the CDN receives a request from a client, before checking the cache.\n- `onResponse`: Executed before returning a response to the client.\n\n**Potential Use Cases:**\n- Generating an immediate HTTP response without checking the cache or forwarding to the origin.\n- Modifying the request (e.g., rewriting the URL or headers) before forwarding to the origin.\n- Inspecting cookies or validating authorization headers and tokens."},"cloudfrontPriceClass":{"description":"#### Configures the locations from which the CDN serves traffic.\n\n---\n\nA higher price class results in more edge locations serving your traffic, which can improve performance in some regions but is more costly.\n\nFor example, if your users are primarily located in the US and Europe, you can save money by using `PriceClass_100`.\n\nFor more details, see the [AWS documentation on price classes](https://aws.amazon.com/cloudfront/pricing/).","default":"PriceClass_All","enum":["PriceClass_100","PriceClass_200","PriceClass_All"],"type":"string"},"defaultRoutePrefix":{"description":"#### Prefixes requests to the origin with a specified path.\n\n---\n\nIncoming requests will be prefixed with `defaultRoutePrefix` before being forwarded to the origin.\nFor example, if the CDN receives a request for `/my/resource/url`, the request will be sent to the origin as `/your_prefix/my/resource/url`.","type":"string"},"errorDocument":{"description":"#### The custom error document URL.\n\n---\n\nThis document is requested by the CDN if the original request to the origin returns a `404` error code.\n\nExample: `/error.html`","default":"/404.html","type":"string"},"indexDocument":{"description":"#### The custom index document served for requests to the root path (`/`).\n\n---","default":"/index.html","type":"string"},"disableInvalidationAfterDeploy":{"description":"#### Disables invalidation of the CDN cache after each deployment.\n\n---\n\nBy default, the cache is invalidated after every deployment to prevent serving outdated content.\nWhen the cache is invalidated, the CDN flushes all cached content, and new requests are sent directly to the origin.","default":false,"type":"boolean"},"useFirewall":{"description":"#### The name of the `web-app-firewall` resource to use with your CDN.\n\n---\n\nA `web-app-firewall` can protect your resources from common web exploits that could affect availability, compromise security, or consume excessive resources.\nThe firewall works by filtering malicious requests before they reach your application.\n\nFor more information, see the [firewall documentation](https://docs.stacktape.com/security-resources/web-app-firewalls/).","type":"string"}},"additionalProperties":false,"required":["enabled"]},"NetworkLoadBalancer":{"description":"#### Network Load Balancer\n\n---\n\nA fully managed, Network (L4) Load Balancer that routes TCP or UDP traffic to other resources.","type":"object","properties":{"type":{"type":"string","const":"network-load-balancer"},"properties":{"$ref":"#/definitions/NetworkLoadBalancerProps"},"overrides":{"description":"#### Resource Overrides\n\n---\n\nOverrides properties of the underlying CloudFormation resources that Stacktape creates.\n\nChild resources are identified by their CloudFormation logical ID (e.g., `MyBucketBucket`). You can find these IDs by running `stacktape stack:info --detailed`.\n\nFor a list of properties that can be overridden, refer to the [AWS CloudFormation documentation](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html).","type":"object","additionalProperties":{"type":"object","additionalProperties":{}}}},"additionalProperties":false,"required":["properties","type"]},"NetworkLoadBalancerProps":{"type":"object","properties":{"interface":{"description":"#### Configures the accessibility of the Load Balancer.\n\n---\n\n- `internet`: The Load Balancer is accessible from the internet.\n- `internal`: The Load Balancer is only accessible from within the same VPC network.\n\nTo learn more about VPCs, see the [Stacktape documentation](https://docs.stacktape.com/user-guides/vpcs).","default":"internet","enum":["internal","internet"],"type":"string"},"customDomains":{"description":"#### Configures custom domains for this Load Balancer.\n\n---\n\nStacktape allows you to connect your custom domain names to various resources, including Web Services, HTTP API Gateways, Application Load Balancers, and Buckets with CDNs.\n\nWhen you connect a custom domain, Stacktape automatically:\n\n- **Creates DNS records:** A DNS record is created to point your domain name to the resource.\n- **Adds TLS certificates:** If your listeners use TLS, Stacktape issues and attaches a free, AWS-managed TLS certificate to the resource, handling TLS termination for you.\n\nIf you want to use your own certificates, you can configure `customCertificateArns` on the listener.\n\n> To manage a custom domain, it must first be added to your AWS account as a [hosted zone](https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/AboutHZWorkingWith.html), and your domain registrar's name servers must point to it.\n> For more details, see the [Adding a domain guide](https://docs.stacktape.com/other-resources/domains-and-certificates/#adding-domain).","type":"array","items":{"type":"string"}},"listeners":{"description":"#### Configures custom listeners for this Load Balancer.\n\n---\n\nListeners define the port and protocol that the Load Balancer uses to accept incoming traffic.\nTraffic routed to a listener is then forwarded to a target resource based on the integrations.","type":"array","items":{"$ref":"#/definitions/NetworkLoadBalancerListener"}}},"additionalProperties":false,"required":["listeners"]},"NetworkLoadBalancerListener":{"type":"object","properties":{"protocol":{"description":"#### The protocol for the listener.\n\n---\n\nIf you use `TLS`, the listener needs an SSL/TLS certificate. This can be configured in two ways:\n1.  **Automatic:** Configure `customDomains` to have Stacktape automatically generate and manage the certificate.\n2.  **Manual:** Configure `customCertificateArns` to use your own certificate, referenced by its ARN (Amazon Resource Name).","enum":["TCP","TLS"],"type":"string"},"port":{"description":"#### The port number on which the listener is accessible.\n\n---","type":"number"},"customCertificateArns":{"description":"#### Used to configure custom SSL/TLS certificates.\n\n---\n\nThis is not necessary if you specify `customDomains` or if you are not using the `TLS` protocol for this listener.","type":"array","items":{"type":"string"}},"whitelistIps":{"description":"#### Limits listener accessibility to specific IP addresses.\n\n---\n\nBy default, all IP addresses are whitelisted.","type":"array","items":{"type":"string"}}},"additionalProperties":false,"required":["port","protocol"]},"HttpApiGateway":{"description":"#### HTTP API Gateway\n\n---\n\nA fully managed, serverless HTTP API Gateway with pay-per-request pricing.","type":"object","properties":{"type":{"type":"string","const":"http-api-gateway"},"properties":{"$ref":"#/definitions/HttpApiGatewayProps"},"overrides":{"description":"#### Resource Overrides\n\n---\n\nOverrides properties of the underlying CloudFormation resources that Stacktape creates.\n\nChild resources are identified by their CloudFormation logical ID (e.g., `MyBucketBucket`). You can find these IDs by running `stacktape stack:info --detailed`.\n\nFor a list of properties that can be overridden, refer to the [AWS CloudFormation documentation](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html).","type":"object","additionalProperties":{"type":"object","additionalProperties":{}}}},"additionalProperties":false,"required":["type"]},"HttpApiGatewayProps":{"type":"object","properties":{"payloadFormat":{"description":"#### Determines the shape of the event delivered to your integrations.\n\n---\n\nThis value is only used if the payload format is not set on the integration level.\n\nFor more details on the differences between payload formats, see the [AWS documentation](https://docs.aws.amazon.com/apigateway/latest/developerguide/http-api-develop-integrations-lambda.html#http-api-develop-integrations-lambda.proxy-format).","enum":["1.0","2.0"],"type":"string"},"cors":{"$ref":"#/definitions/HttpApiCorsConfig","description":"#### Configures CORS (Cross-Origin Resource Sharing) HTTP headers for this HTTP API Gateway.\n\n---\n\nIf CORS is configured using this property, any CORS headers returned from your application will be ignored and replaced."},"logging":{"$ref":"#/definitions/HttpApiAccessLogsConfig","description":"#### Configures access logging for requests to the HTTP API Gateway.\n\n---\n\nThe following properties are stored: `requestId`, `ip`, `requestTime`, `httpMethod`, `routeKey`, `status`, `protocol`, and `responseLength`.\nYou can configure the log format using `CLF`, `JSON`, `XML`, or `CSV`.\n\nYou can access your logs in two ways:\n1.  **AWS CloudWatch Console:** Use the `stacktape stack-info` command to get a direct link to the log group.\n2.  **Stacktape CLI:** Use the [`stacktape logs` command](https://docs.stacktape.com/cli/commands/logs/) to view logs in your terminal."},"customDomains":{"description":"#### Attaches custom domains to this HTTP API Gateway.\n\n---\n\nWhen you connect a custom domain, Stacktape automatically:\n\n- **Creates DNS records:** A DNS record is created to point your domain name to the resource.\n- **Adds TLS certificates:** If the resource uses HTTPS, Stacktape issues and attaches a free, AWS-managed TLS certificate, handling TLS termination for you.\n\n> To manage a custom domain, it must first be added to your AWS account as a [hosted zone](https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/AboutHZWorkingWith.html), and your domain registrar's name servers must point to it.\n> For more details, see the [Adding a domain guide](https://docs.stacktape.com/other-resources/domains-and-certificates/#adding-domain).","type":"array","items":{"$ref":"#/definitions/DomainConfiguration"}},"cdn":{"$ref":"#/definitions/CdnConfiguration","description":"#### Configures an AWS CloudFront CDN (Content Delivery Network) in front of your HTTP API Gateway.\n\n---\n\nA CDN is a globally distributed network of edge locations that caches responses from your HTTP API Gateway, bringing content closer to your users.\n\nUsing a CDN can:\n- Reduce latency and improve load times.\n- Lower bandwidth costs.\n- Decrease the amount of traffic hitting your origin.\n- Enhance security.\n\nThe \"origin\" is the resource (in this case, the HTTP API Gateway) that the CDN is attached to."},"alarms":{"description":"#### Additional alarms associated with this resource.\n\n---\n\nThese alarms will be merged with any alarms configured globally in the [console](https://console.stacktape.com/alarms).","type":"array","items":{"$ref":"#/definitions/HttpApiGatewayAlarm"}},"disabledGlobalAlarms":{"description":"#### Disables globally configured alarms for this resource.\n\n---\n\nProvide a list of alarm names as configured in the [console](https://console.stacktape.com/alarms).","type":"array","items":{"type":"string"}}},"additionalProperties":false},"HttpApiAccessLogsConfig":{"type":"object","properties":{"disabled":{"description":"#### Disables the collection of access logs to CloudWatch.","default":false,"type":"boolean"},"format":{"description":"#### The format of the stored access logs.\n\n---\n\nStored properties include: `requestId`, `ip`, `requestTime`, `httpMethod`, `routeKey`, `status`, `protocol`, and `responseLength`.","default":"JSON","enum":["CLF","CSV","JSON","XML"],"type":"string"},"retentionDays":{"description":"#### The number of days to retain logs in the CloudWatch log group.","default":30,"enum":[1,120,14,150,180,1827,3,30,365,3653,400,5,545,60,7,731,90],"type":"number"},"logForwarding":{"description":"#### Log Forwarding\n\n---\n\nForwards logs to a specified destination for monitoring, analysis, or long-term storage.\n\nLog forwarding is handled by an [Amazon Kinesis Data Firehose](https://aws.amazon.com/kinesis/data-firehose/) delivery stream. You will incur costs based on the volume of data transferred (approximately $0.03 per GB). For detailed pricing, see the [AWS Kinesis Firehose Pricing](https://aws.amazon.com/kinesis/data-firehose/pricing/) page.\n\nSupported destinations:\n- `http-endpoint`: Delivers logs to any HTTP endpoint that complies with [Firehose request and response specifications](https://docs.aws.amazon.com/firehose/latest/dev/httpdeliveryrequestresponse.html). Many third-party logging services are compatible out-of-the-box.\n- `datadog`: Delivers logs to [Datadog](https://www.datadoghq.com/).\n- `highlight`: Delivers logs to a [Highlight.io](https://www.highlight.io/) project.\n\nFor more information, refer to the [Stacktape documentation on log forwarding](https://docs.stacktape.com/configuration/log-forwarding/).\n\n> If logs fail to be delivered after multiple retries, they are stored in a backup S3 bucket named `{stackName}-{resourceName}-logs-{generatedHash}`. The retry duration can be configured.","anyOf":[{"$ref":"#/definitions/HttpEndpointLogForwarding"},{"$ref":"#/definitions/HighlightLogForwarding"},{"$ref":"#/definitions/DatadogLogForwarding"}]}},"additionalProperties":false},"Bucket":{"description":"#### Storage Bucket\n\n---\n\nA durable and highly available object storage service with pay-per-use pricing.","type":"object","properties":{"type":{"type":"string","const":"bucket"},"properties":{"$ref":"#/definitions/BucketProps"},"overrides":{"description":"#### Resource Overrides\n\n---\n\nOverrides properties of the underlying CloudFormation resources that Stacktape creates.\n\nChild resources are identified by their CloudFormation logical ID (e.g., `MyBucketBucket`). You can find these IDs by running `stacktape stack:info --detailed`.\n\nFor a list of properties that can be overridden, refer to the [AWS CloudFormation documentation](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html).","type":"object","additionalProperties":{"type":"object","additionalProperties":{}}}},"additionalProperties":false,"required":["type"]},"BucketProps":{"type":"object","properties":{"directoryUpload":{"$ref":"#/definitions/DirectoryUpload","description":"#### Allows you to upload a specified directory to the bucket on every deployment.\n\n---\n\nAfter the upload is finished, the contents of your bucket will mirror the contents of the local folder.\nFiles are uploaded using parallel, multipart uploads.\n\n> **Warning:** Any existing contents of the bucket will be deleted and replaced with the contents of the local directory.\n> You should not use `directoryUpload` for buckets with application-generated or user-generated content."},"accessibility":{"$ref":"#/definitions/BucketAccessibility","description":"#### Configures the accessibility of the bucket."},"cors":{"$ref":"#/definitions/BucketCorsConfig","description":"#### Configures CORS (Cross-Origin Resource Sharing) HTTP headers for the bucket.\n\n---\n\nWeb browsers use CORS to block websites from making requests to a different origin (server) than the one they are served from."},"versioning":{"description":"#### Enables versioning of objects in the bucket.\n\n---\n\nWhen enabled, the bucket will keep multiple variants of an object.\nThis can help you recover objects from accidental deletion or overwrites.","type":"boolean"},"encryption":{"description":"#### Enables encryption of the objects stored in this bucket.\n\n---\n\nObjects are encrypted using the AES-256 algorithm.","type":"boolean"},"lifecycleRules":{"description":"#### Configures how objects are stored throughout their lifecycle.\n\n---\n\nLifecycle rules are used to transition objects to different storage classes or delete old objects.","type":"array","items":{"anyOf":[{"$ref":"#/definitions/Expiration"},{"$ref":"#/definitions/NonCurrentVersionExpiration"},{"$ref":"#/definitions/ClassTransition"},{"$ref":"#/definitions/NonCurrentVersionClassTransition"},{"$ref":"#/definitions/AbortIncompleteMultipartUpload"}]}},"enableEventBusNotifications":{"description":"#### Enables sending bucket events to the default EventBridge bus.\n\n---\n\nWhen enabled, an event is sent to the default event bus whenever certain actions occur in your bucket (e.g., an object is created or deleted).\n\nFor a full list of all bucket events, see the [AWS documentation](https://docs.aws.amazon.com/AmazonS3/latest/userguide/EventBridge.html).","default":false,"type":"boolean"},"cdn":{"$ref":"#/definitions/BucketCdnConfiguration","description":"#### Configures an AWS CloudFront CDN (Content Delivery Network) in front of your bucket.\n\n---\n\nA CDN is a globally distributed network of edge locations that caches responses from your bucket, bringing content closer to your users.\n\nUsing a CDN can:\n- Reduce latency and improve load times.\n- Lower bandwidth costs.\n- Decrease the amount of traffic hitting your origin.\n- Enhance security.\n\nThe \"origin\" is the resource (in this case, the bucket) that the CDN is attached to."}},"additionalProperties":false},"DirectoryUpload":{"type":"object","properties":{"directoryPath":{"description":"#### The path to the directory that should be uploaded to the bucket.\n\n---\n\nAfter the sync is finished, the contents of your bucket will mirror the contents of the local folder.\nThe path is relative to your current working directory.\n\n> **Warning:** Any existing contents of the bucket will be deleted and replaced with the contents of the local directory.\n> You should not use a bucket with `directoryUpload` enabled for application-generated or user-generated content.","type":"string"},"fileOptions":{"description":"#### Allows you to set properties of files (objects) during the upload.","type":"array","items":{"$ref":"#/definitions/DirectoryUploadFilter"}},"excludeFilesPatterns":{"description":"#### Glob patterns for files to be excluded from the upload.\n\n---\n\nThese patterns are relative to the `directoryPath`.","type":"array","items":{"type":"string"}},"headersPreset":{"$ref":"#/definitions/SupportedHeaderPreset","description":"#### Configures HTTP headers of uploaded files to be optimized for a selected preset.\n\n---\n\nAvailable presets:\n\n- **`static-website`**:\n  - Sets the `Cache-Control` header to `public, max-age=0, s-maxage=31536000, must-revalidate` for all uploaded files.\n  - This setup caches all content on the CDN but never in the browser.\n\n- **`gatsby-static-website`**:\n  - Optimizes headers for static websites built with [Gatsby](https://www.gatsbyjs.com/), following their [caching recommendations](https://www.gatsbyjs.com/docs/caching/).\n\n- **`single-page-app`**:\n  - Optimizes headers for [Single-Page Applications](https://en.wikipedia.org/wiki/Single-page_application).\n  - `html` files are never cached to ensure users always get the latest content after a deployment.\n  - All other assets (e.g., `.js`, `.css`) are cached indefinitely. You should **always** add a content hash to your filenames to ensure users receive new versions after updates.\n\nYou can override these presets using custom `filters`.\n\n> When `headersPreset` is used, `cdn.invalidateAfterDeploy` must also be configured."},"disableS3TransferAcceleration":{"description":"#### Disables S3 Transfer Acceleration.\n\n---\n\nS3 Transfer Acceleration improves the upload times of your directory contents by uploading objects to the nearest AWS edge location and routing them to the bucket through the AWS backbone network.\n\nThis feature incurs a small additional cost.","default":false,"type":"boolean"}},"additionalProperties":false,"required":["directoryPath"]},"DirectoryUploadFilter":{"type":"object","properties":{"includePattern":{"description":"#### A glob pattern that specifies which files should be handled by this filter.\n\n---\n\nThe pattern is relative to the `directoryPath`.","type":"string"},"excludePattern":{"description":"#### A glob pattern that specifies which files should be excluded from this filter, even if they match the `includePattern`.\n\n---\n\nThe pattern is relative to the `directoryPath`.","type":"string"},"headers":{"description":"#### Configures HTTP headers for files (objects) that match this filter.\n\n---\n\nIf you are using a CDN, these headers will be forwarded to the client.\nThis can be used to implement a custom HTTP caching strategy for your static content.","type":"array","items":{"$ref":"#/definitions/KeyValuePair"}},"tags":{"description":"#### Tags to apply to the files that match this filter.\n\n---\n\nTags help you categorize your objects and can be used to filter objects when using `lifecycleRules`.\n\nFor more details on object tagging, see the [AWS documentation](https://docs.aws.amazon.com/AmazonS3/latest/userguide/object-tagging.html).\n\n> A single file (object) can have only one tag with the same key.","type":"array","items":{"$ref":"#/definitions/KeyValuePair"}}},"additionalProperties":false,"required":["includePattern"]},"KeyValuePair":{"type":"object","properties":{"key":{"description":"#### Key","type":"string"},"value":{"description":"#### Value","type":"string"}},"additionalProperties":false,"required":["key","value"]},"SupportedHeaderPreset":{"enum":["gatsby-static-website","single-page-app","static-website"],"type":"string"},"BucketAccessibility":{"type":"object","properties":{"accessibilityMode":{"description":"#### Configures pre-defined accessibility modes for the bucket.\n\n---\n\nThis allows you to easily configure the most common access patterns.\n\nAvailable modes:\n- `public-read-write`: Everyone can read from and write to the bucket.\n- `public-read`: Everyone can read from the bucket. Only compute resources and entities with sufficient IAM permissions can write to it.\n- `private` (default): Only compute resources and entities with sufficient IAM permissions can read from or write to the bucket.\n\nFor functions, batch jobs, and container workloads, you can grant the required IAM permissions using the `allowsAccessTo` or `iamRoleStatements` properties in their respective configurations.","default":"private","enum":["private","public-read","public-read-write"],"type":"string"},"accessPolicyStatements":{"description":"#### Advanced access configuration that leverages IAM policy statements.\n\n---\n\nThis gives you fine-grained access control over the bucket.","type":"array","items":{"$ref":"#/definitions/BucketPolicyIamRoleStatement"}}},"additionalProperties":false,"required":["accessibilityMode"]},"BucketPolicyIamRoleStatement":{"type":"object","properties":{"Principal":{},"Sid":{"description":"#### Statement ID (Sid)\n\n---\n\nAn optional identifier for the statement. For more information, see the [AWS documentation](https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies.html#policies-introduction).","type":"string"},"Effect":{"description":"#### Effect\n\n---\n\nSpecifies whether the statement results in an `Allow` or `Deny`. For more information, see the [AWS documentation](https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies.html#policies-introduction).","default":"Allow","type":"string"},"Action":{"description":"#### Action\n\n---\n\nA list of actions that the statement allows or denies (e.g., `s3:GetObject`). For more information, see the [AWS documentation](https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies.html#policies-introduction).","type":"array","items":{"type":"string"}},"Condition":{"description":"#### Condition\n\n---\n\nSpecifies the conditions under which the statement is in effect. For more information, see the [AWS documentation](https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies.html#policies-introduction)."},"Resource":{"description":"#### Resource\n\n---\n\nA list of resources to which the actions apply. For more information, see the [AWS documentation](https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies.html#policies-introduction).","type":"array","items":{"type":"string"}}},"additionalProperties":false,"required":["Principal","Resource"]},"BucketCorsConfig":{"type":"object","properties":{"enabled":{"description":"#### Enables CORS (Cross-Origin Resource Sharing) HTTP headers for the bucket.\n\n---\n\nIf you enable CORS without specifying any rules, a default rule with the following configuration is used:\n- `allowedMethods`: `GET`, `PUT`, `HEAD`, `POST`, `DELETE`\n- `allowedOrigins`: `*`\n- `allowedHeaders`: `Authorization`, `Content-Length`, `Content-Type`, `Content-MD5`, `Date`, `Expect`, `Host`, `x-amz-content-sha256`, `x-amz-date`, `x-amz-security-token`","type":"boolean"},"corsRules":{"description":"#### A list of CORS rules.\n\n---\n\nWhen the bucket receives a preflight request from a browser, it evaluates the CORS configuration and uses the first rule that matches the request to enable a cross-origin request.\nFor a rule to match, the following conditions must be met:\n\n- The request's `Origin` header must match one of the `allowedOrigins`.\n- The request method (e.g., `GET`, `PUT`) or the `Access-Control-Request-Method` header must be one of the `allowedMethods`.\n- Every header listed in the request's `Access-Control-Request-Headers` header must match one of the `allowedHeaders`.","type":"array","items":{"$ref":"#/definitions/BucketCorsRule"}}},"additionalProperties":false,"required":["enabled"]},"BucketCorsRule":{"type":"object","properties":{"allowedOrigins":{"description":"#### The origins to accept cross-domain requests from.\n\n---\n\nAn origin is a combination of a scheme (protocol), hostname (domain), and port.","type":"array","items":{"type":"string"}},"allowedHeaders":{"description":"#### The allowed HTTP headers.\n\n---\n\nEach header name in the `Access-Control-Request-Headers` header of a preflight request must match an entry in this list.","type":"array","items":{"type":"string"}},"allowedMethods":{"description":"#### The allowed HTTP methods.","type":"array","items":{"enum":["*","DELETE","GET","HEAD","PATCH","POST","PUT"],"type":"string"}},"exposedResponseHeaders":{"description":"#### The response headers that should be made available to scripts running in the browser in response to a cross-origin request.","type":"array","items":{"type":"string"}},"maxAge":{"description":"#### The time (in seconds) that the browser can cache the response for a preflight request.","type":"number"}},"additionalProperties":false},"Expiration":{"type":"object","properties":{"type":{"type":"string","const":"expiration"},"properties":{"$ref":"#/definitions/ExpirationProps"}},"additionalProperties":false,"required":["properties","type"]},"ExpirationProps":{"type":"object","properties":{"daysAfterUpload":{"description":"#### The number of days after which an object is considered expired.\n\n---\n\nThis is relative to the date the object was uploaded.","type":"number"},"prefix":{"description":"#### The prefix of the objects to which the lifecycle rule is applied.","type":"string"},"tags":{"description":"#### The tags of the objects to which the lifecycle rule is applied.\n\n---\n\nFor more details on tagging objects, see the [AWS documentation](https://docs.aws.amazon.com/AmazonS3/latest/userguide/object-tagging.html).","type":"array","items":{"$ref":"#/definitions/KeyValuePair"}}},"additionalProperties":false,"required":["daysAfterUpload"]},"NonCurrentVersionExpiration":{"type":"object","properties":{"type":{"type":"string","const":"non-current-version-expiration"},"properties":{"$ref":"#/definitions/NonCurrentVersionExpirationProps"}},"additionalProperties":false,"required":["properties","type"]},"NonCurrentVersionExpirationProps":{"type":"object","properties":{"daysAfterVersioned":{"description":"#### The number of days after which a non-current version of an object becomes expired.\n\n---\n\nThis is relative to the date the object became a non-current version.\nThis rule is only effective if the bucket has versioning enabled.","type":"number"},"prefix":{"description":"#### The prefix of the objects to which the lifecycle rule is applied.","type":"string"},"tags":{"description":"#### The tags of the objects to which the lifecycle rule is applied.\n\n---\n\nFor more details on tagging objects, see the [AWS documentation](https://docs.aws.amazon.com/AmazonS3/latest/userguide/object-tagging.html).","type":"array","items":{"$ref":"#/definitions/KeyValuePair"}}},"additionalProperties":false,"required":["daysAfterVersioned"]},"ClassTransition":{"type":"object","properties":{"type":{"type":"string","const":"class-transition"},"properties":{"$ref":"#/definitions/ClassTransitionProps"}},"additionalProperties":false,"required":["properties","type"]},"ClassTransitionProps":{"type":"object","properties":{"daysAfterUpload":{"description":"#### The number of days after which an object is transitioned to another storage class.\n\n---\n\nThis is relative to the date the object was uploaded.\nDepending on how often you need to access your objects, transitioning them to another storage class can lead to significant cost savings.","type":"number"},"storageClass":{"description":"#### The storage class to which to transition the object.\n\n---\n\nBy default, all objects are in the `STANDARD` (general purpose) class.\nDepending on your access patterns, you can transition objects to a different storage class to save costs.\n\nFor more details on storage classes, see the [AWS documentation](https://aws.amazon.com/s3/storage-classes/).","enum":["DEEP_ARCHIVE","GLACIER","INTELLIGENT_TIERING","ONEZONE_IA","STANDARD_IA"],"type":"string"},"prefix":{"description":"#### The prefix of the objects to which the lifecycle rule is applied.","type":"string"},"tags":{"description":"#### The tags of the objects to which the lifecycle rule is applied.\n\n---\n\nFor more details on tagging objects, see the [AWS documentation](https://docs.aws.amazon.com/AmazonS3/latest/userguide/object-tagging.html).","type":"array","items":{"$ref":"#/definitions/KeyValuePair"}}},"additionalProperties":false,"required":["daysAfterUpload","storageClass"]},"NonCurrentVersionClassTransition":{"type":"object","properties":{"type":{"type":"string","const":"non-current-version-class-transition"},"properties":{"$ref":"#/definitions/NonCurrentVersionClassTransitionProps"}},"additionalProperties":false,"required":["properties","type"]},"NonCurrentVersionClassTransitionProps":{"type":"object","properties":{"daysAfterVersioned":{"description":"#### The number of days after which a non-current version of an object is transitioned to another storage class.\n\n---\n\nThis is relative to the date the object became a non-current version.\nDepending on how often you need to access your objects, transitioning them to another storage class can lead to significant cost savings.","type":"number"},"storageClass":{"description":"#### The storage class to which to transition the object.\n\n---\n\nFor more details on storage classes and transitions, see the [AWS documentation](https://docs.aws.amazon.com/AmazonS3/latest/userguide/lifecycle-transition-general-considerations.html).","enum":["DEEP_ARCHIVE","GLACIER","INTELLIGENT_TIERING","ONEZONE_IA","STANDARD_IA"],"type":"string"},"prefix":{"description":"#### The prefix of the objects to which the lifecycle rule is applied.","type":"string"},"tags":{"description":"#### The tags of the objects to which the lifecycle rule is applied.\n\n---\n\nFor more details on tagging objects, see the [AWS documentation](https://docs.aws.amazon.com/AmazonS3/latest/userguide/object-tagging.html).","type":"array","items":{"$ref":"#/definitions/KeyValuePair"}}},"additionalProperties":false,"required":["daysAfterVersioned","storageClass"]},"AbortIncompleteMultipartUpload":{"type":"object","properties":{"type":{"type":"string","const":"abort-incomplete-multipart-upload"},"properties":{"$ref":"#/definitions/AbortIncompleteMultipartUploadProps"}},"additionalProperties":false,"required":["properties","type"]},"AbortIncompleteMultipartUploadProps":{"type":"object","properties":{"daysAfterInitiation":{"description":"#### The number of days after which an incomplete multipart upload is aborted and its parts are deleted.\n\n---\n\nThis is relative to the start of the multipart upload.","type":"number"},"prefix":{"description":"#### The prefix of the objects to which the lifecycle rule is applied.","type":"string"},"tags":{"description":"#### The tags of the objects to which the lifecycle rule is applied.\n\n---\n\nFor more details on tagging objects, see the [AWS documentation](https://docs.aws.amazon.com/AmazonS3/latest/userguide/object-tagging.html).","type":"array","items":{"$ref":"#/definitions/KeyValuePair"}}},"additionalProperties":false,"required":["daysAfterInitiation"]},"BucketCdnConfiguration":{"type":"object","properties":{"rewriteRoutesForSinglePageApp":{"description":"#### Rewrites incoming requests to work for a single-page application.\n\n---\n\nThe routing works as follows:\n- If the path has an extension (e.g., `.css`, `.js`, `.png`), the request is not rewritten, and the appropriate file is returned.\n- If the path does not have an extension, the request is routed to `index.html`.\n\nThis allows single-page applications to handle routing on the client side.","type":"boolean"},"disableUrlNormalization":{"description":"#### Disables URL normalization.\n\n---\n\nURL normalization is enabled by default and is useful for serving HTML files from the bucket with clean URLs.","default":false,"type":"boolean"},"enabled":{"description":"#### Enables the CDN.\n\n---","default":false,"type":"boolean"},"cachingOptions":{"$ref":"#/definitions/CdnCachingOptions","description":"#### Configures custom caching options.\n\n---\n\nThis property controls the caching behavior of your edge distribution, including what content is cached, for how long, and when it should be re-fetched from the origin.\n\nIf a response from the origin does not include `Cache-Control` or `Expires` headers, a default caching behavior is used:\n- **bucket**: Objects are cached for 6 months by default, or until the cache is invalidated.\n- **http-api-gateway** and **application-load-balancer**: Responses are not cached by default."},"forwardingOptions":{"$ref":"#/definitions/CdnForwardingOptions","description":"#### Configures which parts of the request are forwarded to the origin.\n\n---\n\nThis includes headers, query parameters, and cookies."},"routeRewrites":{"description":"#### Redirects specific requests to a different origin.\n\n---\n\nEach incoming request to the CDN is evaluated against a list of route rewrites. If the request path matches a rewrite's path pattern, it is sent to the configured route.\n\nRoute rewrites are evaluated in order, and the first match determines where the request will be sent.\nIf no match is found, the request is sent to the default origin (the resource the CDN is attached to).\n\n**Example Use Cases:**\n- Serving static content from a bucket while routing dynamic paths to a Lambda function.\n- Caching `.jpg` files for a longer duration than other file types.","type":"array","items":{"$ref":"#/definitions/CdnRouteRewrite"}},"customDomains":{"description":"#### Attaches custom domains to this CDN.\n\n---\n\nWhen you connect a custom domain, Stacktape automatically:\n\n- **Creates DNS records:** A DNS record is created to point your domain name to the resource.\n- **Adds TLS certificates:** If the resource uses HTTPS, Stacktape issues and attaches a free, AWS-managed TLS certificate, handling TLS termination for you.\n\n> To manage a custom domain, it first needs to be added to your AWS account.\n> This means that a [hosted zone](https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/AboutHZWorkingWith.html)\n> (collection of records managed together for a given domain)\n> for your domain exists in your AWS account and your domain registrar's name servers are pointing to it.\n> To learn more, refer to [Adding a domain guide](https://docs.stacktape.com/other-resources/domains-and-certificates/#adding-domain).","type":"array","items":{"$ref":"#/definitions/DomainConfiguration"}},"edgeFunctions":{"$ref":"#/definitions/EdgeFunctionsConfig","description":"#### Configures Edge function triggers.\n\n---\n\nYou can associate an `edge-lambda-function` with the CDN to be executed at different stages:\n\n- `onRequest`: Executed when the CDN receives a request from a client, before checking the cache.\n- `onResponse`: Executed before returning a response to the client.\n\n**Potential Use Cases:**\n- Generating an immediate HTTP response without checking the cache or forwarding to the origin.\n- Modifying the request (e.g., rewriting the URL or headers) before forwarding to the origin.\n- Inspecting cookies or validating authorization headers and tokens."},"cloudfrontPriceClass":{"description":"#### Configures the locations from which the CDN serves traffic.\n\n---\n\nA higher price class results in more edge locations serving your traffic, which can improve performance in some regions but is more costly.\n\nFor example, if your users are primarily located in the US and Europe, you can save money by using `PriceClass_100`.\n\nFor more details, see the [AWS documentation on price classes](https://aws.amazon.com/cloudfront/pricing/).","default":"PriceClass_All","enum":["PriceClass_100","PriceClass_200","PriceClass_All"],"type":"string"},"defaultRoutePrefix":{"description":"#### Prefixes requests to the origin with a specified path.\n\n---\n\nIncoming requests will be prefixed with `defaultRoutePrefix` before being forwarded to the origin.\nFor example, if the CDN receives a request for `/my/resource/url`, the request will be sent to the origin as `/your_prefix/my/resource/url`.","type":"string"},"errorDocument":{"description":"#### The custom error document URL.\n\n---\n\nThis document is requested by the CDN if the original request to the origin returns a `404` error code.\n\nExample: `/error.html`","default":"/404.html","type":"string"},"indexDocument":{"description":"#### The custom index document served for requests to the root path (`/`).\n\n---","default":"/index.html","type":"string"},"disableInvalidationAfterDeploy":{"description":"#### Disables invalidation of the CDN cache after each deployment.\n\n---\n\nBy default, the cache is invalidated after every deployment to prevent serving outdated content.\nWhen the cache is invalidated, the CDN flushes all cached content, and new requests are sent directly to the origin.","default":false,"type":"boolean"},"useFirewall":{"description":"#### The name of the `web-app-firewall` resource to use with your CDN.\n\n---\n\nA `web-app-firewall` can protect your resources from common web exploits that could affect availability, compromise security, or consume excessive resources.\nThe firewall works by filtering malicious requests before they reach your application.\n\nFor more information, see the [firewall documentation](https://docs.stacktape.com/security-resources/web-app-firewalls/).","type":"string"}},"additionalProperties":false,"required":["enabled"]},"UserAuthPool":{"description":"#### A resource for managing user authentication and authorization.\n\n---\n\nA user pool is a fully managed identity provider that handles user sign-up, sign-in, and access control.\nIt provides a secure and scalable way to manage user identities for your applications.","type":"object","properties":{"type":{"type":"string","const":"user-auth-pool"},"properties":{"$ref":"#/definitions/UserAuthPoolProps"},"overrides":{"description":"#### Resource Overrides\n\n---\n\nOverrides properties of the underlying CloudFormation resources that Stacktape creates.\n\nChild resources are identified by their CloudFormation logical ID (e.g., `MyBucketBucket`). You can find these IDs by running `stacktape stack:info --detailed`.\n\nFor a list of properties that can be overridden, refer to the [AWS CloudFormation documentation](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html).","type":"object","additionalProperties":{"type":"object","additionalProperties":{}}}},"additionalProperties":false,"required":["type"]},"UserAuthPoolProps":{"type":"object","properties":{"allowOnlyAdminsToCreateAccount":{"description":"#### Restrict account creation to administrators\n\n---\n\nIf enabled, new users can't sign up themselves. Accounts must be created through an admin flow (for example from an internal admin tool or script),\nwhich helps prevent unwanted self-registrations.\n\nInternally this controls `AdminCreateUserConfig.AllowAdminCreateUserOnly` on the Cognito user pool\n([AWS::Cognito::UserPool](https://docs.aws.amazon.com/AWSCloudFormation/latest/TemplateReference/aws-resource-cognito-userpool)).","default":false,"type":"boolean"},"unusedAccountValidityDays":{"description":"#### Expire unused admin-created accounts\n\n---\n\nWhen an admin creates a user account, Cognito issues a temporary password. This setting controls how many days that temporary password\n(and the corresponding account) stays valid if the user never signs in.\n\nInternally this maps to `AdminCreateUserConfig.UnusedAccountValidityDays`.","default":31,"type":"number"},"requireEmailVerification":{"description":"#### (Reserved) Require verified emails\n\n---\n\nPresent for forward compatibility. Stacktape currently derives email / phone verification behavior from `userVerificationType`,\nnot from this flag directly.\n\nTo require email-based verification today, use `userVerificationType: 'email-link' | 'email-code'` instead.","type":"boolean"},"requirePhoneNumberVerification":{"description":"#### (Reserved) Require verified phone numbers\n\n---\n\nPresent for forward compatibility. Stacktape currently derives email / phone verification behavior from `userVerificationType`,\nnot from this flag directly.\n\nTo require SMS-based verification today, use `userVerificationType: 'sms'`.","type":"boolean"},"enableHostedUi":{"description":"#### Enable the Cognito Hosted UI\n\n---\n\nTurns on Cognito's Hosted UI  a pre-built, hosted login and registration page  so you don't have to build your own auth screens.\nThis is useful when you want to get started quickly or keep authentication logic outside of your main app.","default":false,"type":"boolean"},"hostedUiDomainPrefix":{"description":"#### Hosted UI domain prefix\n\n---\n\nSets the first part of your Hosted UI URL: `https://<prefix>.auth.<region>.amazoncognito.com`.\nPick something that matches your project or company name.","type":"string"},"hostedUiCSS":{"description":"#### Custom CSS for the Hosted UI\n\n---\n\nLets you override the default Cognito Hosted UI styling with your own CSS (colors, fonts, layouts, etc.),\nso the login experience matches the rest of your application.\n\nBehind the scenes this is applied using the `AWS::Cognito::UserPoolUICustomizationAttachment` resource.","type":"string"},"hooks":{"$ref":"#/definitions/UserPoolHooks","description":"#### Lambda triggers for the user pool\n\n---\n\nConnects AWS Lambda functions to Cognito \"hooks\" (triggers) such as pre-sign-up, post-confirmation, or token generation.\nYou can use these to enforce additional validation, enrich user profiles, migrate users from another system, and more.\n\nInternally this maps to the Cognito user pool `LambdaConfig`."},"emailConfiguration":{"$ref":"#/definitions/EmailConfiguration","description":"#### Email delivery settings\n\n---\n\nControls how Cognito sends emails (verification messages, password reset codes, admin invitations, etc.).\nYou can either use Cognito's built-in email service or plug in your own SES identity for full control over the sender.\n\nThis config is used to build the Cognito `EmailConfiguration` block\n([AWS docs](https://docs.aws.amazon.com/AWSCloudFormation/latest/TemplateReference/aws-resource-cognito-userpool))."},"inviteMessageConfig":{"$ref":"#/definitions/InviteMessageConfig","description":"#### Invite message overrides\n\n---\n\nCustomizes the contents of the \"invitation\" message that users receive when an administrator creates their account\n(for example, when sending a temporary password and sign-in instructions).\n\nIf you want to send custom emails through SES, you must also configure `emailConfiguration.sesAddressArn`."},"userVerificationType":{"$ref":"#/definitions/UserVerificationType","description":"#### Verification strategy\n\n---\n\nChooses how new users prove that they own their contact information:\n\n- `email-link`: Cognito emails a clickable link.\n- `email-code`: Cognito emails a short numeric code.\n- `sms`: Cognito sends a code via SMS to the user's phone number.\n- `none`: Users aren't required to verify email or phone during sign-up.\n\nStacktape uses this value to configure `AutoVerifiedAttributes` and `VerificationMessageTemplate`\non the underlying Cognito user pool."},"userVerificationMessageConfig":{"$ref":"#/definitions/UserVerificationMessageConfig","description":"#### Verification message text\n\n---\n\nLets you customize the exact email and SMS texts that Cognito sends when asking users to verify their email / phone.\nFor example, you can change subjects, body text, or the message that contains the `{####}` verification code."},"mfaConfiguration":{"$ref":"#/definitions/MfaConfiguration","description":"#### Multi-factor authentication\n\n---\n\nControls whether you use MultiFactor Authentication (MFA) and which second factors are allowed.\nMFA makes it much harder for attackers to access accounts even if they know a user's password.\n\nUnder the hood this config drives both the `MfaConfiguration` and `EnabledMfas` properties in Cognito\n(see \"MFA configuration\" in the\n[AWS::Cognito::UserPool docs](https://docs.aws.amazon.com/AWSCloudFormation/latest/TemplateReference/aws-resource-cognito-userpool))."},"passwordPolicy":{"$ref":"#/definitions/PasswordPolicy","description":"#### Password strength rules\n\n---\n\nDefines how strong user passwords must be  minimum length and whether they must include lowercase, uppercase,\nnumbers, and/or symbols  plus how long temporary passwords issued to new users remain valid.\n\nThis is applied to the Cognito `Policies.PasswordPolicy` block."},"schema":{"description":"#### Custom attributes schema\n\n---\n\nLets you define additional attributes (like `role`, `plan`, `companyId`, etc.) that are stored on each user,\nincluding their data type and validation constraints.\n\nThese translate into the Cognito user pool `Schema` entries\n([schema docs](https://docs.aws.amazon.com/AWSCloudFormation/latest/TemplateReference/aws-resource-cognito-userpool)).","type":"array","items":{"$ref":"#/definitions/AttributeSchema"}},"allowPhoneNumberAsUserName":{"description":"#### Allow phone numbers as usernames\n\n---\n\nIf enabled (the default), users can sign in using their phone number in addition to any traditional username.\nTurning this off means phone numbers can still be stored, but can't be used to log in.\n\nThis is implemented via Cognito's `UsernameAttributes` configuration.","default":true,"type":"boolean"},"allowEmailAsUserName":{"description":"#### Allow email addresses as usernames\n\n---\n\nIf enabled (the default), users can sign in using their email address instead of a dedicated username.\nTurning this off means emails can still be stored, but can't be used to log in directly.\n\nThis is also controlled through Cognito `UsernameAttributes`.","default":true,"type":"boolean"},"accessTokenValiditySeconds":{"description":"#### Access token lifetime\n\n---\n\nControls how long an access token issued by Cognito stays valid after login. Shorter lifetimes reduce the window\nin which a stolen token can be abused, at the cost of more frequent refreshes.\n\nThis value is passed to the user pool client as `AccessTokenValidity`.","type":"number"},"idTokenValiditySeconds":{"description":"#### ID token lifetime\n\n---\n\nControls how long an ID token (which contains user profile and claims) is accepted before clients must obtain a new one.\n\nThis is set on the user pool client as `IdTokenValidity`.","type":"number"},"refreshTokenValidityDays":{"description":"#### Refresh token lifetime\n\n---\n\nSets for how many days a refresh token can be used to obtain new access / ID tokens without requiring the user to sign in again.\nLonger lifetimes mean fewer re-authentications, but keep sessions alive for longer.\n\nThis value is used as `RefreshTokenValidity` on the Cognito user pool client.","type":"number"},"allowedOAuthFlows":{"description":"#### OAuth flows\n\n---\n\nSpecifies which OAuth 2.0 flows the user pool client is allowed to use:\n\n- `code`: Authorization Code flow (recommended for web apps and backends).\n- `implicit`: Implicit flow (legacy browser-only flow).\n- `client_credentials`: Servertoserver (no end user) machine credentials.\n\nThese values populate `AllowedOAuthFlows` on the Cognito user pool client\n([AWS::Cognito::UserPoolClient](https://docs.aws.amazon.com/AWSCloudFormation/latest/TemplateReference/aws-resource-cognito-userpoolclient)).","type":"array","items":{"$ref":"#/definitions/AllowedOauthFlow"}},"allowedOAuthScopes":{"description":"#### OAuth scopes\n\n---\n\nLists which scopes clients can request when using OAuth (for example `email`, `openid`, `profile`).\nScopes control which user information and permissions your app receives in tokens.\n\nThese values are passed to the user pool client as `AllowedOAuthScopes`.","type":"array","items":{"type":"string"}},"callbackURLs":{"description":"#### OAuth callback URLs\n\n---\n\nThe allowed URLs where Cognito is permitted to redirect users after successful authentication.\nThese must exactly match the URLs registered with your frontend / backend, otherwise the redirect will fail.\n\nMapped into `CallbackURLs` and `DefaultRedirectURI` on the user pool client.","type":"array","items":{"type":"string"}},"logoutURLs":{"description":"#### OAuth logout URLs\n\n---\n\nThe URLs Cognito can redirect users to after they log out of the Hosted UI or end their session.\nMust also be explicitly configured so that sign-out redirects don't fail.\n\nThese populate the `LogoutURLs` list on the user pool client.","type":"array","items":{"type":"string"}},"identityProviders":{"description":"#### External identity providers\n\n---\n\nAllows users to sign in with thirdparty identity providers like Google, Facebook, Login with Amazon, OIDC, SAML, or Sign in with Apple.\nEach entry configures one external provider (client ID/secret, attribute mapping, requested scopes, and advanced providerspecific options).\n\nUnder the hood Stacktape creates separate `AWS::Cognito::UserPoolIdentityProvider` resources and registers them\nin the user pool client's `SupportedIdentityProviders`.","type":"array","items":{"$ref":"#/definitions/IdentityProvider"}},"useFirewall":{"description":"#### Associate a WAF\n\n---\n\nLinks the user pool to a `web-app-firewall` resource, so requests to the Hosted UI and token endpoints are inspected\nby AWS WAF rules you configure in Stacktape.\n\nStacktape does this by creating a `WebACLAssociation` between the user pool and the referenced firewall.","type":"string"},"generateClientSecret":{"description":"#### Generate a client secret\n\n---\n\nAsks Cognito to generate a secret for the user pool client. Use this when you have trusted backends (like APIs or serverside apps)\nthat can safely store a client secret and use confidential OAuth flows.\n\nThis flag controls the `GenerateSecret` property on the user pool client.","default":false,"type":"boolean"},"allowOnlyExternalIdentityProviders":{"description":"#### Force external identity providers\n\n---\n\nIf `true`, users can't sign in with a username/password against the Cognito user directory at all.\nInstead, they must always use one of the configured external identity providers (Google, SAML, etc.).\n\nInternally this removes `COGNITO` from `SupportedIdentityProviders` on the user pool client.","default":false,"type":"boolean"}},"additionalProperties":false},"UserPoolHooks":{"type":"object","properties":{"customMessage":{"description":"#### Custom message hook\n\nTriggered whenever Cognito is about to send an email or SMS (signup, verification, password reset, etc.).\nLets you fully customize message contents or dynamically choose language/branding.\n\nValue must be the ARN of a Lambda function configured to handle the \"Custom Message\" trigger.","type":"string"},"postAuthentication":{"description":"#### Post-authentication hook\n\nRuns after a user has successfully authenticated. You can use this to record analytics, update lastlogin timestamps,\nor block access based on additional checks.","type":"string"},"postConfirmation":{"description":"#### Post-confirmation hook\n\nRuns right after a user confirms their account (for example via email link or admin confirmation).\nThis is often used to create user records in your own database or to provision resources.","type":"string"},"preAuthentication":{"description":"#### Pre-authentication hook\n\nInvoked just before Cognito validates a user's credentials. You can use this to block signin attempts\nbased on IP, device, or user state (for example, softdeleting an account).","type":"string"},"preSignUp":{"description":"#### Pre-sign-up hook\n\nCalled before a new user is created. Useful for validating input, autoconfirming trusted users,\nor blocking signups that don't meet your business rules.","type":"string"},"preTokenGeneration":{"description":"#### Pre-token-generation hook\n\nRuns right before Cognito issues tokens. Lets you customize token claims (for example, adding roles or flags)\nbased on external systems or additional logic.","type":"string"},"userMigration":{"description":"#### User migration hook\n\nLets you migrate users onthefly from another user store. When someone tries to sign in but doesn't exist in Cognito,\nthis trigger can look them up elsewhere, import them, and let the signin continue.","type":"string"},"createAuthChallenge":{"description":"#### Create auth challenge hook\n\nPart of Cognito's custom auth flow. This trigger is used to generate a challenge (for example sending a custom OTP)\nafter `DefineAuthChallenge` decides a challenge is needed.","type":"string"},"defineAuthChallenge":{"description":"#### Define auth challenge hook\n\nAlso part of the custom auth flow. It decides whether a user needs another challenge, has passed, or has failed,\nbased on previous challenges and responses.","type":"string"},"verifyAuthChallengeResponse":{"description":"#### Verify auth challenge response hook\n\nValidates the user's response to a custom challenge (for example, checking an OTP the user provides).","type":"string"}},"additionalProperties":false},"EmailConfiguration":{"type":"object","properties":{"sesAddressArn":{"description":"#### SES identity to send emails from\n\n---\n\nARN of an SES verified identity (email address or domain) that Cognito should use when sending emails.\nRequired when you want full control over sending (for example for MFA via `EMAIL_OTP`), because Cognito\nmust switch into `DEVELOPER` email sending mode.","type":"string"},"from":{"description":"#### From address\n\n---\n\nThe email address that appears in the \"From\" field of messages sent by Cognito (if you're using SES).\nThis address must be verified in SES if you're sending through your own identity.","type":"string"},"replyToEmailAddress":{"description":"#### Reply-to address\n\n---\n\nOptional address where replies to Cognito emails should be delivered.\nIf not set, replies go to the `from` address (or the default Cognito sender).","type":"string"}},"additionalProperties":false},"InviteMessageConfig":{"type":"object","properties":{"emailMessage":{"description":"#### Invitation email body\n\n---\n\nThe text of the email sent when an administrator creates a new user.\nYou can reference placeholders like `{username}` and `{####}` (temporary password or code) in the message.","type":"string"},"emailSubject":{"description":"#### Invitation email subject","type":"string"},"smsMessage":{"description":"#### Invitation SMS body\n\n---\n\nThe content of the SMS message sent when new users are created with a phone number.\nAs with email, you can include placeholders such as `{username}` and `{####}`.","type":"string"}},"additionalProperties":false},"UserVerificationType":{"enum":["email-code","email-link","none","sms"],"type":"string"},"UserVerificationMessageConfig":{"type":"object","properties":{"emailMessageUsingCode":{"description":"#### Email body when verifying with a code\n\nUsed when `userVerificationType` is `email-code`. The message typically contains a `{####}` placeholder\nthat Cognito replaces with a onetime verification code.","type":"string"},"emailMessageUsingLink":{"description":"#### Email body when verifying with a link\n\nUsed when `userVerificationType` is `email-link`. Cognito replaces special markers like `{##verify your email##}`\nwith a clickable URL.","type":"string"},"emailSubjectUsingCode":{"description":"#### Email subject when verifying with a code","type":"string"},"emailSubjectUsingLink":{"description":"#### Email subject when verifying with a link","type":"string"},"smsMessage":{"description":"#### SMS verification message\n\n---\n\nText of the SMS Cognito sends when verifying a phone number (for example containing `{####}`).","type":"string"}},"additionalProperties":false},"MfaConfiguration":{"type":"object","properties":{"status":{"description":"#### MFA requirement\n\n- `OFF`: MFA is completely disabled.\n- `ON`: All users must complete MFA during signin.\n- `OPTIONAL`: Users can opt in to MFA; it's recommended but not strictly required.\n\nThis value configures the Cognito `MfaConfiguration` property.","enum":["OFF","ON","OPTIONAL"],"type":"string"},"enabledTypes":{"description":"#### Enabled MFA factor types\n\n---\n\nChooses which MFA methods users can use:\n\n- `SMS`: Onetime codes are sent via text message. Requires an SNS role so Cognito can send SMS.\n- `SOFTWARE_TOKEN`: Timebased onetime codes from an authenticator app.\n- `EMAIL_OTP`: Codes are sent by email. AWS requires that you configure a developer email sending identity\n  (which Stacktape does when you provide `emailConfiguration.sesAddressArn`).\n\nThese values are mapped to Cognito's `EnabledMfas` setting (`SMS_MFA`, `SOFTWARE_TOKEN_MFA`, `EMAIL_OTP`),\nwhose behavior is described in\n[EnabledMfas in the AWS::Cognito::UserPool docs](https://docs.aws.amazon.com/AWSCloudFormation/latest/TemplateReference/aws-resource-cognito-userpool).","type":"array","items":{"enum":["EMAIL_OTP","SMS","SOFTWARE_TOKEN"],"type":"string"}}},"additionalProperties":false},"PasswordPolicy":{"type":"object","properties":{"minimumLength":{"description":"#### Minimum password length\n\nThe fewest characters a password can have. Longer passwords are generally more secure.","type":"number"},"requireLowercase":{"description":"#### Require at least one lowercase letter","type":"boolean"},"requireNumbers":{"description":"#### Require at least one number","type":"boolean"},"requireSymbols":{"description":"#### Require at least one symbol\n\nSymbols are nonalphanumeric characters such as `!`, `@`, or `#`.","type":"boolean"},"requireUppercase":{"description":"#### Require at least one uppercase letter","type":"boolean"},"temporaryPasswordValidityDays":{"description":"#### Temporary password validity (days)\n\nHow long a temporary password issued to a new user is valid before it must be changed on first signin.","type":"number"}},"additionalProperties":false},"AttributeSchema":{"type":"object","properties":{"name":{"description":"#### Attribute name\n\nThe logical name of the attribute as it appears on the user (for example `given_name`, `plan`, or `tenantId`).","type":"string"},"attributeDataType":{"description":"#### Attribute data type\n\nThe value type stored for this attribute (`String`, `Number`, etc.).\nThis is passed to Cognito's `AttributeDataType`.","type":"string"},"developerOnlyAttribute":{"description":"#### Developer-only attribute\n\nIf true, the attribute is only readable/writable by privileged backend code and not exposed to end users directly.","type":"boolean"},"mutable":{"description":"#### Mutable after sign-up\n\nControls whether the attribute can be changed after it has been initially set.","type":"boolean"},"required":{"description":"#### Required at sign-up\n\nIf true, users must supply this attribute when creating an account.","type":"boolean"},"numberMaxValue":{"description":"#### Maximum numeric value","type":"number"},"numberMinValue":{"description":"#### Minimum numeric value","type":"number"},"stringMaxLength":{"description":"#### Maximum string length","type":"number"},"stringMinLength":{"description":"#### Minimum string length","type":"number"}},"additionalProperties":false},"AllowedOauthFlow":{"enum":["client_credentials","code","implicit"],"type":"string"},"IdentityProvider":{"type":"object","properties":{"type":{"description":"#### Provider type\n\n---\n\nThe kind of external identity provider you want to integrate:\n\n- `Facebook`, `Google`, `LoginWithAmazon`, `SignInWithApple`: social identity providers.\n- `OIDC`: a generic OpenID Connect provider.\n- `SAML`: a SAML 2.0 identity provider (often used for enterprise SSO).","enum":["Facebook","Google","LoginWithAmazon","OIDC","SAML","SignInWithApple"],"type":"string"},"clientId":{"description":"#### OAuth / OIDC client ID\n\n---\n\nThe client ID (sometimes called app ID) that you obtained from the external provider's console.\nCognito presents this ID when redirecting users to the provider.","type":"string"},"clientSecret":{"description":"#### OAuth / OIDC client secret\n\n---\n\nThe client secret associated with the `clientId`, used by Cognito when exchanging authorization codes for tokens.\nThis value should be kept confidential and only configured from secure sources.","type":"string"},"attributeMapping":{"description":"#### Attribute mapping\n\n---\n\nMaps attributes from the external provider (for example `email`, `given_name`) to Cognito user pool attributes.\nKeys are Cognito attribute names, values are attribute names from the identity provider.\n\nIf not provided, Stacktape defaults to mapping `email -> email`.","type":"object","additionalProperties":{"type":"string"}},"authorizeScopes":{"description":"#### Requested scopes\n\n---\n\nAdditional OAuth scopes to request from the identity provider (for example `openid`, `email`, `profile`).\nThese control which pieces of user information and permissions your app receives in the provider's tokens.\n\nIf omitted, Stacktape uses a reasonable default per provider (see\n[AWS::Cognito::UserPoolIdentityProvider](https://docs.aws.amazon.com/AWSCloudFormation/latest/TemplateReference/aws-resource-cognito-userpoolidentityprovider)).","type":"array","items":{"type":"string"}},"providerDetails":{"$ref":"#/definitions/Record<string,any>","description":"#### Advanced provider options\n\n---\n\nLowlevel configuration passed directly into Cognito's `ProviderDetails` map.\nYou can use this to override endpoints or supply providerspecific keys as documented by AWS,\nfor example `authorize_url`, `token_url`, `attributes_request_method`, `oidc_issuer`, and others.\n\nIn most cases you don't need to set this  Stacktape configures sensible defaults for common providers."}},"additionalProperties":false,"required":["clientId","clientSecret","type"]},"Record<string,any>":{"type":"object","additionalProperties":false},"EventBus":{"description":"#### Event Bus\n\n---\n\nAn event bus that receives events from your applications. Other services can be configured to react to events on the bus. It simplifies building event-driven architectures by decoupling event producers and consumers.\n\nFor more information, see the [AWS documentation on Amazon EventBridge](https://docs.aws.amazon.com/eventbridge/latest/userguide/eb-event-buses.html).","type":"object","properties":{"type":{"type":"string","const":"event-bus"},"properties":{"$ref":"#/definitions/EventBusProps"},"overrides":{"description":"#### Resource Overrides\n\n---\n\nOverrides properties of the underlying CloudFormation resources that Stacktape creates.\n\nChild resources are identified by their CloudFormation logical ID (e.g., `MyBucketBucket`). You can find these IDs by running `stacktape stack:info --detailed`.\n\nFor a list of properties that can be overridden, refer to the [AWS CloudFormation documentation](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html).","type":"object","additionalProperties":{"type":"object","additionalProperties":{}}}},"additionalProperties":false,"required":["type"]},"EventBusProps":{"type":"object","properties":{"eventSourceName":{"description":"#### Partner Event Source\n\n---\n\nThe name of the partner event source to associate with this event bus. This is only required if you are creating a partner event bus to receive events from a third-party SaaS partner.\n\nFor more details, refer to the [AWS documentation on partner event buses](https://docs.aws.amazon.com/eventbridge/latest/userguide/eb-partner-event-buses.html).","type":"string"},"archivation":{"$ref":"#/definitions/EventBusArchivation","description":"#### Event Archiving\n\n---\n\nConfigures event archiving, allowing you to store and replay past events. This is useful for testing, debugging, or recovering from errors."}},"additionalProperties":false},"EventBusArchivation":{"type":"object","properties":{"enabled":{"description":"#### Enable Archiving\n\n---\n\nIf `true`, events sent to this event bus will be archived.\n\nNote: Disabling the archive will result in its deletion.","default":false,"type":"boolean"},"retentionDays":{"description":"#### Retention Period\n\n---\n\nThe number of days to retain archived events. Default is indefinitely.","type":"number"}},"additionalProperties":false,"required":["enabled"]},"Bastion":{"description":"#### Bastion Host\n\n---\n\nA bastion host instance that helps you access resources in your stack that are protected within a private network.\nIt leverages keyless SSH connections and tunnels for maximum security.","type":"object","properties":{"type":{"type":"string","const":"bastion"},"properties":{"$ref":"#/definitions/BastionProps"},"overrides":{"description":"#### Resource Overrides\n\n---\n\nOverrides properties of the underlying CloudFormation resources that Stacktape creates.\n\nChild resources are identified by their CloudFormation logical ID (e.g., `MyBucketBucket`). You can find these IDs by running `stacktape stack:info --detailed`.\n\nFor a list of properties that can be overridden, refer to the [AWS CloudFormation documentation](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html).","type":"object","additionalProperties":{"type":"object","additionalProperties":{}}}},"additionalProperties":false,"required":["type"]},"BastionProps":{"type":"object","properties":{"instanceSize":{"description":"#### The instance size for the bastion host.\n\n---","default":"t3.micro","type":"string"},"runCommandsAtLaunch":{"description":"#### Commands to be run on the launch of the bastion instance.\n\n---\n\n- Commands are run as the `root` user (do not use `sudo`).\n- Modifying this list after the bastion host has been created will force a replacement of the instance, meaning any manually created data on the old instance will be lost.\n- Use this to install dependencies and packages that may be required for your bastion scripts.","type":"array","items":{"type":"string"}},"logging":{"$ref":"#/definitions/BastionLoggingConfig","description":"#### Configures logging for the bastion host.\n\n---\n\nMultiple log types are collected from the bastion host, and you can specify the logging behavior for each type."}},"additionalProperties":false},"BastionLoggingConfig":{"type":"object","properties":{"messages":{"$ref":"#/definitions/BastionLogging","description":"#### Configures logging for `/var/log/messages`.\n\n---\n\nThis log group collects global system messages, including those logged during system startup.\nBy default, these logs are retained for 30 days."},"secure":{"$ref":"#/definitions/BastionLogging","description":"#### Configures logging for `/var/log/secure`.\n\n---\n\nThis log group collects information related to authentication and authorization, such as SSH login attempts.\nBy default, these logs are retained for 180 days."},"audit":{"$ref":"#/definitions/BastionLogging","description":"#### Configures logging for `/var/log/audit/audit.log`.\n\n---\n\nThis log group contains a detailed record of security-related events generated by the Linux audit system.\nBy default, these logs are retained for 365 days."}},"additionalProperties":false},"BastionLogging":{"type":"object","properties":{"disabled":{"description":"#### Disables the collection of logs to CloudWatch.\n\n---","default":false,"type":"boolean"},"retentionDays":{"description":"#### The number of days to retain logs in the CloudWatch log group.","enum":[1,120,14,150,180,1827,3,30,365,3653,400,5,545,60,7,731,90],"type":"number"},"logForwarding":{"description":"#### Log Forwarding\n\n---\n\nForwards logs to a specified destination for monitoring, analysis, or long-term storage.\n\nLog forwarding is handled by an [Amazon Kinesis Data Firehose](https://aws.amazon.com/kinesis/data-firehose/) delivery stream. You will incur costs based on the volume of data transferred (approximately $0.03 per GB). For detailed pricing, see the [AWS Kinesis Firehose Pricing](https://aws.amazon.com/kinesis/data-firehose/pricing/) page.\n\nSupported destinations:\n- `http-endpoint`: Delivers logs to any HTTP endpoint that complies with [Firehose request and response specifications](https://docs.aws.amazon.com/firehose/latest/dev/httpdeliveryrequestresponse.html). Many third-party logging services are compatible out-of-the-box.\n- `datadog`: Delivers logs to [Datadog](https://www.datadoghq.com/).\n- `highlight`: Delivers logs to a [Highlight.io](https://www.highlight.io/) project.\n\nFor more information, refer to the [Stacktape documentation on log forwarding](https://docs.stacktape.com/configuration/log-forwarding/).\n\n> If logs fail to be delivered after multiple retries, they are stored in a backup S3 bucket named `{stackName}-{resourceName}-logs-{generatedHash}`. The retry duration can be configured.","anyOf":[{"$ref":"#/definitions/HttpEndpointLogForwarding"},{"$ref":"#/definitions/HighlightLogForwarding"},{"$ref":"#/definitions/DatadogLogForwarding"}]}},"additionalProperties":false},"DynamoDbTable":{"description":"#### DynamoDB Table\n\n---\n\nA fully managed, serverless, and highly available key-value and document database that delivers single-digit millisecond performance at any scale.","type":"object","properties":{"type":{"type":"string","const":"dynamo-db-table"},"properties":{"$ref":"#/definitions/DynamoDbTableProps"},"overrides":{"description":"#### Resource Overrides\n\n---\n\nOverrides properties of the underlying CloudFormation resources that Stacktape creates.\n\nChild resources are identified by their CloudFormation logical ID (e.g., `MyBucketBucket`). You can find these IDs by running `stacktape stack:info --detailed`.\n\nFor a list of properties that can be overridden, refer to the [AWS CloudFormation documentation](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html).","type":"object","additionalProperties":{"type":"object","additionalProperties":{}}}},"additionalProperties":false,"required":["properties","type"]},"DynamoDbTableProps":{"type":"object","properties":{"primaryKey":{"$ref":"#/definitions/DynamoDbTablePrimaryKey","description":"#### Configures the primary key for the table.\n\n---\n\nThe primary key uniquely identifies each item in the table. Two types of primary keys are supported:\n\n- **Simple primary key**: Composed of one attribute, the `partitionKey`.\n- **Composite primary key**: Composed of two attributes, the `partitionKey` and the `sortKey`.\n\nThe primary key cannot be modified after the table is created, and each item in the table must include the primary key attribute(s).\n\nFor more details, see the [AWS documentation on primary keys](https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/HowItWorks.CoreComponents.html#HowItWorks.CoreComponents.PrimaryKey)."},"provisionedThroughput":{"$ref":"#/definitions/DynamoDbProvisionedThroughput","description":"#### Configures the read and write throughput capabilities of the table.\n\n---\n\n- **Provisioned mode**: If you specify `provisionedThroughput`, you must set the read and write capacity for your table. This can provide cost predictability but may not handle unpredictable loads.\n- **On-demand mode**: If `provisionedThroughput` is not configured, the table runs in on-demand mode, and you pay only for what you use.\n\nFor more details on the differences between these modes, see the [AWS documentation](https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/HowItWorks.ReadWriteCapacityMode.html)."},"enablePointInTimeRecovery":{"description":"#### Enables continuous backups with point-in-time recovery.\n\n---\n\nPoint-in-time recovery allows you to restore a table to any point in time within the last 35 days.\nThe recovery process always restores the data to a new table.\n\nEnabling this feature may result in additional charges. For more details, see the [AWS DynamoDB pricing page](https://aws.amazon.com/dynamodb/pricing/on-demand/#DynamoDB_detailed_feature_pricing).","type":"boolean"},"streamType":{"description":"#### Enables streaming of item changes and configures the stream type.\n\n---\n\nThe stream type determines what information is written to the stream when an item in the table is modified.\nStreams can be consumed by [functions](https://docs.stacktape.com/compute-resources/lambda-functions/#dynamo-db-stream-event) and [batch jobs](https://docs.stacktape.com/compute-resources/batch-jobs/#dynamo-db-event).\n\nAllowed values are:\n- `KEYS_ONLY`: Only the key attributes of the modified item are written to the stream.\n- `NEW_IMAGE`: The entire item, as it appears after it was modified, is written to the stream.\n- `OLD_IMAGE`: The entire item, as it appeared before it was modified, is written to the stream.\n- `NEW_AND_OLD_IMAGES`: Both the new and old images of the item are written to the stream.","enum":["KEYS_ONLY","NEW_AND_OLD_IMAGES","NEW_IMAGE","OLD_IMAGE"],"type":"string"},"secondaryIndexes":{"description":"#### A list of global secondary indexes for this table.\n\n---\n\nBy default, you can only query items in a DynamoDB table based on primary key attributes.\nGlobal secondary indexes allow you to perform queries using a variety of different attributes.\n\nFor more details, see the [AWS documentation on secondary indexes](https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/GSI.html).","type":"array","items":{"$ref":"#/definitions/DynamoDbTableGlobalSecondaryIndex"}},"dev":{"$ref":"#/definitions/DevModeConfig","description":"#### Dev Mode Configuration\n\n---\n\nConfigures how this DynamoDB table behaves during `stacktape dev` mode.\nBy default, DynamoDB runs locally using Docker. Set `dev.remote: true` to connect to the deployed AWS DynamoDB table instead."}},"additionalProperties":false,"required":["primaryKey"]},"DynamoDbTablePrimaryKey":{"type":"object","properties":{"partitionKey":{"$ref":"#/definitions/DynamoDbAttribute","description":"#### Specifies the partition key for the table.\n\n---\n\nIf a table has only a `partitionKey` and no `sortKey`, no two items can have the same partition key.\nDynamoDB uses the partition key's value as input to an internal hash function, which determines the partition (physical storage) where the item is stored."},"sortKey":{"$ref":"#/definitions/DynamoDbAttribute","description":"#### Specifies the sort key for the table.\n\n---\n\nUsing a `sortKey` provides additional flexibility when querying data.\nIn a table with a `partitionKey` and a `sortKey`, multiple items can have the same partition key, but they must have different sort key values.\nAll items with the same partition key are stored together, sorted by the sort key value."}},"additionalProperties":false,"required":["partitionKey"]},"DynamoDbAttribute":{"type":"object","properties":{"name":{"description":"#### The name of the attribute that will be used as a key.","type":"string"},"type":{"description":"#### The type of the attribute that will be used as a key.","enum":["binary","number","string"],"type":"string"}},"additionalProperties":false,"required":["name","type"]},"DynamoDbProvisionedThroughput":{"type":"object","properties":{"readUnits":{"description":"#### The number of read units available per second.\n\n---\n\nEach read unit represents either:\n- One strongly consistent read\n- Two eventually consistent reads\n\nThis applies to items up to 4 KB in size. Reading larger items will consume additional read capacity units.\nIf you exceed the provisioned read capacity, you will receive a `ThrottlingException`.","type":"number"},"writeUnits":{"description":"#### The number of write units available per second.\n\n---\n\nOne write unit represents one write per second for an item up to 1 KB in size.\nWriting larger items will consume additional write capacity units.\nIf you exceed the provisioned write capacity, you will receive a `ThrottlingException`.","type":"number"},"writeScaling":{"$ref":"#/definitions/DynamoDbWriteScaling","description":"#### Auto-scaling configuration for write units.\n\n---\n\nEven in provisioned mode, you can configure throughput to scale based on load.\nThe table throughput scales up or down once the specified thresholds are met.\n\nFor more details, see [this detailed AWS article](https://aws.amazon.com/blogs/database/amazon-dynamodb-auto-scaling-performance-and-cost-optimization-at-any-scale/)."},"readScaling":{"$ref":"#/definitions/DynamoDbReadScaling","description":"#### Auto-scaling configuration for read units.\n\n---\n\nEven in provisioned mode, you can configure throughput to scale based on load.\nThe table throughput scales up or down once the specified thresholds are met.\n\nFor more details, see [this detailed AWS article](https://aws.amazon.com/blogs/database/amazon-dynamodb-auto-scaling-performance-and-cost-optimization-at-any-scale/)."}},"additionalProperties":false,"required":["readUnits","writeUnits"]},"DynamoDbWriteScaling":{"type":"object","properties":{"minUnits":{"description":"#### The minimum number of provisioned write units per second.\n\n---\n\nThe available write units will never scale down below this threshold.","type":"number"},"maxUnits":{"description":"#### The maximum number of provisioned write units per second that the table can scale up to.\n\n---\n\nThe available write units will never scale up above this threshold.","type":"number"},"keepUtilizationUnder":{"description":"#### The target utilization percentage for scaling.\n\n---\n\nIf the table's consumed write capacity exceeds (or falls below) your target utilization for a sustained period, the provisioned capacity will be increased (or decreased).","type":"number"}},"additionalProperties":false,"required":["keepUtilizationUnder","maxUnits","minUnits"]},"DynamoDbReadScaling":{"type":"object","properties":{"minUnits":{"description":"#### The minimum number of provisioned read units per second.\n\n---\n\nThe available read units will never scale down below this threshold.","type":"number"},"maxUnits":{"description":"#### The maximum number of provisioned read units per second that the table can scale up to.\n\n---\n\nThe available read units will never scale up above this threshold.","type":"number"},"keepUtilizationUnder":{"description":"#### The target utilization percentage for scaling.\n\n---\n\nIf the table's consumed read capacity exceeds (or falls below) your target utilization for a sustained period, the provisioned capacity will be increased (or decreased).","type":"number"}},"additionalProperties":false,"required":["keepUtilizationUnder","maxUnits","minUnits"]},"DynamoDbTableGlobalSecondaryIndex":{"type":"object","properties":{"name":{"description":"#### The name of the index.","type":"string"},"partitionKey":{"$ref":"#/definitions/DynamoDbAttribute","description":"#### Specifies the partition key for the index.\n\n---\n\nDynamoDB uses the partition key's value as input to an internal hash function, which determines the partition where the item is stored."},"sortKey":{"$ref":"#/definitions/DynamoDbAttribute","description":"#### Specifies the sort key for the index.\n\n---\n\nUsing a `sortKey` provides additional flexibility when querying data.\nIn an index with a `partitionKey` and a `sortKey`, multiple items can have the same partition key, but they must have different sort key values."},"projections":{"description":"#### A list of attributes that are copied from the table into the global secondary index.\n\n---\n\nWhen querying a secondary index, you can only access attributes that are projected into it.\nBy default, the table's primary key (partition key and sort key) is projected into the index.","type":"array","items":{"type":"string"}}},"additionalProperties":false,"required":["name","partitionKey"]},"StateMachine":{"description":"#### State Machine\n\n---\n\nA state machine allows you to orchestrate and coordinate multiple compute resources to create complex workflows.\nIt is defined using the [Amazon States Language](https://states-language.net/spec.html).","type":"object","properties":{"type":{"type":"string","const":"state-machine"},"properties":{"$ref":"#/definitions/StateMachineProps"},"overrides":{"description":"#### Resource Overrides\n\n---\n\nOverrides properties of the underlying CloudFormation resources that Stacktape creates.\n\nChild resources are identified by their CloudFormation logical ID (e.g., `MyBucketBucket`). You can find these IDs by running `stacktape stack:info --detailed`.\n\nFor a list of properties that can be overridden, refer to the [AWS CloudFormation documentation](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html).","type":"object","additionalProperties":{"type":"object","additionalProperties":{}}}},"additionalProperties":false,"required":["properties","type"]},"StateMachineProps":{"type":"object","properties":{"definition":{"$ref":"#/definitions/StateMachineDefinition","description":"#### The definition of the state machine.\n\n---\n\nThis is written in the [Amazon States Language](https://states-language.net/spec.html)."}},"additionalProperties":false,"required":["definition"]},"StateMachineDefinition":{"type":"object","properties":{"Comment":{"description":"#### A human-readable description of the state machine.","type":"string"},"StartAt":{"description":"#### The name of the state to start the execution at.","type":"string"},"States":{"description":"#### An object containing the states of the state machine.","type":"object","additionalProperties":{"$ref":"#/definitions/State"}},"Version":{"description":"#### The version of the Amazon States Language.","type":"string"},"TimeoutSeconds":{"description":"#### The maximum time, in seconds, that a state machine can run.","type":"number"}},"additionalProperties":false,"required":["StartAt","States"]},"State":{"anyOf":[{"$ref":"#/definitions/Choice"},{"$ref":"#/definitions/Fail"},{"$ref":"#/definitions/StateMachineMap"},{"$ref":"#/definitions/Parallel"},{"$ref":"#/definitions/Pass"},{"$ref":"#/definitions/Succeed"},{"$ref":"#/definitions/Task"},{"$ref":"#/definitions/Wait"}]},"Choice":{"type":"object","properties":{"Type":{"type":"string"},"Next":{"type":"string"},"End":{"type":"boolean","const":true},"Comment":{"type":"string"},"OutputPath":{"type":"string"},"InputPath":{"type":"string"},"Choices":{"type":"array","items":{"$ref":"#/definitions/Operator"}},"Default":{"type":"string"}},"additionalProperties":false,"required":["Choices","Type"]},"Operator":{"type":"object","additionalProperties":{},"properties":{"Variable":{"type":"string"},"Next":{"type":"string"},"And":{"type":"array","items":{"$ref":"#/definitions/Operator"}},"Or":{"type":"array","items":{"$ref":"#/definitions/Operator"}},"Not":{"$ref":"#/definitions/Operator"},"BooleanEquals":{"type":"boolean"},"NumericEquals":{"type":"number"},"NumericGreaterThan":{"type":"number"},"NumericGreaterThanEquals":{"type":"number"},"NumericLessThan":{"type":"number"},"NumericLessThanEquals":{"type":"number"},"StringEquals":{"type":"string"},"StringGreaterThan":{"type":"string"},"StringGreaterThanEquals":{"type":"string"},"StringLessThan":{"type":"string"},"StringLessThanEquals":{"type":"string"},"TimestampEquals":{"type":"string"},"TimestampGreaterThan":{"type":"string"},"TimestampGreaterThanEquals":{"type":"string"},"TimestampLessThan":{"type":"string"},"TimestampLessThanEquals":{"type":"string"}}},"Fail":{"type":"object","properties":{"Type":{"type":"string"},"Comment":{"type":"string"},"OutputPath":{"type":"string"},"InputPath":{"type":"string"},"Cause":{"type":"string"},"Error":{"type":"string"}},"additionalProperties":false,"required":["Type"]},"StateMachineMap":{"type":"object","properties":{"Type":{"type":"string"},"Next":{"type":"string"},"End":{"type":"boolean","const":true},"Comment":{"type":"string"},"OutputPath":{"type":"string"},"InputPath":{"type":"string"},"ResultPath":{"type":"string"},"ItemsPath":{"type":"string"},"MaxConcurrency":{"type":"number"},"Iterator":{"$ref":"#/definitions/StpStateMachine"},"Parameters":{"type":"object","additionalProperties":{}},"Retry":{"type":"array","items":{"type":"object","additionalProperties":{},"properties":{"ErrorEquals":{"type":"array","items":{"type":"string"}},"IntervalSeconds":{"type":"number"},"MaxAttempts":{"type":"number"},"BackoffRate":{"type":"number"}},"required":["ErrorEquals"]}},"Catch":{"type":"array","items":{"type":"object","additionalProperties":{},"properties":{"ErrorEquals":{"type":"array","items":{"type":"string"}},"Next":{"type":"string"}},"required":["ErrorEquals","Next"]}}},"additionalProperties":false,"required":["Iterator","Type"]},"StpStateMachine":{"additionalProperties":false,"type":"object","properties":{"name":{"type":"string"},"type":{"type":"string","const":"state-machine"},"configParentResourceType":{"type":"string","const":"state-machine"},"nameChain":{"type":"array","items":{"type":"string"}}},"required":["configParentResourceType","name","nameChain","type"]},"Parallel":{"type":"object","properties":{"Type":{"type":"string"},"Next":{"type":"string"},"End":{"type":"boolean","const":true},"Comment":{"type":"string"},"OutputPath":{"type":"string"},"InputPath":{"type":"string"},"ResultPath":{"type":"string"},"Branches":{"type":"array","items":{"$ref":"#/definitions/StpStateMachine"}},"Retry":{"type":"array","items":{"type":"object","additionalProperties":{},"properties":{"ErrorEquals":{"type":"array","items":{"type":"string"}},"IntervalSeconds":{"type":"number"},"MaxAttempts":{"type":"number"},"BackoffRate":{"type":"number"}},"required":["ErrorEquals"]}},"Catch":{"type":"array","items":{"type":"object","additionalProperties":{},"properties":{"ErrorEquals":{"type":"array","items":{"type":"string"}},"Next":{"type":"string"}},"required":["ErrorEquals","Next"]}}},"additionalProperties":false,"required":["Branches","Type"]},"Pass":{"type":"object","properties":{"Type":{"type":"string"},"Next":{"type":"string"},"End":{"type":"boolean","const":true},"Comment":{"type":"string"},"OutputPath":{"type":"string"},"InputPath":{"type":"string"},"ResultPath":{"type":"string"},"Parameters":{"type":"object","additionalProperties":{}},"Result":{}},"additionalProperties":false,"required":["Type"]},"Succeed":{"type":"object","properties":{"Type":{"type":"string"},"Comment":{"type":"string"}},"additionalProperties":false,"required":["Type"]},"Task":{"type":"object","properties":{"Type":{"type":"string"},"Next":{"type":"string"},"End":{"type":"boolean","const":true},"Comment":{"type":"string"},"OutputPath":{"type":"string"},"InputPath":{"type":"string"},"Resource":{"anyOf":[{"type":"object","additionalProperties":{}},{"type":"string"}]},"ResultPath":{"type":"string"},"Retry":{"type":"array","items":{"type":"object","additionalProperties":{},"properties":{"ErrorEquals":{"type":"array","items":{"type":"string"}},"IntervalSeconds":{"type":"number"},"MaxAttempts":{"type":"number"},"BackoffRate":{"type":"number"}},"required":["ErrorEquals"]}},"Catch":{"type":"array","items":{"type":"object","additionalProperties":{},"properties":{"ErrorEquals":{"type":"array","items":{"type":"string"}},"Next":{"type":"string"}},"required":["ErrorEquals","Next"]}},"TimeoutSeconds":{"type":"number"},"HeartbeatSeconds":{"type":"number"},"Parameters":{"type":"object","additionalProperties":{}}},"additionalProperties":false,"required":["Resource","Type"]},"Wait":{"type":"object","properties":{"Type":{"type":"string"},"Next":{"type":"string"},"End":{"type":"boolean","const":true},"Comment":{"type":"string"},"OutputPath":{"type":"string"},"InputPath":{"type":"string"},"Seconds":{"type":"number"},"Timestamp":{"type":"string"},"SecondsPath":{"type":"string"},"TimestampPath":{"type":"string"}},"additionalProperties":false,"required":["Type"]},"MongoDbAtlasCluster":{"description":"#### MongoDB Atlas Cluster\n\n---\n\nA fully managed MongoDB Atlas cluster that is automatically deployed to your AWS account and managed within your stack.","type":"object","properties":{"type":{"type":"string","const":"mongo-db-atlas-cluster"},"properties":{"$ref":"#/definitions/MongoDbAtlasClusterProps"}},"additionalProperties":false,"required":["properties","type"]},"MongoDbAtlasClusterProps":{"type":"object","properties":{"diskSizeGB":{"description":"#### The size of the disk, in GB.\n\n---\n\nBy default, all M10+ clusters automatically scale their storage. You can disable this behavior by configuring the `autoScaling` properties.\n\n> This property is not available for shared clusters (M2 and M5). For M10+ clusters, the default disk size depends on the instance size.\n> For more details, see the [MongoDB Atlas documentation](https://docs.atlas.mongodb.com/reference/faq/storage/).","type":"number"},"clusterTier":{"description":"#### Configures the resources for each data-bearing node in the cluster.\n\n---\n\nThis includes memory, default storage, and IOPS specifications.\nFor a list of available cluster tiers, see the [MongoDB Atlas documentation](https://docs.atlas.mongodb.com/reference/amazon-aws/#cluster-configuration-options).","enum":["M10","M100","M140","M2","M20","M200","M200 Low-CPU (R200)","M200_NVME","M30","M300","M300 Low-CPU (R300)","M40","M40 Low-CPU (R40)","M400","M400 Low-CPU (R400)","M400_NVME","M40_NVME","M5","M50","M50 Low-CPU (R50)","M50_NVME","M60","M60 Low-CPU (R60)","M60_NVME","M700","M700 Low-CPU (R700)","M80","M80 Low-CPU (R80)","M80_NVME"],"type":"string"},"version":{"description":"#### The major version of the MongoDB engine.\n\n---\n\nAvailable versions are `5.0`, `6.0`, and `7.0`.","default":7,"enum":["5.0","6.0","7.0"],"type":"string"},"numShards":{"description":"#### The number of shards for the cluster.\n\n---\n\nIf you configure more than one shard, the cluster will run in sharded mode, which distributes data across multiple machines to enable horizontal scaling.\nSharded mode is only available for cluster tiers M30 and higher.\n\nFor more details on sharding, see the [MongoDB documentation](https://www.mongodb.com/basics/sharding).","default":1,"type":"number"},"replication":{"$ref":"#/definitions/MongoDbReplication","description":"#### Configures additional nodes for your cluster.\n\n---\n\nIncreasing the number of nodes can lead to better redundancy and performance.\nBy default, each cluster has three data-bearing nodes that are electable to become the primary."},"enableBackups":{"description":"#### Enables backups for the cluster.\n\n---\n\nBackups are copies of your data that provide a safety measure in the event of data loss.\nThe default snapshot time is every day at 18:00 UTC.\nThis feature is only available for M10+ clusters.\n\nSnapshots are also automatically taken for M2/M5 clusters but have different properties. For more details, see the [M2 and M5 backup documentation](https://docs.atlas.mongodb.com/backup-restore-cluster/#m2---m5-snapshots).\n\nMongoDB Cloud Backup incurs additional charges. For more details, see the [MongoDB Cloud Backup pricing documentation](https://docs.atlas.mongodb.com/billing/cluster-configuration-costs/#cloud-backups).","type":"boolean"},"enablePointInTimeRecovery":{"description":"#### Enables point-in-time recovery.\n\n---\n\nThis feature enables Continuous Cloud Backups, which replay the oplog (a history of ordered logical writes) to allow you to restore a cluster to a specific point in time within the last 7 days.\nIt is only available for M10+ clusters and requires `enableBackups` to be `true`.\n\nContinuous Cloud Backup incurs additional charges. For more details, see the [MongoDB Continuous Cloud Backup pricing documentation](https://docs.atlas.mongodb.com/billing/cluster-configuration-costs/#continuous-cloud-backups).","type":"boolean"},"biConnector":{"$ref":"#/definitions/MongoDbBiConnector","description":"#### Configures the BI (Business Intelligence) Connector.\n\n---\n\nThe BI Connector allows SQL-based access to your data but can be CPU and memory-intensive.\nEnabling the BI Connector on `M10` and `M20` cluster tiers may cause performance degradation."},"autoScaling":{"$ref":"#/definitions/MongoDbAutoScaling","description":"#### Configures the scaling behavior of the cluster.\n\n---\n\nYou can configure your cluster to automatically scale its tier, storage capacity, or both, based on usage.\nTo control costs, you can select a range of cluster tiers to which your cluster can scale.\n\nA cluster is scaled **up** (to the next tier) if:\n- Average CPU utilization has exceeded 75% for the past hour.\n- Memory utilization has exceeded 75% for the past hour.\n\nA cluster is scaled **down** (to a lower tier) if:\n- The average CPU and memory utilization over the past 24 hours is below 50%.\n- The cluster has not been scaled down (manually or automatically) in the past 24 hours."},"adminUserCredentials":{"$ref":"#/definitions/MongoDbAdminUserCredentials","description":"#### Creates and configures a MongoDB Atlas `atlasAdmin` user.\n\n---\n\nThis allows you to create an admin user with [administrative access privileges](https://docs.atlas.mongodb.com/security-add-mongodb-users/#mongodb-atlasrole-Atlas-admin).\n\nWhile not required for accessing the cluster from your compute resources, creating an admin user is useful for performing administrative tasks or connecting to the cluster from a local machine."}},"additionalProperties":false,"required":["clusterTier"]},"MongoDbReplication":{"type":"object","properties":{"numAnalyticsNodes":{"description":"#### The number of analytics nodes.\n\n---\n\nAnalytics nodes are read-only nodes designed for long-running queries.\nUsing analytics nodes avoids impacting the performance of your operational compute resources.\nThey work well with the `biConnector` when the read preference is set to `analytics`.","type":"number"},"numElectableNodes":{"description":"#### The number of electable nodes.\n\n---\n\nElectable nodes can become the primary node, and adding more improves the redundancy and availability of the cluster.","default":3,"enum":[3,5,7],"type":"number"},"numReadOnlyNodes":{"description":"#### The number of read-only nodes.","type":"number"}},"additionalProperties":false},"MongoDbBiConnector":{"type":"object","properties":{"readPreference":{"description":"#### Configures the type of node to which the BI Connector will connect.","enum":["analytics","primary","secondary"],"type":"string"},"enabled":{"description":"#### Enables the BI Connector.","default":false,"type":"boolean"}},"additionalProperties":false,"required":["enabled"]},"MongoDbAutoScaling":{"type":"object","properties":{"minClusterTier":{"description":"#### The minimum cluster tier to scale down to.","enum":["M10","M100","M140","M20","M200","M200 Low-CPU (R200)","M200_NVME","M30","M300","M300 Low-CPU (R300)","M40","M40 Low-CPU (R40)","M400 Low-CPU (R400)","M400_NVME","M40_NVME","M50","M50 Low-CPU (R50)","M50_NVME","M60","M60 Low-CPU (R60)","M60_NVME","M700 Low-CPU (R700)","M80","M80 Low-CPU (R80)","M80_NVME"],"type":"string"},"maxClusterTier":{"description":"#### The maximum cluster tier to scale up to.","enum":["M10","M100","M140","M20","M200","M200 Low-CPU (R200)","M200_NVME","M30","M300","M300 Low-CPU (R300)","M40","M40 Low-CPU (R40)","M400 Low-CPU (R400)","M400_NVME","M40_NVME","M50","M50 Low-CPU (R50)","M50_NVME","M60","M60 Low-CPU (R60)","M60_NVME","M700 Low-CPU (R700)","M80","M80 Low-CPU (R80)","M80_NVME"],"type":"string"},"disableDiskScaling":{"description":"#### Disables disk size scaling.\n\n---\n\nWhen disk scaling is enabled, cluster storage automatically increases when disk space usage reaches 90%, aiming for 70% disk utilization.\nCluster storage is never automatically scaled down.","type":"boolean"},"disableScaleDown":{"description":"#### Disables the scale-down of the cluster tier.\n\n---\n\nWhen scale-down is disabled, the cluster can only scale up to a higher tier.","type":"boolean"}},"additionalProperties":false},"MongoDbAdminUserCredentials":{"type":"object","properties":{"userName":{"description":"#### Name of the admin user","type":"string"},"password":{"description":"#### Password for the admin user","type":"string"}},"additionalProperties":false,"required":["password","userName"]},"RedisCluster":{"description":"#### Redis cluster\n\n---\n\nA fully managed, Redis-compatible in-memory data store with sub-millisecond latency.","type":"object","properties":{"type":{"type":"string","const":"redis-cluster"},"properties":{"$ref":"#/definitions/RedisClusterProps"},"overrides":{"description":"#### Resource Overrides\n\n---\n\nOverrides properties of the underlying CloudFormation resources that Stacktape creates.\n\nChild resources are identified by their CloudFormation logical ID (e.g., `MyBucketBucket`). You can find these IDs by running `stacktape stack:info --detailed`.\n\nFor a list of properties that can be overridden, refer to the [AWS CloudFormation documentation](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html).","type":"object","additionalProperties":{"type":"object","additionalProperties":{}}}},"additionalProperties":false,"required":["properties","type"]},"RedisClusterProps":{"type":"object","properties":{"enableSharding":{"description":"#### Enables sharding for the cluster.\n\n---\n\nSharding allows you to scale your Redis cluster horizontally by splitting the data across multiple shards.\nEach shard is managed by its own cluster, which includes a primary instance and a specified number of replicas.\nYou can increase or decrease the number of shards without interrupting the cluster.\nRouting and re-balancing are handled automatically by AWS.\n\n> **Limitations:**\n> - Sharding can only be enabled when the cluster is first created.\n> - You cannot change the number of replica nodes (`numReplicaNodes`) after a sharded cluster has been created.\n> - `numReplicaNodes` must be at least `1` for sharded clusters.\n\nFor more details, see the [AWS documentation](https://docs.stacktape.com/resources/redis-clusters/#sharded-cluster).","type":"boolean"},"numShards":{"description":"#### The number of shards for the cluster.\n\n---\n\nThis property is only effective when `enableSharding` is `true`.","default":1,"type":"number"},"numReplicaNodes":{"description":"#### The number of replica nodes in the cluster.\n\n---\n\nAdding replica nodes (read replicas) provides two main benefits:\n1.  **Increased read throughput:** Read requests are distributed across the replicas.\n2.  **Increased availability:** If the primary node fails, a replica can be promoted to take its place.\n\nLoad balancing between replicas is handled automatically by AWS.\nFor sharded clusters, this property specifies the number of replicas for each shard.\n\n> **Note:** You cannot change this value for a sharded cluster after it has been created.","default":0,"type":"number"},"enableAutomaticFailover":{"description":"#### Enables automatic failover of the cluster's primary instance.\n\n---\n\nWhen enabled, a replica will automatically be promoted to primary if the original primary node fails.\n`numReplicaNodes` must be at least `1` to use this feature.\nOn sharded clusters, automatic failover is always enabled and cannot be disabled.\n\n> **Important:** If you want to enable automatic failover, you must first deploy the cluster with at least one replica, and then enable failover in a subsequent deployment.\n> Similarly, to disable automatic failover, you must first disable it and then remove the replicas in a separate deployment.","type":"boolean"},"instanceSize":{"description":"#### The instance size for every node in the cluster.\n\n---\n\nThis applies to both primary and replica nodes.\nDifferent instance sizes offer varying amounts of memory and network performance.\nYou can change the instance size without interrupting the cluster or losing data.\n\nFor a detailed list of available instance types, see the [AWS pricing page](https://aws.amazon.com/elasticache/pricing/).","enum":["cache.m4.10xlarge","cache.m4.2xlarge","cache.m4.4xlarge","cache.m4.large","cache.m4.xlarge","cache.m5.12xlarge","cache.m5.24xlarge","cache.m5.2xlarge","cache.m5.4xlarge","cache.m5.large","cache.m5.xlarge","cache.m6g.12xlarge","cache.m6g.16xlarge","cache.m6g.2xlarge","cache.m6g.4xlarge","cache.m6g.8xlarge","cache.m6g.large","cache.m6g.xlarge","cache.m7g.12xlarge","cache.m7g.16xlarge","cache.m7g.2xlarge","cache.m7g.4xlarge","cache.m7g.8xlarge","cache.m7g.large","cache.m7g.xlarge","cache.r4.16xlarge","cache.r4.2xlarge","cache.r4.4xlarge","cache.r4.8xlarge","cache.r4.large","cache.r4.xlarge","cache.r5.12xlarge","cache.r5.24xlarge","cache.r5.2xlarge","cache.r5.4xlarge","cache.r5.large","cache.r5.xlarge","cache.r6g.12xlarge","cache.r6g.16xlarge","cache.r6g.2xlarge","cache.r6g.4xlarge","cache.r6g.8xlarge","cache.r6g.large","cache.r6g.xlarge","cache.r7g.12xlarge","cache.r7g.16xlarge","cache.r7g.2xlarge","cache.r7g.4xlarge","cache.r7g.8xlarge","cache.r7g.large","cache.r7g.xlarge","cache.t2.medium","cache.t2.micro","cache.t2.small","cache.t3.medium","cache.t3.micro","cache.t3.small","cache.t4g.medium","cache.t4g.micro","cache.t4g.small"],"type":"string"},"logging":{"$ref":"#/definitions/RedisLogging","description":"#### Configures the logging behavior and format.\n\n---\n\nThe [slow log](https://redis.io/commands/slowlog) is sent to a dedicated CloudWatch log group.\nBy default, logs are retained for 180 days.\n\nYou can access your logs in two ways:\n1.  **AWS CloudWatch Console:** Use the `stacktape stack-info` command to get a direct link to the log group.\n2.  **Stacktape CLI:** Use the [`stacktape logs` command](https://docs.stacktape.com/cli/commands/logs/) to view logs in your terminal."},"automatedBackupRetentionDays":{"description":"#### The retention period for automated backups, in days.\n\n---\n\n- When set to `0`, automatic backups are disabled.\n- This retention period does not apply to manual backups created in the AWS console or via the API.","default":0,"type":"number"},"port":{"description":"#### The port on which the Redis cluster will listen for connections.","default":6379,"type":"number"},"defaultUserPassword":{"description":"#### The password for the default cluster user.\n\n---\n\nRedis clusters are password-protected, and all communication is encrypted in transit.\nIt is recommended to use [secrets](/resources/secrets/) to manage this password instead of hardcoding it.\n\n**Password Constraints:**\n- Must contain only printable ASCII characters.\n- Must be between 16 and 128 characters long.\n- Cannot contain the following characters: `/`, `\"`, or `@`.","type":"string"},"accessibility":{"$ref":"#/definitions/RedisAccessibility","description":"#### Configures which resources and hosts can access your cluster."},"engineVersion":{"description":"#### The Redis engine version to use.\n\n---","default":6.2,"enum":["6.0","6.2","7.0","7.1"],"type":"string"},"dev":{"$ref":"#/definitions/DevModeConfig","description":"#### Dev Mode Configuration\n\n---\n\nConfigures how this Redis cluster behaves during `stacktape dev` mode.\nBy default, Redis runs locally using Docker. Set `dev.remote: true` to connect to the deployed AWS Redis cluster instead."}},"additionalProperties":false,"required":["defaultUserPassword","instanceSize"]},"RedisLogging":{"type":"object","properties":{"disabled":{"description":"#### Disables the collection of [slow logs](https://redis.io/commands/slowlog-get) to CloudWatch.","default":false,"type":"boolean"},"format":{"description":"#### The format for the logs.","default":"json","enum":["json","text"],"type":"string"},"retentionDays":{"description":"#### The number of days to retain logs in the CloudWatch log group.","default":90,"enum":[1,120,14,150,180,1827,3,30,365,3653,400,5,545,60,7,731,90],"type":"number"},"logForwarding":{"description":"#### Log Forwarding\n\n---\n\nForwards logs to a specified destination for monitoring, analysis, or long-term storage.\n\nLog forwarding is handled by an [Amazon Kinesis Data Firehose](https://aws.amazon.com/kinesis/data-firehose/) delivery stream. You will incur costs based on the volume of data transferred (approximately $0.03 per GB). For detailed pricing, see the [AWS Kinesis Firehose Pricing](https://aws.amazon.com/kinesis/data-firehose/pricing/) page.\n\nSupported destinations:\n- `http-endpoint`: Delivers logs to any HTTP endpoint that complies with [Firehose request and response specifications](https://docs.aws.amazon.com/firehose/latest/dev/httpdeliveryrequestresponse.html). Many third-party logging services are compatible out-of-the-box.\n- `datadog`: Delivers logs to [Datadog](https://www.datadoghq.com/).\n- `highlight`: Delivers logs to a [Highlight.io](https://www.highlight.io/) project.\n\nFor more information, refer to the [Stacktape documentation on log forwarding](https://docs.stacktape.com/configuration/log-forwarding/).\n\n> If logs fail to be delivered after multiple retries, they are stored in a backup S3 bucket named `{stackName}-{resourceName}-logs-{generatedHash}`. The retry duration can be configured.","anyOf":[{"$ref":"#/definitions/HttpEndpointLogForwarding"},{"$ref":"#/definitions/HighlightLogForwarding"},{"$ref":"#/definitions/DatadogLogForwarding"}]}},"additionalProperties":false},"RedisAccessibility":{"type":"object","properties":{"accessibilityMode":{"description":"#### The accessibility mode for this cluster.\n\n---\n\nThe following modes are supported:\n\n- **`vpc`**: The cluster can only be accessed from resources within your VPC. This includes any [function](https://docs.stacktape.com/compute-resources/lambda-functions) (with `joinDefaultVpc: true`), [batch job](https://docs.stacktape.com/compute-resources/batch-jobs), or [container workload](https://docs.stacktape.com/compute-resources/multi-container-workloads) in your stack.\n\n- **`scoping-workloads-in-vpc`**: Similar to `vpc` mode, but more restrictive. In addition to being in the same VPC, resources must have the necessary security group permissions to access the cluster. For functions, batch jobs, and container services, these permissions can be granted using the `connectTo` property in their respective configurations.\n\nRedis clusters do not support public IP addresses, so you cannot connect to them directly from your local machine.\nYou can use a bastion host to access the cluster, and native support for bastion hosts will be available in Stacktape soon.\n\nTo learn more about VPCs, see the [VPC documentation](https://docs.stacktape.com/user-guides/vpcs/).","default":"vpc","enum":["scoping-workloads-in-vpc","vpc"],"type":"string"}},"additionalProperties":false,"required":["accessibilityMode"]},"CustomResourceInstance":{"description":"#### Custom resource instance\n\n---\n\nCreates an instance of a `custom-resource-definition`.\nThis is useful for creating resources that are not natively supported by AWS CloudFormation or for provisioning services from other providers.","type":"object","properties":{"type":{"type":"string","const":"custom-resource-instance"},"properties":{"$ref":"#/definitions/CustomResourceInstanceProps"},"overrides":{"description":"#### Resource Overrides\n\n---\n\nOverrides properties of the underlying CloudFormation resources that Stacktape creates.\n\nChild resources are identified by their CloudFormation logical ID (e.g., `MyBucketBucket`). You can find these IDs by running `stacktape stack:info --detailed`.\n\nFor a list of properties that can be overridden, refer to the [AWS CloudFormation documentation](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html).","type":"object","additionalProperties":{"type":"object","additionalProperties":{}}}},"additionalProperties":false,"required":["properties","type"]},"CustomResourceInstanceProps":{"type":"object","properties":{"definitionName":{"description":"#### The name of the `custom-resource-definition` to use.","type":"string"},"resourceProperties":{"description":"#### Properties passed to the custom resource instance.\n\n---\n\nThese properties will be accessible to the custom resource Lambda function during execution.","type":"object","additionalProperties":{}}},"additionalProperties":false,"required":["definitionName","resourceProperties"]},"CustomResourceDefinition":{"description":"#### Custom resource definition\n\n---\n\nDefines the provisioning logic for a custom resource.\nThis allows you to create resources that are not natively supported by AWS CloudFormation or to provision services from other cloud providers.\nThe logic is implemented in an AWS Lambda function that is executed during `create`, `update`, and `delete` events.","type":"object","properties":{"type":{"type":"string","const":"custom-resource-definition"},"properties":{"$ref":"#/definitions/CustomResourceDefinitionProps"},"overrides":{"description":"#### Resource Overrides\n\n---\n\nOverrides properties of the underlying CloudFormation resources that Stacktape creates.\n\nChild resources are identified by their CloudFormation logical ID (e.g., `MyBucketBucket`). You can find these IDs by running `stacktape stack:info --detailed`.\n\nFor a list of properties that can be overridden, refer to the [AWS CloudFormation documentation](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html).","type":"object","additionalProperties":{"type":"object","additionalProperties":{}}}},"additionalProperties":false,"required":["properties","type"]},"CustomResourceDefinitionProps":{"type":"object","properties":{"packaging":{"$ref":"#/definitions/LambdaPackaging","description":"#### The deployment package for the custom resource's Lambda function.\n\n---\n\nCustom resources are managed by a Lambda function that is executed during `create`, `update`, and `delete` events.\nThis property configures the code and dependencies for that function."},"environment":{"description":"#### Environment variables for the custom resource's Lambda function.\n\n---\n\nThese variables are injected into the function's runtime environment.\nThey are often used to provide information about other parts of your infrastructure, such as database connection strings or API keys.","type":"array","items":{"$ref":"#/definitions/EnvironmentVar"}},"runtime":{"$ref":"#/definitions/LambdaRuntime","description":"#### The runtime environment for the custom resource's Lambda function.\n\n---\n\nStacktape automatically detects the function's language and uses the latest corresponding runtime.\nFor example, it will use `nodejs22.x` for `.js` and `.ts` files.\nFor a list of available runtimes, see the [AWS Lambda runtimes documentation](https://docs.aws.amazon.com/lambda/latest/dg/lambda-runtimes.html)."},"timeout":{"description":"#### The maximum execution time for the custom resource's Lambda function, in seconds.\n\n---\n\nThe maximum allowed time is 900 seconds.","default":10,"type":"number"},"memory":{"description":"#### The amount of memory available to the custom resource's Lambda function, in MB.\n\n---\n\n- Must be between 128 MB and 10,240 MB, in 1-MB increments.\n- The amount of available CPU power is proportional to the memory.\n- A function with 1,797 MB of memory has the equivalent of 1 vCPU.\n- The maximum number of vCPUs is 6 (at 10,240 MB of memory).","type":"number"},"connectTo":{"description":"#### Connect To\n\n---\n\nConfigures access to other resources in your stack and AWS services. By specifying resources here, Stacktape automatically:\n- Configures IAM role permissions.\n- Sets up security group rules to allow network traffic.\n- Injects environment variables with connection details into the compute resource.\n\nEnvironment variables are named `STP_[RESOURCE_NAME]_[VARIABLE_NAME]` (e.g., `STP_MY_DATABASE_CONNECTION_STRING`).\n\n---\n\n#### Granted Permissions and Injected Variables:\n\n**`Bucket`**\n- **Permissions:** List, create, get, delete, and tag objects.\n- **Variables:** `NAME`, `ARN`\n\n**`DynamoDbTable`**\n- **Permissions:** Get, put, update, delete, scan, and query items; describe table stream.\n- **Variables:** `NAME`, `ARN`, `STREAM_ARN`\n\n**`MongoDbAtlasCluster`**\n- **Permissions:** Allows connection to clusters with `accessibilityMode` set to `scoping-workloads-in-vpc`. Creates a temporary user for secure, credential-less access.\n- **Variables:** `CONNECTION_STRING`\n\n**`RelationalDatabase`**\n- **Permissions:** Allows connection to databases with `accessibilityMode` set to `scoping-workloads-in-vpc`.\n- **Variables:** `CONNECTION_STRING`, `JDBC_CONNECTION_STRING`, `HOST`, `PORT`. For Aurora clusters, `READER_CONNECTION_STRING`, `READER_JDBC_CONNECTION_STRING`, and `READER_HOST` are also included.\n\n**`RedisCluster`**\n- **Permissions:** Allows connection to clusters with `accessibilityMode` set to `scoping-workloads-in-vpc`.\n- **Variables:** `HOST`, `READER_HOST`, `PORT`\n\n**`EventBus`**\n- **Permissions:** Publish events.\n- **Variables:** `ARN`\n\n**`Function`**\n- **Permissions:** Invoke the function, including via its URL if enabled.\n- **Variables:** `ARN`\n\n**`BatchJob`**\n- **Permissions:** Submit, list, describe, and terminate jobs; manage state machine executions.\n- **Variables:** `JOB_DEFINITION_ARN`, `STATE_MACHINE_ARN`\n\n**`UserAuthPool`**\n- **Permissions:** Full control over the user pool (`cognito-idp:*`).\n- **Variables:** `ID`, `CLIENT_ID`, `ARN`\n\n**`SnsTopic`**\n- **Permissions:** Confirm, list, publish, and manage subscriptions.\n- **Variables:** `ARN`, `NAME`\n\n**`SqsQueue`**\n- **Permissions:** Send, receive, delete, and purge messages.\n- **Variables:** `ARN`, `NAME`, `URL`\n\n**`UpstashKafkaTopic`**\n- **Variables:** `TOPIC_NAME`, `TOPIC_ID`, `USERNAME`, `PASSWORD`, `TCP_ENDPOINT`, `REST_URL`\n\n**`UpstashRedis`**\n- **Variables:** `HOST`, `PORT`, `PASSWORD`, `REST_TOKEN`, `REST_URL`, `REDIS_URL`\n\n**`PrivateService`**\n- **Variables:** `ADDRESS`\n\n**`aws:ses` (Macro)**\n- **Permissions:** Full permissions for AWS SES (`ses:*`).","type":"array","items":{"type":"string"}},"iamRoleStatements":{"description":"#### Custom IAM Role Statements\n\n---\n\nA list of raw AWS IAM role statements to append to the resource's role, allowing for fine-grained permission control.","type":"array","items":{"$ref":"#/definitions/StpIamRoleStatement"}}},"additionalProperties":false,"required":["packaging"]},"LambdaPackaging":{"anyOf":[{"$ref":"#/definitions/StpBuildpackLambdaPackaging"},{"$ref":"#/definitions/CustomArtifactLambdaPackaging"}]},"StpBuildpackLambdaPackaging":{"description":"#### A zero-config buildpack that packages your code for AWS Lambda.\n\n---\n\nThe `stacktape-lambda-buildpack` automatically bundles your code and dependencies into an optimized Lambda deployment package.\n\n**Supported languages:** JavaScript, TypeScript, Python, Java, and Go.\n\nFor JS/TS, your code is bundled into a single file. Source maps are automatically generated.\nPackages are cached based on a checksum, so unchanged code is not re-packaged.","type":"object","properties":{"type":{"type":"string","const":"stacktape-lambda-buildpack"},"properties":{"$ref":"#/definitions/StpBuildpackLambdaPackagingProps"}},"additionalProperties":false,"required":["properties","type"]},"StpBuildpackLambdaPackagingProps":{"type":"object","properties":{"handlerFunction":{"description":"#### The name of the handler function to be executed when the Lambda is invoked.","type":"string"},"entryfilePath":{"description":"#### The path to the entry point of your application, relative to your Stacktape configuration file.\n\n---\n\nStacktape will attempt to bundle your code and its dependencies into a single file.\nIf a dependency cannot be bundled (e.g., it relies on binary executables), it will be installed and included in the deployment package separately.","type":"string"},"includeFiles":{"description":"#### A glob pattern of files to explicitly include in the deployment package.\n\n---\n\nThe path is relative to your Stacktape configuration file.","type":"array","items":{"type":"string"}},"excludeFiles":{"description":"#### A glob pattern of files to explicitly exclude from the deployment package.\n\n---","type":"array","items":{"type":"string"}},"excludeDependencies":{"description":"#### A list of dependencies to exclude from the deployment package.","type":"array","items":{"type":"string"}},"languageSpecificConfig":{"description":"#### Language-specific packaging configuration.","anyOf":[{"$ref":"#/definitions/EsLanguageSpecificConfig"},{"$ref":"#/definitions/PyLanguageSpecificConfig"},{"$ref":"#/definitions/JavaLanguageSpecificConfig"},{"$ref":"#/definitions/GoLanguageSpecificConfig"}]}},"additionalProperties":false,"required":["entryfilePath"]},"CustomArtifactLambdaPackaging":{"description":"#### Uses a pre-built artifact for Lambda deployment.\n\n---\n\nWith `custom-artifact`, you provide a path to your own pre-built deployment package.\nIf the specified path is a directory or an unzipped file, Stacktape will automatically zip it.\n\nThis is useful when you have custom build processes or need full control over the packaging.","type":"object","properties":{"type":{"type":"string","const":"custom-artifact"},"properties":{"$ref":"#/definitions/CustomArtifactLambdaPackagingProps"}},"additionalProperties":false,"required":["properties","type"]},"CustomArtifactLambdaPackagingProps":{"type":"object","properties":{"packagePath":{"description":"#### The path to a pre-built deployment package.\n\n---\n\nIf the path points to a directory or a non-zip file, Stacktape will automatically zip it for you.","type":"string"},"handler":{"description":"#### The handler function to be executed when the Lambda is invoked.\n\n---\n\nThe syntax is `{{filepath}}:{{functionName}}`.\n\nExample: `my-lambda/index.js:default`","type":"string"}},"additionalProperties":false,"required":["packagePath"]},"LambdaRuntime":{"enum":["dotnet6","dotnet7","java11","java17","java8","java8.al2","nodejs18.x","nodejs20.x","nodejs22.x","nodejs24.x","provided.al2","provided.al2023","python3.10","python3.11","python3.12","python3.13","python3.8","python3.9","ruby3.2"],"type":"string"},"UpstashRedis":{"description":"#### A serverless Redis database from Upstash.\n\n---\n\nUpstash Redis is designed for low-latency data storage and caching at the edge, making it ideal for serverless and globally distributed applications.","type":"object","properties":{"type":{"type":"string","const":"upstash-redis"},"properties":{"$ref":"#/definitions/UpstashRedisProps"},"overrides":{"description":"#### Resource Overrides\n\n---\n\nOverrides properties of the underlying CloudFormation resources that Stacktape creates.\n\nChild resources are identified by their CloudFormation logical ID (e.g., `MyBucketBucket`). You can find these IDs by running `stacktape stack:info --detailed`.\n\nFor a list of properties that can be overridden, refer to the [AWS CloudFormation documentation](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html).","type":"object","additionalProperties":{"type":"object","additionalProperties":{}}}},"additionalProperties":false,"required":["type"]},"UpstashRedisProps":{"type":"object","properties":{"enableEviction":{"description":"#### Enables automatic eviction of keys when the memory limit is reached.\n\n---\n\nWhen enabled, Redis will remove keys to free up memory for new data.\nIt uses an eviction policy that prioritizes removing keys with an expiration set.","default":false,"type":"boolean"}},"additionalProperties":false},"DeploymentScript":{"description":"#### A resource that executes a script as part of your deployment process.\n\n---\n\nThe script is executed in a Lambda function during a `deploy` or `delete` operation.\nThis is useful for tasks like database migrations, seeding data, or other setup or teardown operations.","type":"object","properties":{"type":{"type":"string","const":"deployment-script"},"properties":{"$ref":"#/definitions/DeploymentScriptProps"},"overrides":{"description":"#### Resource Overrides\n\n---\n\nOverrides properties of the underlying CloudFormation resources that Stacktape creates.\n\nChild resources are identified by their CloudFormation logical ID (e.g., `MyBucketBucket`). You can find these IDs by running `stacktape stack:info --detailed`.\n\nFor a list of properties that can be overridden, refer to the [AWS CloudFormation documentation](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html).","type":"object","additionalProperties":{"type":"object","additionalProperties":{}}}},"additionalProperties":false,"required":["properties","type"]},"DeploymentScriptProps":{"type":"object","properties":{"trigger":{"description":"#### Configures when the script is triggered.\n\n---\n\n- `after:deploy`: Executes after all resources in the stack have been successfully deployed. If the script fails, the entire deployment will be rolled back.\n- `before:delete`: Executes before the stack's resources begin to be deleted. If the script fails, the deletion process will still proceed.\n\nYou can also trigger the script manually using the `stacktape deployment-script:run` command.","enum":["after:deploy","before:delete"],"type":"string"},"packaging":{"$ref":"#/definitions/LambdaPackaging","description":"#### Configures how your script is packaged and deployed.\n\n---\n\nStacktape supports two packaging methods:\n- `stacktape-lambda-buildpack`: Stacktape automatically builds and packages your code from a specified source file. This is the recommended and simplest approach.\n- `custom-artifact`: You provide a path to a pre-built deployment package (e.g., a zip file). Stacktape will handle the upload.\n\nYour deployment packages are stored in an S3 bucket managed by Stacktape."},"runtime":{"$ref":"#/definitions/LambdaRuntime","description":"#### The runtime environment for the script's Lambda function.\n\n---\n\nStacktape automatically detects the programming language and selects the latest appropriate runtime. For example, `.ts` and `.js` files will use a recent Node.js runtime.\nFor a full list of available runtimes, see the [AWS Lambda runtimes documentation](https://docs.aws.amazon.com/lambda/latest/dg/lambda-runtimes.html)."},"environment":{"description":"#### A list of environment variables to inject into the script's execution environment.\n\n---\n\nThis is useful for providing configuration details, such as database connection strings or secrets.","type":"array","items":{"$ref":"#/definitions/EnvironmentVar"}},"parameters":{"description":"#### A map of parameters to pass to the script's handler function.\n\n---\n\nThis allows you to pass structured data to your script.\n\n> **Note:** You cannot pass secrets using this property. Use `environment` variables for secrets.","type":"object","additionalProperties":{}},"memory":{"description":"#### The amount of memory (in MB) to allocate to the script's Lambda function.\n\n---\n\nThis setting also influences the amount of CPU power the function receives.\nThe value must be between 128 MB and 10,240 MB.","type":"number"},"timeout":{"description":"#### The maximum execution time for the script, in seconds.\n\n---\n\nIf the script runs longer than this, it will be terminated. The maximum allowed timeout is 900 seconds (15 minutes).","default":10,"type":"number"},"joinDefaultVpc":{"description":"#### Connects the script's Lambda function to your stack's default Virtual Private Cloud (VPC).\n\n---\n\nThis is necessary to access resources within the VPC, such as relational databases.\n\n> **Important:** When a function joins a VPC, it loses direct internet access.\n\nFor more details, see the [Stacktape VPCs documentation](https://docs.stacktape.com/user-guides/vpcs/).","type":"boolean"},"storage":{"description":"#### The size (in MB) of the function's `/tmp` directory.\n\n---\n\nThis provides ephemeral storage for your function. The size can be between 512 MB and 10,240 MB.","default":512,"type":"number"},"connectTo":{"description":"#### Connect To\n\n---\n\nConfigures access to other resources in your stack and AWS services. By specifying resources here, Stacktape automatically:\n- Configures IAM role permissions.\n- Sets up security group rules to allow network traffic.\n- Injects environment variables with connection details into the compute resource.\n\nEnvironment variables are named `STP_[RESOURCE_NAME]_[VARIABLE_NAME]` (e.g., `STP_MY_DATABASE_CONNECTION_STRING`).\n\n---\n\n#### Granted Permissions and Injected Variables:\n\n**`Bucket`**\n- **Permissions:** List, create, get, delete, and tag objects.\n- **Variables:** `NAME`, `ARN`\n\n**`DynamoDbTable`**\n- **Permissions:** Get, put, update, delete, scan, and query items; describe table stream.\n- **Variables:** `NAME`, `ARN`, `STREAM_ARN`\n\n**`MongoDbAtlasCluster`**\n- **Permissions:** Allows connection to clusters with `accessibilityMode` set to `scoping-workloads-in-vpc`. Creates a temporary user for secure, credential-less access.\n- **Variables:** `CONNECTION_STRING`\n\n**`RelationalDatabase`**\n- **Permissions:** Allows connection to databases with `accessibilityMode` set to `scoping-workloads-in-vpc`.\n- **Variables:** `CONNECTION_STRING`, `JDBC_CONNECTION_STRING`, `HOST`, `PORT`. For Aurora clusters, `READER_CONNECTION_STRING`, `READER_JDBC_CONNECTION_STRING`, and `READER_HOST` are also included.\n\n**`RedisCluster`**\n- **Permissions:** Allows connection to clusters with `accessibilityMode` set to `scoping-workloads-in-vpc`.\n- **Variables:** `HOST`, `READER_HOST`, `PORT`\n\n**`EventBus`**\n- **Permissions:** Publish events.\n- **Variables:** `ARN`\n\n**`Function`**\n- **Permissions:** Invoke the function, including via its URL if enabled.\n- **Variables:** `ARN`\n\n**`BatchJob`**\n- **Permissions:** Submit, list, describe, and terminate jobs; manage state machine executions.\n- **Variables:** `JOB_DEFINITION_ARN`, `STATE_MACHINE_ARN`\n\n**`UserAuthPool`**\n- **Permissions:** Full control over the user pool (`cognito-idp:*`).\n- **Variables:** `ID`, `CLIENT_ID`, `ARN`\n\n**`SnsTopic`**\n- **Permissions:** Confirm, list, publish, and manage subscriptions.\n- **Variables:** `ARN`, `NAME`\n\n**`SqsQueue`**\n- **Permissions:** Send, receive, delete, and purge messages.\n- **Variables:** `ARN`, `NAME`, `URL`\n\n**`UpstashKafkaTopic`**\n- **Variables:** `TOPIC_NAME`, `TOPIC_ID`, `USERNAME`, `PASSWORD`, `TCP_ENDPOINT`, `REST_URL`\n\n**`UpstashRedis`**\n- **Variables:** `HOST`, `PORT`, `PASSWORD`, `REST_TOKEN`, `REST_URL`, `REDIS_URL`\n\n**`PrivateService`**\n- **Variables:** `ADDRESS`\n\n**`aws:ses` (Macro)**\n- **Permissions:** Full permissions for AWS SES (`ses:*`).","type":"array","items":{"type":"string"}},"iamRoleStatements":{"description":"#### Custom IAM Role Statements\n\n---\n\nA list of raw AWS IAM role statements to append to the resource's role, allowing for fine-grained permission control.","type":"array","items":{"$ref":"#/definitions/StpIamRoleStatement"}}},"additionalProperties":false,"required":["packaging","trigger"]},"AwsCdkConstruct":{"description":"#### AWS CDK Construct\n\n---\n\nAllows you to deploy a custom AWS CDK construct as part of your Stacktape stack. This is useful for integrating existing CDK code or for resources not yet supported by Stacktape.\n\nFor more information on AWS CDK, refer to the [official AWS CDK documentation](https://docs.aws.amazon.com/cdk/v2/guide/home.html).","type":"object","properties":{"type":{"type":"string","const":"aws-cdk-construct"},"properties":{"$ref":"#/definitions/AwsCdkConstructProps"}},"additionalProperties":false,"required":["type"]},"AwsCdkConstructProps":{"type":"object","properties":{"entryfilePath":{"description":"#### Entry File Path\n\n---\n\nThe path to the file containing the CDK construct.\n\nSupported file extensions are `.js` and `.ts`.","type":"string"},"exportName":{"description":"#### Export Name\n\n---\n\nThe name of the exported construct class from the `entryfilePath`.\n\nIf not provided, Stacktape will use the `default` export.","default":"default","type":"string"},"constructProperties":{"description":"#### Construct Properties\n\n---\n\nAn object passed as props to the construct's constructor. This allows you to configure the construct with custom values."}},"additionalProperties":false,"required":["entryfilePath"]},"SqsQueue":{"description":"#### SQS Queue\n\n---\n\nA fully managed message queuing service that enables you to decouple and scale microservices, distributed systems, and serverless applications.","type":"object","properties":{"type":{"type":"string","const":"sqs-queue"},"properties":{"$ref":"#/definitions/SqsQueueProps"},"overrides":{"description":"#### Resource Overrides\n\n---\n\nOverrides properties of the underlying CloudFormation resources that Stacktape creates.\n\nChild resources are identified by their CloudFormation logical ID (e.g., `MyBucketBucket`). You can find these IDs by running `stacktape stack:info --detailed`.\n\nFor a list of properties that can be overridden, refer to the [AWS CloudFormation documentation](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html).","type":"object","additionalProperties":{"type":"object","additionalProperties":{}}}},"additionalProperties":false,"required":["type"]},"SqsQueueProps":{"type":"object","properties":{"delayMessagesSecond":{"description":"#### The amount of time that each message delivery is delayed.\n\n---\n\nSpecifies the time in seconds (0-900) for which the delivery of all messages in the queue is delayed.","default":0,"type":"number"},"maxMessageSizeBytes":{"description":"#### The maximum size of a message, in bytes.\n\n---\n\nYou can specify an integer value from 1,024 bytes (1 KiB) to 262,144 bytes (256 KiB).","default":262144,"type":"number"},"messageRetentionPeriodSeconds":{"description":"#### The number of seconds that the queue retains a message.\n\n---\n\nYou can specify an integer value from 60 seconds (1 minute) to 1,209,600 seconds (14 days).","default":345600,"type":"number"},"longPollingSeconds":{"description":"#### Enables long polling for receiving messages from the queue.\n\n---\n\nLong polling reduces the number of empty responses by allowing Amazon SQS to wait until a message is available in the queue before sending a response.\nThis can help reduce the cost of using SQS by minimizing the number of `ReceiveMessage` API calls.\n\nThis value specifies the duration (in seconds) that the `ReceiveMessage` call waits for a message to arrive.\nIf set to `0` (the default), short polling is used.\n\nFor more details on the differences between short and long polling, see the [AWS documentation](https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-short-and-long-polling.html#sqs-short-long-polling-differences).","default":0,"type":"number"},"visibilityTimeoutSeconds":{"description":"#### The length of time that a message will be unavailable after it is delivered from the queue.\n\n---\n\nWhen a consumer receives a message, it remains in the queue but is made invisible to other consumers for the duration of the visibility timeout.\nThis prevents the message from being processed multiple times. The consumer is responsible for deleting the message from the queue after it has been successfully processed.\n\nThe visibility timeout can be set from 0 to 43,200 seconds (12 hours).\n\nFor more information, see the [AWS documentation on visibility timeout](https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-visibility-timeout.html).","default":30,"type":"number"},"fifoEnabled":{"description":"#### If `true`, creates a FIFO (First-In-First-Out) queue.\n\n---\n\nFIFO queues are designed for applications where the order of operations and events is critical and duplicates cannot be tolerated.\n\nWhen using a FIFO queue, each message must have a `MessageDeduplicationId`, or `contentBasedDeduplication` must be enabled.\n\nFor more information, see the [AWS documentation on FIFO queues](https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/FIFO-queues.html).","default":false,"type":"boolean"},"fifoHighThroughput":{"description":"#### If `true`, enables high-throughput mode for the FIFO queue.\n\n---\n\nHigh throughput is achieved by partitioning messages based on their `MessageGroupId`.\nMessages with the same `MessageGroupId` are always processed in order.\n\n`fifoEnabled` must be `true` to use this feature.\n\nFor more information, see the [AWS documentation on high-throughput FIFO queues](https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/high-throughput-fifo.html).","type":"boolean"},"contentBasedDeduplication":{"description":"#### If `true`, enables content-based deduplication for the FIFO queue.\n\n---\n\nDuring the deduplication interval, the queue treats messages with the same content as duplicates and delivers only one copy.\nDeduplication is based on the `MessageDeduplicationId`. If you do not provide one, Amazon SQS will generate a SHA-256 hash of the message body to use as the `MessageDeduplicationId`.\n\n`fifoEnabled` must be `true` to use this feature.","type":"boolean"},"redrivePolicy":{"$ref":"#/definitions/SqsQueueRedrivePolicy","description":"#### Configures a redrive policy for automatically moving messages that fail processing to a dead-letter queue.\n\n---\n\nMessages are sent to the dead-letter queue after they have been retried `maxReceiveCount` times."},"alarms":{"description":"#### Additional alarms associated with this resource.\n\n---\n\nThese alarms will be merged with any alarms configured globally in the [console](https://console.stacktape.com/alarms).","type":"array","items":{"$ref":"#/definitions/SqsQueueAlarm"}},"disabledGlobalAlarms":{"description":"#### Disables globally configured alarms for this resource.\n\n---\n\nProvide a list of alarm names as configured in the [console](https://console.stacktape.com/alarms).","type":"array","items":{"type":"string"}},"policyStatements":{"description":"#### Adds policy statements to the SQS queue policy.\n\n---\n\nThese statements are added on top of the policy statements automatically inferred by Stacktape.","type":"array","items":{"$ref":"#/definitions/SqsQueuePolicyStatement"}},"events":{"description":"#### A list of event sources that trigger message delivery to this queue.\n\n---\n\nCurrently supports EventBridge event bus integration for delivering events directly to the queue.","type":"array","items":{"$ref":"#/definitions/SqsQueueEventBusIntegration"}}},"additionalProperties":false},"SqsQueueRedrivePolicy":{"type":"object","properties":{"targetSqsQueueName":{"description":"#### The name of the SQS queue in your Stacktape configuration where failed messages will be sent.","type":"string"},"targetSqsQueueArn":{"description":"#### The ARN of the SQS queue where failed messages will be sent.","type":"string"},"maxReceiveCount":{"description":"#### The number of times a message is delivered to the source queue before being moved to the dead-letter queue.\n\n---\n\nWhen the `ReceiveCount` for a message exceeds this value, Amazon SQS moves the message to the target queue.","type":"number"}},"additionalProperties":false,"required":["maxReceiveCount"]},"SqsQueueAlarm":{"type":"object","properties":{"trigger":{"$ref":"#/definitions/SqsQueueAlarmTrigger"},"evaluation":{"$ref":"#/definitions/AlarmEvaluation","description":"#### Specifies the time window for evaluating the metric to determine if the alarm should be triggered.\n\n---\n\nDefines the duration and frequency of metric evaluation."},"notificationTargets":{"description":"#### Defines where to send notifications when the alarm is triggered.\n\n---\n\nYou can specify a list of integrations, such as Slack, MS Teams, or email.","type":"array","items":{"$ref":"#/definitions/AlarmUserIntegration"}},"description":{"description":"#### Custom description for the alarm\n---\n- If custom description is specified, it is used in the alarm notification message\n- Custom description is also used in the alarm description in the AWS console (If not provided, Stacktape generates default description.)","type":"string"}},"additionalProperties":false,"required":["trigger"]},"SqsQueueAlarmTrigger":{"anyOf":[{"$ref":"#/definitions/SqsQueueReceivedMessagesCountTrigger"},{"$ref":"#/definitions/SqsQueueNotEmptyTrigger"}]},"SqsQueueReceivedMessagesCountTrigger":{"type":"object","properties":{"type":{"type":"string","const":"sqs-queue-received-messages-count"},"properties":{"$ref":"#/definitions/SqsQueueReceivedMessagesCountTriggerProps"}},"additionalProperties":false,"required":["properties","type"]},"SqsQueueReceivedMessagesCountTriggerProps":{"type":"object","properties":{"thresholdCount":{"description":"#### The threshold for the number of messages received.\n\n---\n\nTriggers an alarm when the number of messages received from an SQS queue crosses the defined threshold.\nBy default, it's triggered if the **average** number of received messages (based on the `NumberOfMessagesReceived` metric) over the evaluation period is **greater than** the `thresholdCount`.\nYou can customize the behavior using the `statistic` and `comparisonOperator` properties.","type":"number"},"comparisonOperator":{"$ref":"#/definitions/ComparisonOperator","description":"#### The arithmetic operation to use when comparing the specified statistic and threshold.\n\n---\n\nSupported operators:\n- `GreaterThanThreshold`\n- `GreaterThanOrEqualToThreshold`\n- `LessThanThreshold`\n- `LessThanOrEqualToThreshold`"},"statistic":{"$ref":"#/definitions/StatisticFunction","description":"#### The statistic to apply to the metric data points.\n\n---\n\nSupported statistics:\n- **avg**: The average of the metric values.\n- **sum**: The sum of the metric values.\n- **p90**: The 90th percentile. 90% of the data points are lower than this value.\n- **p95**: The 95th percentile. 95% of the data points are lower than this value.\n- **p99**: The 99th percentile. 99% of the data points are lower than this value.\n- **min**: The lowest value from the data points.\n- **max**: The highest value from the data points.","default":"avg"}},"additionalProperties":false,"required":["thresholdCount"]},"SqsQueueNotEmptyTrigger":{"type":"object","properties":{"type":{"description":"#### Type of the trigger.\n\n---\n\nTriggers an alarm if the SQS queue is not empty.\nA queue is considered empty if all of the following metrics are 0 for the evaluation period:\n  - `ApproximateNumberOfMessagesVisible`\n  - `ApproximateNumberOfMessagesNotVisible`\n  - `NumberOfMessagesReceived`\n  - `NumberOfMessagesSent`","type":"string","const":"sqs-queue-not-empty"}},"additionalProperties":false,"required":["type"]},"SqsQueuePolicyStatement":{"type":"object","properties":{"Effect":{"description":"#### The effect of the statement.\n\n---\n\nFor more details, see the [AWS documentation](https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-basic-examples-of-sqs-policies.html).","type":"string"},"Action":{"description":"#### A list of actions allowed or denied by the statement.\n\n---\n\nActions must start with `sqs:`.\nFor a list of available actions, see the [AWS documentation](https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-api-permissions-reference.html).","type":"array","items":{"type":"string"}},"Condition":{"description":"#### The circumstances under which the statement grants permissions.\n\n---\n\nFor more details, see the [AWS documentation](https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-basic-examples-of-sqs-policies.html)."},"Principal":{"description":"#### The principal (user, role, or service) to which you are allowing or denying access.\n\n---\n\nFor more details, see the [AWS documentation](https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-basic-examples-of-sqs-policies.html)."}},"additionalProperties":false,"required":["Action","Effect","Principal"]},"SqsQueueEventBusIntegration":{"description":"#### Delivers messages to an SQS queue when an event matching a specified pattern is received by an event bus.","type":"object","properties":{"type":{"type":"string","const":"event-bus"},"properties":{"$ref":"#/definitions/SqsQueueEventBusIntegrationProps","description":"#### Properties of the integration"}},"additionalProperties":false,"required":["properties","type"]},"SqsQueueEventBusIntegrationProps":{"type":"object","properties":{"messageGroupId":{"description":"#### The message group ID to use for FIFO queues.\n\n---\n\nThis parameter is required for FIFO queues and is used to group messages together.\nMessages with the same message group ID are processed in order within that group.\nFor more information, see the [AWS documentation on FIFO queues](https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/FIFO-queues.html).","type":"string"},"eventBusArn":{"description":"#### The ARN of an existing event bus.\n\n---\n\nUse this to subscribe to an event bus that is not managed by your stack.\nYou must specify only one of `eventBusArn`, `eventBusName`, or `useDefaultBus`.","type":"string"},"eventBusName":{"description":"#### The name of an event bus defined in your stack's resources.\n\n---\n\nYou must specify only one of `eventBusArn`, `eventBusName`, or `useDefaultBus`.","type":"string"},"useDefaultBus":{"description":"#### Uses the default AWS event bus.\n\n---\n\nYou must specify only one of `eventBusArn`, `eventBusName`, or `useDefaultBus`.","type":"boolean"},"eventPattern":{"$ref":"#/definitions/EventBusIntegrationPattern","description":"#### A pattern to filter events from the event bus.\n\n---\n\nOnly events that match this pattern will trigger the target.\nFor details on the syntax, see the [AWS EventBridge documentation on event patterns](https://docs.aws.amazon.com/eventbridge/latest/userguide/eb-event-patterns.html)."},"onDeliveryFailure":{"$ref":"#/definitions/EventBusOnDeliveryFailure","description":"#### A destination for events that fail to be delivered to the target.\n\n---\n\nIn rare cases, an event might fail to be delivered. This property specifies an SQS queue where failed events will be sent."},"input":{"description":"#### A fixed JSON object to be passed as the event payload.\n\n---\n\nIf you need to customize the payload based on the event, use `inputTransformer` instead.\nYou can only use one of `input`, `inputPath`, or `inputTransformer`.\n\nExample:\n\n```yaml\ninput:\n  source: 'my-custom-event'\n```"},"inputPath":{"description":"#### A JSONPath expression to extract a portion of the event to pass to the target.\n\n---\n\nThis is useful for forwarding only a specific part of the event payload.\nYou can only use one of `input`, `inputPath`, or `inputTransformer`.\n\nExample:\n\n```yaml\ninputPath: '$.detail'\n```","type":"string"},"inputTransformer":{"$ref":"#/definitions/EventInputTransformer","description":"#### Customizes the event payload sent to the target.\n\n---\n\nThis allows you to extract values from the original event and use them to construct a new payload.\nYou can only use one of `input`, `inputPath`, or `inputTransformer`.\n\nExample:\n\n```yaml\ninputTransformer:\n  inputPathsMap:\n    instanceId: '$.detail.instance-id'\n    instanceState: '$.detail.state'\n  inputTemplate:\n    message: 'Instance <instanceId> is now in state <instanceState>.'\n```"}},"additionalProperties":false,"required":["eventPattern"]},"SnsTopic":{"description":"#### Simple Notification Service (SNS) Topic\n\n---\n\nA managed messaging service for application-to-application (A2A) and application-to-person (A2P) communication. It allows you to send messages (notifications) to a large number of subscribers, including other services, applications, and end-users.","type":"object","properties":{"type":{"type":"string","const":"sns-topic"},"properties":{"$ref":"#/definitions/SnsTopicProps"},"overrides":{"description":"#### Resource Overrides\n\n---\n\nOverrides properties of the underlying CloudFormation resources that Stacktape creates.\n\nChild resources are identified by their CloudFormation logical ID (e.g., `MyBucketBucket`). You can find these IDs by running `stacktape stack:info --detailed`.\n\nFor a list of properties that can be overridden, refer to the [AWS CloudFormation documentation](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html).","type":"object","additionalProperties":{"type":"object","additionalProperties":{}}}},"additionalProperties":false,"required":["type"]},"SnsTopicProps":{"type":"object","properties":{"smsDisplayName":{"description":"#### SMS Display Name\n\n---\n\nThe name that appears as the sender when you send SMS messages to subscribers.","type":"string"},"fifoEnabled":{"description":"#### Enable FIFO (First-In-First-Out)\n\n---\n\nEnables FIFO (First-In-First-Out) for this topic.\n\nFIFO topics ensure that messages are processed in the exact order they are sent and that no duplicate messages are delivered. This is useful for applications where order and uniqueness are critical, such as financial transactions or inventory updates.\n\nWhen `fifoEnabled` is `true`, either `contentBasedDeduplication` must be enabled, or every message must include a unique `MessageDeduplicationId`.\n\nFor more details, refer to the [AWS documentation on FIFO topics](https://docs.aws.amazon.com/sns/latest/dg/sns-fifo-topics.html).","default":false,"type":"boolean"},"contentBasedDeduplication":{"description":"#### Enable Content-Based Deduplication\n\n---\n\nEnables content-based deduplication. This helps prevent sending duplicate messages.\n\nSNS will automatically generate a unique ID based on the message content and use it to detect and discard duplicate messages sent within a 5-minute interval.\n\nThis property can only be used when `fifoEnabled` is `true`.","default":false,"type":"boolean"}},"additionalProperties":false},"HostingBucket":{"description":"#### Hosting Bucket\n\n---\n\nA resource designed to host your static website or other static content.\nIt combines the power of an S3 Bucket (for storing data) and a CloudFront CDN (for distributing it globally).","type":"object","properties":{"type":{"type":"string","const":"hosting-bucket"},"properties":{"$ref":"#/definitions/HostingBucketProps"},"overrides":{"description":"#### Resource Overrides\n\n---\n\nOverrides properties of the underlying CloudFormation resources that Stacktape creates.\n\nChild resources are identified by their CloudFormation logical ID (e.g., `MyBucketBucket`). You can find these IDs by running `stacktape stack:info --detailed`.\n\nFor a list of properties that can be overridden, refer to the [AWS CloudFormation documentation](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html).","type":"object","additionalProperties":{"type":"object","additionalProperties":{}}}},"additionalProperties":false,"required":["properties","type"]},"HostingBucketProps":{"type":"object","properties":{"uploadDirectoryPath":{"description":"#### The path to the directory to upload.\n\n---\n\nThis should be the path to the directory containing the content you want to host, such as the output directory of your website's build process.\n\nThe contents of this folder will be uploaded to the bucket during the `deploy`, `codebuild:deploy`, or `bucket:sync` commands.","type":"string"},"build":{"$ref":"#/definitions/HostingBucketBuild","description":"#### Build configuration for the hosting bucket.\n\n---\n\nConfigures the build process that produces the files to upload. The build runs during the packaging phase, in parallel with other packaging jobs.\n\nSupports common frontend build tools like Vite, Webpack, Angular CLI, Vue CLI, Create React App, and SvelteKit.\nBuild output is parsed to display meaningful information (e.g., bundle size) in the deployment logs."},"dev":{"$ref":"#/definitions/HostingBucketBuild","description":"#### Dev server configuration for the hosting bucket.\n\n---\n\nConfigures the dev server process for local development. Used by the `dev` command.\n\nExample commands:\n- `npm run dev`\n- `vite`\n- `webpack serve`"},"excludeFilesPatterns":{"description":"#### Glob patterns for files to be excluded from the upload.\n\n---\n\nThese patterns are relative to the `uploadDirectoryPath`.","type":"array","items":{"type":"string"}},"hostingContentType":{"$ref":"#/definitions/SupportedHeaderPreset","description":"#### Configures HTTP headers of uploaded files and CDN behavior based on the content type.\n\n---\n\nSupported content types:\n\n- **`static-website`**:\n  - Sets the `Cache-Control` header to `public, max-age=0, s-maxage=31536000, must-revalidate` for all uploaded files.\n  - This setup caches all content on the CDN but never in the browser.\n\n- **`gatsby-static-website`**:\n  - Optimizes headers for static websites built with [Gatsby](https://www.gatsbyjs.com/), following their [caching recommendations](https://www.gatsbyjs.com/docs/caching/).\n\n- **`single-page-app`**:\n  - Optimizes headers for [Single-Page Applications](https://en.wikipedia.org/wiki/Single-page_application).\n  - `html` files are never cached to ensure users always get the latest content after a deployment.\n  - All other assets (e.g., `.js`, `.css`) are cached indefinitely. You should **always** add a content hash to your filenames to ensure users receive new versions after updates. For more details, see the documentation for your bundler (e.g., [webpack](https://webpack.js.org/guides/caching/)).\n  - Sets up the necessary CDN redirects for a single-page app.","default":"static-website"},"customDomains":{"description":"#### Attaches custom domains to this hosting bucket.\n\n---\n\nWhen you connect a custom domain, Stacktape automatically:\n\n- **Creates DNS records:** A DNS record is created to point your domain name to the resource.\n- **Adds TLS certificates:** Stacktape issues and attaches a free, AWS-managed TLS certificate to handle HTTPS.\n\n> To manage a custom domain, it must first be added to your AWS account as a [hosted zone](https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/AboutHZWorkingWith.html), and your domain registrar's name servers must point to it.\n> For more details, see the [Adding a domain guide](https://docs.stacktape.com/other-resources/domains-and-certificates/#adding-domain).","type":"array","items":{"$ref":"#/definitions/DomainConfiguration"}},"disableUrlNormalization":{"description":"#### Disables URL normalization.\n\n---\n\nURL normalization is enabled by default and is useful for serving HTML files from a bucket with clean URLs (without the `.html` extension).","default":false,"type":"boolean"},"edgeFunctions":{"$ref":"#/definitions/EdgeFunctionsConfig","description":"#### Configures Edge function triggers.\n\n---\n\nYou can associate an `edge-lambda-function` with this hosting bucket to be executed at different stages:\n\n- `onRequest`: Executed when the CDN receives a request from a client, before checking the cache and before the request is forwarded to the hosting bucket.\n- `onResponse`: Executed before returning a response to the client.\n\n**Potential Use Cases:**\n- Generating an immediate HTTP response without checking the cache or forwarding to the bucket.\n- Modifying the request (e.g., rewriting the URL or headers) before forwarding to the bucket."},"errorDocument":{"description":"#### The custom error document URL.\n\n---\n\nThis document is requested if the original request to the origin returns a `404` error code.\n\nExample: `/error.html`","type":"string"},"indexDocument":{"description":"#### The custom index document served for requests to the root path (`/`).\n\n---","default":"/index.html","type":"string"},"injectEnvironment":{"description":"#### Injects referenced parameters into all HTML files in the `uploadDirectoryPath`.\n\n---\n\nThese parameters can be accessed by any JavaScript script using `window.STP_INJECTED_ENV.VARIABLE_NAME`.\nThis is useful for automatically referencing parameters that are only known after deployment, such as the URL of an API Gateway or the ID of a User Pool.","type":"array","items":{"$ref":"#/definitions/EnvironmentVar"}},"writeDotenvFilesTo":{"description":"#### Injects referenced parameters into `.env` files within the specified directory.\n\n---\n\nWrites the injected environment variables to a file named `.env`.\nIf the file already exists, the new variables will be merged with the existing ones.","type":"string"},"useFirewall":{"description":"#### The name of the `web-app-firewall` resource to use to protect this hosting bucket.\n\n---\n\nA `web-app-firewall` can protect your resources from common web exploits that could affect availability, compromise security, or consume excessive resources.\n\nFor more information, see the [firewall documentation](https://docs.stacktape.com/security-resources/web-app-firewalls/).\n\n> **Note:** Because this resource uses a CDN, the `scope` of the `web-app-firewall` must be set to `cdn`.","type":"string"},"fileOptions":{"description":"#### Allows you to manually set headers (e.g., `Cache-Control`, `Content-Type`) for files that match a filter pattern.","type":"array","items":{"$ref":"#/definitions/DirectoryUploadFilter"}},"routeRewrites":{"description":"#### Redirects specific requests to a different origin.\n\n---\n\nEach incoming request to the CDN is evaluated against a list of route rewrites. If the request path matches a rewrite's path pattern, it is sent to the configured route.\nRoute rewrites are evaluated in order, and the first match determines where the request will be sent.\n\nIf no match is found, the request is sent to the default origin (the hosting bucket).\n\n**Example Use Cases:**\n- Serving static content from the bucket while routing dynamic paths to a Lambda function.\n- Caching `.jpg` files for a longer duration than other file types.","type":"array","items":{"$ref":"#/definitions/CdnRouteRewrite"}}},"additionalProperties":false,"required":["uploadDirectoryPath"]},"HostingBucketBuild":{"description":"#### Build configuration for hosting bucket.\n\n---\n\nDefines how to build frontend assets before uploading them to the bucket.","type":"object","properties":{"command":{"description":"#### The command to execute.\n\n---\n\nExamples:\n- `npm run build`\n- `bun run build`\n- `vite build`\n- `webpack --mode production`","type":"string"},"workingDirectory":{"description":"#### The working directory for the command.\n\n---\n\nRelative to the project root. Defaults to the project root.","default":".","type":"string"}},"additionalProperties":false,"required":["command"]},"WebAppFirewall":{"description":"#### Web Application Firewall\n\n---\n\nA firewall that helps protect your resources from common web exploits that could affect application availability, compromise security, or consume excessive resources.","type":"object","properties":{"type":{"type":"string","const":"web-app-firewall"},"properties":{"$ref":"#/definitions/WebAppFirewallProps"},"overrides":{"description":"#### Resource Overrides\n\n---\n\nOverrides properties of the underlying CloudFormation resources that Stacktape creates.\n\nChild resources are identified by their CloudFormation logical ID (e.g., `MyBucketBucket`). You can find these IDs by running `stacktape stack:info --detailed`.\n\nFor a list of properties that can be overridden, refer to the [AWS CloudFormation documentation](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html).","type":"object","additionalProperties":{"type":"object","additionalProperties":{}}}},"additionalProperties":false,"required":["type"]},"WebAppFirewallProps":{"type":"object","properties":{"scope":{"description":"#### Specifies whether this firewall is to be used with a CDN or with regional resources.\n\n---\n\n- Use `cdn` if you are using the firewall with a CDN-enabled resource (e.g., HTTP API Gateway, Bucket, Application Load Balancer, or Web Service).\n- Use `regional` if you are using the firewall directly with a regional resource (e.g., Application Load Balancer, User Pool, or Web Service).","enum":["cdn","regional"],"type":"string"},"defaultAction":{"description":"#### The default action for the firewall if no rule matches.\n\n---\n\n- **`Allow`**: Allows most users to access your website but blocks attackers whose requests match specific rules (e.g., originate from certain IP addresses or contain malicious SQL code).\n- **`Block`**: Prevents most users from accessing your website but allows users whose requests match specific rules. By default, the `Block` action responds with an HTTP `403 (Forbidden)` status code.","default":"Allow","enum":["Allow","Block"],"type":"string"},"rules":{"description":"#### A list of rules to be used by the firewall.\n\n---\n\nA rule can be a reference to a `managed-rule-group`, a user-defined `custom-rule-group`, or a `rate-based-rule`.\n\n- **`managed-rule-group`**: A pre-configured rule group created by AWS or other vendors for specific use cases. For more details, see the [AWS documentation](https://docs.aws.amazon.com/waf/latest/developerguide/aws-managed-rule-groups-list.html).\n- **`custom-rule-group`**: A custom rule group that you have created.\n- **`rate-based-rule`**: Tracks the rate of requests for each originating IP address and triggers an action when the rate exceeds a specified limit within a five-minute period.\n\nIf you do not specify any rules, Stacktape will use the `AWSManagedRulesCommonRuleSet` and `AWSManagedRulesKnownBadInputsRuleSet` managed rule groups to protect your application.","type":"array","items":{"anyOf":[{"$ref":"#/definitions/ManagedRuleGroup"},{"$ref":"#/definitions/CustomRuleGroup"},{"$ref":"#/definitions/RateBasedStatement"}]}},"customResponseBodies":{"$ref":"#/definitions/CustomResponseBodies","description":"#### A map of custom response keys and content bodies.\n\n---\n\nWhen you create a rule with a `Block` action, you can send a custom response to the web request."},"captchaImmunityTime":{"description":"#### Determines how long (in seconds) a solved CAPTCHA challenge remains valid.\n\n---\n\nFor more details, see the [AWS documentation](https://docs.aws.amazon.com/waf/latest/developerguide/waf-tokens-immunity-times.html).","default":300,"type":"number"},"challengeImmunityTime":{"description":"#### Determines how long (in seconds) a solved challenge remains valid.\n\n---\n\nFor more details, see the [AWS documentation](https://docs.aws.amazon.com/waf/latest/developerguide/waf-tokens-immunity-times.html).","default":300,"type":"number"},"tokenDomains":{"description":"#### Specifies the domains that the firewall should accept in a web request token.\n\n---\n\nThis enables the use of tokens across multiple protected websites.\nFor more details, see the [AWS documentation](https://docs.aws.amazon.com/waf/latest/developerguide/waf-tokens-domains.html#waf-tokens-domain-lists).","type":"array","items":{"type":"string"}},"disableMetrics":{"description":"#### When `true`, disables the collection of metrics for the firewall.\n\n---\n\nBy default, total metrics for the firewall are enabled and can be monitored using AWS CloudWatch or the AWS WAF console.","default":false,"type":"boolean"},"sampledRequestsEnabled":{"description":"#### When `true`, requests matching the rule are saved for further analysis.\n\n---\n\nBy default, sampled requests are not saved.\nIf you set this to `true`, requests that match the rule will be stored and can be viewed in the AWS WAF console.","default":false,"type":"boolean"}},"additionalProperties":false,"required":["scope"]},"ManagedRuleGroup":{"type":"object","properties":{"type":{"type":"string","const":"managed-rule-group"},"properties":{"$ref":"#/definitions/ManagedRuleGroupProps"}},"additionalProperties":false,"required":["properties","type"]},"ManagedRuleGroupProps":{"type":"object","properties":{"vendorName":{"description":"#### The name of the rule group's vendor.","type":"string"},"excludedRules":{"description":"#### A list of rules to be excluded from the specified rule group.","type":"array","items":{"type":"string"}},"overrideAction":{"description":"#### An action to override the result of the rule group evaluation.\n\n---\n\nSet this to `None` to leave the result of the rule group unchanged, or set it to `Count` to override the result to count only.","enum":["Count","None"],"type":"string"},"priority":{"description":"#### The priority of the rule.\n\n---\n\nRules are evaluated in order of priority, with lower values being evaluated first.\nPriorities do not need to be consecutive, but they must be unique.","type":"number"},"name":{"type":"string"},"disableMetrics":{"description":"#### When `true`, disables metrics for the rule.\n\n---","default":false,"type":"boolean"},"sampledRequestsEnabled":{"description":"#### When `true`, requests matching the rule are saved for further analysis.\n\n---\n\nBy default, sampled requests are not saved.\nYou can view sampled requests in the AWS WAF console.","default":false,"type":"boolean"}},"additionalProperties":false,"required":["name","priority","vendorName"]},"CustomRuleGroup":{"type":"object","properties":{"type":{"type":"string","const":"custom-rule-group"},"properties":{"$ref":"#/definitions/CustomRuleGroupProps"}},"additionalProperties":false,"required":["properties","type"]},"CustomRuleGroupProps":{"type":"object","properties":{"arn":{"description":"#### The Amazon Resource Name (ARN) of the rule group.\n\n---\n\nFor more information on how to create a custom rule group, see the [AWS documentation](https://docs.aws.amazon.com/waf/latest/developerguide/working-with-rule-groups.html).","type":"string"},"overrideAction":{"description":"#### An action to override the result of the rule group evaluation.\n\n---\n\nSet this to `None` to leave the result of the rule group unchanged, or set it to `Count` to override the result to count only.","enum":["Count","None"],"type":"string"},"priority":{"description":"#### The priority of the rule.\n\n---\n\nRules are evaluated in order of priority, with lower values being evaluated first.\nPriorities do not need to be consecutive, but they must be unique.","type":"number"},"name":{"type":"string"},"disableMetrics":{"description":"#### When `true`, disables metrics for the rule.\n\n---","default":false,"type":"boolean"},"sampledRequestsEnabled":{"description":"#### When `true`, requests matching the rule are saved for further analysis.\n\n---\n\nBy default, sampled requests are not saved.\nYou can view sampled requests in the AWS WAF console.","default":false,"type":"boolean"}},"additionalProperties":false,"required":["arn","name","priority"]},"RateBasedStatement":{"type":"object","properties":{"type":{"type":"string","const":"rate-based-rule"},"properties":{"$ref":"#/definitions/RateBasedStatementProps"}},"additionalProperties":false,"required":["properties","type"]},"RateBasedStatementProps":{"type":"object","properties":{"limit":{"description":"#### The maximum number of requests from a single IP address allowed in a five-minute period.\n\n---\n\nThe limit must be between 100 and 20,000,000.","type":"number"},"aggregateBasedOn":{"description":"#### The type of aggregation to use for this rule.\n\n---\n\n- `IP`: Aggregates request counts based on the IP addresses of the requests.\n- `FORWARDED_IP`: Aggregates request counts based on the IP addresses in a specified header.\n\nIf you choose `FORWARDED_IP`, you can also specify the `headerName` and `fallbackBehavior` in the `forwardedIPConfig` property.\nBy default, these are `X-Forwarded-For` and `NO_MATCH`, respectively.\n\nFor more details on rate-based rules, see the [AWS documentation](https://docs.aws.amazon.com/waf/latest/APIReference/API_RateBasedStatement.html).","enum":["FORWARDED_IP","IP"],"type":"string"},"forwardedIPConfig":{"$ref":"#/definitions/ForwardedIPConfig","description":"#### The configuration for inspecting IP addresses in a specified HTTP header.\n\n---\n\n- `fallbackBehavior`: Specifies what to do when a web request does not include the specified header.\n  - `MATCH`: Treats the web request as matching the statement.\n  - `NO_MATCH`: Treats the web request as not matching the statement.\n- `headerName`: The name of the HTTP header to use for the IP address.\n\nFor more details, see the [AWS documentation](https://docs.aws.amazon.com/waf/latest/APIReference/API_ForwardedIPConfig.html)."},"action":{"description":"#### The action that the firewall should take when a web request matches the rule's statement.\n\n---\n\n- `Allow`: Allows the web request.\n- `Block`: Blocks the web request.\n- `Count`: Counts the web request and allows it.\n- `Captcha`: Returns a CAPTCHA challenge to the client.\n- `Challenge`: Returns a challenge to the client.\n\nFor more details, see the [AWS documentation](https://docs.aws.amazon.com/waf/latest/APIReference/API_RuleAction.html).","default":"Block","enum":["Allow","Block","Captcha","Challenge","Count"],"type":"string"},"priority":{"description":"#### The priority of the rule.\n\n---\n\nRules are evaluated in order of priority, with lower values being evaluated first.\nPriorities do not need to be consecutive, but they must be unique.","type":"number"},"name":{"type":"string"},"disableMetrics":{"description":"#### When `true`, disables metrics for the rule.\n\n---","default":false,"type":"boolean"},"sampledRequestsEnabled":{"description":"#### When `true`, requests matching the rule are saved for further analysis.\n\n---\n\nBy default, sampled requests are not saved.\nYou can view sampled requests in the AWS WAF console.","default":false,"type":"boolean"}},"additionalProperties":false,"required":["limit","name","priority"]},"ForwardedIPConfig":{"type":"object","properties":{"fallbackBehavior":{"description":"#### The fallback behavior to use when the specified header is not present.\n\n---\n\n- `MATCH`: Treats the web request as matching the rule statement, and the firewall applies the rule's action.\n- `NO_MATCH`: Treats the web request as not matching the rule statement.","enum":["MATCH","NO_MATCH"],"type":"string"},"headerName":{"description":"#### The name of the HTTP header to use for the IP address.\n\n---\n\nFor example, if you specify `X-Forwarded-For`, the firewall will inspect the `X-Forwarded-For` header in the web request.","type":"string"}},"additionalProperties":false,"required":["fallbackBehavior","headerName"]},"CustomResponseBodies":{"type":"object","additionalProperties":{"type":"object","properties":{"contentType":{"description":"#### The content type of the custom response.\n\n---\n\n- `application/json`: The custom response is a JSON string.\n- `text/plain`: The custom response is a plain text string.\n- `text/html`: The custom response is a block of HTML code.","type":"string"},"content":{"description":"#### The body of the custom response.","type":"string"}},"additionalProperties":false,"required":["content","contentType"]}},"NextjsWeb":{"description":"#### A resource for deploying and hosting Next.js applications.\n\n---\n\nThis resource is purpose-built for Next.js and runs your application's server-side logic in AWS Lambda or Lambda@Edge.\nIt seamlessly integrates your Next.js application with other resources in your infrastructure.","type":"object","properties":{"type":{"type":"string","const":"nextjs-web"},"properties":{"$ref":"#/definitions/NextjsWebProps"},"overrides":{"description":"#### Resource Overrides\n\n---\n\nOverrides properties of the underlying CloudFormation resources that Stacktape creates.\n\nChild resources are identified by their CloudFormation logical ID (e.g., `MyBucketBucket`). You can find these IDs by running `stacktape stack:info --detailed`.\n\nFor a list of properties that can be overridden, refer to the [AWS CloudFormation documentation](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html).","type":"object","additionalProperties":{"type":"object","additionalProperties":{}}}},"additionalProperties":false,"required":["properties","type"]},"NextjsWebProps":{"type":"object","properties":{"appDirectory":{"description":"#### The root directory of your Next.js application.\n\n---\n\nThis should be the path to the directory containing your `next.config.js` file.\nIf you are using a monorepo, this will be the path to your Next.js workspace. Otherwise, it's typically `./`.","type":"string"},"serverLambda":{"$ref":"#/definitions/NextjsServerLambdaProperties","description":"#### Overrides for the server-side Lambda function.\n\n---\n\nUse this to customize the memory, timeout, or other properties of the Lambda function that handles server-side rendering."},"warmServerInstances":{"description":"#### The number of server-side Lambda instances to keep warm.\n\n---\n\nTo mitigate cold starts and improve response times, you can keep a specified number of Lambda instances \"warm\" (pre-initialized).\nThis is done by a separate \"warmer\" function that periodically invokes the server-side function.\n\n> **Note:** This feature is not available when using Lambda@Edge (`useEdgeLambda: true`).","default":0,"type":"number"},"useEdgeLambda":{"description":"#### Deploys the server-side function to Lambda@Edge.\n\n---\n\nWhen enabled, your server-side rendering logic will run at AWS edge locations, closer to your users, which can significantly reduce latency.\n\n**Trade-offs:**\n- Slower deployment times compared to a standard regional Lambda.\n- The \"warming\" feature (`warmServerInstances`) is not supported.","default":false,"type":"boolean"},"buildCommand":{"description":"#### A custom build command for your Next.js application.\n\n---\n\nIf you have a custom build process, you can specify the command here.","type":"string"},"dev":{"description":"#### Dev server configuration for local development.\n\n---\n\nConfigures the dev server process for local development. Used by the `dev` command.\n\nIf not specified, defaults to `next dev` in the app directory.","type":"object","properties":{"command":{"description":"#### The dev server command to execute.\n\n---\n\nExamples:\n- `next dev`\n- `npm run dev`","default":"next dev","type":"string"}},"additionalProperties":false},"fileOptions":{"description":"#### Sets custom headers for static files.\n\n---\n\nThis allows you to define headers, such as `Cache-Control` or `Content-Type`, for files that match a specified pattern.","type":"array","items":{"$ref":"#/definitions/DirectoryUploadFilter"}},"environment":{"description":"#### A list of environment variables to inject into the server-side function.\n\n---\n\nThis is useful for providing configuration details, such as API keys or database connection strings, to your server-side rendering logic.","type":"array","items":{"$ref":"#/definitions/EnvironmentVar"}},"customDomains":{"description":"#### Attaches custom domains to your Next.js application.\n\n---\n\nStacktape can automatically manage DNS records and TLS certificates for your custom domains.\n\nWhen you attach a custom domain, Stacktape will:\n- Create the necessary DNS records in Route 53 to point your domain to the application.\n- Provision and manage a free, auto-renewing AWS Certificate Manager (ACM) TLS certificate for HTTPS.\n\n> **Prerequisite:** You must have a hosted zone for your domain in your AWS account.\n> For more details, see the [Stacktape documentation on domains](https://docs.stacktape.com/other-resources/domains-and-certificates/#adding-domain).","type":"array","items":{"$ref":"#/definitions/DomainConfiguration"}},"useFirewall":{"description":"#### The name of a `web-app-firewall` to protect your application.\n\n---\n\nA web application firewall (WAF) can help protect your application from common web-based attacks.\nFor more information, see the [Stacktape documentation on web application firewalls](https://docs.stacktape.com/security-resources/web-app-firewalls/).","type":"string"},"streamingEnabled":{"description":"#### Enables response streaming for the server-side function.\n\n---\n\n**Benefits:**\n- Improves Time to First Byte (TTFB) for faster page loads.\n- Increases the maximum response size to 20MB (from the standard 6MB).\n\n> **Note:** This is an experimental feature and is not compatible with Lambda@Edge (`useEdgeLambda: true`).","default":false,"type":"boolean"},"connectTo":{"description":"#### Connect To\n\n---\n\nConfigures access to other resources in your stack and AWS services. By specifying resources here, Stacktape automatically:\n- Configures IAM role permissions.\n- Sets up security group rules to allow network traffic.\n- Injects environment variables with connection details into the compute resource.\n\nEnvironment variables are named `STP_[RESOURCE_NAME]_[VARIABLE_NAME]` (e.g., `STP_MY_DATABASE_CONNECTION_STRING`).\n\n---\n\n#### Granted Permissions and Injected Variables:\n\n**`Bucket`**\n- **Permissions:** List, create, get, delete, and tag objects.\n- **Variables:** `NAME`, `ARN`\n\n**`DynamoDbTable`**\n- **Permissions:** Get, put, update, delete, scan, and query items; describe table stream.\n- **Variables:** `NAME`, `ARN`, `STREAM_ARN`\n\n**`MongoDbAtlasCluster`**\n- **Permissions:** Allows connection to clusters with `accessibilityMode` set to `scoping-workloads-in-vpc`. Creates a temporary user for secure, credential-less access.\n- **Variables:** `CONNECTION_STRING`\n\n**`RelationalDatabase`**\n- **Permissions:** Allows connection to databases with `accessibilityMode` set to `scoping-workloads-in-vpc`.\n- **Variables:** `CONNECTION_STRING`, `JDBC_CONNECTION_STRING`, `HOST`, `PORT`. For Aurora clusters, `READER_CONNECTION_STRING`, `READER_JDBC_CONNECTION_STRING`, and `READER_HOST` are also included.\n\n**`RedisCluster`**\n- **Permissions:** Allows connection to clusters with `accessibilityMode` set to `scoping-workloads-in-vpc`.\n- **Variables:** `HOST`, `READER_HOST`, `PORT`\n\n**`EventBus`**\n- **Permissions:** Publish events.\n- **Variables:** `ARN`\n\n**`Function`**\n- **Permissions:** Invoke the function, including via its URL if enabled.\n- **Variables:** `ARN`\n\n**`BatchJob`**\n- **Permissions:** Submit, list, describe, and terminate jobs; manage state machine executions.\n- **Variables:** `JOB_DEFINITION_ARN`, `STATE_MACHINE_ARN`\n\n**`UserAuthPool`**\n- **Permissions:** Full control over the user pool (`cognito-idp:*`).\n- **Variables:** `ID`, `CLIENT_ID`, `ARN`\n\n**`SnsTopic`**\n- **Permissions:** Confirm, list, publish, and manage subscriptions.\n- **Variables:** `ARN`, `NAME`\n\n**`SqsQueue`**\n- **Permissions:** Send, receive, delete, and purge messages.\n- **Variables:** `ARN`, `NAME`, `URL`\n\n**`UpstashKafkaTopic`**\n- **Variables:** `TOPIC_NAME`, `TOPIC_ID`, `USERNAME`, `PASSWORD`, `TCP_ENDPOINT`, `REST_URL`\n\n**`UpstashRedis`**\n- **Variables:** `HOST`, `PORT`, `PASSWORD`, `REST_TOKEN`, `REST_URL`, `REDIS_URL`\n\n**`PrivateService`**\n- **Variables:** `ADDRESS`\n\n**`aws:ses` (Macro)**\n- **Permissions:** Full permissions for AWS SES (`ses:*`).","type":"array","items":{"type":"string"}},"iamRoleStatements":{"description":"#### Custom IAM Role Statements\n\n---\n\nA list of raw AWS IAM role statements to append to the resource's role, allowing for fine-grained permission control.","type":"array","items":{"$ref":"#/definitions/StpIamRoleStatement"}}},"additionalProperties":false,"required":["appDirectory"]},"NextjsServerLambdaProperties":{"type":"object","properties":{"memory":{"description":"#### The amount of memory (in MB) allocated to the server-side function.\n\n---\n\nThis setting also influences the amount of CPU power your function receives.\nThe value must be between 128 MB and 10,240 MB.","default":1024,"type":"number"},"timeout":{"description":"#### The maximum execution time for the server-side function, in seconds.\n\n---\n\nThe maximum allowed timeout is 30 seconds.","default":30,"type":"number"},"logging":{"$ref":"#/definitions/LambdaFunctionLogging","description":"#### Configures the logging behavior for the server-side function.\n\n---\n\nFunction logs (`stdout` and `stderr`) are automatically sent to a CloudWatch log group.\n\nYou can view logs in two ways:\n  - Through the AWS CloudWatch console. Use the `stacktape stack-info` command to get a direct link.\n  - Using the `stacktape logs` command to stream logs directly to your terminal."},"joinDefaultVpc":{"description":"#### Connects the server-side function to your stack's default Virtual Private Cloud (VPC).\n\n---\n\nConnecting to a VPC is necessary to access resources within that VPC, such as relational databases or Redis clusters.\n\n> **Important:** When a function joins a VPC, it loses direct internet access.\n\nIf your function needs to access S3 or DynamoDB, Stacktape automatically creates VPC endpoints to ensure connectivity.\nFor more details, see the [Stacktape VPCs documentation](https://docs.stacktape.com/user-guides/vpcs).","type":"boolean"}},"additionalProperties":false},"LambdaFunctionLogging":{"type":"object","properties":{"disabled":{"description":"#### Disables application logging to CloudWatch.","default":false,"type":"boolean"},"retentionDays":{"description":"#### The number of days to retain logs in CloudWatch.","default":180,"enum":[1,120,14,150,180,1827,3,30,365,3653,400,5,545,60,7,731,90],"type":"number"},"logForwarding":{"description":"#### Log Forwarding\n\n---\n\nForwards logs to a specified destination for monitoring, analysis, or long-term storage.\n\nLog forwarding is handled by an [Amazon Kinesis Data Firehose](https://aws.amazon.com/kinesis/data-firehose/) delivery stream. You will incur costs based on the volume of data transferred (approximately $0.03 per GB). For detailed pricing, see the [AWS Kinesis Firehose Pricing](https://aws.amazon.com/kinesis/data-firehose/pricing/) page.\n\nSupported destinations:\n- `http-endpoint`: Delivers logs to any HTTP endpoint that complies with [Firehose request and response specifications](https://docs.aws.amazon.com/firehose/latest/dev/httpdeliveryrequestresponse.html). Many third-party logging services are compatible out-of-the-box.\n- `datadog`: Delivers logs to [Datadog](https://www.datadoghq.com/).\n- `highlight`: Delivers logs to a [Highlight.io](https://www.highlight.io/) project.\n\nFor more information, refer to the [Stacktape documentation on log forwarding](https://docs.stacktape.com/configuration/log-forwarding/).\n\n> If logs fail to be delivered after multiple retries, they are stored in a backup S3 bucket named `{stackName}-{resourceName}-logs-{generatedHash}`. The retry duration can be configured.","anyOf":[{"$ref":"#/definitions/HttpEndpointLogForwarding"},{"$ref":"#/definitions/HighlightLogForwarding"},{"$ref":"#/definitions/DatadogLogForwarding"}]}},"additionalProperties":false},"OpenSearchDomain":{"description":"#### OpenSearch Domain\n\n---\n\nA fully managed OpenSearch (or Elasticsearch) cluster.","type":"object","properties":{"type":{"type":"string","const":"open-search-domain"},"properties":{"$ref":"#/definitions/OpenSearchDomainProps"},"overrides":{"description":"#### Resource Overrides\n\n---\n\nOverrides properties of the underlying CloudFormation resources that Stacktape creates.\n\nChild resources are identified by their CloudFormation logical ID (e.g., `MyBucketBucket`). You can find these IDs by running `stacktape stack:info --detailed`.\n\nFor a list of properties that can be overridden, refer to the [AWS CloudFormation documentation](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html).","type":"object","additionalProperties":{"type":"object","additionalProperties":{}}}},"additionalProperties":false,"required":["type"]},"OpenSearchDomainProps":{"type":"object","properties":{"version":{"description":"#### The OpenSearch version to use.\n\n---\n\nIt is recommended to explicitly specify the version to prevent potential issues when the default version changes.\nThe current default is `2.17`, but this may change in future Stacktape releases.","enum":["1.0","1.1","1.2","1.3","2.11","2.13","2.15","2.17","2.3","2.5","2.7","2.9"],"type":"string"},"clusterConfig":{"$ref":"#/definitions/OpenSearchClusterConfig","description":"#### The configuration of the cluster instances.\n\n---\n\nThis property determines the size, number, and type of instances used in your OpenSearch domain cluster.\nIf you do not specify a `clusterConfig`, the cluster will consist of a single `m4.large.search` node."},"storage":{"$ref":"#/definitions/OpenSearchStorage","description":"#### The storage configuration for the cluster.\n\n---\n\nThis is only supported for instances that use EBS storage.\nSetting `iops` and `throughput` is only allowed for instances with the `gp3` storage type."},"userPool":{"description":"#### The name of the Cognito User Pool resource to use for OpenSearch Dashboards authentication.","type":"string"},"logging":{"$ref":"#/definitions/OpenSearchLogConfiguration","description":"#### The log collection configuration.\n\n---\n\nStacktape will automatically create the required log groups and policies for you.\nYou can set a custom retention period for individual log types or disable log collection entirely.\n\nFor more details on log collection, see the [AWS documentation](https://docs.aws.amazon.com/opensearch-service/latest/developerguide/createdomain-configure-slow-logs.html)."},"accessibility":{"$ref":"#/definitions/OpenSearchAccessibility","description":"#### Configures the accessibility of the domain.\n\n---\n\nBy default, the domain is accessible from anywhere on the internet but is still protected by IAM.\nYou can restrict access by making the domain available only to resources within your stack's VPC."}},"additionalProperties":false},"OpenSearchClusterConfig":{"type":"object","properties":{"instanceType":{"description":"#### The instance type for the data nodes.\n\n---\n\nData nodes handle data storage, indexing, and query processing.\nFor production setups, it is recommended to pair data nodes with dedicated master nodes to improve cluster stability.\n\nFor a list of supported instance types, see the [AWS documentation](https://docs.aws.amazon.com/opensearch-service/latest/developerguide/supported-instance-types.html).","type":"string"},"instanceCount":{"description":"#### The number of data nodes in the cluster.\n\n---\n\nData nodes handle data storage, indexing, and query processing.\nFor production setups, it is recommended to pair data nodes with dedicated master nodes to improve cluster stability.","type":"number"},"dedicatedMasterType":{"description":"#### The instance type for the dedicated master nodes.\n\n---\n\nDedicated master nodes manage the cluster state and coordinate node activities but do not store data or serve queries.\nThey are recommended for clusters with three or more nodes to improve stability and prevent split-brain scenarios.\nThe master instance type should be appropriately sized based on the number of nodes and shards in the cluster.\n\nThe number of master nodes should always be odd (3, 5, or 7) for quorum-based fault tolerance.\n\nFor more details, see the [AWS documentation on dedicated master nodes](https://docs.aws.amazon.com/opensearch-service/latest/developerguide/managedomains-dedicatedmasternodes.html).","type":"string"},"dedicatedMasterCount":{"description":"#### The number of dedicated master nodes.\n\n---\n\nDedicated master nodes manage the cluster state and coordinate node activities but do not store data or serve queries.\nThey are recommended for clusters with three or more nodes to improve stability and prevent split-brain scenarios.\nThe number of master nodes should always be odd (3, 5, or 7) for quorum-based fault tolerance.\n\nFor more details, see the [AWS documentation on dedicated master nodes](https://docs.aws.amazon.com/opensearch-service/latest/developerguide/managedomains-dedicatedmasternodes.html).","type":"number"},"warmType":{"description":"#### The instance type for the warm nodes.\n\n---\n\nWarm nodes use UltraWarm storage to store infrequently accessed or older data, optimizing costs for time-series or log data.\nData on warm nodes remains searchable but with higher query latency compared to hot nodes.\nThis is ideal for retaining historical data without impacting the performance of frequently accessed data.\n\nFor more details, see the [AWS documentation on UltraWarm storage](https://docs.aws.amazon.com/opensearch-service/latest/developerguide/ultrawarm.html).","type":"string"},"warmCount":{"description":"#### The number of warm nodes.\n\n---\n\nWarm nodes use UltraWarm storage to store infrequently accessed or older data, optimizing costs for time-series or log data.\nData on warm nodes remains searchable but with higher query latency compared to hot nodes.\nThis is ideal for retaining historical data without impacting the performance of frequently accessed data.\n\nFor more details, see the [AWS documentation on UltraWarm storage](https://docs.aws.amazon.com/opensearch-service/latest/developerguide/ultrawarm.html).","type":"number"},"multiAzDisabled":{"description":"#### Disables Multi-Availability Zone (AZ) awareness for the cluster.\n\n---\n\nBy default, Multi-AZ awareness is enabled for any cluster with more than one node.\nThis means OpenSearch Service allocates nodes and replica index shards across multiple AZs to prevent data loss and minimize downtime.\n\nDisabling zone awareness is not recommended.\n\nFor more details, see the [AWS documentation on Multi-AZ clusters](https://docs.aws.amazon.com/opensearch-service/latest/developerguide/managedomains-multiaz.html).","default":false,"type":"boolean"},"standbyEnabled":{"description":"#### Enables a Multi-AZ cluster with a standby AZ.\n\n---\n\nWhen enabled, this option ensures high availability and consistent performance by distributing nodes and data copies across three AZs, with one serving as a standby.\nThis allows the standby AZ to take over during a failure without causing re-balancing or availability issues.\n\nThis feature enforces several best practices, including:\n- OpenSearch version 1.3 or higher.\n- Auto-Tune enabled on the domain.\n- Three dedicated master nodes and data nodes.\n- Only GP3 or SSD-backed instances from a subset of supported instance types.\n\nFor more details, see the [AWS documentation on Multi-AZ with Standby](https://docs.aws.amazon.com/opensearch-service/latest/developerguide/managedomains-multiaz.html).","default":false,"type":"boolean"}},"additionalProperties":false,"required":["instanceCount","instanceType"]},"OpenSearchStorage":{"type":"object","properties":{"size":{"description":"#### The size of the EBS volume for each data node, in GiB.\n\n---\n\nThe minimum and maximum size of an EBS volume depends on the volume type and the instance type it is attached to.\nFor more information, see the [EBS volume size limits](https://docs.aws.amazon.com/opensearch-service/latest/developerguide/limits.html#ebsresource) in the Amazon OpenSearch Service Developer Guide.","type":"number"},"iops":{"description":"#### The provisioned IOPS per data node.\n\n---\n\nThe number of I/O operations per second (IOPS) that the volume supports.\nThis applies only to instances with the **GP3** volume type.","default":3000,"type":"number"},"throughput":{"description":"#### The provisioned throughput per data node, in MiB/s.\n\n---\n\nThe throughput of the EBS volumes attached to data nodes.\nThis applies only to instances with the **GP3** volume type.","default":125,"type":"number"}},"additionalProperties":false,"required":["size"]},"OpenSearchLogConfiguration":{"type":"object","properties":{"errorLogs":{"$ref":"#/definitions/OpenSearchLogRetentionSettings","description":"#### Error logs.\n\n---\n\nError logs can help with troubleshooting issues such as:\n- Script compilation errors\n- Invalid queries\n- Indexing issues\n- Snapshot failures\n- Index State Management migration failures\n\nIf you enable error logs, OpenSearch Service will publish log lines of `WARN`, `ERROR`, and `FATAL` to CloudWatch, along with several exceptions from the `DEBUG` level.\n\nFor more details, see the [AWS documentation](https://docs.aws.amazon.com/opensearch-service/latest/developerguide/createdomain-configure-slow-logs.html)."},"searchSlowLogs":{"$ref":"#/definitions/OpenSearchLogRetentionSettings","description":"#### Search slow logs.\n\n---\n\nSearch slow logs rely on thresholds that you define to determine what qualifies as a \"slow\" search.\nFor example, you might decide that a query is slow if it takes more than 15 seconds to complete.\n\nFor more information on slow logs and how to configure thresholds, see the [OpenSearch documentation](https://opensearch.org/docs/latest/monitoring-your-cluster/logs/#slow-logs)."},"indexSlowLogs":{"$ref":"#/definitions/OpenSearchLogRetentionSettings","description":"#### Indexing slow logs.\n\n---\n\nThese logs rely on thresholds to define what qualifies as a \"slow\" indexing operation.\nFor example, you might decide that an indexing operation is slow if it takes more than 15 seconds to complete.\n\nFor more information on slow logs and how to configure thresholds, see the [OpenSearch documentation](https://opensearch.org/docs/latest/monitoring-your-cluster/logs/#slow-logs)."}},"additionalProperties":false},"OpenSearchLogRetentionSettings":{"type":"object","properties":{"disabled":{"description":"#### Disables log collection.\n\n---\n\nLog collection is enabled by default.","default":false,"type":"boolean"},"retentionDays":{"description":"#### The number of days to retain logs in the CloudWatch log group.\n\n---","default":14,"enum":[1,120,14,150,180,1827,3,30,365,3653,400,5,545,60,7,731,90],"type":"number"}},"additionalProperties":false},"OpenSearchAccessibility":{"type":"object","properties":{"accessibilityMode":{"description":"#### Configures the accessibility mode for this domain.\n\n---\n\nThe following modes are supported:\n\n- **`internet`**: The least restrictive mode. The domain can be accessed from anywhere on the internet.\n- **`vpc`**: The domain can only be accessed from resources within your VPC. This includes any [function](https://docs.stacktape.com/compute-resources/lambda-functions) (with `joinDefaultVpc: true`), [batch job](https://docs.stacktape.com/compute-resources/batch-jobs), or [container workload](https://docs.stacktape.com/compute-resources/multi-container-workloads) in your stack, provided they have the required credentials.\n- **`scoping-workloads-in-vpc`**: Similar to `vpc` mode, but more restrictive. In addition to being in the same VPC, resources must have the necessary security group permissions to access the cluster. For functions, batch jobs, and container services, these permissions can be granted using the `connectTo` property in their respective configurations.\n\n> **Note:** If you launch a domain with `vpc` or `scoping-workloads-in-vpc` accessibility, you cannot later switch it to `internet` mode, and vice versa. You must create a new domain and migrate your data.\n\nTo learn more about VPCs, see the [VPC documentation](https://docs.stacktape.com/user-guides/vpcs/).","default":"internet","enum":["internet","scoping-workloads-in-vpc","vpc"],"type":"string"}},"additionalProperties":false,"required":["accessibilityMode"]},"EfsFilesystem":{"description":"#### EFS Filesystem\n\n---\n\nA fully managed, elastic, and scalable file storage service for use with AWS cloud services.","type":"object","properties":{"type":{"type":"string","const":"efs-filesystem"},"properties":{"$ref":"#/definitions/EfsFilesystemProps"},"overrides":{"description":"#### Resource Overrides\n\n---\n\nOverrides properties of the underlying CloudFormation resources that Stacktape creates.\n\nChild resources are identified by their CloudFormation logical ID (e.g., `MyBucketBucket`). You can find these IDs by running `stacktape stack:info --detailed`.\n\nFor a list of properties that can be overridden, refer to the [AWS CloudFormation documentation](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html).","type":"object","additionalProperties":{"type":"object","additionalProperties":{}}}},"additionalProperties":false,"required":["type"]},"EfsFilesystemProps":{"type":"object","properties":{"backupEnabled":{"description":"#### Enables automatic backups for the EFS filesystem.\n\n---\n\n- Uses AWS Backup with a default daily backup schedule and a 35-day retention period.\n- Backups are incremental, meaning only changed, added, or removed files are copied after the initial backup.\n- Data from all storage classes (Standard, Infrequent Access, and Archive) is backed up without incurring data access charges.\n- Restored data is always placed in the Standard storage class.\n- The default backup plan and vault are automatically created and managed by AWS.","type":"boolean"},"throughputMode":{"description":"#### Determines how throughput is managed for the filesystem.\n\n---\n\n- **`elastic`** (Recommended): Best for unpredictable or spiky workloads, such as web apps or CI/CD pipelines. It is ideal for workloads that use high throughput for 5% of the time or less, and it automatically scales up and down based on demand.\n\n- **`provisioned`**: Best for steady, predictable workloads that require high throughput more than 5% of the time, such as media streaming or production databases. This mode requires setting `provisionedThroughputInMibps`.\n\n- **`bursting`**: Scales with storage size, providing a baseline of 50 KiB/s per GiB of storage. This mode is suitable for small development environments and team file shares, but you may hit performance limits if burst credits are depleted.","default":"elastic","enum":["bursting","elastic","provisioned"],"type":"string"},"provisionedThroughputInMibps":{"description":"#### The desired throughput in MiB/s when using `provisioned` mode.\n\n---\n\n- Required when `throughputMode` is set to `provisioned`.\n- Must be a value greater than 0.\n- Additional fees are charged based on the provisioned throughput.\n- This value can be modified at any time to adjust performance.\n\nExample: `100` means 100 MiB/s of guaranteed throughput.","type":"number"}},"additionalProperties":false},"LambdaFunction":{"description":"#### A serverless compute resource that runs your code in response to events.\n\n---\n\nLambda functions are short-lived, stateless, and scale automatically. You only pay for the compute time you consume.","type":"object","properties":{"type":{"type":"string","const":"function"},"properties":{"$ref":"#/definitions/LambdaFunctionProps"},"overrides":{"description":"#### Resource Overrides\n\n---\n\nOverrides properties of the underlying CloudFormation resources that Stacktape creates.\n\nChild resources are identified by their CloudFormation logical ID (e.g., `MyBucketBucket`). You can find these IDs by running `stacktape stack:info --detailed`.\n\nFor a list of properties that can be overridden, refer to the [AWS CloudFormation documentation](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html).","type":"object","additionalProperties":{"type":"object","additionalProperties":{}}}},"additionalProperties":false,"required":["properties","type"]},"LambdaFunctionProps":{"type":"object","properties":{"packaging":{"$ref":"#/definitions/LambdaPackaging","description":"#### Configures how your code is packaged and deployed.\n\n---\n\nStacktape supports two packaging methods:\n- `stacktape-lambda-buildpack`: Stacktape automatically builds and packages your code from a specified source file. This is the recommended and simplest approach.\n- `custom-artifact`: You provide a path to a pre-built deployment package (e.g., a zip file). Stacktape will handle the upload.\n\nYour deployment packages are stored in an S3 bucket managed by Stacktape."},"events":{"description":"#### A list of event sources that trigger this function.\n\n---\n\nFunctions are executed in response to events from various sources, such as:\n- HTTP requests from an API Gateway.\n- File uploads to an S3 bucket.\n- Messages in an SQS queue.\n- Scheduled events (cron jobs).\n\nStacktape automatically configures the necessary permissions for the function to be invoked by these event sources.\nThe data passed to the function (the \"event payload\") varies depending on the trigger.","type":"array","items":{"anyOf":[{"$ref":"#/definitions/ApplicationLoadBalancerIntegration"},{"$ref":"#/definitions/KafkaTopicIntegration"},{"$ref":"#/definitions/SnsIntegration"},{"$ref":"#/definitions/SqsIntegration"},{"$ref":"#/definitions/KinesisIntegration"},{"$ref":"#/definitions/DynamoDbIntegration"},{"$ref":"#/definitions/S3Integration"},{"$ref":"#/definitions/ScheduleIntegration"},{"$ref":"#/definitions/AlarmIntegration"},{"$ref":"#/definitions/CloudwatchLogIntegration"},{"$ref":"#/definitions/HttpApiIntegration"},{"$ref":"#/definitions/EventBusIntegration"}]}},"environment":{"description":"#### A list of environment variables available to the function at runtime.\n\n---\n\nEnvironment variables are ideal for providing configuration details to your function, such as database connection strings, API keys, or other dynamic parameters.","type":"array","items":{"$ref":"#/definitions/EnvironmentVar"}},"runtime":{"$ref":"#/definitions/LambdaRuntime","description":"#### The runtime environment for the function.\n\n---\n\nStacktape automatically detects the programming language and selects the latest appropriate runtime. For example, `.ts` and `.js` files will use a recent Node.js runtime.\nFor a full list of available runtimes, see the [AWS Lambda runtimes documentation](https://docs.aws.amazon.com/lambda/latest/dg/lambda-runtimes.html)."},"architecture":{"description":"#### The processor architecture for the function.\n\n---\n\nYou can choose between two architectures:\n- **x86_64**: The traditional 64-bit architecture, offering broad compatibility with libraries and dependencies.\n- **arm64**: A modern ARM-based architecture that can offer better performance and cost-effectiveness for some workloads.\n\nIf you use `stacktape-lambda-buildpack`, Stacktape automatically builds for the selected architecture. If you provide a custom artifact, ensure it's compiled for the target architecture.","default":"x86_64","enum":["arm64","x86_64"],"type":"string"},"memory":{"description":"#### The amount of memory (in MB) allocated to the function.\n\n---\n\nThis setting also influences the amount of CPU power your function receives. Higher memory allocation results in more powerful CPU resources.\nThe value must be between 128 MB and 10,240 MB.","type":"number"},"timeout":{"description":"#### The maximum execution time for the function, in seconds.\n\n---\n\nIf the function runs longer than this, it will be terminated. The maximum allowed timeout is 900 seconds (15 minutes).","default":10,"type":"number"},"joinDefaultVpc":{"description":"#### Connects the function to your stack's default Virtual Private Cloud (VPC).\n\n---\n\nBy default, functions are not connected to a VPC. Connecting to a VPC is necessary to access resources within that VPC, such as relational databases or Redis clusters.\n\n> **Important:** When a function joins a VPC, it loses direct internet access.\n\nIf your function needs to access S3 or DynamoDB, Stacktape automatically creates VPC endpoints to ensure connectivity.\nTo learn more, see the [Stacktape VPCs documentation](https://docs.stacktape.com/user-guides/vpcs).","type":"boolean"},"tags":{"description":"#### A list of tags to apply to the function.\n\n---\n\nTags are key-value pairs that help you organize, identify, and manage your AWS resources. You can specify up to 50 tags.","type":"array","items":{"$ref":"#/definitions/CloudformationTag"}},"destinations":{"$ref":"#/definitions/LambdaFunctionDestinations","description":"#### Configures destinations for asynchronous invocations.\n\n---\n\nThis feature allows you to route the results of a function's execution (success or failure) to another service for further processing. This is useful for building simple, event-driven workflows.\nSupported destinations include SQS queues, SNS topics, EventBridge event buses, and other Lambda functions.\n\nFor more information, see the [AWS Lambda Destinations documentation](https://aws.amazon.com/blogs/compute/introducing-aws-lambda-destinations/)."},"logging":{"$ref":"#/definitions/LambdaFunctionLogging","description":"#### Configures the logging behavior for the function.\n\n---\n\nFunction logs, including `stdout` and `stderr`, are automatically sent to a CloudWatch log group.\nBy default, logs are retained for 180 days.\n\nYou can view logs in two ways:\n  - Through the AWS CloudWatch console. Use the `stacktape stack-info` command to get a direct link.\n  - Using the `stacktape logs` command to stream logs directly to your terminal."},"provisionedConcurrency":{"description":"#### Configures the provisioned concurrency for the function.\n\n---\n\nThis is the number of pre-initialized execution environments allocated to your function.\nThese execution environments are ready to respond immediately to incoming function requests.\nProvisioned concurrency is useful for reducing cold start latencies for functions and designed to make functions available with double-digit millisecond response times.\nGenerally, interactive workloads benefit the most from the feature.\nThose are applications with users initiating requests, such as web and mobile applications, and are the most sensitive to latency.\nAsynchronous workloads, such as data processing pipelines, are often less latency sensitive and so do not usually need provisioned concurrency.\nConfiguring provisioned concurrency incurs additional charges to your AWS account.","type":"number"},"reservedConcurrency":{"description":"#### Configures the reserved concurrency for the function.\n\n---\n\nThis sets both the maximum and minimum number of concurrent instances allocated to your function.\nWhen a function has reserved concurrency, no other function can use that concurrency.\nReserved concurrency is useful for ensuring that your most critical functions always have enough concurrency to handle incoming requests.\nAdditionally, reserved concurrency can be used for limiting concurrency to prevent overwhelming downstream resources, like database connections.\nReserved concurrency acts as both a lower and upper bound - it reserves the specified capacity exclusively for your function while also preventing it from scaling beyond that limit.\nConfiguring reserved concurrency for a function incurs no additional charges.","type":"number"},"layers":{"description":"#### A list of layers to add to the function.\n\n---\n\nA Lambda layer is a .zip file archive that contains supplementary code or data.\nLayers usually contain library dependencies, a custom runtime, or configuration files.\n\nUsing layers:\n1. Package your layer content. This means creating a .zip file archive. For more information, see [Packaging your layer content](https://docs.aws.amazon.com/lambda/latest/dg/packaging-layers.html).\n2. Create the layer in Lambda. For more information, see [Creating and deleting layers in Lambda](https://docs.aws.amazon.com/lambda/latest/dg/creating-deleting-layers.html)\n3. Get the layer ARN and put it in the `layers` property of the function.","type":"array","items":{"type":"string"}},"deployment":{"$ref":"#/definitions/LambdaDeploymentConfig","description":"#### Configures the deployment strategy for updating the function.\n\n---\n\nThis allows for safe, gradual deployments. Instead of instantly replacing the old version, traffic is shifted to the new version over time. This provides an opportunity to monitor for issues and roll back if necessary.\n\nSupported strategies include:\n  - **Canary**: A percentage of traffic is shifted to the new version for a specified time before routing all traffic.\n  - **Linear**: Traffic is shifted in equal increments over a specified period.\n  - **AllAtOnce**: All traffic is shifted to the new version immediately."},"alarms":{"description":"#### A list of additional alarms to associate with this function.\n\n---\n\nThese alarms are merged with any globally configured alarms from the Stacktape console.","type":"array","items":{"$ref":"#/definitions/LambdaAlarm"}},"disabledGlobalAlarms":{"description":"#### A list of global alarm names to disable for this function.\n\n---\n\nUse this to prevent specific globally-defined alarms from applying to this function.","type":"array","items":{"type":"string"}},"url":{"$ref":"#/definitions/LambdaUrlConfig","description":"#### Configures a dedicated HTTPS endpoint (URL) for the function.\n\n---\n\nThis provides a simple way to invoke your function over HTTPS without needing an API Gateway. The URL is automatically generated."},"cdn":{"$ref":"#/definitions/CdnConfiguration","description":"#### Places an AWS CloudFront Content Delivery Network (CDN) in front of the function.\n\n---\n\nA CDN can significantly improve performance and reduce latency by caching the function's responses at edge locations closer to your users.\nThis is useful for reducing load on your function, lowering bandwidth costs, and improving security."},"storage":{"description":"#### The size (in MB) of the function's `/tmp` directory.\n\n---\n\nThis provides ephemeral storage for your function. The size can be between 512 MB and 10,240 MB.","default":512,"type":"number"},"volumeMounts":{"description":"#### A list of file system volumes to mount to the function.\n\n---\n\nVolumes provide persistent storage that can be shared across multiple function invocations and even multiple functions.\nThis is useful for workloads that require access to a shared file system.\nCurrently, only EFS (Elastic File System) volumes are supported.\n\n> **Note:** The function must be connected to a VPC to use this feature (`joinDefaultVpc: true`).","type":"array","items":{"$ref":"#/definitions/LambdaEfsMount"}},"connectTo":{"description":"#### Connect To\n\n---\n\nConfigures access to other resources in your stack and AWS services. By specifying resources here, Stacktape automatically:\n- Configures IAM role permissions.\n- Sets up security group rules to allow network traffic.\n- Injects environment variables with connection details into the compute resource.\n\nEnvironment variables are named `STP_[RESOURCE_NAME]_[VARIABLE_NAME]` (e.g., `STP_MY_DATABASE_CONNECTION_STRING`).\n\n---\n\n#### Granted Permissions and Injected Variables:\n\n**`Bucket`**\n- **Permissions:** List, create, get, delete, and tag objects.\n- **Variables:** `NAME`, `ARN`\n\n**`DynamoDbTable`**\n- **Permissions:** Get, put, update, delete, scan, and query items; describe table stream.\n- **Variables:** `NAME`, `ARN`, `STREAM_ARN`\n\n**`MongoDbAtlasCluster`**\n- **Permissions:** Allows connection to clusters with `accessibilityMode` set to `scoping-workloads-in-vpc`. Creates a temporary user for secure, credential-less access.\n- **Variables:** `CONNECTION_STRING`\n\n**`RelationalDatabase`**\n- **Permissions:** Allows connection to databases with `accessibilityMode` set to `scoping-workloads-in-vpc`.\n- **Variables:** `CONNECTION_STRING`, `JDBC_CONNECTION_STRING`, `HOST`, `PORT`. For Aurora clusters, `READER_CONNECTION_STRING`, `READER_JDBC_CONNECTION_STRING`, and `READER_HOST` are also included.\n\n**`RedisCluster`**\n- **Permissions:** Allows connection to clusters with `accessibilityMode` set to `scoping-workloads-in-vpc`.\n- **Variables:** `HOST`, `READER_HOST`, `PORT`\n\n**`EventBus`**\n- **Permissions:** Publish events.\n- **Variables:** `ARN`\n\n**`Function`**\n- **Permissions:** Invoke the function, including via its URL if enabled.\n- **Variables:** `ARN`\n\n**`BatchJob`**\n- **Permissions:** Submit, list, describe, and terminate jobs; manage state machine executions.\n- **Variables:** `JOB_DEFINITION_ARN`, `STATE_MACHINE_ARN`\n\n**`UserAuthPool`**\n- **Permissions:** Full control over the user pool (`cognito-idp:*`).\n- **Variables:** `ID`, `CLIENT_ID`, `ARN`\n\n**`SnsTopic`**\n- **Permissions:** Confirm, list, publish, and manage subscriptions.\n- **Variables:** `ARN`, `NAME`\n\n**`SqsQueue`**\n- **Permissions:** Send, receive, delete, and purge messages.\n- **Variables:** `ARN`, `NAME`, `URL`\n\n**`UpstashKafkaTopic`**\n- **Variables:** `TOPIC_NAME`, `TOPIC_ID`, `USERNAME`, `PASSWORD`, `TCP_ENDPOINT`, `REST_URL`\n\n**`UpstashRedis`**\n- **Variables:** `HOST`, `PORT`, `PASSWORD`, `REST_TOKEN`, `REST_URL`, `REDIS_URL`\n\n**`PrivateService`**\n- **Variables:** `ADDRESS`\n\n**`aws:ses` (Macro)**\n- **Permissions:** Full permissions for AWS SES (`ses:*`).","type":"array","items":{"type":"string"}},"iamRoleStatements":{"description":"#### Custom IAM Role Statements\n\n---\n\nA list of raw AWS IAM role statements to append to the resource's role, allowing for fine-grained permission control.","type":"array","items":{"$ref":"#/definitions/StpIamRoleStatement"}}},"additionalProperties":false,"required":["packaging"]},"KafkaTopicIntegration":{"description":"#### Triggers a function when new messages are available in a Kafka topic.","type":"object","properties":{"type":{"type":"string","const":"kafka-topic"},"properties":{"$ref":"#/definitions/KafkaTopicIntegrationProps","description":"#### Properties of the integration"}},"additionalProperties":false,"required":["properties","type"]},"KafkaTopicIntegrationProps":{"type":"object","properties":{"customKafkaConfiguration":{"$ref":"#/definitions/CustomKafkaEventSource","description":"#### The details of your Kafka cluster.\n\n---\n\nSpecifies the bootstrap servers and topic name."},"batchSize":{"description":"#### The maximum number of records to process in a single batch.\n\n---\n\nThe function will be invoked with up to this many records. Maximum is 10,000.","default":100,"type":"number"},"maxBatchWindowSeconds":{"description":"#### The maximum time (in seconds) to wait before invoking the function with a batch of records.\n\n---\n\nThe function will be triggered when either the `batchSize` is reached or this time window expires.\nMaximum is 300 seconds.","default":0.5,"type":"number"}},"additionalProperties":false},"CustomKafkaEventSource":{"type":"object","properties":{"bootstrapServers":{"description":"#### A list of `host:port` addresses for your Kafka brokers.","type":"array","items":{"type":"string"}},"topicName":{"description":"#### The name of the Kafka topic to consume messages from.","type":"string"},"authentication":{"description":"#### The authentication method for connecting to the Kafka cluster.\n\n---\n\n- `SASL`: Authenticate using a username and password (PLAIN or SCRAM).\n- `MTLS`: Authenticate using a client-side TLS certificate.","anyOf":[{"$ref":"#/definitions/KafkaSASLAuth"},{"$ref":"#/definitions/KafkaMTLSAuth"}]}},"additionalProperties":false,"required":["authentication","bootstrapServers","topicName"]},"KafkaSASLAuth":{"type":"object","properties":{"type":{"description":"#### The SASL authentication protocol.\n\n---\n\n- `BASIC_AUTH`: SASL/PLAIN\n- `SASL_SCRAM_256_AUTH`: SASL SCRAM-256\n- `SASL_SCRAM_512_AUTH`: SASL SCRAM-512","enum":["BASIC_AUTH","SASL_SCRAM_256_AUTH","SASL_SCRAM_512_AUTH"],"type":"string"},"properties":{"$ref":"#/definitions/KafkaSASLAuthProps","description":"#### Properties of authentication method"}},"additionalProperties":false,"required":["properties","type"]},"KafkaSASLAuthProps":{"type":"object","properties":{"authenticationSecretArn":{"description":"#### The ARN of a secret containing the Kafka credentials.\n\n---\n\nThe secret must be a JSON object with `username` and `password` keys.\nYou can create secrets using the `stacktape secret:create` command.","type":"string"}},"additionalProperties":false,"required":["authenticationSecretArn"]},"KafkaMTLSAuth":{"type":"object","properties":{"type":{"description":"#### The authentication protocol.\n\n---\n\n`MTLS`: Mutual TLS authentication.","type":"string","const":"MTLS"},"properties":{"$ref":"#/definitions/KafkaMTLSAuthProps","description":"#### Properties of authentication method"}},"additionalProperties":false,"required":["properties","type"]},"KafkaMTLSAuthProps":{"type":"object","properties":{"clientCertificate":{"description":"#### The ARN of a secret containing the client certificate.\n\n---\n\nThis secret should contain the certificate chain (X.509 PEM), private key (PKCS#8 PEM), and an optional private key password.\nYou can create secrets using the `stacktape secret:create` command.","type":"string"},"serverRootCaCertificate":{"description":"#### The ARN of a secret containing the server's root CA certificate.\n\n---\n\nYou can create secrets using the `stacktape secret:create` command.","type":"string"}},"additionalProperties":false,"required":["clientCertificate"]},"AlarmIntegration":{"type":"object","properties":{"type":{"type":"string","const":"cloudwatch-alarm"},"properties":{"$ref":"#/definitions/AlarmIntegrationProps","description":"#### Properties of the integration"}},"additionalProperties":false,"required":["properties","type"]},"AlarmIntegrationProps":{"type":"object","properties":{"alarmName":{"description":"#### The name of the alarm (defined in the `alarms` section) that will trigger the function.","type":"string"}},"additionalProperties":false,"required":["alarmName"]},"LambdaFunctionDestinations":{"type":"object","properties":{"onSuccess":{"description":"#### The ARN of the destination for successful invocations.\n\n---\n\nWhen the function executes successfully, a JSON object with the execution result is sent to this destination (e.g., an SQS queue, SNS topic, or another Lambda).\nThis can be used to chain Lambda functions together or to trigger other processes.\nFor details on the payload format, refer to the [Stacktape documentation](https://docs.stacktape.com/compute-resources/lambda-functions#event-bus-event).","type":"string"},"onFailure":{"description":"#### The ARN of the destination for failed invocations.\n\n---\n\nWhen the function execution fails, a JSON object containing details about the error is sent to this destination.\nThis is useful for error handling, retries, or sending notifications.\nFor details on the payload format, refer to the [Stacktape documentation](https://docs.stacktape.com/compute-resources/lambda-functions#event-bus-event).","type":"string"}},"additionalProperties":false},"LambdaDeploymentConfig":{"type":"object","properties":{"strategy":{"description":"#### The strategy to use for deploying updates to the function.\n\n---\n\nSupported strategies:\n- **Canary10Percent5Minutes**: Shifts 10% of traffic, then the rest after 5 minutes.\n- **Canary10Percent10Minutes**: Shifts 10% of traffic, then the rest after 10 minutes.\n- **Canary10Percent15Minutes**: Shifts 10% of traffic, then the rest after 15 minutes.\n- **Canary10Percent30Minutes**: Shifts 10% of traffic, then the rest after 30 minutes.\n- **Linear10PercentEvery1Minute**: Shifts 10% of traffic every minute.\n- **Linear10PercentEvery2Minutes**: Shifts 10% of traffic every 2 minutes.\n- **Linear10PercentEvery3Minutes**: Shifts 10% of traffic every 3 minutes.\n- **Linear10PercentEvery10Minutes**: Shifts 10% of traffic every 10 minutes.\n- **AllAtOnce**: Shifts all traffic at once.","enum":["AllAtOnce","Canary10Percent10Minutes","Canary10Percent15Minutes","Canary10Percent30Minutes","Canary10Percent5Minutes","Linear10PercentEvery10Minutes","Linear10PercentEvery1Minute","Linear10PercentEvery2Minutes","Linear10PercentEvery3Minutes"],"type":"string"},"beforeAllowTrafficFunction":{"description":"#### The name of a Lambda function to run before traffic shifting begins.\n\n---\n\nThis \"hook\" function is typically used to run validation checks before the new version receives production traffic.\nThe function must signal success or failure to CodeDeploy. See an example in the [documentation](/compute-resources/lambda-functions/#hook-functions).","type":"string"},"afterTrafficShiftFunction":{"description":"#### The name of a Lambda function to run after all traffic has been shifted.\n\n---\n\nThis \"hook\" function is typically used for post-deployment validation.\nThe function must signal success or failure to CodeDeploy. See an example in the [documentation](/compute-resources/lambda-functions/#hook-functions).","type":"string"}},"additionalProperties":false,"required":["strategy"]},"LambdaAlarm":{"type":"object","properties":{"trigger":{"$ref":"#/definitions/LambdaAlarmTrigger"},"evaluation":{"$ref":"#/definitions/AlarmEvaluation","description":"#### Specifies the time window for evaluating the metric to determine if the alarm should be triggered.\n\n---\n\nDefines the duration and frequency of metric evaluation."},"notificationTargets":{"description":"#### Defines where to send notifications when the alarm is triggered.\n\n---\n\nYou can specify a list of integrations, such as Slack, MS Teams, or email.","type":"array","items":{"$ref":"#/definitions/AlarmUserIntegration"}},"description":{"description":"#### Custom description for the alarm\n---\n- If custom description is specified, it is used in the alarm notification message\n- Custom description is also used in the alarm description in the AWS console (If not provided, Stacktape generates default description.)","type":"string"}},"additionalProperties":false,"required":["trigger"]},"LambdaAlarmTrigger":{"anyOf":[{"$ref":"#/definitions/LambdaErrorRateTrigger"},{"$ref":"#/definitions/LambdaDurationTrigger"}]},"LambdaErrorRateTrigger":{"type":"object","properties":{"type":{"type":"string","const":"lambda-error-rate"},"properties":{"$ref":"#/definitions/LambdaErrorRateTriggerProps"}},"additionalProperties":false,"required":["properties","type"]},"LambdaErrorRateTriggerProps":{"type":"object","properties":{"thresholdPercent":{"description":"#### The error rate percentage that triggers the alarm.\n\n---\n\nThe error rate is the percentage of Lambda invocations that result in an error.\nFor example, a value of 1 means the alarm will trigger if more than 1% of invocations fail.","type":"number"},"comparisonOperator":{"$ref":"#/definitions/ComparisonOperator","description":"#### The arithmetic operation to use when comparing the specified statistic and threshold.\n\n---\n\nSupported operators:\n- `GreaterThanThreshold`\n- `GreaterThanOrEqualToThreshold`\n- `LessThanThreshold`\n- `LessThanOrEqualToThreshold`"}},"additionalProperties":false,"required":["thresholdPercent"]},"LambdaDurationTrigger":{"type":"object","properties":{"type":{"type":"string","const":"lambda-duration"},"properties":{"$ref":"#/definitions/LambdaDurationTriggerProps"}},"additionalProperties":false,"required":["properties","type"]},"LambdaDurationTriggerProps":{"type":"object","properties":{"thresholdMilliseconds":{"description":"#### The execution duration in milliseconds that triggers the alarm.\n\n---\n\nBy default, the alarm triggers if the **average** execution time over the evaluation period is **greater than** the `thresholdMilliseconds`.\nYou can customize the behavior using the `statistic` and `comparisonOperator` properties.","type":"number"},"comparisonOperator":{"$ref":"#/definitions/ComparisonOperator","description":"#### The arithmetic operation to use when comparing the specified statistic and threshold.\n\n---\n\nSupported operators:\n- `GreaterThanThreshold`\n- `GreaterThanOrEqualToThreshold`\n- `LessThanThreshold`\n- `LessThanOrEqualToThreshold`"},"statistic":{"$ref":"#/definitions/StatisticFunction","description":"#### The statistic to apply to the metric data points.\n\n---\n\nSupported statistics:\n- **avg**: The average of the metric values.\n- **sum**: The sum of the metric values.\n- **p90**: The 90th percentile. 90% of the data points are lower than this value.\n- **p95**: The 95th percentile. 95% of the data points are lower than this value.\n- **p99**: The 99th percentile. 99% of the data points are lower than this value.\n- **min**: The lowest value from the data points.\n- **max**: The highest value from the data points.","default":"avg"}},"additionalProperties":false,"required":["thresholdMilliseconds"]},"LambdaUrlConfig":{"type":"object","properties":{"enabled":{"description":"#### Enables the Lambda function URL.\n\n---\n\nWhen enabled, your function gets a dedicated HTTPS endpoint. The URL format is `https://{url-id}.lambda-url.{region}.on.aws`.","type":"boolean"},"cors":{"$ref":"#/definitions/LambdaUrlCorsConfig","description":"#### Configures Cross-Origin Resource Sharing (CORS) for the function URL.\n\n---\n\nIf configured, these settings will override any CORS headers returned by the function itself."},"authMode":{"description":"#### The authentication mode for the function URL.\n\n---\n\n- `AWS_IAM`: Only authenticated AWS users and roles with the necessary permissions can invoke the URL.\n- `NONE`: The URL is public and can be invoked by anyone.","default":"NONE","enum":["AWS_IAM","NONE"],"type":"string"},"responseStreamEnabled":{"description":"#### Enables response streaming.\n\n---\n\nWith streaming, the function can start sending parts of the response as they become available, which can improve Time to First Byte (TTFB).\nIt also increases the maximum response size to 20MB (from the standard 6MB).\nTo use this, you need to use a specific handler provided by AWS. See the [AWS documentation on response streaming](https://docs.aws.amazon.com/lambda/latest/dg/configuration-response-streaming.html#config-rs-write-functions-handler).","type":"boolean"}},"additionalProperties":false,"required":["enabled"]},"LambdaUrlCorsConfig":{"type":"object","properties":{"enabled":{"description":"#### Enables Cross-Origin Resource Sharing (CORS).\n\n---\n\nIf enabled without other properties, a permissive default CORS configuration is used:\n- `AllowedMethods`: `*`\n- `AllowedOrigins`: `*`\n- `AllowedHeaders`: `Content-Type`, `X-Amz-Date`, `Authorization`, `X-Api-Key`, `X-Amz-Security-Token`, `X-Amz-User-Agent`","default":false,"type":"boolean"},"allowedOrigins":{"description":"#### A list of origins that are allowed to make cross-domain requests.\n\n---\n\nAn origin is the combination of the protocol, domain, and port. For example: `https://example.com`.","default":"*","type":"array","items":{"type":"string"}},"allowedHeaders":{"description":"#### A list of allowed HTTP headers in a cross-origin request.\n\n---\n\nThis is used in response to a preflight `Access-Control-Request-Headers` header.","type":"array","items":{"type":"string"}},"allowedMethods":{"description":"#### A list of allowed HTTP methods for cross-origin requests.\n\n---\n\nBy default, Stacktape determines the allowed methods based on the event integrations configured for the function.","type":"array","items":{"$ref":"#/definitions/HttpMethod"}},"allowCredentials":{"description":"#### Specifies whether the browser should include credentials (such as cookies) in the CORS request.","type":"boolean"},"exposedResponseHeaders":{"description":"#### A list of response headers that should be accessible to scripts running in the browser.","type":"array","items":{"type":"string"}},"maxAge":{"description":"#### The maximum time (in seconds) that a browser can cache the response to a preflight request.","type":"number"}},"additionalProperties":false,"required":["enabled"]},"LambdaEfsMount":{"type":"object","properties":{"type":{"description":"#### The type of the volume mount.","type":"string","const":"efs"},"properties":{"$ref":"#/definitions/LambdaEfsMountProps","description":"#### Properties for the EFS volume mount."}},"additionalProperties":false,"required":["properties","type"]},"LambdaEfsMountProps":{"type":"object","properties":{"efsFilesystemName":{"description":"#### The name of the EFS filesystem to mount.\n\n---\n\nThis must match the name of an EFS filesystem defined in your Stacktape configuration.","type":"string"},"rootDirectory":{"description":"#### The root directory within the EFS filesystem to mount.\n\n---\n\nThis restricts the function's access to a specific directory within the filesystem. If not specified, the function can access the entire filesystem.","default":"/","type":"string"},"mountPath":{"description":"#### The path where the EFS volume will be mounted inside the function.\n\n---\n\nThis must be an absolute path starting with `/mnt/`. For example: `/mnt/data`.","type":"string"}},"additionalProperties":false,"required":["efsFilesystemName","mountPath"]},"EdgeLambdaFunction":{"description":"#### A specialized Lambda function that runs at AWS edge locations, close to your users.\n\n---\n\nEdge Lambda functions are designed to be executed by a Content Delivery Network (CDN) in response to CDN events.\nThey allow you to customize the content delivered through the CDN, enabling things like header manipulation, URL rewrites, and A/B testing.","type":"object","properties":{"type":{"type":"string","const":"edge-lambda-function"},"properties":{"$ref":"#/definitions/EdgeLambdaFunctionProps"},"overrides":{"description":"#### Resource Overrides\n\n---\n\nOverrides properties of the underlying CloudFormation resources that Stacktape creates.\n\nChild resources are identified by their CloudFormation logical ID (e.g., `MyBucketBucket`). You can find these IDs by running `stacktape stack:info --detailed`.\n\nFor a list of properties that can be overridden, refer to the [AWS CloudFormation documentation](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html).","type":"object","additionalProperties":{"type":"object","additionalProperties":{}}}},"additionalProperties":false,"required":["properties","type"]},"EdgeLambdaFunctionProps":{"type":"object","properties":{"packaging":{"$ref":"#/definitions/LambdaPackaging","description":"#### Configures how your code is packaged and deployed.\n\n---\n\nStacktape supports two packaging methods:\n- `stacktape-lambda-buildpack`: Stacktape automatically builds and packages your code from a specified source file. This is the recommended and simplest approach.\n- `custom-artifact`: You provide a path to a pre-built deployment package (e.g., a zip file). Stacktape will handle the upload.\n\nYour deployment packages are stored in an S3 bucket managed by Stacktape."},"runtime":{"description":"#### The runtime environment for the function.\n\n---\n\nStacktape automatically detects the programming language and selects an appropriate runtime.\nEdge Lambda functions support a specific set of runtimes.","enum":["nodejs18.x","nodejs20.x","nodejs22.x","nodejs24.x","python3.10","python3.11","python3.12","python3.13","python3.8","python3.9"],"type":"string"},"memory":{"description":"#### The amount of memory (in MB) allocated to the function.\n\n---\n\nThe maximum memory depends on when the function is triggered in the CDN lifecycle:\n- `onRequest` or `onResponse` (viewer-facing events): 128 MB\n- `onOriginRequest` or `onOriginResponse` (origin-facing events): 10,240 MB\n\nFor more details, see the [CDN documentation](https://docs.stacktape.com/other-resources/cdns/#edge-lambda-functions).","default":128,"type":"number"},"timeout":{"description":"#### The maximum execution time for the function, in seconds.\n\n---\n\nThe maximum timeout depends on when the function is triggered in the CDN lifecycle:\n- `onRequest` or `onResponse` (viewer-facing events): 5 seconds\n- `onOriginRequest` or `onOriginResponse` (origin-facing events): 30 seconds\n\nFor more details, see the [CDN documentation](https://docs.stacktape.com/other-resources/cdns/#edge-lambda-functions).","default":3,"type":"number"},"connectTo":{"description":"#### Grants the function access to other resources in your stack.\n\n---\n\nBy listing resources here, Stacktape automatically configures the necessary IAM permissions and security group rules.\nIt also injects environment variables with connection details into the function's runtime.\n\n> **Note:** Environment variable injection is not supported for Edge Lambda functions.\n> Also, Edge Lambda functions cannot connect to resources within a VPC.\n\n**Supported Resources:**\n\n- **Bucket**: Grants permissions to list, create, get, and delete objects.\n- **DynamoDB table**: Grants permissions for item manipulation and table scanning/querying.\n- **MongoDB Atlas cluster**: Allows secure, credential-less access to the cluster.\n- **Relational database**: Allows connections to the database.\n- **Redis cluster**: Allows connections to the Redis cluster.\n- **Event bus**: Grants permission to publish events.\n- **Function**: Grants permission to invoke another function.\n- **Batch job**: Grants permissions to manage batch jobs.\n- **User auth pool**: Grants full control over a Cognito User Pool.\n- **Upstash Kafka topic**: Provides connection details.\n- **Upstash Redis**: Provides connection details.\n- **aws:ses**: Grants full permissions to Amazon Simple Email Service (SES).","type":"array","items":{"type":"string"}},"iamRoleStatements":{"description":"#### A list of raw AWS IAM role statements to add to the function's execution role.\n\n---\n\nUse this for fine-grained control over the function's permissions.","type":"array","items":{"$ref":"#/definitions/StpIamRoleStatement"}},"logging":{"$ref":"#/definitions/LambdaFunctionLogging","description":"#### Configures the logging behavior for the function.\n\n---\n\nFunction logs (`stdout` and `stderr`) are sent to CloudWatch log groups.\n\n> **Important:** Since Edge Lambda functions run in multiple AWS regions, logs are delivered to a log group in the region where the function was executed.\n> You can use the `stacktape stack-info` command to get links to the log groups in each region."}},"additionalProperties":false,"required":["packaging"]},"default":{"type":"object","properties":{"Type":{"type":"string"},"DependsOn":{"anyOf":[{"type":"array","items":{"type":"string"}},{"$ref":"#/definitions/IntrinsicFunction"},{"type":"string"}]},"Properties":{"type":"object","additionalProperties":{}},"Metadata":{"type":"object","additionalProperties":{}},"CreationPolicy":{"$ref":"#/definitions/CreationPolicy"},"DeletionPolicy":{"$ref":"#/definitions/DeletionPolicy"},"UpdatePolicy":{"$ref":"#/definitions/UpdatePolicy"},"Condition":{"$ref":"#/definitions/Value<string>"}},"additionalProperties":false,"required":["Type"]},"IntrinsicFunction":{"type":"object","properties":{"name":{"type":"string"},"payload":{}},"additionalProperties":false,"required":["name","payload"]},"CreationPolicy":{"type":"object","properties":{"AutoScalingCreationPolicy":{"type":"object","properties":{"MinSuccessfulInstancesPercent":{"$ref":"#/definitions/Value<number>"}},"additionalProperties":false},"ResourceSignal":{"type":"object","properties":{"Count":{"$ref":"#/definitions/Value<number>"},"Timeout":{"$ref":"#/definitions/Value<string>"}},"additionalProperties":false}},"additionalProperties":false},"Value<number>":{"anyOf":[{"$ref":"#/definitions/IntrinsicFunction"},{"type":"number"}]},"Value<string>":{"anyOf":[{"$ref":"#/definitions/IntrinsicFunction"},{"type":"string"}]},"DeletionPolicy":{"enum":["Delete","Retain","Snapshot"],"type":"string"},"UpdatePolicy":{"type":"object","properties":{"AutoScalingReplacingUpdate":{"type":"object","properties":{"WillReplace":{"$ref":"#/definitions/Value<boolean>"}},"additionalProperties":false},"AutoScalingRollingUpdate":{"type":"object","properties":{"MaxBatchSize":{"$ref":"#/definitions/Value<number>"},"MinInstancesInService":{"$ref":"#/definitions/Value<number>"},"MinSuccessfulInstancesPercent":{"$ref":"#/definitions/Value<number>"},"PauseTime":{"$ref":"#/definitions/Value<string>"},"SuspendProcesses":{"$ref":"#/definitions/List<string>"},"WaitOnResourceSignals":{"$ref":"#/definitions/Value<boolean>"}},"additionalProperties":false},"AutoScalingScheduledAction":{"type":"object","properties":{"IgnoreUnmodifiedGroupSizeProperties":{"$ref":"#/definitions/Value<boolean>"}},"additionalProperties":false},"CodeDeployLambdaAliasUpdate":{"type":"object","properties":{"AfterAllowTrafficHook":{"$ref":"#/definitions/Value<string>"},"ApplicationName":{"$ref":"#/definitions/Value<string>"},"BeforeAllowTrafficHook":{"$ref":"#/definitions/Value<string>"},"DeploymentGroupName":{"$ref":"#/definitions/Value<string>"}},"additionalProperties":false,"required":["AfterAllowTrafficHook","ApplicationName","BeforeAllowTrafficHook","DeploymentGroupName"]}},"additionalProperties":false},"Value<boolean>":{"anyOf":[{"$ref":"#/definitions/IntrinsicFunction"},{"type":"boolean"}]},"List<string>":{"anyOf":[{"type":"array","items":{"type":"string"}},{"$ref":"#/definitions/IntrinsicFunction"}]}},"$schema":"http://json-schema.org/draft-07/schema#"};const schema14 = {"type":"object","properties":{"accountEmail":{"description":"#### The email address associated with your Upstash account.\n\n---\n\nAll database operations (create, update, delete) will be performed on behalf of this account.","type":"string"},"apiKey":{"description":"#### The API key associated with your Upstash account or team.\n\n---\n\nYou can create an API key in the [Upstash console](https://console.upstash.com/account/api).","type":"string"}},"additionalProperties":false,"required":["accountEmail","apiKey"]};const schema35 = {"type":"object","properties":{"name":{"description":"#### Directive Name\n\n---\n\nThe name of the custom directive.","type":"string"},"filePath":{"description":"#### File Path\n\n---\n\nThe path to the file where the directive is defined, in the format `{file-path}:{handler}`.\n\nIf the `{handler}` is omitted:\n- For `.js` and `.ts` files, the `default` export is used.\n- For `.py` files, the `main` function is used.","type":"string"}},"additionalProperties":false,"required":["filePath","name"]};const schema36 = {"type":"object","properties":{"terminationProtection":{"description":"#### Enable Termination Protection\n\n---\n\nIf `true`, protects the stack from accidental deletion. You must disable this protection before you can delete the stack.","default":false,"type":"boolean"},"cloudformationRoleArn":{"description":"<< Description missing. Will be provided soon. >>","type":"string"},"triggerRollbackOnAlarms":{"description":"#### Rollback Alarms\n\n---\n\nA list of alarms that will trigger a rollback if they enter the `ALARM` state during a stack deployment.\n\nYou can specify an alarm by its name (if defined in the `alarms` section) or by its ARN.\n\n> An alarm must exist before the deployment starts to be used as a rollback trigger. If you specify a newly created alarm, it will only be used in subsequent deployments.","type":"array","items":{"type":"string"}},"monitoringTimeAfterDeploymentInMinutes":{"description":"#### Post-Deployment Monitoring Time\n\n---\n\nThe amount of time (in minutes) that CloudFormation should monitor the stack and rollback alarms after a deployment.\n\nIf a rollback alarm is triggered or the update is canceled during this period, the stack will be rolled back.","default":0,"type":"number"},"disableAutoRollback":{"description":"#### Disable Auto-Rollback\n\n---\n\nIf `true`, disables automatic rollback on deployment failure.\n\n- **With auto-rollback (default):** If a deployment fails, the stack is automatically rolled back to the last known good state.\n- **Without auto-rollback:** If a deployment fails, the stack remains in the `UPDATE_FAILED` state. You can then either fix the issues and redeploy or manually roll back using the `stacktape rollback` command.","default":false,"type":"boolean"},"publishEventsToArn":{"description":"<< Description missing. Will be provided soon. >>","type":"array","items":{"type":"string"}},"previousVersionsToKeep":{"description":"#### Previous Versions to Keep\n\n---\n\nThe number of previous deployment artifact versions (functions, images, templates) to keep.","default":10,"type":"number"},"disableS3TransferAcceleration":{"description":"#### Disable S3 Transfer Acceleration\n\n---\n\nIf `true`, disables the use of S3 Transfer Acceleration for uploading deployment artifacts.\n\nS3 Transfer Acceleration can improve upload times and security by routing uploads through the nearest AWS edge location. It may incur minor additional costs.","default":false,"type":"boolean"}},"additionalProperties":false};const func2 = Object.prototype.hasOwnProperty;const schema12 = {"type":"object","properties":{"publicKey":{"description":"#### Your MongoDB Atlas public API key.\n\n---\n\nYou can get API keys for your organization by following the [guide in the docs](https://docs.stacktape.com/user-guides/mongo-db-atlas-credentials/).","type":"string"},"privateKey":{"description":"#### Your MongoDB Atlas private API key.\n\n---\n\nYou can get API keys for your organization by following the [guide in the docs](https://docs.stacktape.com/user-guides/mongo-db-atlas-credentials/).\n\nFor security reasons, you should store your credentials as secrets. For more details, see the [secrets guide](https://docs.stacktape.com/resources/secrets/).","type":"string"},"organizationId":{"description":"#### Your MongoDB Atlas Organization ID.\n\n---\n\nYou can get the organization ID for your organization by following the [guide in the docs](https://docs.stacktape.com/user-guides/mongo-db-atlas-credentials/).","type":"string"},"accessibility":{"$ref":"#/definitions/MongoDbAtlasAccessibility","description":"#### Configures the connectivity settings of the MongoDB Atlas project.\n\n---\n\nIf your stack contains a MongoDB Atlas cluster, Stacktape will automatically create a MongoDB Atlas Project for it.\nAll MongoDB Atlas clusters in your stack will be deployed within this project.\n\nNetwork connectivity to clusters is configured at the project level, so the accessibility settings defined here will apply to all MongoDB Atlas clusters in your stack."}},"additionalProperties":false};const schema13 = {"type":"object","properties":{"accessibilityMode":{"description":"#### Configures the accessibility mode for this database.\n\n---\n\nThe following modes are supported:\n\n- **`internet`**: The least restrictive mode. The database can be accessed from anywhere on the internet.\n- **`vpc`**: The database can only be accessed from resources within your VPC. This includes any [function](https://docs.stacktape.com/compute-resources/lambda-functions) (with `joinDefaultVpc: true`), [batch job](https://docs.stacktape.com/compute-resources/batch-jobs), or [container workload](https://docs.stacktape.com/compute-resources/multi-container-workloads) in your stack, provided they have the required credentials. IP addresses configured in `whitelistedIps` can also access the database.\n- **`scoping-workloads-in-vpc`**: Similar to `vpc` mode, but more restrictive. In addition to being in the same VPC, resources must have the necessary security group permissions to access the cluster. For functions, batch jobs, and container services, these permissions can be granted using the `connectTo` property in their respective configurations. IP addresses configured in `whitelistedIps` can also access the cluster.\n- **`whitelisted-ips-only`**: The cluster can only be accessed from the IP addresses and CIDR blocks listed in `whitelistedIps`.\n\nTo learn more about VPCs, see the [VPC documentation](https://docs.stacktape.com/user-guides/vpcs/).","default":"internet","enum":["internet","scoping-workloads-in-vpc","vpc","whitelisted-ips-only"],"type":"string"},"whitelistedIps":{"description":"#### A list of IP addresses or IP ranges (in CIDR format) that are allowed to access the cluster.\n\n---\n\nThe behavior of this property varies based on the `accessibilityMode`:\n- **`internet`**: This property has no effect, as the database is accessible from anywhere.\n- **`vpc`** and **`scoping-workloads-in-vpc`**: These IP addresses can be used to allow access from specific locations outside of the VPC (e.g., your office IP address).\n- **`whitelisted-ips-only`**: These are the only addresses that can access the database.","type":"array","items":{"type":"string"}}},"additionalProperties":false,"required":["accessibilityMode"]};function validate11(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){for(const key0 in data){if(!((((key0 === "publicKey") || (key0 === "privateKey")) || (key0 === "organizationId")) || (key0 === "accessibility"))){const err0 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema12,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}}if(data.publicKey !== undefined){let data0 = data.publicKey;if(typeof data0 !== "string"){const err1 = {instancePath:instancePath+"/publicKey",schemaPath:"#/properties/publicKey/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema12.properties.publicKey.type,parentSchema:schema12.properties.publicKey,data:data0};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.privateKey !== undefined){let data1 = data.privateKey;if(typeof data1 !== "string"){const err2 = {instancePath:instancePath+"/privateKey",schemaPath:"#/properties/privateKey/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema12.properties.privateKey.type,parentSchema:schema12.properties.privateKey,data:data1};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.organizationId !== undefined){let data2 = data.organizationId;if(typeof data2 !== "string"){const err3 = {instancePath:instancePath+"/organizationId",schemaPath:"#/properties/organizationId/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema12.properties.organizationId.type,parentSchema:schema12.properties.organizationId,data:data2};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.accessibility !== undefined){let data3 = data.accessibility;if(data3 && typeof data3 == "object" && !Array.isArray(data3)){if(data3.accessibilityMode === undefined){const err4 = {instancePath:instancePath+"/accessibility",schemaPath:"#/definitions/MongoDbAtlasAccessibility/required",keyword:"required",params:{missingProperty: "accessibilityMode"},message:"must have required property '"+"accessibilityMode"+"'",schema:schema13.required,parentSchema:schema13,data:data3};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}for(const key1 in data3){if(!((key1 === "accessibilityMode") || (key1 === "whitelistedIps"))){const err5 = {instancePath:instancePath+"/accessibility",schemaPath:"#/definitions/MongoDbAtlasAccessibility/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema13,data:data3};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data3.accessibilityMode !== undefined){let data4 = data3.accessibilityMode;if(typeof data4 !== "string"){const err6 = {instancePath:instancePath+"/accessibility/accessibilityMode",schemaPath:"#/definitions/MongoDbAtlasAccessibility/properties/accessibilityMode/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema13.properties.accessibilityMode.type,parentSchema:schema13.properties.accessibilityMode,data:data4};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}if(!((((data4 === "internet") || (data4 === "scoping-workloads-in-vpc")) || (data4 === "vpc")) || (data4 === "whitelisted-ips-only"))){const err7 = {instancePath:instancePath+"/accessibility/accessibilityMode",schemaPath:"#/definitions/MongoDbAtlasAccessibility/properties/accessibilityMode/enum",keyword:"enum",params:{allowedValues: schema13.properties.accessibilityMode.enum},message:"must be equal to one of the allowed values",schema:schema13.properties.accessibilityMode.enum,parentSchema:schema13.properties.accessibilityMode,data:data4};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data3.whitelistedIps !== undefined){let data5 = data3.whitelistedIps;if(Array.isArray(data5)){const len0 = data5.length;for(let i0=0; i0<len0; i0++){let data6 = data5[i0];if(typeof data6 !== "string"){const err8 = {instancePath:instancePath+"/accessibility/whitelistedIps/" + i0,schemaPath:"#/definitions/MongoDbAtlasAccessibility/properties/whitelistedIps/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema13.properties.whitelistedIps.items.type,parentSchema:schema13.properties.whitelistedIps.items,data:data6};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}}else {const err9 = {instancePath:instancePath+"/accessibility/whitelistedIps",schemaPath:"#/definitions/MongoDbAtlasAccessibility/properties/whitelistedIps/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema13.properties.whitelistedIps.type,parentSchema:schema13.properties.whitelistedIps,data:data5};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}}else {const err10 = {instancePath:instancePath+"/accessibility",schemaPath:"#/definitions/MongoDbAtlasAccessibility/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema13.type,parentSchema:schema13,data:data3};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}}else {const err11 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema12.type,parentSchema:schema12,data};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}validate11.errors = vErrors;return errors === 0;}const schema15 = {"type":"object","properties":{"limit":{"description":"#### Budget Limit\n\n---\n\nThe total cost (in USD) that you want to track with this budget. Notification thresholds are calculated as a percentage of this limit.","type":"number"},"notifications":{"description":"#### Budget Notifications\n\n---\n\nA list of notifications to send when a budget threshold is met.\n\nNotifications are sent via email and can be triggered based on either actual or forecasted spend. You can configure up to 5 notifications per stack.","type":"array","items":{"$ref":"#/definitions/BudgetNotification"}}},"additionalProperties":false,"required":["limit"]};const schema16 = {"type":"object","properties":{"budgetType":{"description":"#### Budget Type\n\n---\n\nDetermines whether the notification is based on `ACTUAL` or `FORECASTED` spend.\n\n- `ACTUAL`: Based on the costs you have already incurred this month.\n- `FORECASTED`: Based on a prediction of your total spend for the month.\n\n> **Note:** AWS requires about 5 weeks of usage data to generate accurate forecasts. Forecast-based notifications will not be triggered until sufficient historical data is available.","default":"ACTUAL","enum":["ACTUAL","FORECASTED"],"type":"string"},"thresholdPercentage":{"description":"#### Threshold Percentage\n\n---\n\nThe percentage of the budget limit at which the notification should be triggered.\n\nFor example, if the `limit` is $200 and `thresholdPercentage` is 80, the notification will be sent when the spend exceeds $160.","default":100,"type":"number"},"emails":{"description":"#### Email Recipients\n\n---\n\nA list of email addresses that will receive the notification. You can specify up to 10 recipients.","type":"array","items":{"type":"string"}}},"additionalProperties":false,"required":["emails"]};function validate13(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.limit === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "limit"},message:"must have required property '"+"limit"+"'",schema:schema15.required,parentSchema:schema15,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!((key0 === "limit") || (key0 === "notifications"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema15,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.limit !== undefined){let data0 = data.limit;if(!(typeof data0 == "number")){const err2 = {instancePath:instancePath+"/limit",schemaPath:"#/properties/limit/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema15.properties.limit.type,parentSchema:schema15.properties.limit,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.notifications !== undefined){let data1 = data.notifications;if(Array.isArray(data1)){const len0 = data1.length;for(let i0=0; i0<len0; i0++){let data2 = data1[i0];if(data2 && typeof data2 == "object" && !Array.isArray(data2)){if(data2.emails === undefined){const err3 = {instancePath:instancePath+"/notifications/" + i0,schemaPath:"#/definitions/BudgetNotification/required",keyword:"required",params:{missingProperty: "emails"},message:"must have required property '"+"emails"+"'",schema:schema16.required,parentSchema:schema16,data:data2};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}for(const key1 in data2){if(!(((key1 === "budgetType") || (key1 === "thresholdPercentage")) || (key1 === "emails"))){const err4 = {instancePath:instancePath+"/notifications/" + i0,schemaPath:"#/definitions/BudgetNotification/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema16,data:data2};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data2.budgetType !== undefined){let data3 = data2.budgetType;if(typeof data3 !== "string"){const err5 = {instancePath:instancePath+"/notifications/" + i0+"/budgetType",schemaPath:"#/definitions/BudgetNotification/properties/budgetType/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema16.properties.budgetType.type,parentSchema:schema16.properties.budgetType,data:data3};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}if(!((data3 === "ACTUAL") || (data3 === "FORECASTED"))){const err6 = {instancePath:instancePath+"/notifications/" + i0+"/budgetType",schemaPath:"#/definitions/BudgetNotification/properties/budgetType/enum",keyword:"enum",params:{allowedValues: schema16.properties.budgetType.enum},message:"must be equal to one of the allowed values",schema:schema16.properties.budgetType.enum,parentSchema:schema16.properties.budgetType,data:data3};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data2.thresholdPercentage !== undefined){let data4 = data2.thresholdPercentage;if(!(typeof data4 == "number")){const err7 = {instancePath:instancePath+"/notifications/" + i0+"/thresholdPercentage",schemaPath:"#/definitions/BudgetNotification/properties/thresholdPercentage/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema16.properties.thresholdPercentage.type,parentSchema:schema16.properties.thresholdPercentage,data:data4};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data2.emails !== undefined){let data5 = data2.emails;if(Array.isArray(data5)){const len1 = data5.length;for(let i1=0; i1<len1; i1++){let data6 = data5[i1];if(typeof data6 !== "string"){const err8 = {instancePath:instancePath+"/notifications/" + i0+"/emails/" + i1,schemaPath:"#/definitions/BudgetNotification/properties/emails/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema16.properties.emails.items.type,parentSchema:schema16.properties.emails.items,data:data6};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}}else {const err9 = {instancePath:instancePath+"/notifications/" + i0+"/emails",schemaPath:"#/definitions/BudgetNotification/properties/emails/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema16.properties.emails.type,parentSchema:schema16.properties.emails,data:data5};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}}else {const err10 = {instancePath:instancePath+"/notifications/" + i0,schemaPath:"#/definitions/BudgetNotification/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema16.type,parentSchema:schema16,data:data2};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}}else {const err11 = {instancePath:instancePath+"/notifications",schemaPath:"#/properties/notifications/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema15.properties.notifications.type,parentSchema:schema15.properties.notifications,data:data1};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}}else {const err12 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema15.type,parentSchema:schema15,data};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}validate13.errors = vErrors;return errors === 0;}const schema17 = {"type":"object","properties":{"beforeDeploy":{"description":"#### Before Deploy\n\n---\n\nA list of scripts to execute before the `deploy` and `codebuild:deploy` commands. When using `codebuild:deploy`, these hooks run in the CodeBuild environment, not on your local machine.","type":"array","items":{"$ref":"#/definitions/NamedScriptLifecycleHook"}},"afterDeploy":{"description":"#### After Deploy\n\n---\n\nA list of scripts to execute after the `deploy` and `codebuild:deploy` commands. When using `codebuild:deploy`, these hooks run in the CodeBuild environment, not on your local machine.","type":"array","items":{"$ref":"#/definitions/NamedScriptLifecycleHook"}},"beforeDelete":{"description":"#### Before Delete\n\n---\n\nA list of scripts to execute before the `delete` command. These hooks only run if you provide the `--configPath` and `--stage` options when running the command.","type":"array","items":{"$ref":"#/definitions/NamedScriptLifecycleHook"}},"afterDelete":{"description":"#### After Delete\n\n---\n\nA list of scripts to execute after the `delete` command. These hooks only run if you provide the `--configPath` and `--stage` options when running the command.","type":"array","items":{"$ref":"#/definitions/NamedScriptLifecycleHook"}},"beforeBucketSync":{"description":"#### Before Bucket Sync\n\n---\n\nA list of scripts to execute before the `bucket:sync` command.","type":"array","items":{"$ref":"#/definitions/NamedScriptLifecycleHook"}},"afterBucketSync":{"description":"#### After Bucket Sync\n\n---\n\nA list of scripts to execute after the `bucket:sync` command.","type":"array","items":{"$ref":"#/definitions/NamedScriptLifecycleHook"}},"beforeDev":{"description":"#### Before Dev\n\n---\n\nA list of scripts to execute before the `dev` command.","type":"array","items":{"$ref":"#/definitions/NamedScriptLifecycleHook"}},"afterDev":{"description":"#### After Dev\n\n---\n\nA list of scripts to execute after the `dev` command.","type":"array","items":{"$ref":"#/definitions/NamedScriptLifecycleHook"}}},"additionalProperties":false};const schema18 = {"type":"object","properties":{"scriptName":{"description":"#### Script Name\n\n---\n\nThe name of the script to execute. The script must be defined in the `scripts` section of your configuration.","type":"string"},"skipOnCI":{"description":"#### Skip on CI\n\n---\n\nIf `true`, this hook will not run in a CI/CD environment (e.g., AWS CodeBuild, GitHub Actions, GitLab CI). This is useful for hooks that should only run locally.","default":false,"type":"boolean"},"skipOnLocal":{"description":"#### Skip on Local\n\n---\n\nIf `true`, this hook will only run in a CI/CD environment and will be skipped during local execution.","default":false,"type":"boolean"}},"additionalProperties":false,"required":["scriptName"]};function validate15(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){for(const key0 in data){if(!((((((((key0 === "beforeDeploy") || (key0 === "afterDeploy")) || (key0 === "beforeDelete")) || (key0 === "afterDelete")) || (key0 === "beforeBucketSync")) || (key0 === "afterBucketSync")) || (key0 === "beforeDev")) || (key0 === "afterDev"))){const err0 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema17,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}}if(data.beforeDeploy !== undefined){let data0 = data.beforeDeploy;if(Array.isArray(data0)){const len0 = data0.length;for(let i0=0; i0<len0; i0++){let data1 = data0[i0];if(data1 && typeof data1 == "object" && !Array.isArray(data1)){if(data1.scriptName === undefined){const err1 = {instancePath:instancePath+"/beforeDeploy/" + i0,schemaPath:"#/definitions/NamedScriptLifecycleHook/required",keyword:"required",params:{missingProperty: "scriptName"},message:"must have required property '"+"scriptName"+"'",schema:schema18.required,parentSchema:schema18,data:data1};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key1 in data1){if(!(((key1 === "scriptName") || (key1 === "skipOnCI")) || (key1 === "skipOnLocal"))){const err2 = {instancePath:instancePath+"/beforeDeploy/" + i0,schemaPath:"#/definitions/NamedScriptLifecycleHook/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema18,data:data1};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data1.scriptName !== undefined){let data2 = data1.scriptName;if(typeof data2 !== "string"){const err3 = {instancePath:instancePath+"/beforeDeploy/" + i0+"/scriptName",schemaPath:"#/definitions/NamedScriptLifecycleHook/properties/scriptName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema18.properties.scriptName.type,parentSchema:schema18.properties.scriptName,data:data2};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data1.skipOnCI !== undefined){let data3 = data1.skipOnCI;if(typeof data3 !== "boolean"){const err4 = {instancePath:instancePath+"/beforeDeploy/" + i0+"/skipOnCI",schemaPath:"#/definitions/NamedScriptLifecycleHook/properties/skipOnCI/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema18.properties.skipOnCI.type,parentSchema:schema18.properties.skipOnCI,data:data3};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data1.skipOnLocal !== undefined){let data4 = data1.skipOnLocal;if(typeof data4 !== "boolean"){const err5 = {instancePath:instancePath+"/beforeDeploy/" + i0+"/skipOnLocal",schemaPath:"#/definitions/NamedScriptLifecycleHook/properties/skipOnLocal/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema18.properties.skipOnLocal.type,parentSchema:schema18.properties.skipOnLocal,data:data4};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}}else {const err6 = {instancePath:instancePath+"/beforeDeploy/" + i0,schemaPath:"#/definitions/NamedScriptLifecycleHook/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema18.type,parentSchema:schema18,data:data1};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}}else {const err7 = {instancePath:instancePath+"/beforeDeploy",schemaPath:"#/properties/beforeDeploy/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema17.properties.beforeDeploy.type,parentSchema:schema17.properties.beforeDeploy,data:data0};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data.afterDeploy !== undefined){let data5 = data.afterDeploy;if(Array.isArray(data5)){const len1 = data5.length;for(let i1=0; i1<len1; i1++){let data6 = data5[i1];if(data6 && typeof data6 == "object" && !Array.isArray(data6)){if(data6.scriptName === undefined){const err8 = {instancePath:instancePath+"/afterDeploy/" + i1,schemaPath:"#/definitions/NamedScriptLifecycleHook/required",keyword:"required",params:{missingProperty: "scriptName"},message:"must have required property '"+"scriptName"+"'",schema:schema18.required,parentSchema:schema18,data:data6};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}for(const key2 in data6){if(!(((key2 === "scriptName") || (key2 === "skipOnCI")) || (key2 === "skipOnLocal"))){const err9 = {instancePath:instancePath+"/afterDeploy/" + i1,schemaPath:"#/definitions/NamedScriptLifecycleHook/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key2},message:"must NOT have additional properties",schema:false,parentSchema:schema18,data:data6};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(data6.scriptName !== undefined){let data7 = data6.scriptName;if(typeof data7 !== "string"){const err10 = {instancePath:instancePath+"/afterDeploy/" + i1+"/scriptName",schemaPath:"#/definitions/NamedScriptLifecycleHook/properties/scriptName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema18.properties.scriptName.type,parentSchema:schema18.properties.scriptName,data:data7};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data6.skipOnCI !== undefined){let data8 = data6.skipOnCI;if(typeof data8 !== "boolean"){const err11 = {instancePath:instancePath+"/afterDeploy/" + i1+"/skipOnCI",schemaPath:"#/definitions/NamedScriptLifecycleHook/properties/skipOnCI/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema18.properties.skipOnCI.type,parentSchema:schema18.properties.skipOnCI,data:data8};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}if(data6.skipOnLocal !== undefined){let data9 = data6.skipOnLocal;if(typeof data9 !== "boolean"){const err12 = {instancePath:instancePath+"/afterDeploy/" + i1+"/skipOnLocal",schemaPath:"#/definitions/NamedScriptLifecycleHook/properties/skipOnLocal/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema18.properties.skipOnLocal.type,parentSchema:schema18.properties.skipOnLocal,data:data9};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}}else {const err13 = {instancePath:instancePath+"/afterDeploy/" + i1,schemaPath:"#/definitions/NamedScriptLifecycleHook/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema18.type,parentSchema:schema18,data:data6};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}}else {const err14 = {instancePath:instancePath+"/afterDeploy",schemaPath:"#/properties/afterDeploy/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema17.properties.afterDeploy.type,parentSchema:schema17.properties.afterDeploy,data:data5};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}}if(data.beforeDelete !== undefined){let data10 = data.beforeDelete;if(Array.isArray(data10)){const len2 = data10.length;for(let i2=0; i2<len2; i2++){let data11 = data10[i2];if(data11 && typeof data11 == "object" && !Array.isArray(data11)){if(data11.scriptName === undefined){const err15 = {instancePath:instancePath+"/beforeDelete/" + i2,schemaPath:"#/definitions/NamedScriptLifecycleHook/required",keyword:"required",params:{missingProperty: "scriptName"},message:"must have required property '"+"scriptName"+"'",schema:schema18.required,parentSchema:schema18,data:data11};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}for(const key3 in data11){if(!(((key3 === "scriptName") || (key3 === "skipOnCI")) || (key3 === "skipOnLocal"))){const err16 = {instancePath:instancePath+"/beforeDelete/" + i2,schemaPath:"#/definitions/NamedScriptLifecycleHook/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key3},message:"must NOT have additional properties",schema:false,parentSchema:schema18,data:data11};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}}if(data11.scriptName !== undefined){let data12 = data11.scriptName;if(typeof data12 !== "string"){const err17 = {instancePath:instancePath+"/beforeDelete/" + i2+"/scriptName",schemaPath:"#/definitions/NamedScriptLifecycleHook/properties/scriptName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema18.properties.scriptName.type,parentSchema:schema18.properties.scriptName,data:data12};if(vErrors === null){vErrors = [err17];}else {vErrors.push(err17);}errors++;}}if(data11.skipOnCI !== undefined){let data13 = data11.skipOnCI;if(typeof data13 !== "boolean"){const err18 = {instancePath:instancePath+"/beforeDelete/" + i2+"/skipOnCI",schemaPath:"#/definitions/NamedScriptLifecycleHook/properties/skipOnCI/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema18.properties.skipOnCI.type,parentSchema:schema18.properties.skipOnCI,data:data13};if(vErrors === null){vErrors = [err18];}else {vErrors.push(err18);}errors++;}}if(data11.skipOnLocal !== undefined){let data14 = data11.skipOnLocal;if(typeof data14 !== "boolean"){const err19 = {instancePath:instancePath+"/beforeDelete/" + i2+"/skipOnLocal",schemaPath:"#/definitions/NamedScriptLifecycleHook/properties/skipOnLocal/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema18.properties.skipOnLocal.type,parentSchema:schema18.properties.skipOnLocal,data:data14};if(vErrors === null){vErrors = [err19];}else {vErrors.push(err19);}errors++;}}}else {const err20 = {instancePath:instancePath+"/beforeDelete/" + i2,schemaPath:"#/definitions/NamedScriptLifecycleHook/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema18.type,parentSchema:schema18,data:data11};if(vErrors === null){vErrors = [err20];}else {vErrors.push(err20);}errors++;}}}else {const err21 = {instancePath:instancePath+"/beforeDelete",schemaPath:"#/properties/beforeDelete/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema17.properties.beforeDelete.type,parentSchema:schema17.properties.beforeDelete,data:data10};if(vErrors === null){vErrors = [err21];}else {vErrors.push(err21);}errors++;}}if(data.afterDelete !== undefined){let data15 = data.afterDelete;if(Array.isArray(data15)){const len3 = data15.length;for(let i3=0; i3<len3; i3++){let data16 = data15[i3];if(data16 && typeof data16 == "object" && !Array.isArray(data16)){if(data16.scriptName === undefined){const err22 = {instancePath:instancePath+"/afterDelete/" + i3,schemaPath:"#/definitions/NamedScriptLifecycleHook/required",keyword:"required",params:{missingProperty: "scriptName"},message:"must have required property '"+"scriptName"+"'",schema:schema18.required,parentSchema:schema18,data:data16};if(vErrors === null){vErrors = [err22];}else {vErrors.push(err22);}errors++;}for(const key4 in data16){if(!(((key4 === "scriptName") || (key4 === "skipOnCI")) || (key4 === "skipOnLocal"))){const err23 = {instancePath:instancePath+"/afterDelete/" + i3,schemaPath:"#/definitions/NamedScriptLifecycleHook/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key4},message:"must NOT have additional properties",schema:false,parentSchema:schema18,data:data16};if(vErrors === null){vErrors = [err23];}else {vErrors.push(err23);}errors++;}}if(data16.scriptName !== undefined){let data17 = data16.scriptName;if(typeof data17 !== "string"){const err24 = {instancePath:instancePath+"/afterDelete/" + i3+"/scriptName",schemaPath:"#/definitions/NamedScriptLifecycleHook/properties/scriptName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema18.properties.scriptName.type,parentSchema:schema18.properties.scriptName,data:data17};if(vErrors === null){vErrors = [err24];}else {vErrors.push(err24);}errors++;}}if(data16.skipOnCI !== undefined){let data18 = data16.skipOnCI;if(typeof data18 !== "boolean"){const err25 = {instancePath:instancePath+"/afterDelete/" + i3+"/skipOnCI",schemaPath:"#/definitions/NamedScriptLifecycleHook/properties/skipOnCI/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema18.properties.skipOnCI.type,parentSchema:schema18.properties.skipOnCI,data:data18};if(vErrors === null){vErrors = [err25];}else {vErrors.push(err25);}errors++;}}if(data16.skipOnLocal !== undefined){let data19 = data16.skipOnLocal;if(typeof data19 !== "boolean"){const err26 = {instancePath:instancePath+"/afterDelete/" + i3+"/skipOnLocal",schemaPath:"#/definitions/NamedScriptLifecycleHook/properties/skipOnLocal/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema18.properties.skipOnLocal.type,parentSchema:schema18.properties.skipOnLocal,data:data19};if(vErrors === null){vErrors = [err26];}else {vErrors.push(err26);}errors++;}}}else {const err27 = {instancePath:instancePath+"/afterDelete/" + i3,schemaPath:"#/definitions/NamedScriptLifecycleHook/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema18.type,parentSchema:schema18,data:data16};if(vErrors === null){vErrors = [err27];}else {vErrors.push(err27);}errors++;}}}else {const err28 = {instancePath:instancePath+"/afterDelete",schemaPath:"#/properties/afterDelete/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema17.properties.afterDelete.type,parentSchema:schema17.properties.afterDelete,data:data15};if(vErrors === null){vErrors = [err28];}else {vErrors.push(err28);}errors++;}}if(data.beforeBucketSync !== undefined){let data20 = data.beforeBucketSync;if(Array.isArray(data20)){const len4 = data20.length;for(let i4=0; i4<len4; i4++){let data21 = data20[i4];if(data21 && typeof data21 == "object" && !Array.isArray(data21)){if(data21.scriptName === undefined){const err29 = {instancePath:instancePath+"/beforeBucketSync/" + i4,schemaPath:"#/definitions/NamedScriptLifecycleHook/required",keyword:"required",params:{missingProperty: "scriptName"},message:"must have required property '"+"scriptName"+"'",schema:schema18.required,parentSchema:schema18,data:data21};if(vErrors === null){vErrors = [err29];}else {vErrors.push(err29);}errors++;}for(const key5 in data21){if(!(((key5 === "scriptName") || (key5 === "skipOnCI")) || (key5 === "skipOnLocal"))){const err30 = {instancePath:instancePath+"/beforeBucketSync/" + i4,schemaPath:"#/definitions/NamedScriptLifecycleHook/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key5},message:"must NOT have additional properties",schema:false,parentSchema:schema18,data:data21};if(vErrors === null){vErrors = [err30];}else {vErrors.push(err30);}errors++;}}if(data21.scriptName !== undefined){let data22 = data21.scriptName;if(typeof data22 !== "string"){const err31 = {instancePath:instancePath+"/beforeBucketSync/" + i4+"/scriptName",schemaPath:"#/definitions/NamedScriptLifecycleHook/properties/scriptName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema18.properties.scriptName.type,parentSchema:schema18.properties.scriptName,data:data22};if(vErrors === null){vErrors = [err31];}else {vErrors.push(err31);}errors++;}}if(data21.skipOnCI !== undefined){let data23 = data21.skipOnCI;if(typeof data23 !== "boolean"){const err32 = {instancePath:instancePath+"/beforeBucketSync/" + i4+"/skipOnCI",schemaPath:"#/definitions/NamedScriptLifecycleHook/properties/skipOnCI/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema18.properties.skipOnCI.type,parentSchema:schema18.properties.skipOnCI,data:data23};if(vErrors === null){vErrors = [err32];}else {vErrors.push(err32);}errors++;}}if(data21.skipOnLocal !== undefined){let data24 = data21.skipOnLocal;if(typeof data24 !== "boolean"){const err33 = {instancePath:instancePath+"/beforeBucketSync/" + i4+"/skipOnLocal",schemaPath:"#/definitions/NamedScriptLifecycleHook/properties/skipOnLocal/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema18.properties.skipOnLocal.type,parentSchema:schema18.properties.skipOnLocal,data:data24};if(vErrors === null){vErrors = [err33];}else {vErrors.push(err33);}errors++;}}}else {const err34 = {instancePath:instancePath+"/beforeBucketSync/" + i4,schemaPath:"#/definitions/NamedScriptLifecycleHook/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema18.type,parentSchema:schema18,data:data21};if(vErrors === null){vErrors = [err34];}else {vErrors.push(err34);}errors++;}}}else {const err35 = {instancePath:instancePath+"/beforeBucketSync",schemaPath:"#/properties/beforeBucketSync/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema17.properties.beforeBucketSync.type,parentSchema:schema17.properties.beforeBucketSync,data:data20};if(vErrors === null){vErrors = [err35];}else {vErrors.push(err35);}errors++;}}if(data.afterBucketSync !== undefined){let data25 = data.afterBucketSync;if(Array.isArray(data25)){const len5 = data25.length;for(let i5=0; i5<len5; i5++){let data26 = data25[i5];if(data26 && typeof data26 == "object" && !Array.isArray(data26)){if(data26.scriptName === undefined){const err36 = {instancePath:instancePath+"/afterBucketSync/" + i5,schemaPath:"#/definitions/NamedScriptLifecycleHook/required",keyword:"required",params:{missingProperty: "scriptName"},message:"must have required property '"+"scriptName"+"'",schema:schema18.required,parentSchema:schema18,data:data26};if(vErrors === null){vErrors = [err36];}else {vErrors.push(err36);}errors++;}for(const key6 in data26){if(!(((key6 === "scriptName") || (key6 === "skipOnCI")) || (key6 === "skipOnLocal"))){const err37 = {instancePath:instancePath+"/afterBucketSync/" + i5,schemaPath:"#/definitions/NamedScriptLifecycleHook/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key6},message:"must NOT have additional properties",schema:false,parentSchema:schema18,data:data26};if(vErrors === null){vErrors = [err37];}else {vErrors.push(err37);}errors++;}}if(data26.scriptName !== undefined){let data27 = data26.scriptName;if(typeof data27 !== "string"){const err38 = {instancePath:instancePath+"/afterBucketSync/" + i5+"/scriptName",schemaPath:"#/definitions/NamedScriptLifecycleHook/properties/scriptName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema18.properties.scriptName.type,parentSchema:schema18.properties.scriptName,data:data27};if(vErrors === null){vErrors = [err38];}else {vErrors.push(err38);}errors++;}}if(data26.skipOnCI !== undefined){let data28 = data26.skipOnCI;if(typeof data28 !== "boolean"){const err39 = {instancePath:instancePath+"/afterBucketSync/" + i5+"/skipOnCI",schemaPath:"#/definitions/NamedScriptLifecycleHook/properties/skipOnCI/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema18.properties.skipOnCI.type,parentSchema:schema18.properties.skipOnCI,data:data28};if(vErrors === null){vErrors = [err39];}else {vErrors.push(err39);}errors++;}}if(data26.skipOnLocal !== undefined){let data29 = data26.skipOnLocal;if(typeof data29 !== "boolean"){const err40 = {instancePath:instancePath+"/afterBucketSync/" + i5+"/skipOnLocal",schemaPath:"#/definitions/NamedScriptLifecycleHook/properties/skipOnLocal/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema18.properties.skipOnLocal.type,parentSchema:schema18.properties.skipOnLocal,data:data29};if(vErrors === null){vErrors = [err40];}else {vErrors.push(err40);}errors++;}}}else {const err41 = {instancePath:instancePath+"/afterBucketSync/" + i5,schemaPath:"#/definitions/NamedScriptLifecycleHook/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema18.type,parentSchema:schema18,data:data26};if(vErrors === null){vErrors = [err41];}else {vErrors.push(err41);}errors++;}}}else {const err42 = {instancePath:instancePath+"/afterBucketSync",schemaPath:"#/properties/afterBucketSync/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema17.properties.afterBucketSync.type,parentSchema:schema17.properties.afterBucketSync,data:data25};if(vErrors === null){vErrors = [err42];}else {vErrors.push(err42);}errors++;}}if(data.beforeDev !== undefined){let data30 = data.beforeDev;if(Array.isArray(data30)){const len6 = data30.length;for(let i6=0; i6<len6; i6++){let data31 = data30[i6];if(data31 && typeof data31 == "object" && !Array.isArray(data31)){if(data31.scriptName === undefined){const err43 = {instancePath:instancePath+"/beforeDev/" + i6,schemaPath:"#/definitions/NamedScriptLifecycleHook/required",keyword:"required",params:{missingProperty: "scriptName"},message:"must have required property '"+"scriptName"+"'",schema:schema18.required,parentSchema:schema18,data:data31};if(vErrors === null){vErrors = [err43];}else {vErrors.push(err43);}errors++;}for(const key7 in data31){if(!(((key7 === "scriptName") || (key7 === "skipOnCI")) || (key7 === "skipOnLocal"))){const err44 = {instancePath:instancePath+"/beforeDev/" + i6,schemaPath:"#/definitions/NamedScriptLifecycleHook/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key7},message:"must NOT have additional properties",schema:false,parentSchema:schema18,data:data31};if(vErrors === null){vErrors = [err44];}else {vErrors.push(err44);}errors++;}}if(data31.scriptName !== undefined){let data32 = data31.scriptName;if(typeof data32 !== "string"){const err45 = {instancePath:instancePath+"/beforeDev/" + i6+"/scriptName",schemaPath:"#/definitions/NamedScriptLifecycleHook/properties/scriptName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema18.properties.scriptName.type,parentSchema:schema18.properties.scriptName,data:data32};if(vErrors === null){vErrors = [err45];}else {vErrors.push(err45);}errors++;}}if(data31.skipOnCI !== undefined){let data33 = data31.skipOnCI;if(typeof data33 !== "boolean"){const err46 = {instancePath:instancePath+"/beforeDev/" + i6+"/skipOnCI",schemaPath:"#/definitions/NamedScriptLifecycleHook/properties/skipOnCI/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema18.properties.skipOnCI.type,parentSchema:schema18.properties.skipOnCI,data:data33};if(vErrors === null){vErrors = [err46];}else {vErrors.push(err46);}errors++;}}if(data31.skipOnLocal !== undefined){let data34 = data31.skipOnLocal;if(typeof data34 !== "boolean"){const err47 = {instancePath:instancePath+"/beforeDev/" + i6+"/skipOnLocal",schemaPath:"#/definitions/NamedScriptLifecycleHook/properties/skipOnLocal/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema18.properties.skipOnLocal.type,parentSchema:schema18.properties.skipOnLocal,data:data34};if(vErrors === null){vErrors = [err47];}else {vErrors.push(err47);}errors++;}}}else {const err48 = {instancePath:instancePath+"/beforeDev/" + i6,schemaPath:"#/definitions/NamedScriptLifecycleHook/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema18.type,parentSchema:schema18,data:data31};if(vErrors === null){vErrors = [err48];}else {vErrors.push(err48);}errors++;}}}else {const err49 = {instancePath:instancePath+"/beforeDev",schemaPath:"#/properties/beforeDev/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema17.properties.beforeDev.type,parentSchema:schema17.properties.beforeDev,data:data30};if(vErrors === null){vErrors = [err49];}else {vErrors.push(err49);}errors++;}}if(data.afterDev !== undefined){let data35 = data.afterDev;if(Array.isArray(data35)){const len7 = data35.length;for(let i7=0; i7<len7; i7++){let data36 = data35[i7];if(data36 && typeof data36 == "object" && !Array.isArray(data36)){if(data36.scriptName === undefined){const err50 = {instancePath:instancePath+"/afterDev/" + i7,schemaPath:"#/definitions/NamedScriptLifecycleHook/required",keyword:"required",params:{missingProperty: "scriptName"},message:"must have required property '"+"scriptName"+"'",schema:schema18.required,parentSchema:schema18,data:data36};if(vErrors === null){vErrors = [err50];}else {vErrors.push(err50);}errors++;}for(const key8 in data36){if(!(((key8 === "scriptName") || (key8 === "skipOnCI")) || (key8 === "skipOnLocal"))){const err51 = {instancePath:instancePath+"/afterDev/" + i7,schemaPath:"#/definitions/NamedScriptLifecycleHook/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key8},message:"must NOT have additional properties",schema:false,parentSchema:schema18,data:data36};if(vErrors === null){vErrors = [err51];}else {vErrors.push(err51);}errors++;}}if(data36.scriptName !== undefined){let data37 = data36.scriptName;if(typeof data37 !== "string"){const err52 = {instancePath:instancePath+"/afterDev/" + i7+"/scriptName",schemaPath:"#/definitions/NamedScriptLifecycleHook/properties/scriptName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema18.properties.scriptName.type,parentSchema:schema18.properties.scriptName,data:data37};if(vErrors === null){vErrors = [err52];}else {vErrors.push(err52);}errors++;}}if(data36.skipOnCI !== undefined){let data38 = data36.skipOnCI;if(typeof data38 !== "boolean"){const err53 = {instancePath:instancePath+"/afterDev/" + i7+"/skipOnCI",schemaPath:"#/definitions/NamedScriptLifecycleHook/properties/skipOnCI/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema18.properties.skipOnCI.type,parentSchema:schema18.properties.skipOnCI,data:data38};if(vErrors === null){vErrors = [err53];}else {vErrors.push(err53);}errors++;}}if(data36.skipOnLocal !== undefined){let data39 = data36.skipOnLocal;if(typeof data39 !== "boolean"){const err54 = {instancePath:instancePath+"/afterDev/" + i7+"/skipOnLocal",schemaPath:"#/definitions/NamedScriptLifecycleHook/properties/skipOnLocal/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema18.properties.skipOnLocal.type,parentSchema:schema18.properties.skipOnLocal,data:data39};if(vErrors === null){vErrors = [err54];}else {vErrors.push(err54);}errors++;}}}else {const err55 = {instancePath:instancePath+"/afterDev/" + i7,schemaPath:"#/definitions/NamedScriptLifecycleHook/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema18.type,parentSchema:schema18,data:data36};if(vErrors === null){vErrors = [err55];}else {vErrors.push(err55);}errors++;}}}else {const err56 = {instancePath:instancePath+"/afterDev",schemaPath:"#/properties/afterDev/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema17.properties.afterDev.type,parentSchema:schema17.properties.afterDev,data:data35};if(vErrors === null){vErrors = [err56];}else {vErrors.push(err56);}errors++;}}}else {const err57 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema17.type,parentSchema:schema17,data};if(vErrors === null){vErrors = [err57];}else {vErrors.push(err57);}errors++;}validate15.errors = vErrors;return errors === 0;}const schema26 = {"description":"#### A script that runs on your local machine.\n\n---\n\nLocal scripts are executed on the same machine where the Stacktape command is run.\nThey are useful for tasks like building your application, running database migrations, or other automation.\n\nThe script must define one of the following: `executeCommand`, `executeScript`, `executeCommands`, or `executeScripts`.","type":"object","properties":{"type":{"type":"string","const":"local-script"},"properties":{"$ref":"#/definitions/LocalScriptProps"}},"additionalProperties":false,"required":["properties","type"]};const schema27 = {"type":"object","properties":{"executeScript":{"description":"#### Execute Script\n\n---\n\nThe path to a script file to execute. The script can be written in JavaScript, TypeScript, or Python and runs in a separate process.\n\nThe executable is determined by `defaults:configure` or the system default (`node` for JS/TS, `python` for Python). You can only use one of `executeScript`, `executeScripts`, `executeCommand`, or `executeCommands`.","type":"string"},"executeCommand":{"description":"#### Execute Command\n\n---\n\nA single terminal command to execute in a separate shell process.\n\nThe command runs on the machine executing the Stacktape command. Be aware of potential differences between local and CI environments (e.g., OS, shell). You can only use one of `executeScript`, `executeScripts`, `executeCommand`, or `executeCommands`.","type":"string"},"executeScripts":{"description":"#### Execute Scripts\n\n---\n\nA list of script files to execute sequentially. Each script runs in a separate process.\n\nThe script can be written in JavaScript, TypeScript, or Python. The executable is determined by `defaults:configure` or the system default. You can only use one of `executeScript`, `executeScripts`, `executeCommand`, or `executeCommands`.","type":"array","items":{"type":"string"}},"executeCommands":{"description":"#### Execute Commands\n\n---\n\nA list of terminal commands to execute sequentially. Each command runs in a separate shell process.\n\nThe commands run on the machine executing the Stacktape command. Be aware of potential differences between environments. You can only use one of `executeScript`, `executeScripts`, `executeCommand`, or `executeCommands`.","type":"array","items":{"type":"string"}},"cwd":{"description":"#### Working Directory\n\n---\n\nThe directory where the script or command will be executed.","default":"The directory where the Stacktape command was executed.","type":"string"},"pipeStdio":{"description":"#### Pipe Stdio\n\n---\n\nIf `true`, pipes the standard input/output (stdio) of the hook process to the main process. This allows you to see logs from your hook and interact with prompts.","default":true,"type":"boolean"},"connectTo":{"description":"#### Connect To\n\n---\n\nA list of resources the script needs to interact with. Stacktape automatically injects environment variables with connection details for each specified resource.\n\nEnvironment variable names are in the format `STP_[RESOURCE_NAME]_[VARIABLE_NAME]` (e.g., `STP_MY_DATABASE_CONNECTION_STRING`).\n\n**Injected Variables by Resource Type:**\n- **`Bucket`**: `NAME`, `ARN`\n- **`DynamoDbTable`**: `NAME`, `ARN`, `STREAM_ARN`\n- **`MongoDbAtlasCluster`**: `CONNECTION_STRING`\n- **`RelationalDatabase`**: `CONNECTION_STRING`, `JDBC_CONNECTION_STRING`, `HOST`, `PORT`. For Aurora clusters, `READER_CONNECTION_STRING`, `READER_JDBC_CONNECTION_STRING`, and `READER_HOST` are also included.\n- **`RedisCluster`**: `HOST`, `READER_HOST`, `PORT`\n- **`EventBus`**: `ARN`\n- **`Function`**: `ARN`\n- **`BatchJob`**: `JOB_DEFINITION_ARN`, `STATE_MACHINE_ARN`\n- **`UserAuthPool`**: `ID`, `CLIENT_ID`, `ARN`\n- **`SnsTopic`**: `ARN`, `NAME`\n- **`SqsQueue`**: `ARN`, `NAME`, `URL`\n- **`UpstashKafkaTopic`**: `TOPIC_NAME`, `TOPIC_ID`, `USERNAME`, `PASSWORD`, `TCP_ENDPOINT`, `REST_URL`\n- **`UpstashRedis`**: `HOST`, `PORT`, `PASSWORD`, `REST_TOKEN`, `REST_URL`, `REDIS_URL`\n- **`PrivateService`**: `ADDRESS`\n- **`WebService`**: `URL`","type":"array","items":{"type":"string"}},"environment":{"description":"#### Environment Variables\n\n---\n\nA list of environment variables to pass to the script or command.\n\nValues can be:\n- A static string, number, or boolean.\n- The result of a [custom directive](https://docs.stacktape.com/configuration/directives/#custom-directives).\n- A reference to another resource's parameter using the [`$ResourceParam` directive](https://docs.stacktape.com/configuration/referencing-parameters/).\n- A value from a [secret](https://docs.stacktape.com/resources/secrets/) using the [`$Secret` directive](https://docs.stacktape.com/configuration/directives/#secret).","type":"array","items":{"$ref":"#/definitions/EnvironmentVar"}},"assumeRoleOfResource":{"description":"#### Assume Role of Resource\n\n---\n\nThe name of a deployed resource whose IAM role the script should assume. This grants the script the same permissions as the specified resource.\n\nThe resource must be deployed before the script is executed. Stacktape injects temporary AWS credentials as environment variables, which are automatically used by most AWS SDKs and CLIs.\n\n**Supported Resource Types:**\n- `function`\n- `batch-job`\n- `worker-service`\n- `web-service`\n- `private-service`\n- `multi-container-workload`\n- `nextjs-web`","type":"string"}},"additionalProperties":false};const schema28 = {"type":"object","properties":{"name":{"description":"#### Variable Name\n\n---\n\nThe name of the environment variable.","type":"string"},"value":{"description":"#### Variable Value\n\n---\n\nThe value of the environment variable. Numbers and booleans will be converted to strings.","type":["string","number","boolean"]}},"additionalProperties":false,"required":["name","value"]};function validate18(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){for(const key0 in data){if(!(func2.call(schema27.properties, key0))){const err0 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema27,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}}if(data.executeScript !== undefined){let data0 = data.executeScript;if(typeof data0 !== "string"){const err1 = {instancePath:instancePath+"/executeScript",schemaPath:"#/properties/executeScript/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema27.properties.executeScript.type,parentSchema:schema27.properties.executeScript,data:data0};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.executeCommand !== undefined){let data1 = data.executeCommand;if(typeof data1 !== "string"){const err2 = {instancePath:instancePath+"/executeCommand",schemaPath:"#/properties/executeCommand/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema27.properties.executeCommand.type,parentSchema:schema27.properties.executeCommand,data:data1};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.executeScripts !== undefined){let data2 = data.executeScripts;if(Array.isArray(data2)){const len0 = data2.length;for(let i0=0; i0<len0; i0++){let data3 = data2[i0];if(typeof data3 !== "string"){const err3 = {instancePath:instancePath+"/executeScripts/" + i0,schemaPath:"#/properties/executeScripts/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema27.properties.executeScripts.items.type,parentSchema:schema27.properties.executeScripts.items,data:data3};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}}else {const err4 = {instancePath:instancePath+"/executeScripts",schemaPath:"#/properties/executeScripts/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema27.properties.executeScripts.type,parentSchema:schema27.properties.executeScripts,data:data2};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.executeCommands !== undefined){let data4 = data.executeCommands;if(Array.isArray(data4)){const len1 = data4.length;for(let i1=0; i1<len1; i1++){let data5 = data4[i1];if(typeof data5 !== "string"){const err5 = {instancePath:instancePath+"/executeCommands/" + i1,schemaPath:"#/properties/executeCommands/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema27.properties.executeCommands.items.type,parentSchema:schema27.properties.executeCommands.items,data:data5};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}}else {const err6 = {instancePath:instancePath+"/executeCommands",schemaPath:"#/properties/executeCommands/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema27.properties.executeCommands.type,parentSchema:schema27.properties.executeCommands,data:data4};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data.cwd !== undefined){let data6 = data.cwd;if(typeof data6 !== "string"){const err7 = {instancePath:instancePath+"/cwd",schemaPath:"#/properties/cwd/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema27.properties.cwd.type,parentSchema:schema27.properties.cwd,data:data6};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data.pipeStdio !== undefined){let data7 = data.pipeStdio;if(typeof data7 !== "boolean"){const err8 = {instancePath:instancePath+"/pipeStdio",schemaPath:"#/properties/pipeStdio/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema27.properties.pipeStdio.type,parentSchema:schema27.properties.pipeStdio,data:data7};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}if(data.connectTo !== undefined){let data8 = data.connectTo;if(Array.isArray(data8)){const len2 = data8.length;for(let i2=0; i2<len2; i2++){let data9 = data8[i2];if(typeof data9 !== "string"){const err9 = {instancePath:instancePath+"/connectTo/" + i2,schemaPath:"#/properties/connectTo/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema27.properties.connectTo.items.type,parentSchema:schema27.properties.connectTo.items,data:data9};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}}else {const err10 = {instancePath:instancePath+"/connectTo",schemaPath:"#/properties/connectTo/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema27.properties.connectTo.type,parentSchema:schema27.properties.connectTo,data:data8};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data.environment !== undefined){let data10 = data.environment;if(Array.isArray(data10)){const len3 = data10.length;for(let i3=0; i3<len3; i3++){let data11 = data10[i3];if(data11 && typeof data11 == "object" && !Array.isArray(data11)){if(data11.name === undefined){const err11 = {instancePath:instancePath+"/environment/" + i3,schemaPath:"#/definitions/EnvironmentVar/required",keyword:"required",params:{missingProperty: "name"},message:"must have required property '"+"name"+"'",schema:schema28.required,parentSchema:schema28,data:data11};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}if(data11.value === undefined){const err12 = {instancePath:instancePath+"/environment/" + i3,schemaPath:"#/definitions/EnvironmentVar/required",keyword:"required",params:{missingProperty: "value"},message:"must have required property '"+"value"+"'",schema:schema28.required,parentSchema:schema28,data:data11};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}for(const key1 in data11){if(!((key1 === "name") || (key1 === "value"))){const err13 = {instancePath:instancePath+"/environment/" + i3,schemaPath:"#/definitions/EnvironmentVar/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema28,data:data11};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}if(data11.name !== undefined){let data12 = data11.name;if(typeof data12 !== "string"){const err14 = {instancePath:instancePath+"/environment/" + i3+"/name",schemaPath:"#/definitions/EnvironmentVar/properties/name/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema28.properties.name.type,parentSchema:schema28.properties.name,data:data12};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}}if(data11.value !== undefined){let data13 = data11.value;if(((typeof data13 !== "string") && (!(typeof data13 == "number"))) && (typeof data13 !== "boolean")){const err15 = {instancePath:instancePath+"/environment/" + i3+"/value",schemaPath:"#/definitions/EnvironmentVar/properties/value/type",keyword:"type",params:{type: schema28.properties.value.type},message:"must be string,number,boolean",schema:schema28.properties.value.type,parentSchema:schema28.properties.value,data:data13};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}}}else {const err16 = {instancePath:instancePath+"/environment/" + i3,schemaPath:"#/definitions/EnvironmentVar/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema28.type,parentSchema:schema28,data:data11};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}}}else {const err17 = {instancePath:instancePath+"/environment",schemaPath:"#/properties/environment/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema27.properties.environment.type,parentSchema:schema27.properties.environment,data:data10};if(vErrors === null){vErrors = [err17];}else {vErrors.push(err17);}errors++;}}if(data.assumeRoleOfResource !== undefined){let data14 = data.assumeRoleOfResource;if(typeof data14 !== "string"){const err18 = {instancePath:instancePath+"/assumeRoleOfResource",schemaPath:"#/properties/assumeRoleOfResource/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema27.properties.assumeRoleOfResource.type,parentSchema:schema27.properties.assumeRoleOfResource,data:data14};if(vErrors === null){vErrors = [err18];}else {vErrors.push(err18);}errors++;}}}else {const err19 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema27.type,parentSchema:schema27,data};if(vErrors === null){vErrors = [err19];}else {vErrors.push(err19);}errors++;}validate18.errors = vErrors;return errors === 0;}function validate17(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema26.required,parentSchema:schema26,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema26.required,parentSchema:schema26,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema26,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema26.properties.type.type,parentSchema:schema26.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("local-script" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "local-script"},message:"must be equal to constant",schema:"local-script",parentSchema:schema26.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate18(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate18.errors : vErrors.concat(validate18.errors);errors = vErrors.length;}}}else {const err5 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema26.type,parentSchema:schema26,data};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}validate17.errors = vErrors;return errors === 0;}const schema29 = {"description":"#### A script that runs remotely on a bastion server.\n\n---\n\nBastion scripts are executed on a bastion server within your VPC, not on your local machine.\nLogs from the script's execution are streamed in real-time to your terminal.\n\nThis is useful for running commands that need direct access to VPC resources\nor for ensuring consistent execution environments across different machines.","type":"object","properties":{"type":{"type":"string","const":"bastion-script"},"properties":{"$ref":"#/definitions/BastionScriptProps"}},"additionalProperties":false,"required":["properties","type"]};const schema30 = {"type":"object","properties":{"bastionResource":{"description":"#### Bastion Resource Name\n\n---\n\nThe name of the bastion resource on which the commands will be executed.","type":"string"},"executeCommand":{"description":"#### Execute Command\n\n---\n\nA single terminal command to execute on the bastion host. Logs from the execution are streamed to your terminal.\n\nYou can use either `executeCommand` or `executeCommands`, but not both.","type":"string"},"executeCommands":{"description":"#### Execute Commands\n\n---\n\nA list of terminal commands to execute sequentially as a script on the bastion host. Logs from the execution are streamed to your terminal.\n\nYou can use either `executeCommand` or `executeCommands`, but not both.","type":"array","items":{"type":"string"}},"cwd":{"description":"#### Working Directory\n\n---\n\nThe directory on the bastion host where the command will be executed.","default":"/","type":"string"},"connectTo":{"description":"#### Connect To\n\n---\n\nA list of resources the script needs to interact with. Stacktape automatically injects environment variables with connection details for each specified resource.\n\nEnvironment variable names are in the format `STP_[RESOURCE_NAME]_[VARIABLE_NAME]` (e.g., `STP_MY_DATABASE_CONNECTION_STRING`).\n\n**Injected Variables by Resource Type:**\n- **`Bucket`**: `NAME`, `ARN`\n- **`DynamoDbTable`**: `NAME`, `ARN`, `STREAM_ARN`\n- **`MongoDbAtlasCluster`**: `CONNECTION_STRING`\n- **`RelationalDatabase`**: `CONNECTION_STRING`, `JDBC_CONNECTION_STRING`, `HOST`, `PORT`. For Aurora clusters, `READER_CONNECTION_STRING`, `READER_JDBC_CONNECTION_STRING`, and `READER_HOST` are also included.\n- **`RedisCluster`**: `HOST`, `READER_HOST`, `PORT`\n- **`EventBus`**: `ARN`\n- **`Function`**: `ARN`\n- **`BatchJob`**: `JOB_DEFINITION_ARN`, `STATE_MACHINE_ARN`\n- **`UserAuthPool`**: `ID`, `CLIENT_ID`, `ARN`\n- **`SnsTopic`**: `ARN`, `NAME`\n- **`SqsQueue`**: `ARN`, `NAME`, `URL`\n- **`UpstashKafkaTopic`**: `TOPIC_NAME`, `TOPIC_ID`, `USERNAME`, `PASSWORD`, `TCP_ENDPOINT`, `REST_URL`\n- **`UpstashRedis`**: `HOST`, `PORT`, `PASSWORD`, `REST_TOKEN`, `REST_URL`, `REDIS_URL`\n- **`PrivateService`**: `ADDRESS`\n- **`WebService`**: `URL`","type":"array","items":{"type":"string"}},"environment":{"description":"#### Environment Variables\n\n---\n\nA list of environment variables to pass to the script or command.\n\nValues can be:\n- A static string, number, or boolean.\n- The result of a [custom directive](https://docs.stacktape.com/configuration/directives/#custom-directives).\n- A reference to another resource's parameter using the [`$ResourceParam` directive](https://docs.stacktape.com/configuration/referencing-parameters/).\n- A value from a [secret](https://docs.stacktape.com/resources/secrets/) using the [`$Secret` directive](https://docs.stacktape.com/configuration/directives/#secret).","type":"array","items":{"$ref":"#/definitions/EnvironmentVar"}},"assumeRoleOfResource":{"description":"#### Assume Role of Resource\n\n---\n\nThe name of a deployed resource whose IAM role the script should assume. This grants the script the same permissions as the specified resource.\n\nThe resource must be deployed before the script is executed. Stacktape injects temporary AWS credentials as environment variables, which are automatically used by most AWS SDKs and CLIs.\n\n**Supported Resource Types:**\n- `function`\n- `batch-job`\n- `worker-service`\n- `web-service`\n- `private-service`\n- `multi-container-workload`\n- `nextjs-web`","type":"string"}},"additionalProperties":false};function validate22(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){for(const key0 in data){if(!(((((((key0 === "bastionResource") || (key0 === "executeCommand")) || (key0 === "executeCommands")) || (key0 === "cwd")) || (key0 === "connectTo")) || (key0 === "environment")) || (key0 === "assumeRoleOfResource"))){const err0 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema30,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}}if(data.bastionResource !== undefined){let data0 = data.bastionResource;if(typeof data0 !== "string"){const err1 = {instancePath:instancePath+"/bastionResource",schemaPath:"#/properties/bastionResource/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema30.properties.bastionResource.type,parentSchema:schema30.properties.bastionResource,data:data0};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.executeCommand !== undefined){let data1 = data.executeCommand;if(typeof data1 !== "string"){const err2 = {instancePath:instancePath+"/executeCommand",schemaPath:"#/properties/executeCommand/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema30.properties.executeCommand.type,parentSchema:schema30.properties.executeCommand,data:data1};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.executeCommands !== undefined){let data2 = data.executeCommands;if(Array.isArray(data2)){const len0 = data2.length;for(let i0=0; i0<len0; i0++){let data3 = data2[i0];if(typeof data3 !== "string"){const err3 = {instancePath:instancePath+"/executeCommands/" + i0,schemaPath:"#/properties/executeCommands/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema30.properties.executeCommands.items.type,parentSchema:schema30.properties.executeCommands.items,data:data3};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}}else {const err4 = {instancePath:instancePath+"/executeCommands",schemaPath:"#/properties/executeCommands/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema30.properties.executeCommands.type,parentSchema:schema30.properties.executeCommands,data:data2};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.cwd !== undefined){let data4 = data.cwd;if(typeof data4 !== "string"){const err5 = {instancePath:instancePath+"/cwd",schemaPath:"#/properties/cwd/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema30.properties.cwd.type,parentSchema:schema30.properties.cwd,data:data4};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data.connectTo !== undefined){let data5 = data.connectTo;if(Array.isArray(data5)){const len1 = data5.length;for(let i1=0; i1<len1; i1++){let data6 = data5[i1];if(typeof data6 !== "string"){const err6 = {instancePath:instancePath+"/connectTo/" + i1,schemaPath:"#/properties/connectTo/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema30.properties.connectTo.items.type,parentSchema:schema30.properties.connectTo.items,data:data6};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}}else {const err7 = {instancePath:instancePath+"/connectTo",schemaPath:"#/properties/connectTo/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema30.properties.connectTo.type,parentSchema:schema30.properties.connectTo,data:data5};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data.environment !== undefined){let data7 = data.environment;if(Array.isArray(data7)){const len2 = data7.length;for(let i2=0; i2<len2; i2++){let data8 = data7[i2];if(data8 && typeof data8 == "object" && !Array.isArray(data8)){if(data8.name === undefined){const err8 = {instancePath:instancePath+"/environment/" + i2,schemaPath:"#/definitions/EnvironmentVar/required",keyword:"required",params:{missingProperty: "name"},message:"must have required property '"+"name"+"'",schema:schema28.required,parentSchema:schema28,data:data8};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}if(data8.value === undefined){const err9 = {instancePath:instancePath+"/environment/" + i2,schemaPath:"#/definitions/EnvironmentVar/required",keyword:"required",params:{missingProperty: "value"},message:"must have required property '"+"value"+"'",schema:schema28.required,parentSchema:schema28,data:data8};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}for(const key1 in data8){if(!((key1 === "name") || (key1 === "value"))){const err10 = {instancePath:instancePath+"/environment/" + i2,schemaPath:"#/definitions/EnvironmentVar/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema28,data:data8};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data8.name !== undefined){let data9 = data8.name;if(typeof data9 !== "string"){const err11 = {instancePath:instancePath+"/environment/" + i2+"/name",schemaPath:"#/definitions/EnvironmentVar/properties/name/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema28.properties.name.type,parentSchema:schema28.properties.name,data:data9};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}if(data8.value !== undefined){let data10 = data8.value;if(((typeof data10 !== "string") && (!(typeof data10 == "number"))) && (typeof data10 !== "boolean")){const err12 = {instancePath:instancePath+"/environment/" + i2+"/value",schemaPath:"#/definitions/EnvironmentVar/properties/value/type",keyword:"type",params:{type: schema28.properties.value.type},message:"must be string,number,boolean",schema:schema28.properties.value.type,parentSchema:schema28.properties.value,data:data10};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}}else {const err13 = {instancePath:instancePath+"/environment/" + i2,schemaPath:"#/definitions/EnvironmentVar/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema28.type,parentSchema:schema28,data:data8};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}}else {const err14 = {instancePath:instancePath+"/environment",schemaPath:"#/properties/environment/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema30.properties.environment.type,parentSchema:schema30.properties.environment,data:data7};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}}if(data.assumeRoleOfResource !== undefined){let data11 = data.assumeRoleOfResource;if(typeof data11 !== "string"){const err15 = {instancePath:instancePath+"/assumeRoleOfResource",schemaPath:"#/properties/assumeRoleOfResource/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema30.properties.assumeRoleOfResource.type,parentSchema:schema30.properties.assumeRoleOfResource,data:data11};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}}}else {const err16 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema30.type,parentSchema:schema30,data};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}validate22.errors = vErrors;return errors === 0;}function validate21(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema29.required,parentSchema:schema29,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema29.required,parentSchema:schema29,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema29,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema29.properties.type.type,parentSchema:schema29.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("bastion-script" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "bastion-script"},message:"must be equal to constant",schema:"bastion-script",parentSchema:schema29.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate22(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate22.errors : vErrors.concat(validate22.errors);errors = vErrors.length;}}}else {const err5 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema29.type,parentSchema:schema29,data};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}validate21.errors = vErrors;return errors === 0;}const schema32 = {"description":"#### A local script with secure tunneling through a bastion host.\n\n---\n\nThis script type runs locally but tunnels connections to resources through a bastion server.\nIt provides a secure, encrypted connection to resources that are only accessible within the VPC,\nsuch as private databases or Redis clusters.\n\nThe environment variables injected by `connectTo` are automatically adjusted to use the tunneled endpoints.","type":"object","properties":{"type":{"type":"string","const":"local-script-with-bastion-tunneling"},"properties":{"$ref":"#/definitions/LocalScriptWithBastionTunnelingProps"}},"additionalProperties":false,"required":["properties","type"]};const schema33 = {"type":"object","properties":{"bastionResource":{"description":"#### Bastion Resource Name\n\n---\n\nThe name of the bastion resource to use for tunneling to protected resources.","type":"string"},"executeScript":{"description":"#### Execute Script\n\n---\n\nThe path to a script file to execute. The script can be written in JavaScript, TypeScript, or Python and runs in a separate process.\n\nThe executable is determined by `defaults:configure` or the system default (`node` for JS/TS, `python` for Python). You can only use one of `executeScript`, `executeScripts`, `executeCommand`, or `executeCommands`.","type":"string"},"executeCommand":{"description":"#### Execute Command\n\n---\n\nA single terminal command to execute in a separate shell process.\n\nThe command runs on the machine executing the Stacktape command. Be aware of potential differences between local and CI environments (e.g., OS, shell). You can only use one of `executeScript`, `executeScripts`, `executeCommand`, or `executeCommands`.","type":"string"},"executeScripts":{"description":"#### Execute Scripts\n\n---\n\nA list of script files to execute sequentially. Each script runs in a separate process.\n\nThe script can be written in JavaScript, TypeScript, or Python. The executable is determined by `defaults:configure` or the system default. You can only use one of `executeScript`, `executeScripts`, `executeCommand`, or `executeCommands`.","type":"array","items":{"type":"string"}},"executeCommands":{"description":"#### Execute Commands\n\n---\n\nA list of terminal commands to execute sequentially. Each command runs in a separate shell process.\n\nThe commands run on the machine executing the Stacktape command. Be aware of potential differences between environments. You can only use one of `executeScript`, `executeScripts`, `executeCommand`, or `executeCommands`.","type":"array","items":{"type":"string"}},"cwd":{"description":"#### Working Directory\n\n---\n\nThe directory where the script or command will be executed.","default":"The directory where the Stacktape command was executed.","type":"string"},"pipeStdio":{"description":"#### Pipe Stdio\n\n---\n\nIf `true`, pipes the standard input/output (stdio) of the hook process to the main process. This allows you to see logs from your hook and interact with prompts.","default":true,"type":"boolean"},"connectTo":{"description":"#### Connect To\n\n---\n\nA list of resources the script needs to interact with. Stacktape automatically injects environment variables with connection details for each specified resource.\n\nEnvironment variable names are in the format `STP_[RESOURCE_NAME]_[VARIABLE_NAME]` (e.g., `STP_MY_DATABASE_CONNECTION_STRING`).\n\n**Injected Variables by Resource Type:**\n- **`Bucket`**: `NAME`, `ARN`\n- **`DynamoDbTable`**: `NAME`, `ARN`, `STREAM_ARN`\n- **`MongoDbAtlasCluster`**: `CONNECTION_STRING`\n- **`RelationalDatabase`**: `CONNECTION_STRING`, `JDBC_CONNECTION_STRING`, `HOST`, `PORT`. For Aurora clusters, `READER_CONNECTION_STRING`, `READER_JDBC_CONNECTION_STRING`, and `READER_HOST` are also included.\n- **`RedisCluster`**: `HOST`, `READER_HOST`, `PORT`\n- **`EventBus`**: `ARN`\n- **`Function`**: `ARN`\n- **`BatchJob`**: `JOB_DEFINITION_ARN`, `STATE_MACHINE_ARN`\n- **`UserAuthPool`**: `ID`, `CLIENT_ID`, `ARN`\n- **`SnsTopic`**: `ARN`, `NAME`\n- **`SqsQueue`**: `ARN`, `NAME`, `URL`\n- **`UpstashKafkaTopic`**: `TOPIC_NAME`, `TOPIC_ID`, `USERNAME`, `PASSWORD`, `TCP_ENDPOINT`, `REST_URL`\n- **`UpstashRedis`**: `HOST`, `PORT`, `PASSWORD`, `REST_TOKEN`, `REST_URL`, `REDIS_URL`\n- **`PrivateService`**: `ADDRESS`\n- **`WebService`**: `URL`","type":"array","items":{"type":"string"}},"environment":{"description":"#### Environment Variables\n\n---\n\nA list of environment variables to pass to the script or command.\n\nValues can be:\n- A static string, number, or boolean.\n- The result of a [custom directive](https://docs.stacktape.com/configuration/directives/#custom-directives).\n- A reference to another resource's parameter using the [`$ResourceParam` directive](https://docs.stacktape.com/configuration/referencing-parameters/).\n- A value from a [secret](https://docs.stacktape.com/resources/secrets/) using the [`$Secret` directive](https://docs.stacktape.com/configuration/directives/#secret).","type":"array","items":{"$ref":"#/definitions/EnvironmentVar"}},"assumeRoleOfResource":{"description":"#### Assume Role of Resource\n\n---\n\nThe name of a deployed resource whose IAM role the script should assume. This grants the script the same permissions as the specified resource.\n\nThe resource must be deployed before the script is executed. Stacktape injects temporary AWS credentials as environment variables, which are automatically used by most AWS SDKs and CLIs.\n\n**Supported Resource Types:**\n- `function`\n- `batch-job`\n- `worker-service`\n- `web-service`\n- `private-service`\n- `multi-container-workload`\n- `nextjs-web`","type":"string"}},"additionalProperties":false};function validate26(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){for(const key0 in data){if(!(func2.call(schema33.properties, key0))){const err0 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema33,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}}if(data.bastionResource !== undefined){let data0 = data.bastionResource;if(typeof data0 !== "string"){const err1 = {instancePath:instancePath+"/bastionResource",schemaPath:"#/properties/bastionResource/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema33.properties.bastionResource.type,parentSchema:schema33.properties.bastionResource,data:data0};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.executeScript !== undefined){let data1 = data.executeScript;if(typeof data1 !== "string"){const err2 = {instancePath:instancePath+"/executeScript",schemaPath:"#/properties/executeScript/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema33.properties.executeScript.type,parentSchema:schema33.properties.executeScript,data:data1};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.executeCommand !== undefined){let data2 = data.executeCommand;if(typeof data2 !== "string"){const err3 = {instancePath:instancePath+"/executeCommand",schemaPath:"#/properties/executeCommand/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema33.properties.executeCommand.type,parentSchema:schema33.properties.executeCommand,data:data2};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.executeScripts !== undefined){let data3 = data.executeScripts;if(Array.isArray(data3)){const len0 = data3.length;for(let i0=0; i0<len0; i0++){let data4 = data3[i0];if(typeof data4 !== "string"){const err4 = {instancePath:instancePath+"/executeScripts/" + i0,schemaPath:"#/properties/executeScripts/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema33.properties.executeScripts.items.type,parentSchema:schema33.properties.executeScripts.items,data:data4};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}}else {const err5 = {instancePath:instancePath+"/executeScripts",schemaPath:"#/properties/executeScripts/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema33.properties.executeScripts.type,parentSchema:schema33.properties.executeScripts,data:data3};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data.executeCommands !== undefined){let data5 = data.executeCommands;if(Array.isArray(data5)){const len1 = data5.length;for(let i1=0; i1<len1; i1++){let data6 = data5[i1];if(typeof data6 !== "string"){const err6 = {instancePath:instancePath+"/executeCommands/" + i1,schemaPath:"#/properties/executeCommands/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema33.properties.executeCommands.items.type,parentSchema:schema33.properties.executeCommands.items,data:data6};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}}else {const err7 = {instancePath:instancePath+"/executeCommands",schemaPath:"#/properties/executeCommands/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema33.properties.executeCommands.type,parentSchema:schema33.properties.executeCommands,data:data5};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data.cwd !== undefined){let data7 = data.cwd;if(typeof data7 !== "string"){const err8 = {instancePath:instancePath+"/cwd",schemaPath:"#/properties/cwd/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema33.properties.cwd.type,parentSchema:schema33.properties.cwd,data:data7};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}if(data.pipeStdio !== undefined){let data8 = data.pipeStdio;if(typeof data8 !== "boolean"){const err9 = {instancePath:instancePath+"/pipeStdio",schemaPath:"#/properties/pipeStdio/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema33.properties.pipeStdio.type,parentSchema:schema33.properties.pipeStdio,data:data8};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(data.connectTo !== undefined){let data9 = data.connectTo;if(Array.isArray(data9)){const len2 = data9.length;for(let i2=0; i2<len2; i2++){let data10 = data9[i2];if(typeof data10 !== "string"){const err10 = {instancePath:instancePath+"/connectTo/" + i2,schemaPath:"#/properties/connectTo/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema33.properties.connectTo.items.type,parentSchema:schema33.properties.connectTo.items,data:data10};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}}else {const err11 = {instancePath:instancePath+"/connectTo",schemaPath:"#/properties/connectTo/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema33.properties.connectTo.type,parentSchema:schema33.properties.connectTo,data:data9};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}if(data.environment !== undefined){let data11 = data.environment;if(Array.isArray(data11)){const len3 = data11.length;for(let i3=0; i3<len3; i3++){let data12 = data11[i3];if(data12 && typeof data12 == "object" && !Array.isArray(data12)){if(data12.name === undefined){const err12 = {instancePath:instancePath+"/environment/" + i3,schemaPath:"#/definitions/EnvironmentVar/required",keyword:"required",params:{missingProperty: "name"},message:"must have required property '"+"name"+"'",schema:schema28.required,parentSchema:schema28,data:data12};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}if(data12.value === undefined){const err13 = {instancePath:instancePath+"/environment/" + i3,schemaPath:"#/definitions/EnvironmentVar/required",keyword:"required",params:{missingProperty: "value"},message:"must have required property '"+"value"+"'",schema:schema28.required,parentSchema:schema28,data:data12};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}for(const key1 in data12){if(!((key1 === "name") || (key1 === "value"))){const err14 = {instancePath:instancePath+"/environment/" + i3,schemaPath:"#/definitions/EnvironmentVar/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema28,data:data12};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}}if(data12.name !== undefined){let data13 = data12.name;if(typeof data13 !== "string"){const err15 = {instancePath:instancePath+"/environment/" + i3+"/name",schemaPath:"#/definitions/EnvironmentVar/properties/name/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema28.properties.name.type,parentSchema:schema28.properties.name,data:data13};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}}if(data12.value !== undefined){let data14 = data12.value;if(((typeof data14 !== "string") && (!(typeof data14 == "number"))) && (typeof data14 !== "boolean")){const err16 = {instancePath:instancePath+"/environment/" + i3+"/value",schemaPath:"#/definitions/EnvironmentVar/properties/value/type",keyword:"type",params:{type: schema28.properties.value.type},message:"must be string,number,boolean",schema:schema28.properties.value.type,parentSchema:schema28.properties.value,data:data14};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}}}else {const err17 = {instancePath:instancePath+"/environment/" + i3,schemaPath:"#/definitions/EnvironmentVar/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema28.type,parentSchema:schema28,data:data12};if(vErrors === null){vErrors = [err17];}else {vErrors.push(err17);}errors++;}}}else {const err18 = {instancePath:instancePath+"/environment",schemaPath:"#/properties/environment/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema33.properties.environment.type,parentSchema:schema33.properties.environment,data:data11};if(vErrors === null){vErrors = [err18];}else {vErrors.push(err18);}errors++;}}if(data.assumeRoleOfResource !== undefined){let data15 = data.assumeRoleOfResource;if(typeof data15 !== "string"){const err19 = {instancePath:instancePath+"/assumeRoleOfResource",schemaPath:"#/properties/assumeRoleOfResource/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema33.properties.assumeRoleOfResource.type,parentSchema:schema33.properties.assumeRoleOfResource,data:data15};if(vErrors === null){vErrors = [err19];}else {vErrors.push(err19);}errors++;}}}else {const err20 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema33.type,parentSchema:schema33,data};if(vErrors === null){vErrors = [err20];}else {vErrors.push(err20);}errors++;}validate26.errors = vErrors;return errors === 0;}function validate25(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema32.required,parentSchema:schema32,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema32.required,parentSchema:schema32,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema32,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema32.properties.type.type,parentSchema:schema32.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("local-script-with-bastion-tunneling" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "local-script-with-bastion-tunneling"},message:"must be equal to constant",schema:"local-script-with-bastion-tunneling",parentSchema:schema32.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate26(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate26.errors : vErrors.concat(validate26.errors);errors = vErrors.length;}}}else {const err5 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema32.type,parentSchema:schema32,data};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}validate25.errors = vErrors;return errors === 0;}const schema37 = {"type":"object","properties":{"outputs":{"description":"#### Stack Outputs\n\n---\n\nA list of custom outputs for your stack, such as API Gateway URLs, database endpoints, or resource ARNs. These outputs are often dynamically generated by AWS and are only known after deployment.","type":"array","items":{"$ref":"#/definitions/StackOutput"}},"tags":{"description":"#### Stack Tags\n\n---\n\nA list of tags to apply to the stack. These tags are propagated to all supported AWS resources created in the stack and can help with cost allocation and resource management. You can specify a maximum of 45 tags.","type":"array","items":{"$ref":"#/definitions/CloudformationTag"}},"disableStackInfoSaving":{"description":"#### Disable Stack Info Saving\n\n---\n\nIf `true`, disables saving information about the deployed stack to a local file after each deployment.\n\nBy default, stack information is saved to `.stacktape-stack-info/<<stack-name>>.json`.","default":false,"type":"boolean"},"stackInfoDirectory":{"description":"#### Stack Info Directory\n\n---\n\nThe directory where information about deployed stacks will be saved.","default":".stacktape-stack-info/","type":"string"},"vpc":{"$ref":"#/definitions/VpcSettings","description":"#### VPC configuration\n\n---\n\nConfigure VPC settings including VPC reuse and NAT Gateway configuration for private subnets."}},"additionalProperties":false};const schema38 = {"type":"object","properties":{"name":{"description":"#### Output Name\n\n---\n\nThe name of the stack output.","type":"string"},"value":{"description":"#### Output Value\n\n---\n\nThe value of the stack output.","type":"string"},"description":{"description":"#### Output Description\n\n---\n\nA human-readable description of the stack output.","type":"string"},"export":{"description":"#### Export Output\n\n---\n\nIf `true`, exports the stack output so it can be referenced by other stacks using the [`$CfStackOutput` directive](https://docs.stacktape.com/configuration/directives#cf-stack-output).","default":false,"type":"boolean"}},"additionalProperties":false,"required":["name","value"]};const schema39 = {"type":"object","properties":{"name":{"description":"#### Tag Name\n\n---\n\nThe name of the tag. It must be between 1 and 128 characters and can contain Unicode letters, digits, whitespace, and the characters `_`, `.`, `/`, `=`, `+`, `-`.","type":"string"},"value":{"description":"#### Tag Value\n\n---\n\nThe value of the tag. It must be between 1 and 256 characters.","type":"string"}},"additionalProperties":false,"required":["name","value"]};const schema40 = {"type":"object","properties":{"reuseVpc":{"$ref":"#/definitions/VpcReuseConfig","description":"#### Reuse VPC from another stack or use existing VPC.\n\n---\n\nIf this property is set, resources will be created in the VPC of the specified existing stack or the provided VPC ID.\n\nReusing a VPC is helpful when services in this stack are tightly coupled with services in another stack\n(e.g., if this stack needs to access VPC-protected resources from another stack).\n\n> **Note:** It is recommended to specify this property when creating a new stack. If you add this property to an already deployed stack, updating may cause resources to be replaced and data to be lost.\n\nBy default, each stack has its own dedicated VPC."},"nat":{"$ref":"#/definitions/NatSettings","description":"#### NAT Gateway configuration for private subnets.\n\n---\n\nConfigures NAT Gateways that provide internet access for workloads deployed in private subnets.\n\nThis configuration only applies when you have workloads using the `usePrivateSubnetsWithNAT` option."}},"additionalProperties":false};const schema41 = {"type":"object","properties":{"projectName":{"description":"#### Project name of target stack\n---\n- Project name of the target stack (stack in which the VPC is created).\n- Must be used together with `stage`.\n- Cannot be used together with `vpcId`.","type":"string"},"stage":{"description":"#### Stage of target stack\n---\n- The stage of the target stack (stack in which the VPC is created).\n- Must be used together with `projectName`.\n- Cannot be used together with `vpcId`.","type":"string"},"vpcId":{"description":"#### VPC ID\n---\n- Direct VPC ID to reuse (e.g., `vpc-1234567890abcdef0`).\n- Cannot be used together with `projectName` and `stage`.\n- The VPC must have at least 3 public subnets. Public subnets are identified by having a route to an Internet Gateway (0.0.0.0/0 -> igw-*) in their associated route table.","type":"string"}},"additionalProperties":false};const schema42 = {"type":"object","properties":{"availabilityZones":{"description":"#### Number of availability zones for NAT Gateway deployment.\n\n---\n\nControls how many availability zones will have a dedicated NAT Gateway for high availability.\n\n- **1 AZ:** Single NAT Gateway (lowest cost, but no redundancy if that AZ fails)\n- **2 AZs:** NAT Gateways in two zones (balanced cost and availability)\n- **3 AZs:** NAT Gateways in three zones (highest availability and cost)\n\nHigher numbers provide better fault tolerance but increase costs proportionally.\n\nEach NAT Gateway receives a static Elastic IP address that persists across deployments,\nallowing you to whitelist these IP addresses in external services (e.g., third-party APIs, databases, payment gateways).","default":2,"enum":[1,2,3],"type":"number"}},"additionalProperties":false};function validate30(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){for(const key0 in data){if(!((key0 === "reuseVpc") || (key0 === "nat"))){const err0 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema40,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}}if(data.reuseVpc !== undefined){let data0 = data.reuseVpc;if(data0 && typeof data0 == "object" && !Array.isArray(data0)){for(const key1 in data0){if(!(((key1 === "projectName") || (key1 === "stage")) || (key1 === "vpcId"))){const err1 = {instancePath:instancePath+"/reuseVpc",schemaPath:"#/definitions/VpcReuseConfig/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema41,data:data0};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data0.projectName !== undefined){let data1 = data0.projectName;if(typeof data1 !== "string"){const err2 = {instancePath:instancePath+"/reuseVpc/projectName",schemaPath:"#/definitions/VpcReuseConfig/properties/projectName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema41.properties.projectName.type,parentSchema:schema41.properties.projectName,data:data1};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data0.stage !== undefined){let data2 = data0.stage;if(typeof data2 !== "string"){const err3 = {instancePath:instancePath+"/reuseVpc/stage",schemaPath:"#/definitions/VpcReuseConfig/properties/stage/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema41.properties.stage.type,parentSchema:schema41.properties.stage,data:data2};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data0.vpcId !== undefined){let data3 = data0.vpcId;if(typeof data3 !== "string"){const err4 = {instancePath:instancePath+"/reuseVpc/vpcId",schemaPath:"#/definitions/VpcReuseConfig/properties/vpcId/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema41.properties.vpcId.type,parentSchema:schema41.properties.vpcId,data:data3};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}}else {const err5 = {instancePath:instancePath+"/reuseVpc",schemaPath:"#/definitions/VpcReuseConfig/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema41.type,parentSchema:schema41,data:data0};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data.nat !== undefined){let data4 = data.nat;if(data4 && typeof data4 == "object" && !Array.isArray(data4)){for(const key2 in data4){if(!(key2 === "availabilityZones")){const err6 = {instancePath:instancePath+"/nat",schemaPath:"#/definitions/NatSettings/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key2},message:"must NOT have additional properties",schema:false,parentSchema:schema42,data:data4};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data4.availabilityZones !== undefined){let data5 = data4.availabilityZones;if(!(typeof data5 == "number")){const err7 = {instancePath:instancePath+"/nat/availabilityZones",schemaPath:"#/definitions/NatSettings/properties/availabilityZones/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema42.properties.availabilityZones.type,parentSchema:schema42.properties.availabilityZones,data:data5};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}if(!(((data5 === 1) || (data5 === 2)) || (data5 === 3))){const err8 = {instancePath:instancePath+"/nat/availabilityZones",schemaPath:"#/definitions/NatSettings/properties/availabilityZones/enum",keyword:"enum",params:{allowedValues: schema42.properties.availabilityZones.enum},message:"must be equal to one of the allowed values",schema:schema42.properties.availabilityZones.enum,parentSchema:schema42.properties.availabilityZones,data:data5};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}}else {const err9 = {instancePath:instancePath+"/nat",schemaPath:"#/definitions/NatSettings/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema42.type,parentSchema:schema42,data:data4};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}}else {const err10 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema40.type,parentSchema:schema40,data};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}validate30.errors = vErrors;return errors === 0;}function validate29(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){for(const key0 in data){if(!(((((key0 === "outputs") || (key0 === "tags")) || (key0 === "disableStackInfoSaving")) || (key0 === "stackInfoDirectory")) || (key0 === "vpc"))){const err0 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema37,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}}if(data.outputs !== undefined){let data0 = data.outputs;if(Array.isArray(data0)){const len0 = data0.length;for(let i0=0; i0<len0; i0++){let data1 = data0[i0];if(data1 && typeof data1 == "object" && !Array.isArray(data1)){if(data1.name === undefined){const err1 = {instancePath:instancePath+"/outputs/" + i0,schemaPath:"#/definitions/StackOutput/required",keyword:"required",params:{missingProperty: "name"},message:"must have required property '"+"name"+"'",schema:schema38.required,parentSchema:schema38,data:data1};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}if(data1.value === undefined){const err2 = {instancePath:instancePath+"/outputs/" + i0,schemaPath:"#/definitions/StackOutput/required",keyword:"required",params:{missingProperty: "value"},message:"must have required property '"+"value"+"'",schema:schema38.required,parentSchema:schema38,data:data1};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}for(const key1 in data1){if(!((((key1 === "name") || (key1 === "value")) || (key1 === "description")) || (key1 === "export"))){const err3 = {instancePath:instancePath+"/outputs/" + i0,schemaPath:"#/definitions/StackOutput/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema38,data:data1};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data1.name !== undefined){let data2 = data1.name;if(typeof data2 !== "string"){const err4 = {instancePath:instancePath+"/outputs/" + i0+"/name",schemaPath:"#/definitions/StackOutput/properties/name/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema38.properties.name.type,parentSchema:schema38.properties.name,data:data2};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data1.value !== undefined){let data3 = data1.value;if(typeof data3 !== "string"){const err5 = {instancePath:instancePath+"/outputs/" + i0+"/value",schemaPath:"#/definitions/StackOutput/properties/value/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema38.properties.value.type,parentSchema:schema38.properties.value,data:data3};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data1.description !== undefined){let data4 = data1.description;if(typeof data4 !== "string"){const err6 = {instancePath:instancePath+"/outputs/" + i0+"/description",schemaPath:"#/definitions/StackOutput/properties/description/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema38.properties.description.type,parentSchema:schema38.properties.description,data:data4};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data1.export !== undefined){let data5 = data1.export;if(typeof data5 !== "boolean"){const err7 = {instancePath:instancePath+"/outputs/" + i0+"/export",schemaPath:"#/definitions/StackOutput/properties/export/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema38.properties.export.type,parentSchema:schema38.properties.export,data:data5};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}}else {const err8 = {instancePath:instancePath+"/outputs/" + i0,schemaPath:"#/definitions/StackOutput/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema38.type,parentSchema:schema38,data:data1};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}}else {const err9 = {instancePath:instancePath+"/outputs",schemaPath:"#/properties/outputs/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema37.properties.outputs.type,parentSchema:schema37.properties.outputs,data:data0};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(data.tags !== undefined){let data6 = data.tags;if(Array.isArray(data6)){const len1 = data6.length;for(let i1=0; i1<len1; i1++){let data7 = data6[i1];if(data7 && typeof data7 == "object" && !Array.isArray(data7)){if(data7.name === undefined){const err10 = {instancePath:instancePath+"/tags/" + i1,schemaPath:"#/definitions/CloudformationTag/required",keyword:"required",params:{missingProperty: "name"},message:"must have required property '"+"name"+"'",schema:schema39.required,parentSchema:schema39,data:data7};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}if(data7.value === undefined){const err11 = {instancePath:instancePath+"/tags/" + i1,schemaPath:"#/definitions/CloudformationTag/required",keyword:"required",params:{missingProperty: "value"},message:"must have required property '"+"value"+"'",schema:schema39.required,parentSchema:schema39,data:data7};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}for(const key2 in data7){if(!((key2 === "name") || (key2 === "value"))){const err12 = {instancePath:instancePath+"/tags/" + i1,schemaPath:"#/definitions/CloudformationTag/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key2},message:"must NOT have additional properties",schema:false,parentSchema:schema39,data:data7};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}if(data7.name !== undefined){let data8 = data7.name;if(typeof data8 !== "string"){const err13 = {instancePath:instancePath+"/tags/" + i1+"/name",schemaPath:"#/definitions/CloudformationTag/properties/name/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema39.properties.name.type,parentSchema:schema39.properties.name,data:data8};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}if(data7.value !== undefined){let data9 = data7.value;if(typeof data9 !== "string"){const err14 = {instancePath:instancePath+"/tags/" + i1+"/value",schemaPath:"#/definitions/CloudformationTag/properties/value/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema39.properties.value.type,parentSchema:schema39.properties.value,data:data9};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}}}else {const err15 = {instancePath:instancePath+"/tags/" + i1,schemaPath:"#/definitions/CloudformationTag/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema39.type,parentSchema:schema39,data:data7};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}}}else {const err16 = {instancePath:instancePath+"/tags",schemaPath:"#/properties/tags/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema37.properties.tags.type,parentSchema:schema37.properties.tags,data:data6};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}}if(data.disableStackInfoSaving !== undefined){let data10 = data.disableStackInfoSaving;if(typeof data10 !== "boolean"){const err17 = {instancePath:instancePath+"/disableStackInfoSaving",schemaPath:"#/properties/disableStackInfoSaving/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema37.properties.disableStackInfoSaving.type,parentSchema:schema37.properties.disableStackInfoSaving,data:data10};if(vErrors === null){vErrors = [err17];}else {vErrors.push(err17);}errors++;}}if(data.stackInfoDirectory !== undefined){let data11 = data.stackInfoDirectory;if(typeof data11 !== "string"){const err18 = {instancePath:instancePath+"/stackInfoDirectory",schemaPath:"#/properties/stackInfoDirectory/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema37.properties.stackInfoDirectory.type,parentSchema:schema37.properties.stackInfoDirectory,data:data11};if(vErrors === null){vErrors = [err18];}else {vErrors.push(err18);}errors++;}}if(data.vpc !== undefined){if(!(validate30(data.vpc, {instancePath:instancePath+"/vpc",parentData:data,parentDataProperty:"vpc",rootData}))){vErrors = vErrors === null ? validate30.errors : vErrors.concat(validate30.errors);errors = vErrors.length;}}}else {const err19 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema37.type,parentSchema:schema37,data};if(vErrors === null){vErrors = [err19];}else {vErrors.push(err19);}errors++;}validate29.errors = vErrors;return errors === 0;}const schema43 = {"anyOf":[{"$ref":"#/definitions/ContainerWorkload"},{"$ref":"#/definitions/BatchJob"},{"$ref":"#/definitions/WebService"},{"$ref":"#/definitions/PrivateService"},{"$ref":"#/definitions/WorkerService"},{"$ref":"#/definitions/RelationalDatabase"},{"$ref":"#/definitions/ApplicationLoadBalancer"},{"$ref":"#/definitions/NetworkLoadBalancer"},{"$ref":"#/definitions/HttpApiGateway"},{"$ref":"#/definitions/Bucket"},{"$ref":"#/definitions/UserAuthPool"},{"$ref":"#/definitions/EventBus"},{"$ref":"#/definitions/Bastion"},{"$ref":"#/definitions/DynamoDbTable"},{"$ref":"#/definitions/StateMachine"},{"$ref":"#/definitions/MongoDbAtlasCluster"},{"$ref":"#/definitions/RedisCluster"},{"$ref":"#/definitions/CustomResourceInstance"},{"$ref":"#/definitions/CustomResourceDefinition"},{"$ref":"#/definitions/UpstashRedis"},{"$ref":"#/definitions/DeploymentScript"},{"$ref":"#/definitions/AwsCdkConstruct"},{"$ref":"#/definitions/SqsQueue"},{"$ref":"#/definitions/SnsTopic"},{"$ref":"#/definitions/HostingBucket"},{"$ref":"#/definitions/WebAppFirewall"},{"$ref":"#/definitions/NextjsWeb"},{"$ref":"#/definitions/OpenSearchDomain"},{"$ref":"#/definitions/EfsFilesystem"},{"$ref":"#/definitions/LambdaFunction"},{"$ref":"#/definitions/EdgeLambdaFunction"}]};const schema44 = {"description":"#### A resource for running and managing containerized applications.\n\n---\n\nA multi-container workload is a fully managed, auto-scaling, and easy-to-use runtime for your Docker containers.\nIt allows you to run one or more containers together with shared resources.","type":"object","properties":{"type":{"type":"string","const":"multi-container-workload"},"properties":{"$ref":"#/definitions/ContainerWorkloadProps"},"overrides":{"description":"#### Resource Overrides\n\n---\n\nOverrides properties of the underlying CloudFormation resources that Stacktape creates.\n\nChild resources are identified by their CloudFormation logical ID (e.g., `MyBucketBucket`). You can find these IDs by running `stacktape stack:info --detailed`.\n\nFor a list of properties that can be overridden, refer to the [AWS CloudFormation documentation](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html).","type":"object","additionalProperties":{"type":"object","additionalProperties":{}}}},"additionalProperties":false,"required":["properties","type"]};const schema45 = {"type":"object","properties":{"containers":{"description":"#### A list of containers that will run in this workload.\n\n---\n\nA workload can consist of one or more containers. Containers within the same workload share computing resources and scale together as a single unit.","type":"array","items":{"$ref":"#/definitions/ContainerWorkloadContainer"}},"resources":{"$ref":"#/definitions/ContainerWorkloadResourcesConfig","description":"#### Configures the computing resources (CPU, memory, and instance types) for the workload.\n\n---\n\nYou can choose between two compute engines:\n- **Fargate**: A serverless option where you don't need to manage the underlying servers. You specify CPU and memory, and AWS handles the rest. This is the simplest way to run containers.\n- **EC2**: This option gives you fine-grained control over the underlying virtual machines (instances). You can choose specific EC2 instance types to optimize for your workload's needs.\n\nTo use Fargate, specify the `cpu` and `memory` properties. To use EC2, specify the `instanceTypes` property."},"scaling":{"$ref":"#/definitions/ContainerWorkloadScaling","description":"#### Configures how the workload scales in and out.\n\n---\n\nScaling is handled horizontally, meaning more instances of your workload are added to handle increased demand.\nIncoming traffic is automatically distributed among the available instances."},"deployment":{"$ref":"#/definitions/ContainerWorkloadDeploymentConfig","description":"#### Configures the deployment strategy for updating the workload.\n\n---\n\nThis allows for safe, gradual deployments. Instead of instantly replacing the old version, traffic is shifted to the new version over time.\nThis provides an opportunity to monitor for issues and roll back if necessary.\n\nSupported strategies include Canary, Linear, and AllAtOnce deployments.\n\n> **Note:** To use gradual deployments, your workload must be integrated with an Application Load Balancer."},"enableRemoteSessions":{"description":"#### Enables interactive shell access to running containers.\n\n---\n\nWhen enabled, you can use the `stacktape container:session` command to get a shell inside a running container.\nThis is useful for debugging and inspecting your application in a live environment.\nIt uses AWS ECS Exec and SSM Session Manager for secure connections.","type":"boolean"},"usePrivateSubnetsWithNAT":{"description":"#### Deploys the workload in private subnets with internet access through NAT Gateway.\n\n---\n\nWhen the workload is in a private subnet, it does not have public IP and direct internet access.\nInstead, all outbound internet traffic is routed through a NAT Gateway.\n\nYou can assign a static public IP address to the NAT Gateway and configure high availability using `stackConfig.vpcSettings`.\nThis allows you to whitelist your service's IP address in external services (e.g., third-party APIs, databases, payment gateways).\n\n**Cost considerations:**\n- NAT Gateways incur additional AWS charges for both the gateway itself and data processing","default":false,"type":"boolean"},"connectTo":{"description":"#### Connect To\n\n---\n\nConfigures access to other resources in your stack and AWS services. By specifying resources here, Stacktape automatically:\n- Configures IAM role permissions.\n- Sets up security group rules to allow network traffic.\n- Injects environment variables with connection details into the compute resource.\n\nEnvironment variables are named `STP_[RESOURCE_NAME]_[VARIABLE_NAME]` (e.g., `STP_MY_DATABASE_CONNECTION_STRING`).\n\n---\n\n#### Granted Permissions and Injected Variables:\n\n**`Bucket`**\n- **Permissions:** List, create, get, delete, and tag objects.\n- **Variables:** `NAME`, `ARN`\n\n**`DynamoDbTable`**\n- **Permissions:** Get, put, update, delete, scan, and query items; describe table stream.\n- **Variables:** `NAME`, `ARN`, `STREAM_ARN`\n\n**`MongoDbAtlasCluster`**\n- **Permissions:** Allows connection to clusters with `accessibilityMode` set to `scoping-workloads-in-vpc`. Creates a temporary user for secure, credential-less access.\n- **Variables:** `CONNECTION_STRING`\n\n**`RelationalDatabase`**\n- **Permissions:** Allows connection to databases with `accessibilityMode` set to `scoping-workloads-in-vpc`.\n- **Variables:** `CONNECTION_STRING`, `JDBC_CONNECTION_STRING`, `HOST`, `PORT`. For Aurora clusters, `READER_CONNECTION_STRING`, `READER_JDBC_CONNECTION_STRING`, and `READER_HOST` are also included.\n\n**`RedisCluster`**\n- **Permissions:** Allows connection to clusters with `accessibilityMode` set to `scoping-workloads-in-vpc`.\n- **Variables:** `HOST`, `READER_HOST`, `PORT`\n\n**`EventBus`**\n- **Permissions:** Publish events.\n- **Variables:** `ARN`\n\n**`Function`**\n- **Permissions:** Invoke the function, including via its URL if enabled.\n- **Variables:** `ARN`\n\n**`BatchJob`**\n- **Permissions:** Submit, list, describe, and terminate jobs; manage state machine executions.\n- **Variables:** `JOB_DEFINITION_ARN`, `STATE_MACHINE_ARN`\n\n**`UserAuthPool`**\n- **Permissions:** Full control over the user pool (`cognito-idp:*`).\n- **Variables:** `ID`, `CLIENT_ID`, `ARN`\n\n**`SnsTopic`**\n- **Permissions:** Confirm, list, publish, and manage subscriptions.\n- **Variables:** `ARN`, `NAME`\n\n**`SqsQueue`**\n- **Permissions:** Send, receive, delete, and purge messages.\n- **Variables:** `ARN`, `NAME`, `URL`\n\n**`UpstashKafkaTopic`**\n- **Variables:** `TOPIC_NAME`, `TOPIC_ID`, `USERNAME`, `PASSWORD`, `TCP_ENDPOINT`, `REST_URL`\n\n**`UpstashRedis`**\n- **Variables:** `HOST`, `PORT`, `PASSWORD`, `REST_TOKEN`, `REST_URL`, `REDIS_URL`\n\n**`PrivateService`**\n- **Variables:** `ADDRESS`\n\n**`aws:ses` (Macro)**\n- **Permissions:** Full permissions for AWS SES (`ses:*`).","type":"array","items":{"type":"string"}},"iamRoleStatements":{"description":"#### Custom IAM Role Statements\n\n---\n\nA list of raw AWS IAM role statements to append to the resource's role, allowing for fine-grained permission control.","type":"array","items":{"$ref":"#/definitions/StpIamRoleStatement"}}},"additionalProperties":false,"required":["containers","resources"]};const schema98 = {"type":"object","properties":{"cpu":{"description":"#### The number of virtual CPUs allocated to the workload.\n\n---\n\nWhen using EC2 `instanceTypes`, the vCPUs of the instance are shared among the containers running on it.","enum":[0.25,0.5,1,16,2,4,8],"type":"number"},"memory":{"description":"#### The amount of memory (in MB) allocated to the workload.\n\n---\n\n**For Fargate:** You must choose a value compatible with your selected vCPU count.\n  - 0.25 vCPU: 512, 1024, 2048 MB\n  - 0.5 vCPU: 1024, 2048, 3072, 4096 MB\n  - 1 vCPU: 2048-8192 MB (in 1024 MB increments)\n  - 2 vCPU: 4096-16384 MB (in 1024 MB increments)\n  - 4 vCPU: 8192-30720 MB (in 1024 MB increments)\n  - 8 vCPU: 16384-61440 MB (in 4096 MB increments)\n  - 16 vCPU: 32768-122880 MB (in 8192 MB increments)\n\n**For EC2:** If you don't specify this, Stacktape will automatically allocate the maximum memory available on the smallest specified `instanceType`.","type":"number"},"instanceTypes":{"description":"#### The types of EC2 instances (virtual machines) that can be used for the workload.\n\n---\n\nInstances are automatically added or removed to meet scaling demands.\n\n> **Recommendation:** For optimal resource utilization, specify a single instance type and omit the `cpu` and `memory` properties. Stacktape will then size the containers to fit the instance perfectly.\n\nThe order of instance types matters; the first in the list is preferred.\nFor a full list of instance types, see the [AWS EC2 instance types documentation](https://aws.amazon.com/ec2/instance-types/).\n\n> Instances are automatically refreshed weekly to ensure they are patched and up-to-date. Your workload remains available during this process.","type":"array","items":{"type":"string"}},"enableWarmPool":{"description":"#### Enables a warm pool for EC2 Auto Scaling.\n\n---\n\n> **Note:** This only works when a single instance type is specified.\n\nA warm pool keeps pre-initialized EC2 instances in a stopped state, ready to launch quickly for faster scale-out events.\nThis improves scaling performance and can reduce costs, as you only pay for storage on stopped instances.\nFor more details, see the [AWS Auto Scaling warm pools documentation](https://docs.aws.amazon.com/autoscaling/ec2/userguide/ec2-auto-scaling-warm-pools.html).","type":"boolean"},"architecture":{"description":"#### The CPU architecture for the containers (only applies to Fargate).\n\n---\n\n- **x86_64**: Traditional 64-bit architecture.\n- **arm64**: Modern ARM-based architecture, which is often ~20% cheaper.\n\nIf you are using a buildpack-based packaging method, Stacktape will automatically build for the target architecture.\nIf you are using a `prebuilt-image`, ensure it supports the specified architecture.\n\n> This property is ignored if you specify `instanceTypes`, as the architecture is determined by the EC2 instances.","default":"'x86_64'","enum":["arm64","x86_64"],"type":"string"}},"additionalProperties":false};const schema101 = {"type":"object","properties":{"strategy":{"description":"#### The strategy to use for deploying updates.\n\n---\n\n- **Canary10Percent5Minutes**: Shifts 10% of traffic, then the rest after 5 minutes.\n- **Canary10Percent15Minutes**: Shifts 10% of traffic, then the rest after 15 minutes.\n- **Linear10PercentEvery1Minute**: Shifts 10% of traffic every minute.\n- **Linear10PercentEvery3Minutes**: Shifts 10% of traffic every 3 minutes.\n- **AllAtOnce**: Shifts all traffic at once.","enum":["AllAtOnce","Canary10Percent15Minutes","Canary10Percent5Minutes","Linear10PercentEvery1Minutes","Linear10PercentEvery3Minutes"],"type":"string"},"beforeAllowTrafficFunction":{"description":"#### The name of a Lambda function to run before traffic shifting begins.\n\n---\n\nThis \"hook\" function is typically used to run validation checks before the new version receives production traffic.\nThe function must signal success or failure to CodeDeploy. For more details, see the [documentation](https://docs.stacktape.com/compute-resources/multi-container-workloads/#hook-functions).","type":"string"},"afterTrafficShiftFunction":{"description":"#### The name of a Lambda function to run after all traffic has been shifted.\n\n---\n\nThis \"hook\" function is typically used for post-deployment validation.\nThe function must signal success or failure to CodeDeploy. For more details, see the [documentation](https://docs.stacktape.com/compute-resources/multi-container-workloads/#hook-functions).","type":"string"},"testListenerPort":{"description":"#### The port of the listener to be used for test traffic.\n\n---\n\nIf you are using `beforeAllowTrafficFunction` with a custom listener on your load balancer, specify the listener port here.\nTo learn how to use this, see the [test listener documentation](https://docs.stacktape.com/compute-resources/multi-container-workloads/#test-traffic-listener).","type":"number"}},"additionalProperties":false,"required":["strategy"]};const schema102 = {"type":"object","properties":{"Sid":{"description":"#### Statement ID (Sid)\n\n---\n\nAn optional identifier for the statement. For more information, see the [AWS documentation](https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies.html#policies-introduction).","type":"string"},"Effect":{"description":"#### Effect\n\n---\n\nSpecifies whether the statement results in an `Allow` or `Deny`. For more information, see the [AWS documentation](https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies.html#policies-introduction).","default":"Allow","type":"string"},"Action":{"description":"#### Action\n\n---\n\nA list of actions that the statement allows or denies (e.g., `s3:GetObject`). For more information, see the [AWS documentation](https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies.html#policies-introduction).","type":"array","items":{"type":"string"}},"Condition":{"description":"#### Condition\n\n---\n\nSpecifies the conditions under which the statement is in effect. For more information, see the [AWS documentation](https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies.html#policies-introduction)."},"Resource":{"description":"#### Resource\n\n---\n\nA list of resources to which the actions apply. For more information, see the [AWS documentation](https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies.html#policies-introduction).","type":"array","items":{"type":"string"}}},"additionalProperties":false,"required":["Resource"]};const schema46 = {"type":"object","properties":{"events":{"description":"#### Configures how this container receives traffic and events.\n\n---\n\nEvent integrations allow containers to:\n- Receive requests from load balancers.\n- Communicate with other containers in the same workload.","type":"array","items":{"anyOf":[{"$ref":"#/definitions/ContainerWorkloadLoadBalancerIntegration"},{"$ref":"#/definitions/ContainerWorkloadHttpApiIntegration"},{"$ref":"#/definitions/ContainerWorkloadInternalIntegration"},{"$ref":"#/definitions/ContainerWorkloadServiceConnectIntegration"},{"$ref":"#/definitions/ContainerWorkloadNetworkLoadBalancerIntegration"}]}},"loadBalancerHealthCheck":{"$ref":"#/definitions/LoadBalancerHealthCheck","description":"#### Configures how a load balancer checks the health of this container.\n\n---\n\n> This property only has an effect if the container is integrated with an Application Load Balancer or Network Load Balancer."},"name":{"description":"#### A unique name for the container within the workload.","type":"string"},"packaging":{"$ref":"#/definitions/ContainerWorkloadContainerPackaging","description":"#### Configures the container image."},"essential":{"description":"#### Determines if this container is critical for the workload's health.\n\n---\n\nIf an essential container fails or stops, all other containers in the same workload instance are also stopped. The entire instance is then terminated and replaced.","type":"boolean"},"logging":{"$ref":"#/definitions/ContainerWorkloadContainerLogging","description":"#### Configures the logging behavior for this container.\n\n---\n\nContainer logs (`stdout` and `stderr`) are automatically sent to a CloudWatch log group.\n\nYou can view logs in two ways:\n  - Through the AWS CloudWatch console. Use the `stacktape stack-info` command to get a direct link.\n  - Using the `stacktape logs` command to stream logs directly to your terminal."},"dependsOn":{"description":"#### A list of other containers that this container depends on to start.\n\n---\n\nThis defines the startup order for containers within the workload.\nFor example, you can require a database container to be `HEALTHY` before your application container starts.","type":"array","items":{"$ref":"#/definitions/ContainerDependency"}},"environment":{"description":"#### Environment variables to inject into the container.\n\n---\n\nEnvironment variables are ideal for providing configuration details to your container, such as database connection strings, API keys, or other dynamic parameters.","type":"array","items":{"$ref":"#/definitions/EnvironmentVar"}},"internalHealthCheck":{"$ref":"#/definitions/ContainerHealthCheck","description":"#### Configures an internal health check to determine if the container is healthy.\n\n---\n\nIf this health check fails for an essential container, the entire workload instance will be terminated and replaced."},"stopTimeout":{"description":"#### The time (in seconds) to wait before forcefully killing the container if it doesn't shut down gracefully.\n\n---\n\nWhen a container is stopped, it first receives a `SIGTERM` signal. If it doesn't exit within this timeout, it will be sent a `SIGKILL` signal.\nThis allows for graceful shutdown procedures. The timeout must be between 2 and 120 seconds.","default":2,"type":"number"},"volumeMounts":{"description":"#### A list of file system volumes to mount to the container.\n\n---\n\nVolumes provide persistent storage that can be shared across multiple containers and persists even if the container is stopped or replaced.\nCurrently, only EFS (Elastic File System) volumes are supported.","type":"array","items":{"$ref":"#/definitions/ContainerEfsMount"}}},"additionalProperties":false,"required":["name","packaging"]};const schema64 = {"type":"object","properties":{"healthcheckPath":{"description":"#### The path on which the load balancer performs health checks.\n---","default":"/","type":"string"},"healthcheckInterval":{"description":"#### The interval (in seconds) between health checks.\n---","default":5,"type":"number"},"healthcheckTimeout":{"description":"#### The timeout (in seconds) for a health check to be considered failed.\n---","default":4,"type":"number"},"healthCheckProtocol":{"description":"#### The protocol the load balancer uses for health checks.\n---\n- For Application Load Balancers, the default is `HTTP`.\n- For Network Load Balancers, the default is `TCP`.","enum":["HTTP","TCP"],"type":"string"},"healthCheckPort":{"description":"#### The port the load balancer uses for health checks.\n---\n- By default, this is the same port that receives traffic from the load balancer.","type":"number"}},"additionalProperties":false};const schema93 = {"type":"object","properties":{"containerName":{"description":"The name of the container that this container depends on.","type":"string"},"condition":{"description":"#### The condition that the dependency container must meet.\n---\nAvailable conditions:\n- `START`: The dependency has started.\n- `COMPLETE`: The dependency has finished executing (regardless of success).\n- `SUCCESS`: The dependency has finished with an exit code of `0`.\n- `HEALTHY`: The dependency has passed its first health check.","enum":["COMPLETE","HEALTHY","START","SUCCESS"],"type":"string"}},"additionalProperties":false,"required":["condition","containerName"]};const schema95 = {"type":"object","properties":{"healthCheckCommand":{"description":"#### The command to run to determine if the container is healthy.\n\n---\n\n- Must start with `CMD` (execute command directly) or `CMD-SHELL` (run with the container's default shell).\n- An exit code of `0` indicates success; any other exit code indicates failure.\n- Example: `[ \"CMD-SHELL\", \"curl -f http://localhost/ || exit 1\" ]`","type":"array","items":{"type":"string"}},"intervalSeconds":{"description":"#### The time period (in seconds) between health checks.\n---\nMust be between 5 and 300 seconds.","default":30,"type":"number"},"timeoutSeconds":{"description":"#### The time period (in seconds) to wait for a health check to succeed before it is considered failed.\n---\nMust be between 2 and 60 seconds.","default":5,"type":"number"},"retries":{"description":"#### The number of consecutive failed health checks required before the container is considered unhealthy.\n---\nMust be between 1 and 10.","default":3,"type":"number"},"startPeriodSeconds":{"description":"#### A grace period (in seconds) to allow the container to start before failed health checks are counted.\n---\nMust be between 0 and 300 seconds. Disabled by default.","type":"number"}},"additionalProperties":false,"required":["healthCheckCommand"]};const schema47 = {"description":"#### Triggers a container when a request matches the specified conditions on an Application Load Balancer.\n\n---\n\nYou can route requests based on HTTP method, path, headers, query parameters, and source IP address.","type":"object","properties":{"type":{"type":"string","const":"application-load-balancer"},"properties":{"$ref":"#/definitions/ContainerWorkloadLoadBalancerIntegrationProps","description":"#### Properties of the integration"}},"additionalProperties":false,"required":["properties","type"]};const schema48 = {"type":"object","properties":{"containerPort":{"description":"#### The container port that will receive traffic from the load balancer.","type":"number"},"loadBalancerName":{"description":"#### The name of the Application Load Balancer.\n\n---\n\nThis must reference a load balancer defined in your Stacktape configuration.","type":"string"},"listenerPort":{"description":"#### The port of the load balancer listener to attach to.\n\n---\n\nYou only need to specify this if the load balancer uses custom listeners.","type":"number"},"priority":{"description":"#### The priority of this integration rule.\n\n---\n\nLoad balancer rules are evaluated in order from the lowest priority to the highest.\nThe first rule that matches an incoming request will handle it.","type":"number"},"paths":{"description":"#### A list of URL paths that will trigger this integration.\n\n---\n\nThe request will be routed if its path matches any of the paths in this list.\nThe comparison is case-sensitive and supports `*` and `?` wildcards.\n\nExample: `/users`, `/articles/*`","type":"array","items":{"type":"string"}},"methods":{"description":"#### A list of HTTP methods that will trigger this integration.\n\n---\n\nExample: `GET`, `POST`, `DELETE`","type":"array","items":{"type":"string"}},"hosts":{"description":"#### A list of hostnames that will trigger this integration.\n\n---\n\nThe hostname is parsed from the `Host` header of the request.\nWildcards (`*` and `?`) are supported.\n\nExample: `api.example.com`, `*.myapp.com`","type":"array","items":{"type":"string"}},"headers":{"description":"#### A list of header conditions that the request must match.\n\n---\n\nAll header conditions must be met for the request to be routed.","type":"array","items":{"$ref":"#/definitions/LbHeaderCondition"}},"queryParams":{"description":"#### A list of query parameter conditions that the request must match.\n\n---\n\nAll query parameter conditions must be met for the request to be routed.","type":"array","items":{"$ref":"#/definitions/LbQueryParamCondition"}},"sourceIps":{"description":"#### A list of source IP addresses (in CIDR format) that are allowed to trigger this integration.\n\n---\n\n> **Note:** If the client is behind a proxy, this will be the IP address of the proxy.","type":"array","items":{"type":"string"}}},"additionalProperties":false,"required":["containerPort","loadBalancerName","priority"]};const schema49 = {"type":"object","properties":{"headerName":{"description":"#### The name of the HTTP header.","type":"string"},"values":{"description":"#### A list of allowed values for the header.\n\n---\n\nThe condition is met if the header's value in the incoming request matches any of the values in this list. The comparison is case-insensitive.","type":"array","items":{"type":"string"}}},"additionalProperties":false,"required":["headerName","values"]};const schema50 = {"type":"object","properties":{"paramName":{"description":"#### The name of the query parameter.","type":"string"},"values":{"description":"#### A list of allowed values for the query parameter.\n\n---\n\nThe condition is met if the query parameter's value in the incoming request matches any of the values in this list. The comparison is case-insensitive.","type":"array","items":{"type":"string"}}},"additionalProperties":false,"required":["paramName","values"]};function validate38(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.containerPort === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "containerPort"},message:"must have required property '"+"containerPort"+"'",schema:schema48.required,parentSchema:schema48,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.loadBalancerName === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "loadBalancerName"},message:"must have required property '"+"loadBalancerName"+"'",schema:schema48.required,parentSchema:schema48,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}if(data.priority === undefined){const err2 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "priority"},message:"must have required property '"+"priority"+"'",schema:schema48.required,parentSchema:schema48,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}for(const key0 in data){if(!(func2.call(schema48.properties, key0))){const err3 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema48,data};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.containerPort !== undefined){let data0 = data.containerPort;if(!(typeof data0 == "number")){const err4 = {instancePath:instancePath+"/containerPort",schemaPath:"#/properties/containerPort/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema48.properties.containerPort.type,parentSchema:schema48.properties.containerPort,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.loadBalancerName !== undefined){let data1 = data.loadBalancerName;if(typeof data1 !== "string"){const err5 = {instancePath:instancePath+"/loadBalancerName",schemaPath:"#/properties/loadBalancerName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema48.properties.loadBalancerName.type,parentSchema:schema48.properties.loadBalancerName,data:data1};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data.listenerPort !== undefined){let data2 = data.listenerPort;if(!(typeof data2 == "number")){const err6 = {instancePath:instancePath+"/listenerPort",schemaPath:"#/properties/listenerPort/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema48.properties.listenerPort.type,parentSchema:schema48.properties.listenerPort,data:data2};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data.priority !== undefined){let data3 = data.priority;if(!(typeof data3 == "number")){const err7 = {instancePath:instancePath+"/priority",schemaPath:"#/properties/priority/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema48.properties.priority.type,parentSchema:schema48.properties.priority,data:data3};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data.paths !== undefined){let data4 = data.paths;if(Array.isArray(data4)){const len0 = data4.length;for(let i0=0; i0<len0; i0++){let data5 = data4[i0];if(typeof data5 !== "string"){const err8 = {instancePath:instancePath+"/paths/" + i0,schemaPath:"#/properties/paths/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema48.properties.paths.items.type,parentSchema:schema48.properties.paths.items,data:data5};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}}else {const err9 = {instancePath:instancePath+"/paths",schemaPath:"#/properties/paths/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema48.properties.paths.type,parentSchema:schema48.properties.paths,data:data4};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(data.methods !== undefined){let data6 = data.methods;if(Array.isArray(data6)){const len1 = data6.length;for(let i1=0; i1<len1; i1++){let data7 = data6[i1];if(typeof data7 !== "string"){const err10 = {instancePath:instancePath+"/methods/" + i1,schemaPath:"#/properties/methods/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema48.properties.methods.items.type,parentSchema:schema48.properties.methods.items,data:data7};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}}else {const err11 = {instancePath:instancePath+"/methods",schemaPath:"#/properties/methods/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema48.properties.methods.type,parentSchema:schema48.properties.methods,data:data6};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}if(data.hosts !== undefined){let data8 = data.hosts;if(Array.isArray(data8)){const len2 = data8.length;for(let i2=0; i2<len2; i2++){let data9 = data8[i2];if(typeof data9 !== "string"){const err12 = {instancePath:instancePath+"/hosts/" + i2,schemaPath:"#/properties/hosts/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema48.properties.hosts.items.type,parentSchema:schema48.properties.hosts.items,data:data9};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}}else {const err13 = {instancePath:instancePath+"/hosts",schemaPath:"#/properties/hosts/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema48.properties.hosts.type,parentSchema:schema48.properties.hosts,data:data8};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}if(data.headers !== undefined){let data10 = data.headers;if(Array.isArray(data10)){const len3 = data10.length;for(let i3=0; i3<len3; i3++){let data11 = data10[i3];if(data11 && typeof data11 == "object" && !Array.isArray(data11)){if(data11.headerName === undefined){const err14 = {instancePath:instancePath+"/headers/" + i3,schemaPath:"#/definitions/LbHeaderCondition/required",keyword:"required",params:{missingProperty: "headerName"},message:"must have required property '"+"headerName"+"'",schema:schema49.required,parentSchema:schema49,data:data11};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}if(data11.values === undefined){const err15 = {instancePath:instancePath+"/headers/" + i3,schemaPath:"#/definitions/LbHeaderCondition/required",keyword:"required",params:{missingProperty: "values"},message:"must have required property '"+"values"+"'",schema:schema49.required,parentSchema:schema49,data:data11};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}for(const key1 in data11){if(!((key1 === "headerName") || (key1 === "values"))){const err16 = {instancePath:instancePath+"/headers/" + i3,schemaPath:"#/definitions/LbHeaderCondition/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema49,data:data11};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}}if(data11.headerName !== undefined){let data12 = data11.headerName;if(typeof data12 !== "string"){const err17 = {instancePath:instancePath+"/headers/" + i3+"/headerName",schemaPath:"#/definitions/LbHeaderCondition/properties/headerName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema49.properties.headerName.type,parentSchema:schema49.properties.headerName,data:data12};if(vErrors === null){vErrors = [err17];}else {vErrors.push(err17);}errors++;}}if(data11.values !== undefined){let data13 = data11.values;if(Array.isArray(data13)){const len4 = data13.length;for(let i4=0; i4<len4; i4++){let data14 = data13[i4];if(typeof data14 !== "string"){const err18 = {instancePath:instancePath+"/headers/" + i3+"/values/" + i4,schemaPath:"#/definitions/LbHeaderCondition/properties/values/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema49.properties.values.items.type,parentSchema:schema49.properties.values.items,data:data14};if(vErrors === null){vErrors = [err18];}else {vErrors.push(err18);}errors++;}}}else {const err19 = {instancePath:instancePath+"/headers/" + i3+"/values",schemaPath:"#/definitions/LbHeaderCondition/properties/values/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema49.properties.values.type,parentSchema:schema49.properties.values,data:data13};if(vErrors === null){vErrors = [err19];}else {vErrors.push(err19);}errors++;}}}else {const err20 = {instancePath:instancePath+"/headers/" + i3,schemaPath:"#/definitions/LbHeaderCondition/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema49.type,parentSchema:schema49,data:data11};if(vErrors === null){vErrors = [err20];}else {vErrors.push(err20);}errors++;}}}else {const err21 = {instancePath:instancePath+"/headers",schemaPath:"#/properties/headers/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema48.properties.headers.type,parentSchema:schema48.properties.headers,data:data10};if(vErrors === null){vErrors = [err21];}else {vErrors.push(err21);}errors++;}}if(data.queryParams !== undefined){let data15 = data.queryParams;if(Array.isArray(data15)){const len5 = data15.length;for(let i5=0; i5<len5; i5++){let data16 = data15[i5];if(data16 && typeof data16 == "object" && !Array.isArray(data16)){if(data16.paramName === undefined){const err22 = {instancePath:instancePath+"/queryParams/" + i5,schemaPath:"#/definitions/LbQueryParamCondition/required",keyword:"required",params:{missingProperty: "paramName"},message:"must have required property '"+"paramName"+"'",schema:schema50.required,parentSchema:schema50,data:data16};if(vErrors === null){vErrors = [err22];}else {vErrors.push(err22);}errors++;}if(data16.values === undefined){const err23 = {instancePath:instancePath+"/queryParams/" + i5,schemaPath:"#/definitions/LbQueryParamCondition/required",keyword:"required",params:{missingProperty: "values"},message:"must have required property '"+"values"+"'",schema:schema50.required,parentSchema:schema50,data:data16};if(vErrors === null){vErrors = [err23];}else {vErrors.push(err23);}errors++;}for(const key2 in data16){if(!((key2 === "paramName") || (key2 === "values"))){const err24 = {instancePath:instancePath+"/queryParams/" + i5,schemaPath:"#/definitions/LbQueryParamCondition/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key2},message:"must NOT have additional properties",schema:false,parentSchema:schema50,data:data16};if(vErrors === null){vErrors = [err24];}else {vErrors.push(err24);}errors++;}}if(data16.paramName !== undefined){let data17 = data16.paramName;if(typeof data17 !== "string"){const err25 = {instancePath:instancePath+"/queryParams/" + i5+"/paramName",schemaPath:"#/definitions/LbQueryParamCondition/properties/paramName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema50.properties.paramName.type,parentSchema:schema50.properties.paramName,data:data17};if(vErrors === null){vErrors = [err25];}else {vErrors.push(err25);}errors++;}}if(data16.values !== undefined){let data18 = data16.values;if(Array.isArray(data18)){const len6 = data18.length;for(let i6=0; i6<len6; i6++){let data19 = data18[i6];if(typeof data19 !== "string"){const err26 = {instancePath:instancePath+"/queryParams/" + i5+"/values/" + i6,schemaPath:"#/definitions/LbQueryParamCondition/properties/values/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema50.properties.values.items.type,parentSchema:schema50.properties.values.items,data:data19};if(vErrors === null){vErrors = [err26];}else {vErrors.push(err26);}errors++;}}}else {const err27 = {instancePath:instancePath+"/queryParams/" + i5+"/values",schemaPath:"#/definitions/LbQueryParamCondition/properties/values/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema50.properties.values.type,parentSchema:schema50.properties.values,data:data18};if(vErrors === null){vErrors = [err27];}else {vErrors.push(err27);}errors++;}}}else {const err28 = {instancePath:instancePath+"/queryParams/" + i5,schemaPath:"#/definitions/LbQueryParamCondition/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema50.type,parentSchema:schema50,data:data16};if(vErrors === null){vErrors = [err28];}else {vErrors.push(err28);}errors++;}}}else {const err29 = {instancePath:instancePath+"/queryParams",schemaPath:"#/properties/queryParams/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema48.properties.queryParams.type,parentSchema:schema48.properties.queryParams,data:data15};if(vErrors === null){vErrors = [err29];}else {vErrors.push(err29);}errors++;}}if(data.sourceIps !== undefined){let data20 = data.sourceIps;if(Array.isArray(data20)){const len7 = data20.length;for(let i7=0; i7<len7; i7++){let data21 = data20[i7];if(typeof data21 !== "string"){const err30 = {instancePath:instancePath+"/sourceIps/" + i7,schemaPath:"#/properties/sourceIps/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema48.properties.sourceIps.items.type,parentSchema:schema48.properties.sourceIps.items,data:data21};if(vErrors === null){vErrors = [err30];}else {vErrors.push(err30);}errors++;}}}else {const err31 = {instancePath:instancePath+"/sourceIps",schemaPath:"#/properties/sourceIps/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema48.properties.sourceIps.type,parentSchema:schema48.properties.sourceIps,data:data20};if(vErrors === null){vErrors = [err31];}else {vErrors.push(err31);}errors++;}}}else {const err32 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema48.type,parentSchema:schema48,data};if(vErrors === null){vErrors = [err32];}else {vErrors.push(err32);}errors++;}validate38.errors = vErrors;return errors === 0;}function validate37(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema47.required,parentSchema:schema47,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema47.required,parentSchema:schema47,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema47,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema47.properties.type.type,parentSchema:schema47.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("application-load-balancer" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "application-load-balancer"},message:"must be equal to constant",schema:"application-load-balancer",parentSchema:schema47.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate38(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate38.errors : vErrors.concat(validate38.errors);errors = vErrors.length;}}}else {const err5 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema47.type,parentSchema:schema47,data};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}validate37.errors = vErrors;return errors === 0;}const schema51 = {"description":"#### Triggers a container when an HTTP API Gateway receives a matching request.\n\n---\n\nYou can route requests based on HTTP method and path.","type":"object","properties":{"type":{"type":"string","const":"http-api-gateway"},"properties":{"$ref":"#/definitions/ContainerWorkloadHttpApiIntegrationProps","description":"#### Properties of the integration"}},"additionalProperties":false,"required":["properties","type"]};const schema52 = {"type":"object","properties":{"containerPort":{"description":"#### The container port that will receive traffic from the API Gateway.","type":"number"},"httpApiGatewayName":{"description":"#### The name of the HTTP API Gateway.","type":"string"},"method":{"description":"#### The HTTP method that will trigger this integration.\n\n---\n\nYou can specify an exact method (e.g., `GET`) or use `*` to match any method.","enum":["*","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT"],"type":"string"},"path":{"description":"#### The URL path that will trigger this integration.\n\n---\n\n- **Exact path**: `/users`\n- **Path with parameter**: `/users/{id}`. The `id` will be available in `event.pathParameters.id`.\n- **Greedy path**: `/files/{proxy+}`. This will match any path starting with `/files/`.","type":"string"},"authorizer":{"$ref":"#/definitions/StpAuthorizer","description":"#### An authorizer to protect this route.\n\n---\n\nUnauthorized requests will be rejected with a `401 Unauthorized` response."},"payloadFormat":{"description":"#### The payload format version for the Lambda integration.\n\n---\n\nFor details on the differences between formats, see the [AWS documentation](https://docs.aws.amazon.com/apigateway/latest/developerguide/http-api-develop-integrations-lambda.html).","default":"'1.0'","enum":["1.0","2.0"],"type":"string"}},"additionalProperties":false,"required":["containerPort","httpApiGatewayName","method","path"]};const schema53 = {"anyOf":[{"$ref":"#/definitions/CognitoAuthorizer"},{"$ref":"#/definitions/LambdaAuthorizer"}]};const schema54 = {"type":"object","properties":{"type":{"description":"#### Cognito JWT authorizer\n\n---\n\nConfigures an HTTP API authorizer that validates JSON Web Tokens (JWTs) issued by a Cognito user pool.\nThis is the simplest way to protect routes when your users sign in via `user-auth-pool`.\n\nStacktape turns this into an API Gateway v2 authorizer of type `JWT` that checks the token's issuer and audience.","type":"string","const":"cognito"},"properties":{"$ref":"#/definitions/CognitoAuthorizerProperties"}},"additionalProperties":false,"required":["properties","type"]};const schema55 = {"type":"object","properties":{"userPoolName":{"description":"#### Name of the user pool to protect the API\n\n---\n\nThe Stacktape name of the `user-auth-pool` resource whose tokens should be accepted by this HTTP API authorizer.\nStacktape uses this to:\n\n- Set the expected **audience** to the user pool client ID.\n- Build the expected **issuer** URL based on the user pool and AWS region.\n\nIn practice this means only JWTs issued by this pool (and its client) will be considered valid.","type":"string"},"identitySources":{"description":"#### Where to read the JWT from in the request\n\n---\n\nA list of identity sources that tell API Gateway where to look for the bearer token, using the\n`$request.*` syntax from API Gateway (for example `'$request.header.Authorization'`).\n\nIf you omit this, Stacktape defaults to reading the token from the `Authorization` HTTP header,\nusing a JWT authorizer as described in the API Gateway v2 authorizer docs\n([AWS::ApiGatewayV2::Authorizer](https://docs.aws.amazon.com/AWSCloudFormation/latest/TemplateReference/aws-resource-apigatewayv2-authorizer)).","type":"array","items":{"type":"string"}}},"additionalProperties":false,"required":["userPoolName"]};function validate44(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema54.required,parentSchema:schema54,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema54.required,parentSchema:schema54,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema54,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema54.properties.type.type,parentSchema:schema54.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("cognito" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "cognito"},message:"must be equal to constant",schema:"cognito",parentSchema:schema54.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){let data1 = data.properties;if(data1 && typeof data1 == "object" && !Array.isArray(data1)){if(data1.userPoolName === undefined){const err5 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/CognitoAuthorizerProperties/required",keyword:"required",params:{missingProperty: "userPoolName"},message:"must have required property '"+"userPoolName"+"'",schema:schema55.required,parentSchema:schema55,data:data1};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}for(const key1 in data1){if(!((key1 === "userPoolName") || (key1 === "identitySources"))){const err6 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/CognitoAuthorizerProperties/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema55,data:data1};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data1.userPoolName !== undefined){let data2 = data1.userPoolName;if(typeof data2 !== "string"){const err7 = {instancePath:instancePath+"/properties/userPoolName",schemaPath:"#/definitions/CognitoAuthorizerProperties/properties/userPoolName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema55.properties.userPoolName.type,parentSchema:schema55.properties.userPoolName,data:data2};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data1.identitySources !== undefined){let data3 = data1.identitySources;if(Array.isArray(data3)){const len0 = data3.length;for(let i0=0; i0<len0; i0++){let data4 = data3[i0];if(typeof data4 !== "string"){const err8 = {instancePath:instancePath+"/properties/identitySources/" + i0,schemaPath:"#/definitions/CognitoAuthorizerProperties/properties/identitySources/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema55.properties.identitySources.items.type,parentSchema:schema55.properties.identitySources.items,data:data4};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}}else {const err9 = {instancePath:instancePath+"/properties/identitySources",schemaPath:"#/definitions/CognitoAuthorizerProperties/properties/identitySources/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema55.properties.identitySources.type,parentSchema:schema55.properties.identitySources,data:data3};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}}else {const err10 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/CognitoAuthorizerProperties/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema55.type,parentSchema:schema55,data:data1};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}}else {const err11 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema54.type,parentSchema:schema54,data};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}validate44.errors = vErrors;return errors === 0;}const schema56 = {"type":"object","properties":{"type":{"description":"#### Lambda-based HTTP API authorizer\n\n---\n\nConfigures an API Gateway **request** authorizer that runs a Lambda function to decide whether a request is allowed.\nThis is useful when your authorization logic can't be expressed as simple JWT validation  for example when you\ncheck API keys, look up permissions in a database, or integrate with a non-JWT identity system.\n\nStacktape creates an `AWS::ApiGatewayV2::Authorizer` of type `REQUEST` and wires it up to your Lambda.","type":"string","const":"lambda"},"properties":{"$ref":"#/definitions/LambdaAuthorizerProperties"}},"additionalProperties":false,"required":["properties","type"]};const schema57 = {"type":"object","properties":{"functionName":{"description":"#### Name of the authorizer function\n\n---\n\nThe Stacktape name of a `function` resource that should run for each authorized request.\nAPI Gateway calls this Lambda, passes request details, and uses its response to allow or deny access.","type":"string"},"iamResponse":{"description":"#### Use IAM-style (v1) authorizer responses\n\n---\n\n- If `true`, your Lambda must return a full IAM policy document (the \"v1\" format).\n- If `false` or omitted, Stacktape enables **simple responses** (the HTTP API v2 payload format)\n  so your Lambda can return a small JSON object with an `isAuthorized` flag and optional context.\n\nThis flag is wired to `EnableSimpleResponses` on the underlying `AWS::ApiGatewayV2::Authorizer`.","type":"boolean"},"identitySources":{"description":"#### Where to read identity data from\n\n---\n\nA list of request fields API Gateway should pass into your Lambda authorizer (for example headers, query parameters,\nor stage variables) using the `$request.*` syntax.\n\nWhen left empty, no specific identity sources are configured and your Lambda must inspect the incoming event directly.","type":"array","items":{"type":"string"}},"cacheResultSeconds":{"description":"#### Cache authorizer results\n\n---\n\nNumber of seconds API Gateway should cache the result of the Lambda authorizer for a given identity.\nWhile cached, repeated requests skip calling your authorizer function and reuse the previous result.\n\nThis value is applied to `AuthorizerResultTtlInSeconds`. If omitted, Stacktape sets it to `0` (no caching).","type":"number"}},"additionalProperties":false,"required":["functionName"]};function validate46(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema56.required,parentSchema:schema56,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema56.required,parentSchema:schema56,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema56,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema56.properties.type.type,parentSchema:schema56.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("lambda" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "lambda"},message:"must be equal to constant",schema:"lambda",parentSchema:schema56.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){let data1 = data.properties;if(data1 && typeof data1 == "object" && !Array.isArray(data1)){if(data1.functionName === undefined){const err5 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/LambdaAuthorizerProperties/required",keyword:"required",params:{missingProperty: "functionName"},message:"must have required property '"+"functionName"+"'",schema:schema57.required,parentSchema:schema57,data:data1};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}for(const key1 in data1){if(!((((key1 === "functionName") || (key1 === "iamResponse")) || (key1 === "identitySources")) || (key1 === "cacheResultSeconds"))){const err6 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/LambdaAuthorizerProperties/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema57,data:data1};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data1.functionName !== undefined){let data2 = data1.functionName;if(typeof data2 !== "string"){const err7 = {instancePath:instancePath+"/properties/functionName",schemaPath:"#/definitions/LambdaAuthorizerProperties/properties/functionName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema57.properties.functionName.type,parentSchema:schema57.properties.functionName,data:data2};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data1.iamResponse !== undefined){let data3 = data1.iamResponse;if(typeof data3 !== "boolean"){const err8 = {instancePath:instancePath+"/properties/iamResponse",schemaPath:"#/definitions/LambdaAuthorizerProperties/properties/iamResponse/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema57.properties.iamResponse.type,parentSchema:schema57.properties.iamResponse,data:data3};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}if(data1.identitySources !== undefined){let data4 = data1.identitySources;if(Array.isArray(data4)){const len0 = data4.length;for(let i0=0; i0<len0; i0++){let data5 = data4[i0];if(typeof data5 !== "string"){const err9 = {instancePath:instancePath+"/properties/identitySources/" + i0,schemaPath:"#/definitions/LambdaAuthorizerProperties/properties/identitySources/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema57.properties.identitySources.items.type,parentSchema:schema57.properties.identitySources.items,data:data5};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}}else {const err10 = {instancePath:instancePath+"/properties/identitySources",schemaPath:"#/definitions/LambdaAuthorizerProperties/properties/identitySources/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema57.properties.identitySources.type,parentSchema:schema57.properties.identitySources,data:data4};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data1.cacheResultSeconds !== undefined){let data6 = data1.cacheResultSeconds;if(!(typeof data6 == "number")){const err11 = {instancePath:instancePath+"/properties/cacheResultSeconds",schemaPath:"#/definitions/LambdaAuthorizerProperties/properties/cacheResultSeconds/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema57.properties.cacheResultSeconds.type,parentSchema:schema57.properties.cacheResultSeconds,data:data6};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}}else {const err12 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/LambdaAuthorizerProperties/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema57.type,parentSchema:schema57,data:data1};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}}else {const err13 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema56.type,parentSchema:schema56,data};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}validate46.errors = vErrors;return errors === 0;}function validate43(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;const _errs0 = errors;let valid0 = false;const _errs1 = errors;if(!(validate44(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate44.errors : vErrors.concat(validate44.errors);errors = vErrors.length;}var _valid0 = _errs1 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs2 = errors;if(!(validate46(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate46.errors : vErrors.concat(validate46.errors);errors = vErrors.length;}var _valid0 = _errs2 === errors;valid0 = valid0 || _valid0;}if(!valid0){const err0 = {instancePath,schemaPath:"#/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:schema53.anyOf,parentSchema:schema53,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}else {errors = _errs0;if(vErrors !== null){if(_errs0){vErrors.length = _errs0;}else {vErrors = null;}}}validate43.errors = vErrors;return errors === 0;}function validate42(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.containerPort === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "containerPort"},message:"must have required property '"+"containerPort"+"'",schema:schema52.required,parentSchema:schema52,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.httpApiGatewayName === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "httpApiGatewayName"},message:"must have required property '"+"httpApiGatewayName"+"'",schema:schema52.required,parentSchema:schema52,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}if(data.method === undefined){const err2 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "method"},message:"must have required property '"+"method"+"'",schema:schema52.required,parentSchema:schema52,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}if(data.path === undefined){const err3 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "path"},message:"must have required property '"+"path"+"'",schema:schema52.required,parentSchema:schema52,data};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}for(const key0 in data){if(!((((((key0 === "containerPort") || (key0 === "httpApiGatewayName")) || (key0 === "method")) || (key0 === "path")) || (key0 === "authorizer")) || (key0 === "payloadFormat"))){const err4 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema52,data};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.containerPort !== undefined){let data0 = data.containerPort;if(!(typeof data0 == "number")){const err5 = {instancePath:instancePath+"/containerPort",schemaPath:"#/properties/containerPort/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema52.properties.containerPort.type,parentSchema:schema52.properties.containerPort,data:data0};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data.httpApiGatewayName !== undefined){let data1 = data.httpApiGatewayName;if(typeof data1 !== "string"){const err6 = {instancePath:instancePath+"/httpApiGatewayName",schemaPath:"#/properties/httpApiGatewayName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema52.properties.httpApiGatewayName.type,parentSchema:schema52.properties.httpApiGatewayName,data:data1};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data.method !== undefined){let data2 = data.method;if(typeof data2 !== "string"){const err7 = {instancePath:instancePath+"/method",schemaPath:"#/properties/method/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema52.properties.method.type,parentSchema:schema52.properties.method,data:data2};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}if(!((((((((data2 === "*") || (data2 === "DELETE")) || (data2 === "GET")) || (data2 === "HEAD")) || (data2 === "OPTIONS")) || (data2 === "PATCH")) || (data2 === "POST")) || (data2 === "PUT"))){const err8 = {instancePath:instancePath+"/method",schemaPath:"#/properties/method/enum",keyword:"enum",params:{allowedValues: schema52.properties.method.enum},message:"must be equal to one of the allowed values",schema:schema52.properties.method.enum,parentSchema:schema52.properties.method,data:data2};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}if(data.path !== undefined){let data3 = data.path;if(typeof data3 !== "string"){const err9 = {instancePath:instancePath+"/path",schemaPath:"#/properties/path/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema52.properties.path.type,parentSchema:schema52.properties.path,data:data3};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(data.authorizer !== undefined){if(!(validate43(data.authorizer, {instancePath:instancePath+"/authorizer",parentData:data,parentDataProperty:"authorizer",rootData}))){vErrors = vErrors === null ? validate43.errors : vErrors.concat(validate43.errors);errors = vErrors.length;}}if(data.payloadFormat !== undefined){let data5 = data.payloadFormat;if(typeof data5 !== "string"){const err10 = {instancePath:instancePath+"/payloadFormat",schemaPath:"#/properties/payloadFormat/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema52.properties.payloadFormat.type,parentSchema:schema52.properties.payloadFormat,data:data5};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}if(!((data5 === "1.0") || (data5 === "2.0"))){const err11 = {instancePath:instancePath+"/payloadFormat",schemaPath:"#/properties/payloadFormat/enum",keyword:"enum",params:{allowedValues: schema52.properties.payloadFormat.enum},message:"must be equal to one of the allowed values",schema:schema52.properties.payloadFormat.enum,parentSchema:schema52.properties.payloadFormat,data:data5};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}}else {const err12 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema52.type,parentSchema:schema52,data};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}validate42.errors = vErrors;return errors === 0;}function validate41(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema51.required,parentSchema:schema51,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema51.required,parentSchema:schema51,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema51,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema51.properties.type.type,parentSchema:schema51.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("http-api-gateway" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "http-api-gateway"},message:"must be equal to constant",schema:"http-api-gateway",parentSchema:schema51.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate42(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate42.errors : vErrors.concat(validate42.errors);errors = vErrors.length;}}}else {const err5 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema51.type,parentSchema:schema51,data};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}validate41.errors = vErrors;return errors === 0;}const schema58 = {"description":"#### Opens a container port for connections from other containers within the same workload.","type":"object","properties":{"type":{"type":"string","const":"workload-internal"},"properties":{"$ref":"#/definitions/ContainerWorkloadInternalIntegrationProps","description":"#### Properties of the integration"}},"additionalProperties":false,"required":["properties","type"]};const schema59 = {"type":"object","properties":{"containerPort":{"description":"#### The container port to open for internal traffic.","type":"number"}},"additionalProperties":false,"required":["containerPort"]};function validate51(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema58.required,parentSchema:schema58,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema58.required,parentSchema:schema58,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema58,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema58.properties.type.type,parentSchema:schema58.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("workload-internal" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "workload-internal"},message:"must be equal to constant",schema:"workload-internal",parentSchema:schema58.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){let data1 = data.properties;if(data1 && typeof data1 == "object" && !Array.isArray(data1)){if(data1.containerPort === undefined){const err5 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/ContainerWorkloadInternalIntegrationProps/required",keyword:"required",params:{missingProperty: "containerPort"},message:"must have required property '"+"containerPort"+"'",schema:schema59.required,parentSchema:schema59,data:data1};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}for(const key1 in data1){if(!(key1 === "containerPort")){const err6 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/ContainerWorkloadInternalIntegrationProps/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema59,data:data1};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data1.containerPort !== undefined){let data2 = data1.containerPort;if(!(typeof data2 == "number")){const err7 = {instancePath:instancePath+"/properties/containerPort",schemaPath:"#/definitions/ContainerWorkloadInternalIntegrationProps/properties/containerPort/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema59.properties.containerPort.type,parentSchema:schema59.properties.containerPort,data:data2};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}}else {const err8 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/ContainerWorkloadInternalIntegrationProps/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema59.type,parentSchema:schema59,data:data1};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}}else {const err9 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema58.type,parentSchema:schema58,data};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}validate51.errors = vErrors;return errors === 0;}const schema60 = {"description":"#### Opens a container port for connections from other compute resources in the same stack.","type":"object","properties":{"type":{"type":"string","const":"service-connect"},"properties":{"$ref":"#/definitions/ContainerWorkloadServiceConnectIntegrationProps","description":"#### Properties of the integration"}},"additionalProperties":false,"required":["properties","type"]};const schema61 = {"type":"object","properties":{"containerPort":{"description":"#### The container port to open for service-to-service communication.","type":"number"},"alias":{"description":"#### An alias for this service, used for service discovery.\n\n---\n\nOther resources in the stack can connect to this service using a URL like `protocol://alias:port` (e.g., `http://my-service:8080`).\nBy default, the alias is derived from the resource and container names (e.g., `my-resource-my-container`).","type":"string"},"protocol":{"description":"#### The protocol used for service-to-service communication.\n\n---\n\nSpecifying the protocol allows AWS to capture protocol-specific metrics, such as the number of HTTP 5xx errors.","enum":["grpc","http","http2"],"type":"string"}},"additionalProperties":false,"required":["containerPort"]};function validate53(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema60.required,parentSchema:schema60,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema60.required,parentSchema:schema60,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema60,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema60.properties.type.type,parentSchema:schema60.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("service-connect" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "service-connect"},message:"must be equal to constant",schema:"service-connect",parentSchema:schema60.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){let data1 = data.properties;if(data1 && typeof data1 == "object" && !Array.isArray(data1)){if(data1.containerPort === undefined){const err5 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/ContainerWorkloadServiceConnectIntegrationProps/required",keyword:"required",params:{missingProperty: "containerPort"},message:"must have required property '"+"containerPort"+"'",schema:schema61.required,parentSchema:schema61,data:data1};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}for(const key1 in data1){if(!(((key1 === "containerPort") || (key1 === "alias")) || (key1 === "protocol"))){const err6 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/ContainerWorkloadServiceConnectIntegrationProps/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema61,data:data1};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data1.containerPort !== undefined){let data2 = data1.containerPort;if(!(typeof data2 == "number")){const err7 = {instancePath:instancePath+"/properties/containerPort",schemaPath:"#/definitions/ContainerWorkloadServiceConnectIntegrationProps/properties/containerPort/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema61.properties.containerPort.type,parentSchema:schema61.properties.containerPort,data:data2};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data1.alias !== undefined){let data3 = data1.alias;if(typeof data3 !== "string"){const err8 = {instancePath:instancePath+"/properties/alias",schemaPath:"#/definitions/ContainerWorkloadServiceConnectIntegrationProps/properties/alias/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema61.properties.alias.type,parentSchema:schema61.properties.alias,data:data3};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}if(data1.protocol !== undefined){let data4 = data1.protocol;if(typeof data4 !== "string"){const err9 = {instancePath:instancePath+"/properties/protocol",schemaPath:"#/definitions/ContainerWorkloadServiceConnectIntegrationProps/properties/protocol/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema61.properties.protocol.type,parentSchema:schema61.properties.protocol,data:data4};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}if(!(((data4 === "grpc") || (data4 === "http")) || (data4 === "http2"))){const err10 = {instancePath:instancePath+"/properties/protocol",schemaPath:"#/definitions/ContainerWorkloadServiceConnectIntegrationProps/properties/protocol/enum",keyword:"enum",params:{allowedValues: schema61.properties.protocol.enum},message:"must be equal to one of the allowed values",schema:schema61.properties.protocol.enum,parentSchema:schema61.properties.protocol,data:data4};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}}else {const err11 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/ContainerWorkloadServiceConnectIntegrationProps/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema61.type,parentSchema:schema61,data:data1};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}}else {const err12 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema60.type,parentSchema:schema60,data};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}validate53.errors = vErrors;return errors === 0;}const schema62 = {"description":"#### Triggers a container when a request is made to a Network Load Balancer.\n\n---\n\nA Network Load Balancer operates at the transport layer (Layer 4) and can handle TCP and TLS traffic.","type":"object","properties":{"type":{"type":"string","const":"network-load-balancer"},"properties":{"$ref":"#/definitions/ContainerWorkloadNetworkLoadBalancerIntegrationProps","description":"#### Properties of the integration"}},"additionalProperties":false,"required":["properties","type"]};const schema63 = {"type":"object","properties":{"containerPort":{"description":"#### The container port that will receive traffic from the load balancer.","type":"number"},"loadBalancerName":{"description":"#### The name of the Network Load Balancer.\n\n---\n\nThis must reference a load balancer defined in your Stacktape configuration.","type":"string"},"listenerPort":{"description":"#### The port of the listener that will forward traffic to this integration.","type":"number"}},"additionalProperties":false,"required":["containerPort","listenerPort","loadBalancerName"]};function validate55(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema62.required,parentSchema:schema62,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema62.required,parentSchema:schema62,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema62,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema62.properties.type.type,parentSchema:schema62.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("network-load-balancer" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "network-load-balancer"},message:"must be equal to constant",schema:"network-load-balancer",parentSchema:schema62.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){let data1 = data.properties;if(data1 && typeof data1 == "object" && !Array.isArray(data1)){if(data1.containerPort === undefined){const err5 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/ContainerWorkloadNetworkLoadBalancerIntegrationProps/required",keyword:"required",params:{missingProperty: "containerPort"},message:"must have required property '"+"containerPort"+"'",schema:schema63.required,parentSchema:schema63,data:data1};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}if(data1.listenerPort === undefined){const err6 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/ContainerWorkloadNetworkLoadBalancerIntegrationProps/required",keyword:"required",params:{missingProperty: "listenerPort"},message:"must have required property '"+"listenerPort"+"'",schema:schema63.required,parentSchema:schema63,data:data1};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}if(data1.loadBalancerName === undefined){const err7 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/ContainerWorkloadNetworkLoadBalancerIntegrationProps/required",keyword:"required",params:{missingProperty: "loadBalancerName"},message:"must have required property '"+"loadBalancerName"+"'",schema:schema63.required,parentSchema:schema63,data:data1};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}for(const key1 in data1){if(!(((key1 === "containerPort") || (key1 === "loadBalancerName")) || (key1 === "listenerPort"))){const err8 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/ContainerWorkloadNetworkLoadBalancerIntegrationProps/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema63,data:data1};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}if(data1.containerPort !== undefined){let data2 = data1.containerPort;if(!(typeof data2 == "number")){const err9 = {instancePath:instancePath+"/properties/containerPort",schemaPath:"#/definitions/ContainerWorkloadNetworkLoadBalancerIntegrationProps/properties/containerPort/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema63.properties.containerPort.type,parentSchema:schema63.properties.containerPort,data:data2};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(data1.loadBalancerName !== undefined){let data3 = data1.loadBalancerName;if(typeof data3 !== "string"){const err10 = {instancePath:instancePath+"/properties/loadBalancerName",schemaPath:"#/definitions/ContainerWorkloadNetworkLoadBalancerIntegrationProps/properties/loadBalancerName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema63.properties.loadBalancerName.type,parentSchema:schema63.properties.loadBalancerName,data:data3};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data1.listenerPort !== undefined){let data4 = data1.listenerPort;if(!(typeof data4 == "number")){const err11 = {instancePath:instancePath+"/properties/listenerPort",schemaPath:"#/definitions/ContainerWorkloadNetworkLoadBalancerIntegrationProps/properties/listenerPort/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema63.properties.listenerPort.type,parentSchema:schema63.properties.listenerPort,data:data4};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}}else {const err12 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/ContainerWorkloadNetworkLoadBalancerIntegrationProps/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema63.type,parentSchema:schema63,data:data1};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}}else {const err13 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema62.type,parentSchema:schema62,data};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}validate55.errors = vErrors;return errors === 0;}const schema65 = {"anyOf":[{"$ref":"#/definitions/StpBuildpackCwImagePackaging"},{"$ref":"#/definitions/ExternalBuildpackCwImagePackaging"},{"$ref":"#/definitions/PrebuiltCwImagePackaging"},{"$ref":"#/definitions/CustomDockerfileCwImagePackaging"},{"$ref":"#/definitions/NixpacksCwImagePackaging"}]};const schema66 = {"description":"#### A zero-config buildpack that creates a container image from your source code.\n\n---\n\nThe `stacktape-image-buildpack` automatically bundles your code and dependencies into an optimized container image.\n\n**Supported languages:** JavaScript, TypeScript, Python, Java, and Go.\n\nFor JS/TS, your code is bundled into a single file with source maps.\nThe resulting image is uploaded to a managed ECR repository.","type":"object","properties":{"type":{"type":"string","const":"stacktape-image-buildpack"},"properties":{"$ref":"#/definitions/StpBuildpackCwImagePackagingProps"}},"additionalProperties":false,"required":["properties","type"]};const schema67 = {"description":"#### Configures an image to be built automatically by Stacktape from your source code.","type":"object","properties":{"languageSpecificConfig":{"description":"#### Language-specific packaging configuration.","anyOf":[{"$ref":"#/definitions/EsLanguageSpecificConfig"},{"$ref":"#/definitions/PyLanguageSpecificConfig"},{"$ref":"#/definitions/JavaLanguageSpecificConfig"},{"$ref":"#/definitions/GoLanguageSpecificConfig"}]},"requiresGlibcBinaries":{"description":"#### Builds the image with support for glibc-based binaries.\n\n---\n\nBy default, Stacktape uses Alpine-based Docker images, which use `musl` instead of `glibc`.\nEnable this option if your application has native dependencies that require `glibc`.\nThis will result in a larger container image.","type":"boolean"},"customDockerBuildCommands":{"description":"#### A list of commands to be executed during the `docker build` process.\n\n---\n\nThese commands are executed using the `RUN` directive in the Dockerfile.\nThis is useful for installing additional system dependencies in your container.","type":"array","items":{"type":"string"}},"entryfilePath":{"description":"#### The path to the entry point of your application, relative to your Stacktape configuration file.\n\n---\n\nStacktape will attempt to bundle your code and its dependencies into a single file.\nIf a dependency cannot be bundled (e.g., it relies on binary executables), it will be installed and included in the deployment package separately.","type":"string"},"includeFiles":{"description":"#### A glob pattern of files to explicitly include in the deployment package.\n\n---\n\nThe path is relative to your Stacktape configuration file.","type":"array","items":{"type":"string"}},"excludeFiles":{"description":"#### A glob pattern of files to explicitly exclude from the deployment package.\n\n---","type":"array","items":{"type":"string"}},"excludeDependencies":{"description":"#### A list of dependencies to exclude from the deployment package.","type":"array","items":{"type":"string"}}},"additionalProperties":false,"required":["entryfilePath"]};const schema68 = {"type":"object","properties":{"tsConfigPath":{"description":"#### The path to the `tsconfig.json` file.\n\n---\n\nThis is primarily used to resolve path aliases during the build process.","type":"string"},"emitTsDecoratorMetadata":{"description":"#### Emits TypeScript decorator metadata in the final bundle.\n\n---\n\nThis is required by frameworks like NestJS and ORMs like TypeORM.\nIt's disabled by default as it can increase build times.","type":"boolean"},"dependenciesToExcludeFromBundle":{"description":"#### A list of dependencies to exclude from the main bundle.\n\n---\n\nThese dependencies will be treated as \"external\" and will not be bundled directly into your application's code.\nInstead, they will be installed separately in the deployment package.\nUse `*` to exclude all dependencies from the bundle.","type":"array","items":{"type":"string"}},"outputModuleFormat":{"description":"#### The output module format for the compiled code.\n\n---\n\n- `cjs` (CommonJS): The standard module system for Node.js.\n- `esm` (ECMAScript Modules): The modern standard for JavaScript modules. Allows features like top-level `await`.\n\n> **Note:** Many Node.js dependencies do not yet support ES modules.\n> Using `esm` may also affect the quality of stack traces for errors.","default":"'cjs'","enum":["cjs","esm"],"type":"string"},"nodeVersion":{"description":"#### The major version of Node.js to use.","default":18,"enum":[16,17,18,19,20,21,22,23,24],"type":"number"},"disableSourceMaps":{"description":"#### Disables the generation of source maps.\n\n---\n\nDisabling source maps can reduce the size of your deployment package, but it will make it more difficult to debug errors in production, as stack traces will not map back to your original source code.","type":"boolean"},"outputSourceMapsTo":{"description":"#### Outputs source maps to a specified directory.\n\n---\n\nIf you use this option, source maps will not be uploaded to AWS, and stack traces in CloudWatch logs will not be correctly mapped.\nThis is useful if you plan to upload source maps to an external error tracking service like Sentry.","type":"string"},"dependenciesToExcludeFromDeploymentPackage":{"description":"#### A list of dependencies to exclude from the deployment package.\n\n---\n\nThis only applies to dependencies that are not statically bundled.\nTo exclude a dependency from the static bundle, use `dependenciesToExcludeFromBundle`.\nUse `*` to exclude all non-bundled dependencies.","type":"array","items":{"type":"string"}}},"additionalProperties":false};const schema75 = {"type":"object","additionalProperties":false};const schema69 = {"type":"object","properties":{"packageManagerFile":{"description":"#### The path to your project's dependency file.\n\n---\n\nThis can be a `requirements.txt`, `Pipfile`, or `pyproject.toml` file.","type":"string"},"packageManager":{"$ref":"#/definitions/SupportedPythonPackageManager","description":"#### The Python package manager to use.\n\n---\n\nStacktape will automatically detect the package manager based on the files in your project.\nYou only need to set this if you are using a non-standard file name for your dependencies."},"pythonVersion":{"$ref":"#/definitions/SupportedPythonVersion","description":"#### The version of Python to use.","default":3.9},"runAppAs":{"$ref":"#/definitions/SupportedPythonRunAppAs","description":"#### The Python web server gateway interface to use.\n\n---\n\n> This property is only for the `stacktape-image-buildpack`.\n\nYou can choose between `WSGI` (for frameworks like Flask or Django) and `ASGI` (for frameworks like FastAPI).\nThe server will automatically bind to the port specified by the `PORT` environment variable.\n\nTo use this, you must specify the application variable in your `entryfilePath` (e.g., `my_app/main.py:app`)."},"minify":{"description":"#### Minifies the Python code.\n\n---\n\nIf enabled, Stacktape will minify the Python code using `pyminify`.\nThis can reduce the size of the deployment package, but it will make it more difficult to debug errors in production, as stack traces will not map back to your original source code.","default":true,"type":"boolean"}},"additionalProperties":false};const schema70 = {"enum":["pip","pipenv","poetry"],"type":"string"};const schema71 = {"enum":[2.7,3.11,3.12,3.13,3.14,3.6,3.7,3.8,3.9],"type":"number"};const schema72 = {"enum":["ASGI","WSGI"],"type":"string"};function validate60(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){for(const key0 in data){if(!(((((key0 === "packageManagerFile") || (key0 === "packageManager")) || (key0 === "pythonVersion")) || (key0 === "runAppAs")) || (key0 === "minify"))){const err0 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema69,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}}if(data.packageManagerFile !== undefined){let data0 = data.packageManagerFile;if(typeof data0 !== "string"){const err1 = {instancePath:instancePath+"/packageManagerFile",schemaPath:"#/properties/packageManagerFile/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema69.properties.packageManagerFile.type,parentSchema:schema69.properties.packageManagerFile,data:data0};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.packageManager !== undefined){let data1 = data.packageManager;if(typeof data1 !== "string"){const err2 = {instancePath:instancePath+"/packageManager",schemaPath:"#/definitions/SupportedPythonPackageManager/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema70.type,parentSchema:schema70,data:data1};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}if(!(((data1 === "pip") || (data1 === "pipenv")) || (data1 === "poetry"))){const err3 = {instancePath:instancePath+"/packageManager",schemaPath:"#/definitions/SupportedPythonPackageManager/enum",keyword:"enum",params:{allowedValues: schema70.enum},message:"must be equal to one of the allowed values",schema:schema70.enum,parentSchema:schema70,data:data1};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.pythonVersion !== undefined){let data2 = data.pythonVersion;if(!(typeof data2 == "number")){const err4 = {instancePath:instancePath+"/pythonVersion",schemaPath:"#/definitions/SupportedPythonVersion/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema71.type,parentSchema:schema71,data:data2};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}if(!(((((((((data2 === 2.7) || (data2 === 3.11)) || (data2 === 3.12)) || (data2 === 3.13)) || (data2 === 3.14)) || (data2 === 3.6)) || (data2 === 3.7)) || (data2 === 3.8)) || (data2 === 3.9))){const err5 = {instancePath:instancePath+"/pythonVersion",schemaPath:"#/definitions/SupportedPythonVersion/enum",keyword:"enum",params:{allowedValues: schema71.enum},message:"must be equal to one of the allowed values",schema:schema71.enum,parentSchema:schema71,data:data2};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data.runAppAs !== undefined){let data3 = data.runAppAs;if(typeof data3 !== "string"){const err6 = {instancePath:instancePath+"/runAppAs",schemaPath:"#/definitions/SupportedPythonRunAppAs/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema72.type,parentSchema:schema72,data:data3};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}if(!((data3 === "ASGI") || (data3 === "WSGI"))){const err7 = {instancePath:instancePath+"/runAppAs",schemaPath:"#/definitions/SupportedPythonRunAppAs/enum",keyword:"enum",params:{allowedValues: schema72.enum},message:"must be equal to one of the allowed values",schema:schema72.enum,parentSchema:schema72,data:data3};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data.minify !== undefined){let data4 = data.minify;if(typeof data4 !== "boolean"){const err8 = {instancePath:instancePath+"/minify",schemaPath:"#/properties/minify/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema69.properties.minify.type,parentSchema:schema69.properties.minify,data:data4};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}}else {const err9 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema69.type,parentSchema:schema69,data};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}validate60.errors = vErrors;return errors === 0;}const schema73 = {"type":"object","properties":{"useMaven":{"description":"#### Specifies whether to use Maven instead of Gradle.\n\n---\n\nBy default, Stacktape uses Gradle to build Java projects.","type":"boolean"},"packageManagerFile":{"description":"#### The path to your project's build file (`pom.xml` for Maven or `build.gradle` for Gradle).","type":"string"},"javaVersion":{"$ref":"#/definitions/SupportedJavaVersion","description":"#### The version of Java to use.","default":11}},"additionalProperties":false};const schema74 = {"enum":[11,17,19,8],"type":"number"};function validate62(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){for(const key0 in data){if(!(((key0 === "useMaven") || (key0 === "packageManagerFile")) || (key0 === "javaVersion"))){const err0 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema73,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}}if(data.useMaven !== undefined){let data0 = data.useMaven;if(typeof data0 !== "boolean"){const err1 = {instancePath:instancePath+"/useMaven",schemaPath:"#/properties/useMaven/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema73.properties.useMaven.type,parentSchema:schema73.properties.useMaven,data:data0};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.packageManagerFile !== undefined){let data1 = data.packageManagerFile;if(typeof data1 !== "string"){const err2 = {instancePath:instancePath+"/packageManagerFile",schemaPath:"#/properties/packageManagerFile/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema73.properties.packageManagerFile.type,parentSchema:schema73.properties.packageManagerFile,data:data1};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.javaVersion !== undefined){let data2 = data.javaVersion;if(!(typeof data2 == "number")){const err3 = {instancePath:instancePath+"/javaVersion",schemaPath:"#/definitions/SupportedJavaVersion/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema74.type,parentSchema:schema74,data:data2};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if(!((((data2 === 11) || (data2 === 17)) || (data2 === 19)) || (data2 === 8))){const err4 = {instancePath:instancePath+"/javaVersion",schemaPath:"#/definitions/SupportedJavaVersion/enum",keyword:"enum",params:{allowedValues: schema74.enum},message:"must be equal to one of the allowed values",schema:schema74.enum,parentSchema:schema74,data:data2};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}}else {const err5 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema73.type,parentSchema:schema73,data};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}validate62.errors = vErrors;return errors === 0;}function validate59(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.entryfilePath === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "entryfilePath"},message:"must have required property '"+"entryfilePath"+"'",schema:schema67.required,parentSchema:schema67,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!(((((((key0 === "languageSpecificConfig") || (key0 === "requiresGlibcBinaries")) || (key0 === "customDockerBuildCommands")) || (key0 === "entryfilePath")) || (key0 === "includeFiles")) || (key0 === "excludeFiles")) || (key0 === "excludeDependencies"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema67,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.languageSpecificConfig !== undefined){let data0 = data.languageSpecificConfig;const _errs3 = errors;let valid1 = false;const _errs4 = errors;if(data0 && typeof data0 == "object" && !Array.isArray(data0)){for(const key1 in data0){if(!((((((((key1 === "tsConfigPath") || (key1 === "emitTsDecoratorMetadata")) || (key1 === "dependenciesToExcludeFromBundle")) || (key1 === "outputModuleFormat")) || (key1 === "nodeVersion")) || (key1 === "disableSourceMaps")) || (key1 === "outputSourceMapsTo")) || (key1 === "dependenciesToExcludeFromDeploymentPackage"))){const err2 = {instancePath:instancePath+"/languageSpecificConfig",schemaPath:"#/definitions/EsLanguageSpecificConfig/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema68,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data0.tsConfigPath !== undefined){let data1 = data0.tsConfigPath;if(typeof data1 !== "string"){const err3 = {instancePath:instancePath+"/languageSpecificConfig/tsConfigPath",schemaPath:"#/definitions/EsLanguageSpecificConfig/properties/tsConfigPath/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema68.properties.tsConfigPath.type,parentSchema:schema68.properties.tsConfigPath,data:data1};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data0.emitTsDecoratorMetadata !== undefined){let data2 = data0.emitTsDecoratorMetadata;if(typeof data2 !== "boolean"){const err4 = {instancePath:instancePath+"/languageSpecificConfig/emitTsDecoratorMetadata",schemaPath:"#/definitions/EsLanguageSpecificConfig/properties/emitTsDecoratorMetadata/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema68.properties.emitTsDecoratorMetadata.type,parentSchema:schema68.properties.emitTsDecoratorMetadata,data:data2};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data0.dependenciesToExcludeFromBundle !== undefined){let data3 = data0.dependenciesToExcludeFromBundle;if(Array.isArray(data3)){const len0 = data3.length;for(let i0=0; i0<len0; i0++){let data4 = data3[i0];if(typeof data4 !== "string"){const err5 = {instancePath:instancePath+"/languageSpecificConfig/dependenciesToExcludeFromBundle/" + i0,schemaPath:"#/definitions/EsLanguageSpecificConfig/properties/dependenciesToExcludeFromBundle/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema68.properties.dependenciesToExcludeFromBundle.items.type,parentSchema:schema68.properties.dependenciesToExcludeFromBundle.items,data:data4};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}}else {const err6 = {instancePath:instancePath+"/languageSpecificConfig/dependenciesToExcludeFromBundle",schemaPath:"#/definitions/EsLanguageSpecificConfig/properties/dependenciesToExcludeFromBundle/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema68.properties.dependenciesToExcludeFromBundle.type,parentSchema:schema68.properties.dependenciesToExcludeFromBundle,data:data3};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data0.outputModuleFormat !== undefined){let data5 = data0.outputModuleFormat;if(typeof data5 !== "string"){const err7 = {instancePath:instancePath+"/languageSpecificConfig/outputModuleFormat",schemaPath:"#/definitions/EsLanguageSpecificConfig/properties/outputModuleFormat/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema68.properties.outputModuleFormat.type,parentSchema:schema68.properties.outputModuleFormat,data:data5};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}if(!((data5 === "cjs") || (data5 === "esm"))){const err8 = {instancePath:instancePath+"/languageSpecificConfig/outputModuleFormat",schemaPath:"#/definitions/EsLanguageSpecificConfig/properties/outputModuleFormat/enum",keyword:"enum",params:{allowedValues: schema68.properties.outputModuleFormat.enum},message:"must be equal to one of the allowed values",schema:schema68.properties.outputModuleFormat.enum,parentSchema:schema68.properties.outputModuleFormat,data:data5};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}if(data0.nodeVersion !== undefined){let data6 = data0.nodeVersion;if(!(typeof data6 == "number")){const err9 = {instancePath:instancePath+"/languageSpecificConfig/nodeVersion",schemaPath:"#/definitions/EsLanguageSpecificConfig/properties/nodeVersion/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema68.properties.nodeVersion.type,parentSchema:schema68.properties.nodeVersion,data:data6};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}if(!(((((((((data6 === 16) || (data6 === 17)) || (data6 === 18)) || (data6 === 19)) || (data6 === 20)) || (data6 === 21)) || (data6 === 22)) || (data6 === 23)) || (data6 === 24))){const err10 = {instancePath:instancePath+"/languageSpecificConfig/nodeVersion",schemaPath:"#/definitions/EsLanguageSpecificConfig/properties/nodeVersion/enum",keyword:"enum",params:{allowedValues: schema68.properties.nodeVersion.enum},message:"must be equal to one of the allowed values",schema:schema68.properties.nodeVersion.enum,parentSchema:schema68.properties.nodeVersion,data:data6};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data0.disableSourceMaps !== undefined){let data7 = data0.disableSourceMaps;if(typeof data7 !== "boolean"){const err11 = {instancePath:instancePath+"/languageSpecificConfig/disableSourceMaps",schemaPath:"#/definitions/EsLanguageSpecificConfig/properties/disableSourceMaps/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema68.properties.disableSourceMaps.type,parentSchema:schema68.properties.disableSourceMaps,data:data7};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}if(data0.outputSourceMapsTo !== undefined){let data8 = data0.outputSourceMapsTo;if(typeof data8 !== "string"){const err12 = {instancePath:instancePath+"/languageSpecificConfig/outputSourceMapsTo",schemaPath:"#/definitions/EsLanguageSpecificConfig/properties/outputSourceMapsTo/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema68.properties.outputSourceMapsTo.type,parentSchema:schema68.properties.outputSourceMapsTo,data:data8};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}if(data0.dependenciesToExcludeFromDeploymentPackage !== undefined){let data9 = data0.dependenciesToExcludeFromDeploymentPackage;if(Array.isArray(data9)){const len1 = data9.length;for(let i1=0; i1<len1; i1++){let data10 = data9[i1];if(typeof data10 !== "string"){const err13 = {instancePath:instancePath+"/languageSpecificConfig/dependenciesToExcludeFromDeploymentPackage/" + i1,schemaPath:"#/definitions/EsLanguageSpecificConfig/properties/dependenciesToExcludeFromDeploymentPackage/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema68.properties.dependenciesToExcludeFromDeploymentPackage.items.type,parentSchema:schema68.properties.dependenciesToExcludeFromDeploymentPackage.items,data:data10};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}}else {const err14 = {instancePath:instancePath+"/languageSpecificConfig/dependenciesToExcludeFromDeploymentPackage",schemaPath:"#/definitions/EsLanguageSpecificConfig/properties/dependenciesToExcludeFromDeploymentPackage/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema68.properties.dependenciesToExcludeFromDeploymentPackage.type,parentSchema:schema68.properties.dependenciesToExcludeFromDeploymentPackage,data:data9};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}}}else {const err15 = {instancePath:instancePath+"/languageSpecificConfig",schemaPath:"#/definitions/EsLanguageSpecificConfig/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema68.type,parentSchema:schema68,data:data0};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}var _valid0 = _errs4 === errors;valid1 = valid1 || _valid0;if(!valid1){const _errs28 = errors;if(!(validate60(data0, {instancePath:instancePath+"/languageSpecificConfig",parentData:data,parentDataProperty:"languageSpecificConfig",rootData}))){vErrors = vErrors === null ? validate60.errors : vErrors.concat(validate60.errors);errors = vErrors.length;}var _valid0 = _errs28 === errors;valid1 = valid1 || _valid0;if(!valid1){const _errs29 = errors;if(!(validate62(data0, {instancePath:instancePath+"/languageSpecificConfig",parentData:data,parentDataProperty:"languageSpecificConfig",rootData}))){vErrors = vErrors === null ? validate62.errors : vErrors.concat(validate62.errors);errors = vErrors.length;}var _valid0 = _errs29 === errors;valid1 = valid1 || _valid0;if(!valid1){const _errs30 = errors;if(data0 && typeof data0 == "object" && !Array.isArray(data0)){for(const key2 in data0){const err16 = {instancePath:instancePath+"/languageSpecificConfig",schemaPath:"#/definitions/GoLanguageSpecificConfig/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key2},message:"must NOT have additional properties",schema:false,parentSchema:schema75,data:data0};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}}else {const err17 = {instancePath:instancePath+"/languageSpecificConfig",schemaPath:"#/definitions/GoLanguageSpecificConfig/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema75.type,parentSchema:schema75,data:data0};if(vErrors === null){vErrors = [err17];}else {vErrors.push(err17);}errors++;}var _valid0 = _errs30 === errors;valid1 = valid1 || _valid0;}}}if(!valid1){const err18 = {instancePath:instancePath+"/languageSpecificConfig",schemaPath:"#/properties/languageSpecificConfig/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:schema67.properties.languageSpecificConfig.anyOf,parentSchema:schema67.properties.languageSpecificConfig,data:data0};if(vErrors === null){vErrors = [err18];}else {vErrors.push(err18);}errors++;}else {errors = _errs3;if(vErrors !== null){if(_errs3){vErrors.length = _errs3;}else {vErrors = null;}}}}if(data.requiresGlibcBinaries !== undefined){let data11 = data.requiresGlibcBinaries;if(typeof data11 !== "boolean"){const err19 = {instancePath:instancePath+"/requiresGlibcBinaries",schemaPath:"#/properties/requiresGlibcBinaries/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema67.properties.requiresGlibcBinaries.type,parentSchema:schema67.properties.requiresGlibcBinaries,data:data11};if(vErrors === null){vErrors = [err19];}else {vErrors.push(err19);}errors++;}}if(data.customDockerBuildCommands !== undefined){let data12 = data.customDockerBuildCommands;if(Array.isArray(data12)){const len2 = data12.length;for(let i2=0; i2<len2; i2++){let data13 = data12[i2];if(typeof data13 !== "string"){const err20 = {instancePath:instancePath+"/customDockerBuildCommands/" + i2,schemaPath:"#/properties/customDockerBuildCommands/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema67.properties.customDockerBuildCommands.items.type,parentSchema:schema67.properties.customDockerBuildCommands.items,data:data13};if(vErrors === null){vErrors = [err20];}else {vErrors.push(err20);}errors++;}}}else {const err21 = {instancePath:instancePath+"/customDockerBuildCommands",schemaPath:"#/properties/customDockerBuildCommands/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema67.properties.customDockerBuildCommands.type,parentSchema:schema67.properties.customDockerBuildCommands,data:data12};if(vErrors === null){vErrors = [err21];}else {vErrors.push(err21);}errors++;}}if(data.entryfilePath !== undefined){let data14 = data.entryfilePath;if(typeof data14 !== "string"){const err22 = {instancePath:instancePath+"/entryfilePath",schemaPath:"#/properties/entryfilePath/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema67.properties.entryfilePath.type,parentSchema:schema67.properties.entryfilePath,data:data14};if(vErrors === null){vErrors = [err22];}else {vErrors.push(err22);}errors++;}}if(data.includeFiles !== undefined){let data15 = data.includeFiles;if(Array.isArray(data15)){const len3 = data15.length;for(let i3=0; i3<len3; i3++){let data16 = data15[i3];if(typeof data16 !== "string"){const err23 = {instancePath:instancePath+"/includeFiles/" + i3,schemaPath:"#/properties/includeFiles/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema67.properties.includeFiles.items.type,parentSchema:schema67.properties.includeFiles.items,data:data16};if(vErrors === null){vErrors = [err23];}else {vErrors.push(err23);}errors++;}}}else {const err24 = {instancePath:instancePath+"/includeFiles",schemaPath:"#/properties/includeFiles/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema67.properties.includeFiles.type,parentSchema:schema67.properties.includeFiles,data:data15};if(vErrors === null){vErrors = [err24];}else {vErrors.push(err24);}errors++;}}if(data.excludeFiles !== undefined){let data17 = data.excludeFiles;if(Array.isArray(data17)){const len4 = data17.length;for(let i4=0; i4<len4; i4++){let data18 = data17[i4];if(typeof data18 !== "string"){const err25 = {instancePath:instancePath+"/excludeFiles/" + i4,schemaPath:"#/properties/excludeFiles/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema67.properties.excludeFiles.items.type,parentSchema:schema67.properties.excludeFiles.items,data:data18};if(vErrors === null){vErrors = [err25];}else {vErrors.push(err25);}errors++;}}}else {const err26 = {instancePath:instancePath+"/excludeFiles",schemaPath:"#/properties/excludeFiles/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema67.properties.excludeFiles.type,parentSchema:schema67.properties.excludeFiles,data:data17};if(vErrors === null){vErrors = [err26];}else {vErrors.push(err26);}errors++;}}if(data.excludeDependencies !== undefined){let data19 = data.excludeDependencies;if(Array.isArray(data19)){const len5 = data19.length;for(let i5=0; i5<len5; i5++){let data20 = data19[i5];if(typeof data20 !== "string"){const err27 = {instancePath:instancePath+"/excludeDependencies/" + i5,schemaPath:"#/properties/excludeDependencies/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema67.properties.excludeDependencies.items.type,parentSchema:schema67.properties.excludeDependencies.items,data:data20};if(vErrors === null){vErrors = [err27];}else {vErrors.push(err27);}errors++;}}}else {const err28 = {instancePath:instancePath+"/excludeDependencies",schemaPath:"#/properties/excludeDependencies/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema67.properties.excludeDependencies.type,parentSchema:schema67.properties.excludeDependencies,data:data19};if(vErrors === null){vErrors = [err28];}else {vErrors.push(err28);}errors++;}}}else {const err29 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema67.type,parentSchema:schema67,data};if(vErrors === null){vErrors = [err29];}else {vErrors.push(err29);}errors++;}validate59.errors = vErrors;return errors === 0;}function validate58(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema66.required,parentSchema:schema66,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema66.required,parentSchema:schema66,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema66,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema66.properties.type.type,parentSchema:schema66.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("stacktape-image-buildpack" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "stacktape-image-buildpack"},message:"must be equal to constant",schema:"stacktape-image-buildpack",parentSchema:schema66.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate59(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate59.errors : vErrors.concat(validate59.errors);errors = vErrors.length;}}}else {const err5 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema66.type,parentSchema:schema66,data};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}validate58.errors = vErrors;return errors === 0;}const schema76 = {"description":"#### Builds a container image using an external buildpack.\n\n---\n\nExternal buildpacks (buildpacks.io) automatically detect your application type\nand build an optimized container image with zero configuration.\n\nThe default builder is `paketobuildpacks/builder-jammy-base`.\nYou can find buildpacks for almost any language or framework.","type":"object","properties":{"type":{"type":"string","const":"external-buildpack"},"properties":{"$ref":"#/definitions/ExternalBuildpackCwImagePackagingProps"}},"additionalProperties":false,"required":["properties","type"]};const schema77 = {"type":"object","properties":{"builder":{"description":"#### The Buildpack Builder to use.\n\n---","default":"paketobuildpacks/builder-jammy-base","type":"string"},"buildpacks":{"description":"#### The specific Buildpack to use.\n\n---\n\nBy default, the buildpack is detected automatically.","type":"array","items":{"type":"string"}},"sourceDirectoryPath":{"description":"#### The path to the source code directory.","type":"string"},"command":{"description":"#### A command to be executed when the container starts.\n\n---\n\nExample: `['/app/start.sh']`","type":"array","items":{"type":"string"}}},"additionalProperties":false,"required":["sourceDirectoryPath"]};function validate66(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema76.required,parentSchema:schema76,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema76.required,parentSchema:schema76,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema76,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema76.properties.type.type,parentSchema:schema76.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("external-buildpack" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "external-buildpack"},message:"must be equal to constant",schema:"external-buildpack",parentSchema:schema76.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){let data1 = data.properties;if(data1 && typeof data1 == "object" && !Array.isArray(data1)){if(data1.sourceDirectoryPath === undefined){const err5 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/ExternalBuildpackCwImagePackagingProps/required",keyword:"required",params:{missingProperty: "sourceDirectoryPath"},message:"must have required property '"+"sourceDirectoryPath"+"'",schema:schema77.required,parentSchema:schema77,data:data1};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}for(const key1 in data1){if(!((((key1 === "builder") || (key1 === "buildpacks")) || (key1 === "sourceDirectoryPath")) || (key1 === "command"))){const err6 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/ExternalBuildpackCwImagePackagingProps/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema77,data:data1};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data1.builder !== undefined){let data2 = data1.builder;if(typeof data2 !== "string"){const err7 = {instancePath:instancePath+"/properties/builder",schemaPath:"#/definitions/ExternalBuildpackCwImagePackagingProps/properties/builder/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema77.properties.builder.type,parentSchema:schema77.properties.builder,data:data2};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data1.buildpacks !== undefined){let data3 = data1.buildpacks;if(Array.isArray(data3)){const len0 = data3.length;for(let i0=0; i0<len0; i0++){let data4 = data3[i0];if(typeof data4 !== "string"){const err8 = {instancePath:instancePath+"/properties/buildpacks/" + i0,schemaPath:"#/definitions/ExternalBuildpackCwImagePackagingProps/properties/buildpacks/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema77.properties.buildpacks.items.type,parentSchema:schema77.properties.buildpacks.items,data:data4};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}}else {const err9 = {instancePath:instancePath+"/properties/buildpacks",schemaPath:"#/definitions/ExternalBuildpackCwImagePackagingProps/properties/buildpacks/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema77.properties.buildpacks.type,parentSchema:schema77.properties.buildpacks,data:data3};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(data1.sourceDirectoryPath !== undefined){let data5 = data1.sourceDirectoryPath;if(typeof data5 !== "string"){const err10 = {instancePath:instancePath+"/properties/sourceDirectoryPath",schemaPath:"#/definitions/ExternalBuildpackCwImagePackagingProps/properties/sourceDirectoryPath/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema77.properties.sourceDirectoryPath.type,parentSchema:schema77.properties.sourceDirectoryPath,data:data5};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data1.command !== undefined){let data6 = data1.command;if(Array.isArray(data6)){const len1 = data6.length;for(let i1=0; i1<len1; i1++){let data7 = data6[i1];if(typeof data7 !== "string"){const err11 = {instancePath:instancePath+"/properties/command/" + i1,schemaPath:"#/definitions/ExternalBuildpackCwImagePackagingProps/properties/command/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema77.properties.command.items.type,parentSchema:schema77.properties.command.items,data:data7};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}}else {const err12 = {instancePath:instancePath+"/properties/command",schemaPath:"#/definitions/ExternalBuildpackCwImagePackagingProps/properties/command/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema77.properties.command.type,parentSchema:schema77.properties.command,data:data6};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}}else {const err13 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/ExternalBuildpackCwImagePackagingProps/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema77.type,parentSchema:schema77,data:data1};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}}else {const err14 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema76.type,parentSchema:schema76,data};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}validate66.errors = vErrors;return errors === 0;}const schema78 = {"description":"#### Uses a pre-built container image.\n\n---\n\nWith `prebuilt-image`, you provide a reference to an existing container image.\nThis can be a public image from Docker Hub or a private image from any container registry.\n\nFor private registries, configure `repositoryCredentialsSecretArn` with credentials stored in AWS Secrets Manager.","type":"object","properties":{"type":{"type":"string","const":"prebuilt-image"},"properties":{"$ref":"#/definitions/PrebuiltImageCwPackagingProps"}},"additionalProperties":false,"required":["properties","type"]};const schema79 = {"description":"#### Configures a pre-built container image.","type":"object","properties":{"repositoryCredentialsSecretArn":{"description":"#### The ARN of a secret containing credentials for a private container registry.\n\n---\n\nThe secret must be a JSON object with `username` and `password` keys.\nYou can create secrets using the `stacktape secret:create` command.","type":"string"},"entryPoint":{"description":"#### A script to be executed when the container starts.\n\n---\n\nThis overrides the `ENTRYPOINT` instruction in the Dockerfile.","type":"array","items":{"type":"string"}},"image":{"description":"#### The name or URL of the container image.","type":"string"},"command":{"description":"#### A command to be executed when the container starts.\n\n---\n\nThis overrides the `CMD` instruction in the Dockerfile.\n\nExample: `['/app/start.sh']`","type":"array","items":{"type":"string"}}},"additionalProperties":false,"required":["image"]};function validate68(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema78.required,parentSchema:schema78,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema78.required,parentSchema:schema78,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema78,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema78.properties.type.type,parentSchema:schema78.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("prebuilt-image" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "prebuilt-image"},message:"must be equal to constant",schema:"prebuilt-image",parentSchema:schema78.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){let data1 = data.properties;if(data1 && typeof data1 == "object" && !Array.isArray(data1)){if(data1.image === undefined){const err5 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/PrebuiltImageCwPackagingProps/required",keyword:"required",params:{missingProperty: "image"},message:"must have required property '"+"image"+"'",schema:schema79.required,parentSchema:schema79,data:data1};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}for(const key1 in data1){if(!((((key1 === "repositoryCredentialsSecretArn") || (key1 === "entryPoint")) || (key1 === "image")) || (key1 === "command"))){const err6 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/PrebuiltImageCwPackagingProps/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema79,data:data1};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data1.repositoryCredentialsSecretArn !== undefined){let data2 = data1.repositoryCredentialsSecretArn;if(typeof data2 !== "string"){const err7 = {instancePath:instancePath+"/properties/repositoryCredentialsSecretArn",schemaPath:"#/definitions/PrebuiltImageCwPackagingProps/properties/repositoryCredentialsSecretArn/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema79.properties.repositoryCredentialsSecretArn.type,parentSchema:schema79.properties.repositoryCredentialsSecretArn,data:data2};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data1.entryPoint !== undefined){let data3 = data1.entryPoint;if(Array.isArray(data3)){const len0 = data3.length;for(let i0=0; i0<len0; i0++){let data4 = data3[i0];if(typeof data4 !== "string"){const err8 = {instancePath:instancePath+"/properties/entryPoint/" + i0,schemaPath:"#/definitions/PrebuiltImageCwPackagingProps/properties/entryPoint/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema79.properties.entryPoint.items.type,parentSchema:schema79.properties.entryPoint.items,data:data4};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}}else {const err9 = {instancePath:instancePath+"/properties/entryPoint",schemaPath:"#/definitions/PrebuiltImageCwPackagingProps/properties/entryPoint/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema79.properties.entryPoint.type,parentSchema:schema79.properties.entryPoint,data:data3};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(data1.image !== undefined){let data5 = data1.image;if(typeof data5 !== "string"){const err10 = {instancePath:instancePath+"/properties/image",schemaPath:"#/definitions/PrebuiltImageCwPackagingProps/properties/image/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema79.properties.image.type,parentSchema:schema79.properties.image,data:data5};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data1.command !== undefined){let data6 = data1.command;if(Array.isArray(data6)){const len1 = data6.length;for(let i1=0; i1<len1; i1++){let data7 = data6[i1];if(typeof data7 !== "string"){const err11 = {instancePath:instancePath+"/properties/command/" + i1,schemaPath:"#/definitions/PrebuiltImageCwPackagingProps/properties/command/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema79.properties.command.items.type,parentSchema:schema79.properties.command.items,data:data7};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}}else {const err12 = {instancePath:instancePath+"/properties/command",schemaPath:"#/definitions/PrebuiltImageCwPackagingProps/properties/command/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema79.properties.command.type,parentSchema:schema79.properties.command,data:data6};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}}else {const err13 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/PrebuiltImageCwPackagingProps/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema79.type,parentSchema:schema79,data:data1};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}}else {const err14 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema78.type,parentSchema:schema78,data};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}validate68.errors = vErrors;return errors === 0;}const schema80 = {"description":"#### Builds a container image from your own Dockerfile.\n\n---\n\nWith `custom-dockerfile`, you provide a path to your Dockerfile and build context.\nStacktape builds the image and uploads it to a managed ECR repository.\n\nThis gives you full control over the container environment and is ideal for complex setups.","type":"object","properties":{"type":{"type":"string","const":"custom-dockerfile"},"properties":{"$ref":"#/definitions/CustomDockerfileCwImagePackagingProps"}},"additionalProperties":false,"required":["properties","type"]};const schema81 = {"description":"#### Configures an image to be built by Stacktape from a specified Dockerfile.","type":"object","properties":{"entryPoint":{"description":"#### A script to be executed when the container starts.\n\n---\n\nThis overrides the `ENTRYPOINT` instruction in the Dockerfile.","type":"array","items":{"type":"string"}},"dockerfilePath":{"description":"#### The path to the Dockerfile, relative to `buildContextPath`.","type":"string"},"buildContextPath":{"description":"#### The path to the build context directory, relative to your Stacktape configuration file.","type":"string"},"buildArgs":{"description":"#### A list of arguments to pass to the `docker build` command.","type":"array","items":{"$ref":"#/definitions/DockerBuildArg"}},"command":{"description":"#### A command to be executed when the container starts.\n\n---\n\nThis overrides the `CMD` instruction in the Dockerfile.\n\nExample: `['/app/start.sh']`","type":"array","items":{"type":"string"}}},"additionalProperties":false,"required":["buildContextPath"]};const schema82 = {"type":"object","properties":{"argName":{"description":"#### Argument name","type":"string"},"value":{"description":"#### Argument value","type":"string"}},"additionalProperties":false,"required":["argName","value"]};function validate71(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.buildContextPath === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "buildContextPath"},message:"must have required property '"+"buildContextPath"+"'",schema:schema81.required,parentSchema:schema81,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!(((((key0 === "entryPoint") || (key0 === "dockerfilePath")) || (key0 === "buildContextPath")) || (key0 === "buildArgs")) || (key0 === "command"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema81,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.entryPoint !== undefined){let data0 = data.entryPoint;if(Array.isArray(data0)){const len0 = data0.length;for(let i0=0; i0<len0; i0++){let data1 = data0[i0];if(typeof data1 !== "string"){const err2 = {instancePath:instancePath+"/entryPoint/" + i0,schemaPath:"#/properties/entryPoint/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema81.properties.entryPoint.items.type,parentSchema:schema81.properties.entryPoint.items,data:data1};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}}else {const err3 = {instancePath:instancePath+"/entryPoint",schemaPath:"#/properties/entryPoint/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema81.properties.entryPoint.type,parentSchema:schema81.properties.entryPoint,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.dockerfilePath !== undefined){let data2 = data.dockerfilePath;if(typeof data2 !== "string"){const err4 = {instancePath:instancePath+"/dockerfilePath",schemaPath:"#/properties/dockerfilePath/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema81.properties.dockerfilePath.type,parentSchema:schema81.properties.dockerfilePath,data:data2};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.buildContextPath !== undefined){let data3 = data.buildContextPath;if(typeof data3 !== "string"){const err5 = {instancePath:instancePath+"/buildContextPath",schemaPath:"#/properties/buildContextPath/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema81.properties.buildContextPath.type,parentSchema:schema81.properties.buildContextPath,data:data3};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data.buildArgs !== undefined){let data4 = data.buildArgs;if(Array.isArray(data4)){const len1 = data4.length;for(let i1=0; i1<len1; i1++){let data5 = data4[i1];if(data5 && typeof data5 == "object" && !Array.isArray(data5)){if(data5.argName === undefined){const err6 = {instancePath:instancePath+"/buildArgs/" + i1,schemaPath:"#/definitions/DockerBuildArg/required",keyword:"required",params:{missingProperty: "argName"},message:"must have required property '"+"argName"+"'",schema:schema82.required,parentSchema:schema82,data:data5};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}if(data5.value === undefined){const err7 = {instancePath:instancePath+"/buildArgs/" + i1,schemaPath:"#/definitions/DockerBuildArg/required",keyword:"required",params:{missingProperty: "value"},message:"must have required property '"+"value"+"'",schema:schema82.required,parentSchema:schema82,data:data5};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}for(const key1 in data5){if(!((key1 === "argName") || (key1 === "value"))){const err8 = {instancePath:instancePath+"/buildArgs/" + i1,schemaPath:"#/definitions/DockerBuildArg/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema82,data:data5};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}if(data5.argName !== undefined){let data6 = data5.argName;if(typeof data6 !== "string"){const err9 = {instancePath:instancePath+"/buildArgs/" + i1+"/argName",schemaPath:"#/definitions/DockerBuildArg/properties/argName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema82.properties.argName.type,parentSchema:schema82.properties.argName,data:data6};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(data5.value !== undefined){let data7 = data5.value;if(typeof data7 !== "string"){const err10 = {instancePath:instancePath+"/buildArgs/" + i1+"/value",schemaPath:"#/definitions/DockerBuildArg/properties/value/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema82.properties.value.type,parentSchema:schema82.properties.value,data:data7};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}}else {const err11 = {instancePath:instancePath+"/buildArgs/" + i1,schemaPath:"#/definitions/DockerBuildArg/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema82.type,parentSchema:schema82,data:data5};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}}else {const err12 = {instancePath:instancePath+"/buildArgs",schemaPath:"#/properties/buildArgs/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema81.properties.buildArgs.type,parentSchema:schema81.properties.buildArgs,data:data4};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}if(data.command !== undefined){let data8 = data.command;if(Array.isArray(data8)){const len2 = data8.length;for(let i2=0; i2<len2; i2++){let data9 = data8[i2];if(typeof data9 !== "string"){const err13 = {instancePath:instancePath+"/command/" + i2,schemaPath:"#/properties/command/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema81.properties.command.items.type,parentSchema:schema81.properties.command.items,data:data9};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}}else {const err14 = {instancePath:instancePath+"/command",schemaPath:"#/properties/command/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema81.properties.command.type,parentSchema:schema81.properties.command,data:data8};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}}}else {const err15 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema81.type,parentSchema:schema81,data};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}validate71.errors = vErrors;return errors === 0;}function validate70(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema80.required,parentSchema:schema80,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema80.required,parentSchema:schema80,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema80,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema80.properties.type.type,parentSchema:schema80.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("custom-dockerfile" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "custom-dockerfile"},message:"must be equal to constant",schema:"custom-dockerfile",parentSchema:schema80.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate71(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate71.errors : vErrors.concat(validate71.errors);errors = vErrors.length;}}}else {const err5 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema80.type,parentSchema:schema80,data};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}validate70.errors = vErrors;return errors === 0;}const schema83 = {"description":"#### Builds a container image using Nixpacks.\n\n---\n\nNixpacks automatically detects your application type and builds an optimized container image.\nIn most cases, no configuration is required.\n\nIt supports a wide range of languages and frameworks out of the box.","type":"object","properties":{"type":{"type":"string","const":"nixpacks"},"properties":{"$ref":"#/definitions/NixpacksCwImagePackagingProps"}},"additionalProperties":false,"required":["properties","type"]};const schema84 = {"type":"object","properties":{"sourceDirectoryPath":{"description":"#### The path to the source code directory.","type":"string"},"buildImage":{"description":"#### The base image to use for building the application.\n\n---\n\nFor more details, see the [Nixpacks documentation](https://nixpacks.com/docs/configuration/file#build-image).","type":"string"},"providers":{"description":"#### A list of providers to use for determining the build and runtime environments.","type":"array","items":{"type":"string"}},"startCmd":{"description":"#### The command to execute when starting the application.\n\n---\n\nThis overrides the default start command inferred by Nixpacks.","type":"string"},"startRunImage":{"description":"#### The base image to use for running the application.","type":"string"},"startOnlyIncludeFiles":{"description":"#### A list of file paths to include in the runtime environment; all other files will be excluded.","type":"array","items":{"type":"string"}},"phases":{"description":"#### The build phases for the application.","type":"array","items":{"$ref":"#/definitions/NixpacksPhase"}}},"additionalProperties":false,"required":["sourceDirectoryPath"]};const schema85 = {"type":"object","properties":{"name":{"description":"#### The name of the build phase.","type":"string"},"cmds":{"description":"#### A list of shell commands to execute in this phase.","type":"array","items":{"type":"string"}},"nixPkgs":{"description":"#### A list of Nix packages to install in this phase.","type":"array","items":{"type":"string"}},"nixLibs":{"description":"#### A list of Nix libraries to include in this phase.","type":"array","items":{"type":"string"}},"nixOverlay":{"description":"#### A list of Nix overlay files to apply in this phase.","type":"array","items":{"type":"string"}},"nixpkgsArchive":{"description":"#### The Nixpkgs archive to use.","type":"string"},"aptPkgs":{"description":"#### A list of APT packages to install in this phase.","type":"array","items":{"type":"string"}},"cacheDirectories":{"description":"#### A list of directories to cache between builds to speed up subsequent builds.","type":"array","items":{"type":"string"}},"onlyIncludeFiles":{"description":"#### A list of file paths to include in this phase; all other files will be excluded.","type":"array","items":{"type":"string"}}},"additionalProperties":false,"required":["name"]};function validate75(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.sourceDirectoryPath === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "sourceDirectoryPath"},message:"must have required property '"+"sourceDirectoryPath"+"'",schema:schema84.required,parentSchema:schema84,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!(((((((key0 === "sourceDirectoryPath") || (key0 === "buildImage")) || (key0 === "providers")) || (key0 === "startCmd")) || (key0 === "startRunImage")) || (key0 === "startOnlyIncludeFiles")) || (key0 === "phases"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema84,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.sourceDirectoryPath !== undefined){let data0 = data.sourceDirectoryPath;if(typeof data0 !== "string"){const err2 = {instancePath:instancePath+"/sourceDirectoryPath",schemaPath:"#/properties/sourceDirectoryPath/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema84.properties.sourceDirectoryPath.type,parentSchema:schema84.properties.sourceDirectoryPath,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.buildImage !== undefined){let data1 = data.buildImage;if(typeof data1 !== "string"){const err3 = {instancePath:instancePath+"/buildImage",schemaPath:"#/properties/buildImage/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema84.properties.buildImage.type,parentSchema:schema84.properties.buildImage,data:data1};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.providers !== undefined){let data2 = data.providers;if(Array.isArray(data2)){const len0 = data2.length;for(let i0=0; i0<len0; i0++){let data3 = data2[i0];if(typeof data3 !== "string"){const err4 = {instancePath:instancePath+"/providers/" + i0,schemaPath:"#/properties/providers/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema84.properties.providers.items.type,parentSchema:schema84.properties.providers.items,data:data3};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}}else {const err5 = {instancePath:instancePath+"/providers",schemaPath:"#/properties/providers/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema84.properties.providers.type,parentSchema:schema84.properties.providers,data:data2};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data.startCmd !== undefined){let data4 = data.startCmd;if(typeof data4 !== "string"){const err6 = {instancePath:instancePath+"/startCmd",schemaPath:"#/properties/startCmd/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema84.properties.startCmd.type,parentSchema:schema84.properties.startCmd,data:data4};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data.startRunImage !== undefined){let data5 = data.startRunImage;if(typeof data5 !== "string"){const err7 = {instancePath:instancePath+"/startRunImage",schemaPath:"#/properties/startRunImage/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema84.properties.startRunImage.type,parentSchema:schema84.properties.startRunImage,data:data5};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data.startOnlyIncludeFiles !== undefined){let data6 = data.startOnlyIncludeFiles;if(Array.isArray(data6)){const len1 = data6.length;for(let i1=0; i1<len1; i1++){let data7 = data6[i1];if(typeof data7 !== "string"){const err8 = {instancePath:instancePath+"/startOnlyIncludeFiles/" + i1,schemaPath:"#/properties/startOnlyIncludeFiles/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema84.properties.startOnlyIncludeFiles.items.type,parentSchema:schema84.properties.startOnlyIncludeFiles.items,data:data7};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}}else {const err9 = {instancePath:instancePath+"/startOnlyIncludeFiles",schemaPath:"#/properties/startOnlyIncludeFiles/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema84.properties.startOnlyIncludeFiles.type,parentSchema:schema84.properties.startOnlyIncludeFiles,data:data6};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(data.phases !== undefined){let data8 = data.phases;if(Array.isArray(data8)){const len2 = data8.length;for(let i2=0; i2<len2; i2++){let data9 = data8[i2];if(data9 && typeof data9 == "object" && !Array.isArray(data9)){if(data9.name === undefined){const err10 = {instancePath:instancePath+"/phases/" + i2,schemaPath:"#/definitions/NixpacksPhase/required",keyword:"required",params:{missingProperty: "name"},message:"must have required property '"+"name"+"'",schema:schema85.required,parentSchema:schema85,data:data9};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}for(const key1 in data9){if(!(func2.call(schema85.properties, key1))){const err11 = {instancePath:instancePath+"/phases/" + i2,schemaPath:"#/definitions/NixpacksPhase/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema85,data:data9};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}if(data9.name !== undefined){let data10 = data9.name;if(typeof data10 !== "string"){const err12 = {instancePath:instancePath+"/phases/" + i2+"/name",schemaPath:"#/definitions/NixpacksPhase/properties/name/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema85.properties.name.type,parentSchema:schema85.properties.name,data:data10};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}if(data9.cmds !== undefined){let data11 = data9.cmds;if(Array.isArray(data11)){const len3 = data11.length;for(let i3=0; i3<len3; i3++){let data12 = data11[i3];if(typeof data12 !== "string"){const err13 = {instancePath:instancePath+"/phases/" + i2+"/cmds/" + i3,schemaPath:"#/definitions/NixpacksPhase/properties/cmds/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema85.properties.cmds.items.type,parentSchema:schema85.properties.cmds.items,data:data12};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}}else {const err14 = {instancePath:instancePath+"/phases/" + i2+"/cmds",schemaPath:"#/definitions/NixpacksPhase/properties/cmds/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema85.properties.cmds.type,parentSchema:schema85.properties.cmds,data:data11};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}}if(data9.nixPkgs !== undefined){let data13 = data9.nixPkgs;if(Array.isArray(data13)){const len4 = data13.length;for(let i4=0; i4<len4; i4++){let data14 = data13[i4];if(typeof data14 !== "string"){const err15 = {instancePath:instancePath+"/phases/" + i2+"/nixPkgs/" + i4,schemaPath:"#/definitions/NixpacksPhase/properties/nixPkgs/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema85.properties.nixPkgs.items.type,parentSchema:schema85.properties.nixPkgs.items,data:data14};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}}}else {const err16 = {instancePath:instancePath+"/phases/" + i2+"/nixPkgs",schemaPath:"#/definitions/NixpacksPhase/properties/nixPkgs/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema85.properties.nixPkgs.type,parentSchema:schema85.properties.nixPkgs,data:data13};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}}if(data9.nixLibs !== undefined){let data15 = data9.nixLibs;if(Array.isArray(data15)){const len5 = data15.length;for(let i5=0; i5<len5; i5++){let data16 = data15[i5];if(typeof data16 !== "string"){const err17 = {instancePath:instancePath+"/phases/" + i2+"/nixLibs/" + i5,schemaPath:"#/definitions/NixpacksPhase/properties/nixLibs/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema85.properties.nixLibs.items.type,parentSchema:schema85.properties.nixLibs.items,data:data16};if(vErrors === null){vErrors = [err17];}else {vErrors.push(err17);}errors++;}}}else {const err18 = {instancePath:instancePath+"/phases/" + i2+"/nixLibs",schemaPath:"#/definitions/NixpacksPhase/properties/nixLibs/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema85.properties.nixLibs.type,parentSchema:schema85.properties.nixLibs,data:data15};if(vErrors === null){vErrors = [err18];}else {vErrors.push(err18);}errors++;}}if(data9.nixOverlay !== undefined){let data17 = data9.nixOverlay;if(Array.isArray(data17)){const len6 = data17.length;for(let i6=0; i6<len6; i6++){let data18 = data17[i6];if(typeof data18 !== "string"){const err19 = {instancePath:instancePath+"/phases/" + i2+"/nixOverlay/" + i6,schemaPath:"#/definitions/NixpacksPhase/properties/nixOverlay/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema85.properties.nixOverlay.items.type,parentSchema:schema85.properties.nixOverlay.items,data:data18};if(vErrors === null){vErrors = [err19];}else {vErrors.push(err19);}errors++;}}}else {const err20 = {instancePath:instancePath+"/phases/" + i2+"/nixOverlay",schemaPath:"#/definitions/NixpacksPhase/properties/nixOverlay/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema85.properties.nixOverlay.type,parentSchema:schema85.properties.nixOverlay,data:data17};if(vErrors === null){vErrors = [err20];}else {vErrors.push(err20);}errors++;}}if(data9.nixpkgsArchive !== undefined){let data19 = data9.nixpkgsArchive;if(typeof data19 !== "string"){const err21 = {instancePath:instancePath+"/phases/" + i2+"/nixpkgsArchive",schemaPath:"#/definitions/NixpacksPhase/properties/nixpkgsArchive/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema85.properties.nixpkgsArchive.type,parentSchema:schema85.properties.nixpkgsArchive,data:data19};if(vErrors === null){vErrors = [err21];}else {vErrors.push(err21);}errors++;}}if(data9.aptPkgs !== undefined){let data20 = data9.aptPkgs;if(Array.isArray(data20)){const len7 = data20.length;for(let i7=0; i7<len7; i7++){let data21 = data20[i7];if(typeof data21 !== "string"){const err22 = {instancePath:instancePath+"/phases/" + i2+"/aptPkgs/" + i7,schemaPath:"#/definitions/NixpacksPhase/properties/aptPkgs/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema85.properties.aptPkgs.items.type,parentSchema:schema85.properties.aptPkgs.items,data:data21};if(vErrors === null){vErrors = [err22];}else {vErrors.push(err22);}errors++;}}}else {const err23 = {instancePath:instancePath+"/phases/" + i2+"/aptPkgs",schemaPath:"#/definitions/NixpacksPhase/properties/aptPkgs/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema85.properties.aptPkgs.type,parentSchema:schema85.properties.aptPkgs,data:data20};if(vErrors === null){vErrors = [err23];}else {vErrors.push(err23);}errors++;}}if(data9.cacheDirectories !== undefined){let data22 = data9.cacheDirectories;if(Array.isArray(data22)){const len8 = data22.length;for(let i8=0; i8<len8; i8++){let data23 = data22[i8];if(typeof data23 !== "string"){const err24 = {instancePath:instancePath+"/phases/" + i2+"/cacheDirectories/" + i8,schemaPath:"#/definitions/NixpacksPhase/properties/cacheDirectories/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema85.properties.cacheDirectories.items.type,parentSchema:schema85.properties.cacheDirectories.items,data:data23};if(vErrors === null){vErrors = [err24];}else {vErrors.push(err24);}errors++;}}}else {const err25 = {instancePath:instancePath+"/phases/" + i2+"/cacheDirectories",schemaPath:"#/definitions/NixpacksPhase/properties/cacheDirectories/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema85.properties.cacheDirectories.type,parentSchema:schema85.properties.cacheDirectories,data:data22};if(vErrors === null){vErrors = [err25];}else {vErrors.push(err25);}errors++;}}if(data9.onlyIncludeFiles !== undefined){let data24 = data9.onlyIncludeFiles;if(Array.isArray(data24)){const len9 = data24.length;for(let i9=0; i9<len9; i9++){let data25 = data24[i9];if(typeof data25 !== "string"){const err26 = {instancePath:instancePath+"/phases/" + i2+"/onlyIncludeFiles/" + i9,schemaPath:"#/definitions/NixpacksPhase/properties/onlyIncludeFiles/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema85.properties.onlyIncludeFiles.items.type,parentSchema:schema85.properties.onlyIncludeFiles.items,data:data25};if(vErrors === null){vErrors = [err26];}else {vErrors.push(err26);}errors++;}}}else {const err27 = {instancePath:instancePath+"/phases/" + i2+"/onlyIncludeFiles",schemaPath:"#/definitions/NixpacksPhase/properties/onlyIncludeFiles/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema85.properties.onlyIncludeFiles.type,parentSchema:schema85.properties.onlyIncludeFiles,data:data24};if(vErrors === null){vErrors = [err27];}else {vErrors.push(err27);}errors++;}}}else {const err28 = {instancePath:instancePath+"/phases/" + i2,schemaPath:"#/definitions/NixpacksPhase/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema85.type,parentSchema:schema85,data:data9};if(vErrors === null){vErrors = [err28];}else {vErrors.push(err28);}errors++;}}}else {const err29 = {instancePath:instancePath+"/phases",schemaPath:"#/properties/phases/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema84.properties.phases.type,parentSchema:schema84.properties.phases,data:data8};if(vErrors === null){vErrors = [err29];}else {vErrors.push(err29);}errors++;}}}else {const err30 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema84.type,parentSchema:schema84,data};if(vErrors === null){vErrors = [err30];}else {vErrors.push(err30);}errors++;}validate75.errors = vErrors;return errors === 0;}function validate74(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema83.required,parentSchema:schema83,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema83.required,parentSchema:schema83,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema83,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema83.properties.type.type,parentSchema:schema83.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("nixpacks" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "nixpacks"},message:"must be equal to constant",schema:"nixpacks",parentSchema:schema83.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate75(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate75.errors : vErrors.concat(validate75.errors);errors = vErrors.length;}}}else {const err5 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema83.type,parentSchema:schema83,data};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}validate74.errors = vErrors;return errors === 0;}function validate57(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;const _errs0 = errors;let valid0 = false;const _errs1 = errors;if(!(validate58(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate58.errors : vErrors.concat(validate58.errors);errors = vErrors.length;}var _valid0 = _errs1 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs2 = errors;if(!(validate66(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate66.errors : vErrors.concat(validate66.errors);errors = vErrors.length;}var _valid0 = _errs2 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs3 = errors;if(!(validate68(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate68.errors : vErrors.concat(validate68.errors);errors = vErrors.length;}var _valid0 = _errs3 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs4 = errors;if(!(validate70(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate70.errors : vErrors.concat(validate70.errors);errors = vErrors.length;}var _valid0 = _errs4 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs5 = errors;if(!(validate74(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate74.errors : vErrors.concat(validate74.errors);errors = vErrors.length;}var _valid0 = _errs5 === errors;valid0 = valid0 || _valid0;}}}}if(!valid0){const err0 = {instancePath,schemaPath:"#/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:schema65.anyOf,parentSchema:schema65,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}else {errors = _errs0;if(vErrors !== null){if(_errs0){vErrors.length = _errs0;}else {vErrors = null;}}}validate57.errors = vErrors;return errors === 0;}const schema86 = {"type":"object","properties":{"disabled":{"description":"#### Disables application logging to CloudWatch for this container.","default":false,"type":"boolean"},"retentionDays":{"description":"#### The number of days to retain logs in CloudWatch.","default":90,"enum":[1,120,14,150,180,1827,3,30,365,3653,400,5,545,60,7,731,90],"type":"number"},"logForwarding":{"description":"#### Log Forwarding\n\n---\n\nForwards logs to a specified destination for monitoring, analysis, or long-term storage.\n\nLog forwarding is handled by an [Amazon Kinesis Data Firehose](https://aws.amazon.com/kinesis/data-firehose/) delivery stream. You will incur costs based on the volume of data transferred (approximately $0.03 per GB). For detailed pricing, see the [AWS Kinesis Firehose Pricing](https://aws.amazon.com/kinesis/data-firehose/pricing/) page.\n\nSupported destinations:\n- `http-endpoint`: Delivers logs to any HTTP endpoint that complies with [Firehose request and response specifications](https://docs.aws.amazon.com/firehose/latest/dev/httpdeliveryrequestresponse.html). Many third-party logging services are compatible out-of-the-box.\n- `datadog`: Delivers logs to [Datadog](https://www.datadoghq.com/).\n- `highlight`: Delivers logs to a [Highlight.io](https://www.highlight.io/) project.\n\nFor more information, refer to the [Stacktape documentation on log forwarding](https://docs.stacktape.com/configuration/log-forwarding/).\n\n> If logs fail to be delivered after multiple retries, they are stored in a backup S3 bucket named `{stackName}-{resourceName}-logs-{generatedHash}`. The retry duration can be configured.","anyOf":[{"$ref":"#/definitions/HttpEndpointLogForwarding"},{"$ref":"#/definitions/HighlightLogForwarding"},{"$ref":"#/definitions/DatadogLogForwarding"}]}},"additionalProperties":false};const schema87 = {"type":"object","properties":{"type":{"type":"string","const":"http-endpoint"},"properties":{"$ref":"#/definitions/HttpEndpointLogForwardingProps"}},"additionalProperties":false,"required":["properties","type"]};const schema88 = {"type":"object","properties":{"endpointUrl":{"description":"#### Endpoint URL\n\n---\n\nThe HTTPS endpoint where logs will be forwarded.","type":"string"},"gzipEncodingEnabled":{"description":"#### Enable GZIP Compression\n\n---\n\nIf `true`, Firehose will compress the request body using GZIP before sending it to the destination. This can reduce data transfer costs.","default":false,"type":"boolean"},"parameters":{"description":"#### Custom Parameters\n\n---\n\nKey-value pairs of additional metadata to send to the HTTP endpoint.\n\nThese parameters are sent in the `X-Amz-Firehose-Common-Attributes` header as a JSON object: `{\"commonAttributes\":{\"param1\":\"val1\", \"param2\":\"val2\"}}`.","type":"object","additionalProperties":{"type":"string"}},"retryDuration":{"description":"#### Retry Duration\n\n---\n\nThe total time Kinesis Data Firehose will spend retrying a failed delivery. This duration begins after the first delivery attempt fails.\n\nLogs that cannot be delivered within this duration are sent to a backup S3 bucket.","default":300,"type":"number"},"accessKey":{"description":"#### Access Key\n\n---\n\nCredentials for authenticating with the endpoint. The key is sent in the `X-Amz-Firehose-Access-Key` header.\n\nThe value can be any string, such as a JWT token or an access key. It is highly recommended to store the access key as a [Stacktape secret](https://docs.stacktape.com/resources/secrets/).","type":"string"}},"additionalProperties":false,"required":["endpointUrl"]};function validate80(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema87.required,parentSchema:schema87,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema87.required,parentSchema:schema87,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema87,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema87.properties.type.type,parentSchema:schema87.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("http-endpoint" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "http-endpoint"},message:"must be equal to constant",schema:"http-endpoint",parentSchema:schema87.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){let data1 = data.properties;if(data1 && typeof data1 == "object" && !Array.isArray(data1)){if(data1.endpointUrl === undefined){const err5 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/HttpEndpointLogForwardingProps/required",keyword:"required",params:{missingProperty: "endpointUrl"},message:"must have required property '"+"endpointUrl"+"'",schema:schema88.required,parentSchema:schema88,data:data1};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}for(const key1 in data1){if(!(((((key1 === "endpointUrl") || (key1 === "gzipEncodingEnabled")) || (key1 === "parameters")) || (key1 === "retryDuration")) || (key1 === "accessKey"))){const err6 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/HttpEndpointLogForwardingProps/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema88,data:data1};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data1.endpointUrl !== undefined){let data2 = data1.endpointUrl;if(typeof data2 !== "string"){const err7 = {instancePath:instancePath+"/properties/endpointUrl",schemaPath:"#/definitions/HttpEndpointLogForwardingProps/properties/endpointUrl/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema88.properties.endpointUrl.type,parentSchema:schema88.properties.endpointUrl,data:data2};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data1.gzipEncodingEnabled !== undefined){let data3 = data1.gzipEncodingEnabled;if(typeof data3 !== "boolean"){const err8 = {instancePath:instancePath+"/properties/gzipEncodingEnabled",schemaPath:"#/definitions/HttpEndpointLogForwardingProps/properties/gzipEncodingEnabled/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema88.properties.gzipEncodingEnabled.type,parentSchema:schema88.properties.gzipEncodingEnabled,data:data3};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}if(data1.parameters !== undefined){let data4 = data1.parameters;if(data4 && typeof data4 == "object" && !Array.isArray(data4)){for(const key2 in data4){let data5 = data4[key2];if(typeof data5 !== "string"){const err9 = {instancePath:instancePath+"/properties/parameters/" + key2.replace(/~/g, "~0").replace(/\//g, "~1"),schemaPath:"#/definitions/HttpEndpointLogForwardingProps/properties/parameters/additionalProperties/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema88.properties.parameters.additionalProperties.type,parentSchema:schema88.properties.parameters.additionalProperties,data:data5};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}}else {const err10 = {instancePath:instancePath+"/properties/parameters",schemaPath:"#/definitions/HttpEndpointLogForwardingProps/properties/parameters/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema88.properties.parameters.type,parentSchema:schema88.properties.parameters,data:data4};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data1.retryDuration !== undefined){let data6 = data1.retryDuration;if(!(typeof data6 == "number")){const err11 = {instancePath:instancePath+"/properties/retryDuration",schemaPath:"#/definitions/HttpEndpointLogForwardingProps/properties/retryDuration/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema88.properties.retryDuration.type,parentSchema:schema88.properties.retryDuration,data:data6};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}if(data1.accessKey !== undefined){let data7 = data1.accessKey;if(typeof data7 !== "string"){const err12 = {instancePath:instancePath+"/properties/accessKey",schemaPath:"#/definitions/HttpEndpointLogForwardingProps/properties/accessKey/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema88.properties.accessKey.type,parentSchema:schema88.properties.accessKey,data:data7};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}}else {const err13 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/HttpEndpointLogForwardingProps/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema88.type,parentSchema:schema88,data:data1};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}}else {const err14 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema87.type,parentSchema:schema87,data};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}validate80.errors = vErrors;return errors === 0;}const schema89 = {"type":"object","properties":{"type":{"type":"string","const":"highlight"},"properties":{"$ref":"#/definitions/HighlightLogForwardingProps"}},"additionalProperties":false,"required":["properties","type"]};const schema90 = {"type":"object","properties":{"projectId":{"description":"#### Project ID\n\n---\n\nThe ID of your [highlight.io](https://www.highlight.io/) project. You can find this in your [highlight.io console](https://app.highlight.io/).","type":"string"},"endpointUrl":{"description":"#### Endpoint URL\n\n---\n\nThe HTTPS endpoint where logs will be forwarded.","default":"https://pub.highlight.io/v1/logs/firehose","type":"string"}},"additionalProperties":false,"required":["projectId"]};function validate82(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema89.required,parentSchema:schema89,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema89.required,parentSchema:schema89,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema89,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema89.properties.type.type,parentSchema:schema89.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("highlight" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "highlight"},message:"must be equal to constant",schema:"highlight",parentSchema:schema89.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){let data1 = data.properties;if(data1 && typeof data1 == "object" && !Array.isArray(data1)){if(data1.projectId === undefined){const err5 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/HighlightLogForwardingProps/required",keyword:"required",params:{missingProperty: "projectId"},message:"must have required property '"+"projectId"+"'",schema:schema90.required,parentSchema:schema90,data:data1};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}for(const key1 in data1){if(!((key1 === "projectId") || (key1 === "endpointUrl"))){const err6 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/HighlightLogForwardingProps/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema90,data:data1};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data1.projectId !== undefined){let data2 = data1.projectId;if(typeof data2 !== "string"){const err7 = {instancePath:instancePath+"/properties/projectId",schemaPath:"#/definitions/HighlightLogForwardingProps/properties/projectId/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema90.properties.projectId.type,parentSchema:schema90.properties.projectId,data:data2};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data1.endpointUrl !== undefined){let data3 = data1.endpointUrl;if(typeof data3 !== "string"){const err8 = {instancePath:instancePath+"/properties/endpointUrl",schemaPath:"#/definitions/HighlightLogForwardingProps/properties/endpointUrl/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema90.properties.endpointUrl.type,parentSchema:schema90.properties.endpointUrl,data:data3};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}}else {const err9 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/HighlightLogForwardingProps/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema90.type,parentSchema:schema90,data:data1};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}}else {const err10 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema89.type,parentSchema:schema89,data};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}validate82.errors = vErrors;return errors === 0;}const schema91 = {"type":"object","properties":{"type":{"type":"string","const":"datadog"},"properties":{"$ref":"#/definitions/DatadogLogForwardingProps"}},"additionalProperties":false,"required":["properties","type"]};const schema92 = {"type":"object","properties":{"apiKey":{"description":"#### API Key\n\n---\n\nYour Datadog API key, required for delivering logs. You can find your key in the [Datadog console](https://app.datadoghq.com/organization-settings/api-keys).\n\nIt is highly recommended to store the API key as a [Stacktape secret](https://docs.stacktape.com/resources/secrets/).","type":"string"},"endpointUrl":{"description":"#### Endpoint URL\n\n---\n\nThe HTTPS endpoint where logs will be forwarded.\n\nIf your Datadog account is in the EU, you should use `https://aws-kinesis-http-intake.logs.datadoghq.eu/v1/input`.","default":"https://aws-kinesis-http-intake.logs.datadoghq.com/v1/input","type":"string"}},"additionalProperties":false,"required":["apiKey"]};function validate84(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema91.required,parentSchema:schema91,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema91.required,parentSchema:schema91,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema91,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema91.properties.type.type,parentSchema:schema91.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("datadog" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "datadog"},message:"must be equal to constant",schema:"datadog",parentSchema:schema91.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){let data1 = data.properties;if(data1 && typeof data1 == "object" && !Array.isArray(data1)){if(data1.apiKey === undefined){const err5 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/DatadogLogForwardingProps/required",keyword:"required",params:{missingProperty: "apiKey"},message:"must have required property '"+"apiKey"+"'",schema:schema92.required,parentSchema:schema92,data:data1};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}for(const key1 in data1){if(!((key1 === "apiKey") || (key1 === "endpointUrl"))){const err6 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/DatadogLogForwardingProps/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema92,data:data1};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data1.apiKey !== undefined){let data2 = data1.apiKey;if(typeof data2 !== "string"){const err7 = {instancePath:instancePath+"/properties/apiKey",schemaPath:"#/definitions/DatadogLogForwardingProps/properties/apiKey/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema92.properties.apiKey.type,parentSchema:schema92.properties.apiKey,data:data2};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data1.endpointUrl !== undefined){let data3 = data1.endpointUrl;if(typeof data3 !== "string"){const err8 = {instancePath:instancePath+"/properties/endpointUrl",schemaPath:"#/definitions/DatadogLogForwardingProps/properties/endpointUrl/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema92.properties.endpointUrl.type,parentSchema:schema92.properties.endpointUrl,data:data3};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}}else {const err9 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/DatadogLogForwardingProps/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema92.type,parentSchema:schema92,data:data1};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}}else {const err10 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema91.type,parentSchema:schema91,data};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}validate84.errors = vErrors;return errors === 0;}function validate79(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){for(const key0 in data){if(!(((key0 === "disabled") || (key0 === "retentionDays")) || (key0 === "logForwarding"))){const err0 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema86,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}}if(data.disabled !== undefined){let data0 = data.disabled;if(typeof data0 !== "boolean"){const err1 = {instancePath:instancePath+"/disabled",schemaPath:"#/properties/disabled/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema86.properties.disabled.type,parentSchema:schema86.properties.disabled,data:data0};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.retentionDays !== undefined){let data1 = data.retentionDays;if(!(typeof data1 == "number")){const err2 = {instancePath:instancePath+"/retentionDays",schemaPath:"#/properties/retentionDays/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema86.properties.retentionDays.type,parentSchema:schema86.properties.retentionDays,data:data1};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}if(!(((((((((((((((((data1 === 1) || (data1 === 120)) || (data1 === 14)) || (data1 === 150)) || (data1 === 180)) || (data1 === 1827)) || (data1 === 3)) || (data1 === 30)) || (data1 === 365)) || (data1 === 3653)) || (data1 === 400)) || (data1 === 5)) || (data1 === 545)) || (data1 === 60)) || (data1 === 7)) || (data1 === 731)) || (data1 === 90))){const err3 = {instancePath:instancePath+"/retentionDays",schemaPath:"#/properties/retentionDays/enum",keyword:"enum",params:{allowedValues: schema86.properties.retentionDays.enum},message:"must be equal to one of the allowed values",schema:schema86.properties.retentionDays.enum,parentSchema:schema86.properties.retentionDays,data:data1};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.logForwarding !== undefined){let data2 = data.logForwarding;const _errs7 = errors;let valid1 = false;const _errs8 = errors;if(!(validate80(data2, {instancePath:instancePath+"/logForwarding",parentData:data,parentDataProperty:"logForwarding",rootData}))){vErrors = vErrors === null ? validate80.errors : vErrors.concat(validate80.errors);errors = vErrors.length;}var _valid0 = _errs8 === errors;valid1 = valid1 || _valid0;if(!valid1){const _errs9 = errors;if(!(validate82(data2, {instancePath:instancePath+"/logForwarding",parentData:data,parentDataProperty:"logForwarding",rootData}))){vErrors = vErrors === null ? validate82.errors : vErrors.concat(validate82.errors);errors = vErrors.length;}var _valid0 = _errs9 === errors;valid1 = valid1 || _valid0;if(!valid1){const _errs10 = errors;if(!(validate84(data2, {instancePath:instancePath+"/logForwarding",parentData:data,parentDataProperty:"logForwarding",rootData}))){vErrors = vErrors === null ? validate84.errors : vErrors.concat(validate84.errors);errors = vErrors.length;}var _valid0 = _errs10 === errors;valid1 = valid1 || _valid0;}}if(!valid1){const err4 = {instancePath:instancePath+"/logForwarding",schemaPath:"#/properties/logForwarding/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:schema86.properties.logForwarding.anyOf,parentSchema:schema86.properties.logForwarding,data:data2};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}else {errors = _errs7;if(vErrors !== null){if(_errs7){vErrors.length = _errs7;}else {vErrors = null;}}}}}else {const err5 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema86.type,parentSchema:schema86,data};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}validate79.errors = vErrors;return errors === 0;}const schema96 = {"type":"object","properties":{"type":{"description":"#### The type of the volume mount.","type":"string","const":"efs"},"properties":{"$ref":"#/definitions/ContainerEfsMountProps","description":"#### Properties for the EFS volume mount."}},"additionalProperties":false,"required":["properties","type"]};const schema97 = {"type":"object","properties":{"efsFilesystemName":{"description":"#### The name of the EFS filesystem to mount.\n\n---\n\nThis must match the name of an EFS filesystem defined in your Stacktape configuration.","type":"string"},"rootDirectory":{"description":"#### The root directory within the EFS filesystem to mount.\n\n---\n\nThis restricts the container's access to a specific directory within the filesystem. If not specified, the container can access the entire filesystem.","default":"/","type":"string"},"mountPath":{"description":"#### The path where the EFS volume will be mounted inside the container.\n\n---\n\nThis must be an absolute path, for example: `/data` or `/app/storage`.","type":"string"}},"additionalProperties":false,"required":["efsFilesystemName","mountPath"]};function validate87(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema96.required,parentSchema:schema96,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema96.required,parentSchema:schema96,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema96,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema96.properties.type.type,parentSchema:schema96.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("efs" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "efs"},message:"must be equal to constant",schema:"efs",parentSchema:schema96.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){let data1 = data.properties;if(data1 && typeof data1 == "object" && !Array.isArray(data1)){if(data1.efsFilesystemName === undefined){const err5 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/ContainerEfsMountProps/required",keyword:"required",params:{missingProperty: "efsFilesystemName"},message:"must have required property '"+"efsFilesystemName"+"'",schema:schema97.required,parentSchema:schema97,data:data1};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}if(data1.mountPath === undefined){const err6 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/ContainerEfsMountProps/required",keyword:"required",params:{missingProperty: "mountPath"},message:"must have required property '"+"mountPath"+"'",schema:schema97.required,parentSchema:schema97,data:data1};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}for(const key1 in data1){if(!(((key1 === "efsFilesystemName") || (key1 === "rootDirectory")) || (key1 === "mountPath"))){const err7 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/ContainerEfsMountProps/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema97,data:data1};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data1.efsFilesystemName !== undefined){let data2 = data1.efsFilesystemName;if(typeof data2 !== "string"){const err8 = {instancePath:instancePath+"/properties/efsFilesystemName",schemaPath:"#/definitions/ContainerEfsMountProps/properties/efsFilesystemName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema97.properties.efsFilesystemName.type,parentSchema:schema97.properties.efsFilesystemName,data:data2};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}if(data1.rootDirectory !== undefined){let data3 = data1.rootDirectory;if(typeof data3 !== "string"){const err9 = {instancePath:instancePath+"/properties/rootDirectory",schemaPath:"#/definitions/ContainerEfsMountProps/properties/rootDirectory/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema97.properties.rootDirectory.type,parentSchema:schema97.properties.rootDirectory,data:data3};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(data1.mountPath !== undefined){let data4 = data1.mountPath;if(typeof data4 !== "string"){const err10 = {instancePath:instancePath+"/properties/mountPath",schemaPath:"#/definitions/ContainerEfsMountProps/properties/mountPath/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema97.properties.mountPath.type,parentSchema:schema97.properties.mountPath,data:data4};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}}else {const err11 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/ContainerEfsMountProps/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema97.type,parentSchema:schema97,data:data1};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}}else {const err12 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema96.type,parentSchema:schema96,data};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}validate87.errors = vErrors;return errors === 0;}function validate36(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.name === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "name"},message:"must have required property '"+"name"+"'",schema:schema46.required,parentSchema:schema46,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.packaging === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "packaging"},message:"must have required property '"+"packaging"+"'",schema:schema46.required,parentSchema:schema46,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!(func2.call(schema46.properties, key0))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema46,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.events !== undefined){let data0 = data.events;if(Array.isArray(data0)){const len0 = data0.length;for(let i0=0; i0<len0; i0++){let data1 = data0[i0];const _errs5 = errors;let valid3 = false;const _errs6 = errors;if(!(validate37(data1, {instancePath:instancePath+"/events/" + i0,parentData:data0,parentDataProperty:i0,rootData}))){vErrors = vErrors === null ? validate37.errors : vErrors.concat(validate37.errors);errors = vErrors.length;}var _valid0 = _errs6 === errors;valid3 = valid3 || _valid0;if(!valid3){const _errs7 = errors;if(!(validate41(data1, {instancePath:instancePath+"/events/" + i0,parentData:data0,parentDataProperty:i0,rootData}))){vErrors = vErrors === null ? validate41.errors : vErrors.concat(validate41.errors);errors = vErrors.length;}var _valid0 = _errs7 === errors;valid3 = valid3 || _valid0;if(!valid3){const _errs8 = errors;if(!(validate51(data1, {instancePath:instancePath+"/events/" + i0,parentData:data0,parentDataProperty:i0,rootData}))){vErrors = vErrors === null ? validate51.errors : vErrors.concat(validate51.errors);errors = vErrors.length;}var _valid0 = _errs8 === errors;valid3 = valid3 || _valid0;if(!valid3){const _errs9 = errors;if(!(validate53(data1, {instancePath:instancePath+"/events/" + i0,parentData:data0,parentDataProperty:i0,rootData}))){vErrors = vErrors === null ? validate53.errors : vErrors.concat(validate53.errors);errors = vErrors.length;}var _valid0 = _errs9 === errors;valid3 = valid3 || _valid0;if(!valid3){const _errs10 = errors;if(!(validate55(data1, {instancePath:instancePath+"/events/" + i0,parentData:data0,parentDataProperty:i0,rootData}))){vErrors = vErrors === null ? validate55.errors : vErrors.concat(validate55.errors);errors = vErrors.length;}var _valid0 = _errs10 === errors;valid3 = valid3 || _valid0;}}}}if(!valid3){const err3 = {instancePath:instancePath+"/events/" + i0,schemaPath:"#/properties/events/items/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:schema46.properties.events.items.anyOf,parentSchema:schema46.properties.events.items,data:data1};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}else {errors = _errs5;if(vErrors !== null){if(_errs5){vErrors.length = _errs5;}else {vErrors = null;}}}}}else {const err4 = {instancePath:instancePath+"/events",schemaPath:"#/properties/events/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema46.properties.events.type,parentSchema:schema46.properties.events,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.loadBalancerHealthCheck !== undefined){let data2 = data.loadBalancerHealthCheck;if(data2 && typeof data2 == "object" && !Array.isArray(data2)){for(const key1 in data2){if(!(((((key1 === "healthcheckPath") || (key1 === "healthcheckInterval")) || (key1 === "healthcheckTimeout")) || (key1 === "healthCheckProtocol")) || (key1 === "healthCheckPort"))){const err5 = {instancePath:instancePath+"/loadBalancerHealthCheck",schemaPath:"#/definitions/LoadBalancerHealthCheck/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema64,data:data2};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data2.healthcheckPath !== undefined){let data3 = data2.healthcheckPath;if(typeof data3 !== "string"){const err6 = {instancePath:instancePath+"/loadBalancerHealthCheck/healthcheckPath",schemaPath:"#/definitions/LoadBalancerHealthCheck/properties/healthcheckPath/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema64.properties.healthcheckPath.type,parentSchema:schema64.properties.healthcheckPath,data:data3};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data2.healthcheckInterval !== undefined){let data4 = data2.healthcheckInterval;if(!(typeof data4 == "number")){const err7 = {instancePath:instancePath+"/loadBalancerHealthCheck/healthcheckInterval",schemaPath:"#/definitions/LoadBalancerHealthCheck/properties/healthcheckInterval/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema64.properties.healthcheckInterval.type,parentSchema:schema64.properties.healthcheckInterval,data:data4};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data2.healthcheckTimeout !== undefined){let data5 = data2.healthcheckTimeout;if(!(typeof data5 == "number")){const err8 = {instancePath:instancePath+"/loadBalancerHealthCheck/healthcheckTimeout",schemaPath:"#/definitions/LoadBalancerHealthCheck/properties/healthcheckTimeout/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema64.properties.healthcheckTimeout.type,parentSchema:schema64.properties.healthcheckTimeout,data:data5};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}if(data2.healthCheckProtocol !== undefined){let data6 = data2.healthCheckProtocol;if(typeof data6 !== "string"){const err9 = {instancePath:instancePath+"/loadBalancerHealthCheck/healthCheckProtocol",schemaPath:"#/definitions/LoadBalancerHealthCheck/properties/healthCheckProtocol/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema64.properties.healthCheckProtocol.type,parentSchema:schema64.properties.healthCheckProtocol,data:data6};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}if(!((data6 === "HTTP") || (data6 === "TCP"))){const err10 = {instancePath:instancePath+"/loadBalancerHealthCheck/healthCheckProtocol",schemaPath:"#/definitions/LoadBalancerHealthCheck/properties/healthCheckProtocol/enum",keyword:"enum",params:{allowedValues: schema64.properties.healthCheckProtocol.enum},message:"must be equal to one of the allowed values",schema:schema64.properties.healthCheckProtocol.enum,parentSchema:schema64.properties.healthCheckProtocol,data:data6};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data2.healthCheckPort !== undefined){let data7 = data2.healthCheckPort;if(!(typeof data7 == "number")){const err11 = {instancePath:instancePath+"/loadBalancerHealthCheck/healthCheckPort",schemaPath:"#/definitions/LoadBalancerHealthCheck/properties/healthCheckPort/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema64.properties.healthCheckPort.type,parentSchema:schema64.properties.healthCheckPort,data:data7};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}}else {const err12 = {instancePath:instancePath+"/loadBalancerHealthCheck",schemaPath:"#/definitions/LoadBalancerHealthCheck/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema64.type,parentSchema:schema64,data:data2};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}if(data.name !== undefined){let data8 = data.name;if(typeof data8 !== "string"){const err13 = {instancePath:instancePath+"/name",schemaPath:"#/properties/name/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema46.properties.name.type,parentSchema:schema46.properties.name,data:data8};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}if(data.packaging !== undefined){if(!(validate57(data.packaging, {instancePath:instancePath+"/packaging",parentData:data,parentDataProperty:"packaging",rootData}))){vErrors = vErrors === null ? validate57.errors : vErrors.concat(validate57.errors);errors = vErrors.length;}}if(data.essential !== undefined){let data10 = data.essential;if(typeof data10 !== "boolean"){const err14 = {instancePath:instancePath+"/essential",schemaPath:"#/properties/essential/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema46.properties.essential.type,parentSchema:schema46.properties.essential,data:data10};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}}if(data.logging !== undefined){if(!(validate79(data.logging, {instancePath:instancePath+"/logging",parentData:data,parentDataProperty:"logging",rootData}))){vErrors = vErrors === null ? validate79.errors : vErrors.concat(validate79.errors);errors = vErrors.length;}}if(data.dependsOn !== undefined){let data12 = data.dependsOn;if(Array.isArray(data12)){const len1 = data12.length;for(let i1=0; i1<len1; i1++){let data13 = data12[i1];if(data13 && typeof data13 == "object" && !Array.isArray(data13)){if(data13.condition === undefined){const err15 = {instancePath:instancePath+"/dependsOn/" + i1,schemaPath:"#/definitions/ContainerDependency/required",keyword:"required",params:{missingProperty: "condition"},message:"must have required property '"+"condition"+"'",schema:schema93.required,parentSchema:schema93,data:data13};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}if(data13.containerName === undefined){const err16 = {instancePath:instancePath+"/dependsOn/" + i1,schemaPath:"#/definitions/ContainerDependency/required",keyword:"required",params:{missingProperty: "containerName"},message:"must have required property '"+"containerName"+"'",schema:schema93.required,parentSchema:schema93,data:data13};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}for(const key2 in data13){if(!((key2 === "containerName") || (key2 === "condition"))){const err17 = {instancePath:instancePath+"/dependsOn/" + i1,schemaPath:"#/definitions/ContainerDependency/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key2},message:"must NOT have additional properties",schema:false,parentSchema:schema93,data:data13};if(vErrors === null){vErrors = [err17];}else {vErrors.push(err17);}errors++;}}if(data13.containerName !== undefined){let data14 = data13.containerName;if(typeof data14 !== "string"){const err18 = {instancePath:instancePath+"/dependsOn/" + i1+"/containerName",schemaPath:"#/definitions/ContainerDependency/properties/containerName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema93.properties.containerName.type,parentSchema:schema93.properties.containerName,data:data14};if(vErrors === null){vErrors = [err18];}else {vErrors.push(err18);}errors++;}}if(data13.condition !== undefined){let data15 = data13.condition;if(typeof data15 !== "string"){const err19 = {instancePath:instancePath+"/dependsOn/" + i1+"/condition",schemaPath:"#/definitions/ContainerDependency/properties/condition/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema93.properties.condition.type,parentSchema:schema93.properties.condition,data:data15};if(vErrors === null){vErrors = [err19];}else {vErrors.push(err19);}errors++;}if(!((((data15 === "COMPLETE") || (data15 === "HEALTHY")) || (data15 === "START")) || (data15 === "SUCCESS"))){const err20 = {instancePath:instancePath+"/dependsOn/" + i1+"/condition",schemaPath:"#/definitions/ContainerDependency/properties/condition/enum",keyword:"enum",params:{allowedValues: schema93.properties.condition.enum},message:"must be equal to one of the allowed values",schema:schema93.properties.condition.enum,parentSchema:schema93.properties.condition,data:data15};if(vErrors === null){vErrors = [err20];}else {vErrors.push(err20);}errors++;}}}else {const err21 = {instancePath:instancePath+"/dependsOn/" + i1,schemaPath:"#/definitions/ContainerDependency/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema93.type,parentSchema:schema93,data:data13};if(vErrors === null){vErrors = [err21];}else {vErrors.push(err21);}errors++;}}}else {const err22 = {instancePath:instancePath+"/dependsOn",schemaPath:"#/properties/dependsOn/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema46.properties.dependsOn.type,parentSchema:schema46.properties.dependsOn,data:data12};if(vErrors === null){vErrors = [err22];}else {vErrors.push(err22);}errors++;}}if(data.environment !== undefined){let data16 = data.environment;if(Array.isArray(data16)){const len2 = data16.length;for(let i2=0; i2<len2; i2++){let data17 = data16[i2];if(data17 && typeof data17 == "object" && !Array.isArray(data17)){if(data17.name === undefined){const err23 = {instancePath:instancePath+"/environment/" + i2,schemaPath:"#/definitions/EnvironmentVar/required",keyword:"required",params:{missingProperty: "name"},message:"must have required property '"+"name"+"'",schema:schema28.required,parentSchema:schema28,data:data17};if(vErrors === null){vErrors = [err23];}else {vErrors.push(err23);}errors++;}if(data17.value === undefined){const err24 = {instancePath:instancePath+"/environment/" + i2,schemaPath:"#/definitions/EnvironmentVar/required",keyword:"required",params:{missingProperty: "value"},message:"must have required property '"+"value"+"'",schema:schema28.required,parentSchema:schema28,data:data17};if(vErrors === null){vErrors = [err24];}else {vErrors.push(err24);}errors++;}for(const key3 in data17){if(!((key3 === "name") || (key3 === "value"))){const err25 = {instancePath:instancePath+"/environment/" + i2,schemaPath:"#/definitions/EnvironmentVar/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key3},message:"must NOT have additional properties",schema:false,parentSchema:schema28,data:data17};if(vErrors === null){vErrors = [err25];}else {vErrors.push(err25);}errors++;}}if(data17.name !== undefined){let data18 = data17.name;if(typeof data18 !== "string"){const err26 = {instancePath:instancePath+"/environment/" + i2+"/name",schemaPath:"#/definitions/EnvironmentVar/properties/name/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema28.properties.name.type,parentSchema:schema28.properties.name,data:data18};if(vErrors === null){vErrors = [err26];}else {vErrors.push(err26);}errors++;}}if(data17.value !== undefined){let data19 = data17.value;if(((typeof data19 !== "string") && (!(typeof data19 == "number"))) && (typeof data19 !== "boolean")){const err27 = {instancePath:instancePath+"/environment/" + i2+"/value",schemaPath:"#/definitions/EnvironmentVar/properties/value/type",keyword:"type",params:{type: schema28.properties.value.type},message:"must be string,number,boolean",schema:schema28.properties.value.type,parentSchema:schema28.properties.value,data:data19};if(vErrors === null){vErrors = [err27];}else {vErrors.push(err27);}errors++;}}}else {const err28 = {instancePath:instancePath+"/environment/" + i2,schemaPath:"#/definitions/EnvironmentVar/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema28.type,parentSchema:schema28,data:data17};if(vErrors === null){vErrors = [err28];}else {vErrors.push(err28);}errors++;}}}else {const err29 = {instancePath:instancePath+"/environment",schemaPath:"#/properties/environment/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema46.properties.environment.type,parentSchema:schema46.properties.environment,data:data16};if(vErrors === null){vErrors = [err29];}else {vErrors.push(err29);}errors++;}}if(data.internalHealthCheck !== undefined){let data20 = data.internalHealthCheck;if(data20 && typeof data20 == "object" && !Array.isArray(data20)){if(data20.healthCheckCommand === undefined){const err30 = {instancePath:instancePath+"/internalHealthCheck",schemaPath:"#/definitions/ContainerHealthCheck/required",keyword:"required",params:{missingProperty: "healthCheckCommand"},message:"must have required property '"+"healthCheckCommand"+"'",schema:schema95.required,parentSchema:schema95,data:data20};if(vErrors === null){vErrors = [err30];}else {vErrors.push(err30);}errors++;}for(const key4 in data20){if(!(((((key4 === "healthCheckCommand") || (key4 === "intervalSeconds")) || (key4 === "timeoutSeconds")) || (key4 === "retries")) || (key4 === "startPeriodSeconds"))){const err31 = {instancePath:instancePath+"/internalHealthCheck",schemaPath:"#/definitions/ContainerHealthCheck/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key4},message:"must NOT have additional properties",schema:false,parentSchema:schema95,data:data20};if(vErrors === null){vErrors = [err31];}else {vErrors.push(err31);}errors++;}}if(data20.healthCheckCommand !== undefined){let data21 = data20.healthCheckCommand;if(Array.isArray(data21)){const len3 = data21.length;for(let i3=0; i3<len3; i3++){let data22 = data21[i3];if(typeof data22 !== "string"){const err32 = {instancePath:instancePath+"/internalHealthCheck/healthCheckCommand/" + i3,schemaPath:"#/definitions/ContainerHealthCheck/properties/healthCheckCommand/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema95.properties.healthCheckCommand.items.type,parentSchema:schema95.properties.healthCheckCommand.items,data:data22};if(vErrors === null){vErrors = [err32];}else {vErrors.push(err32);}errors++;}}}else {const err33 = {instancePath:instancePath+"/internalHealthCheck/healthCheckCommand",schemaPath:"#/definitions/ContainerHealthCheck/properties/healthCheckCommand/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema95.properties.healthCheckCommand.type,parentSchema:schema95.properties.healthCheckCommand,data:data21};if(vErrors === null){vErrors = [err33];}else {vErrors.push(err33);}errors++;}}if(data20.intervalSeconds !== undefined){let data23 = data20.intervalSeconds;if(!(typeof data23 == "number")){const err34 = {instancePath:instancePath+"/internalHealthCheck/intervalSeconds",schemaPath:"#/definitions/ContainerHealthCheck/properties/intervalSeconds/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema95.properties.intervalSeconds.type,parentSchema:schema95.properties.intervalSeconds,data:data23};if(vErrors === null){vErrors = [err34];}else {vErrors.push(err34);}errors++;}}if(data20.timeoutSeconds !== undefined){let data24 = data20.timeoutSeconds;if(!(typeof data24 == "number")){const err35 = {instancePath:instancePath+"/internalHealthCheck/timeoutSeconds",schemaPath:"#/definitions/ContainerHealthCheck/properties/timeoutSeconds/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema95.properties.timeoutSeconds.type,parentSchema:schema95.properties.timeoutSeconds,data:data24};if(vErrors === null){vErrors = [err35];}else {vErrors.push(err35);}errors++;}}if(data20.retries !== undefined){let data25 = data20.retries;if(!(typeof data25 == "number")){const err36 = {instancePath:instancePath+"/internalHealthCheck/retries",schemaPath:"#/definitions/ContainerHealthCheck/properties/retries/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema95.properties.retries.type,parentSchema:schema95.properties.retries,data:data25};if(vErrors === null){vErrors = [err36];}else {vErrors.push(err36);}errors++;}}if(data20.startPeriodSeconds !== undefined){let data26 = data20.startPeriodSeconds;if(!(typeof data26 == "number")){const err37 = {instancePath:instancePath+"/internalHealthCheck/startPeriodSeconds",schemaPath:"#/definitions/ContainerHealthCheck/properties/startPeriodSeconds/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema95.properties.startPeriodSeconds.type,parentSchema:schema95.properties.startPeriodSeconds,data:data26};if(vErrors === null){vErrors = [err37];}else {vErrors.push(err37);}errors++;}}}else {const err38 = {instancePath:instancePath+"/internalHealthCheck",schemaPath:"#/definitions/ContainerHealthCheck/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema95.type,parentSchema:schema95,data:data20};if(vErrors === null){vErrors = [err38];}else {vErrors.push(err38);}errors++;}}if(data.stopTimeout !== undefined){let data27 = data.stopTimeout;if(!(typeof data27 == "number")){const err39 = {instancePath:instancePath+"/stopTimeout",schemaPath:"#/properties/stopTimeout/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema46.properties.stopTimeout.type,parentSchema:schema46.properties.stopTimeout,data:data27};if(vErrors === null){vErrors = [err39];}else {vErrors.push(err39);}errors++;}}if(data.volumeMounts !== undefined){let data28 = data.volumeMounts;if(Array.isArray(data28)){const len4 = data28.length;for(let i4=0; i4<len4; i4++){if(!(validate87(data28[i4], {instancePath:instancePath+"/volumeMounts/" + i4,parentData:data28,parentDataProperty:i4,rootData}))){vErrors = vErrors === null ? validate87.errors : vErrors.concat(validate87.errors);errors = vErrors.length;}}}else {const err40 = {instancePath:instancePath+"/volumeMounts",schemaPath:"#/properties/volumeMounts/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema46.properties.volumeMounts.type,parentSchema:schema46.properties.volumeMounts,data:data28};if(vErrors === null){vErrors = [err40];}else {vErrors.push(err40);}errors++;}}}else {const err41 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema46.type,parentSchema:schema46,data};if(vErrors === null){vErrors = [err41];}else {vErrors.push(err41);}errors++;}validate36.errors = vErrors;return errors === 0;}const schema99 = {"type":"object","properties":{"minInstances":{"description":"#### The minimum number of workload instances to keep running.","default":1,"type":"number"},"maxInstances":{"description":"#### The maximum number of workload instances that can be running.","default":1,"type":"number"},"scalingPolicy":{"$ref":"#/definitions/ContainerWorkloadScalingPolicy","description":"#### Configures the triggers for scaling actions."}},"additionalProperties":false};const schema100 = {"type":"object","properties":{"keepAvgCpuUtilizationUnder":{"description":"#### The average CPU utilization target for scaling.\n\n---\n\nIf the average CPU utilization across all instances exceeds this value, a new instance is added (scale-out).\nIf it falls below this value, an instance is removed (scale-in).","default":80,"type":"number"},"keepAvgMemoryUtilizationUnder":{"description":"#### The average memory utilization target for scaling.\n\n---\n\nIf the average memory utilization across all instances exceeds this value, a new instance is added (scale-out).\nIf it falls below this value, an instance is removed (scale-in).","default":80,"type":"number"}},"additionalProperties":false};function validate90(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){for(const key0 in data){if(!(((key0 === "minInstances") || (key0 === "maxInstances")) || (key0 === "scalingPolicy"))){const err0 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema99,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}}if(data.minInstances !== undefined){let data0 = data.minInstances;if(!(typeof data0 == "number")){const err1 = {instancePath:instancePath+"/minInstances",schemaPath:"#/properties/minInstances/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema99.properties.minInstances.type,parentSchema:schema99.properties.minInstances,data:data0};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.maxInstances !== undefined){let data1 = data.maxInstances;if(!(typeof data1 == "number")){const err2 = {instancePath:instancePath+"/maxInstances",schemaPath:"#/properties/maxInstances/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema99.properties.maxInstances.type,parentSchema:schema99.properties.maxInstances,data:data1};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.scalingPolicy !== undefined){let data2 = data.scalingPolicy;if(data2 && typeof data2 == "object" && !Array.isArray(data2)){for(const key1 in data2){if(!((key1 === "keepAvgCpuUtilizationUnder") || (key1 === "keepAvgMemoryUtilizationUnder"))){const err3 = {instancePath:instancePath+"/scalingPolicy",schemaPath:"#/definitions/ContainerWorkloadScalingPolicy/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema100,data:data2};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data2.keepAvgCpuUtilizationUnder !== undefined){let data3 = data2.keepAvgCpuUtilizationUnder;if(!(typeof data3 == "number")){const err4 = {instancePath:instancePath+"/scalingPolicy/keepAvgCpuUtilizationUnder",schemaPath:"#/definitions/ContainerWorkloadScalingPolicy/properties/keepAvgCpuUtilizationUnder/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema100.properties.keepAvgCpuUtilizationUnder.type,parentSchema:schema100.properties.keepAvgCpuUtilizationUnder,data:data3};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data2.keepAvgMemoryUtilizationUnder !== undefined){let data4 = data2.keepAvgMemoryUtilizationUnder;if(!(typeof data4 == "number")){const err5 = {instancePath:instancePath+"/scalingPolicy/keepAvgMemoryUtilizationUnder",schemaPath:"#/definitions/ContainerWorkloadScalingPolicy/properties/keepAvgMemoryUtilizationUnder/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema100.properties.keepAvgMemoryUtilizationUnder.type,parentSchema:schema100.properties.keepAvgMemoryUtilizationUnder,data:data4};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}}else {const err6 = {instancePath:instancePath+"/scalingPolicy",schemaPath:"#/definitions/ContainerWorkloadScalingPolicy/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema100.type,parentSchema:schema100,data:data2};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}}else {const err7 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema99.type,parentSchema:schema99,data};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}validate90.errors = vErrors;return errors === 0;}function validate35(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.containers === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "containers"},message:"must have required property '"+"containers"+"'",schema:schema45.required,parentSchema:schema45,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.resources === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "resources"},message:"must have required property '"+"resources"+"'",schema:schema45.required,parentSchema:schema45,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((((((((key0 === "containers") || (key0 === "resources")) || (key0 === "scaling")) || (key0 === "deployment")) || (key0 === "enableRemoteSessions")) || (key0 === "usePrivateSubnetsWithNAT")) || (key0 === "connectTo")) || (key0 === "iamRoleStatements"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema45,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.containers !== undefined){let data0 = data.containers;if(Array.isArray(data0)){const len0 = data0.length;for(let i0=0; i0<len0; i0++){if(!(validate36(data0[i0], {instancePath:instancePath+"/containers/" + i0,parentData:data0,parentDataProperty:i0,rootData}))){vErrors = vErrors === null ? validate36.errors : vErrors.concat(validate36.errors);errors = vErrors.length;}}}else {const err3 = {instancePath:instancePath+"/containers",schemaPath:"#/properties/containers/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema45.properties.containers.type,parentSchema:schema45.properties.containers,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.resources !== undefined){let data2 = data.resources;if(data2 && typeof data2 == "object" && !Array.isArray(data2)){for(const key1 in data2){if(!(((((key1 === "cpu") || (key1 === "memory")) || (key1 === "instanceTypes")) || (key1 === "enableWarmPool")) || (key1 === "architecture"))){const err4 = {instancePath:instancePath+"/resources",schemaPath:"#/definitions/ContainerWorkloadResourcesConfig/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema98,data:data2};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data2.cpu !== undefined){let data3 = data2.cpu;if(!(typeof data3 == "number")){const err5 = {instancePath:instancePath+"/resources/cpu",schemaPath:"#/definitions/ContainerWorkloadResourcesConfig/properties/cpu/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema98.properties.cpu.type,parentSchema:schema98.properties.cpu,data:data3};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}if(!(((((((data3 === 0.25) || (data3 === 0.5)) || (data3 === 1)) || (data3 === 16)) || (data3 === 2)) || (data3 === 4)) || (data3 === 8))){const err6 = {instancePath:instancePath+"/resources/cpu",schemaPath:"#/definitions/ContainerWorkloadResourcesConfig/properties/cpu/enum",keyword:"enum",params:{allowedValues: schema98.properties.cpu.enum},message:"must be equal to one of the allowed values",schema:schema98.properties.cpu.enum,parentSchema:schema98.properties.cpu,data:data3};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data2.memory !== undefined){let data4 = data2.memory;if(!(typeof data4 == "number")){const err7 = {instancePath:instancePath+"/resources/memory",schemaPath:"#/definitions/ContainerWorkloadResourcesConfig/properties/memory/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema98.properties.memory.type,parentSchema:schema98.properties.memory,data:data4};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data2.instanceTypes !== undefined){let data5 = data2.instanceTypes;if(Array.isArray(data5)){const len1 = data5.length;for(let i1=0; i1<len1; i1++){let data6 = data5[i1];if(typeof data6 !== "string"){const err8 = {instancePath:instancePath+"/resources/instanceTypes/" + i1,schemaPath:"#/definitions/ContainerWorkloadResourcesConfig/properties/instanceTypes/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema98.properties.instanceTypes.items.type,parentSchema:schema98.properties.instanceTypes.items,data:data6};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}}else {const err9 = {instancePath:instancePath+"/resources/instanceTypes",schemaPath:"#/definitions/ContainerWorkloadResourcesConfig/properties/instanceTypes/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema98.properties.instanceTypes.type,parentSchema:schema98.properties.instanceTypes,data:data5};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(data2.enableWarmPool !== undefined){let data7 = data2.enableWarmPool;if(typeof data7 !== "boolean"){const err10 = {instancePath:instancePath+"/resources/enableWarmPool",schemaPath:"#/definitions/ContainerWorkloadResourcesConfig/properties/enableWarmPool/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema98.properties.enableWarmPool.type,parentSchema:schema98.properties.enableWarmPool,data:data7};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data2.architecture !== undefined){let data8 = data2.architecture;if(typeof data8 !== "string"){const err11 = {instancePath:instancePath+"/resources/architecture",schemaPath:"#/definitions/ContainerWorkloadResourcesConfig/properties/architecture/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema98.properties.architecture.type,parentSchema:schema98.properties.architecture,data:data8};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}if(!((data8 === "arm64") || (data8 === "x86_64"))){const err12 = {instancePath:instancePath+"/resources/architecture",schemaPath:"#/definitions/ContainerWorkloadResourcesConfig/properties/architecture/enum",keyword:"enum",params:{allowedValues: schema98.properties.architecture.enum},message:"must be equal to one of the allowed values",schema:schema98.properties.architecture.enum,parentSchema:schema98.properties.architecture,data:data8};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}}else {const err13 = {instancePath:instancePath+"/resources",schemaPath:"#/definitions/ContainerWorkloadResourcesConfig/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema98.type,parentSchema:schema98,data:data2};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}if(data.scaling !== undefined){if(!(validate90(data.scaling, {instancePath:instancePath+"/scaling",parentData:data,parentDataProperty:"scaling",rootData}))){vErrors = vErrors === null ? validate90.errors : vErrors.concat(validate90.errors);errors = vErrors.length;}}if(data.deployment !== undefined){let data10 = data.deployment;if(data10 && typeof data10 == "object" && !Array.isArray(data10)){if(data10.strategy === undefined){const err14 = {instancePath:instancePath+"/deployment",schemaPath:"#/definitions/ContainerWorkloadDeploymentConfig/required",keyword:"required",params:{missingProperty: "strategy"},message:"must have required property '"+"strategy"+"'",schema:schema101.required,parentSchema:schema101,data:data10};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}for(const key2 in data10){if(!((((key2 === "strategy") || (key2 === "beforeAllowTrafficFunction")) || (key2 === "afterTrafficShiftFunction")) || (key2 === "testListenerPort"))){const err15 = {instancePath:instancePath+"/deployment",schemaPath:"#/definitions/ContainerWorkloadDeploymentConfig/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key2},message:"must NOT have additional properties",schema:false,parentSchema:schema101,data:data10};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}}if(data10.strategy !== undefined){let data11 = data10.strategy;if(typeof data11 !== "string"){const err16 = {instancePath:instancePath+"/deployment/strategy",schemaPath:"#/definitions/ContainerWorkloadDeploymentConfig/properties/strategy/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema101.properties.strategy.type,parentSchema:schema101.properties.strategy,data:data11};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}if(!(((((data11 === "AllAtOnce") || (data11 === "Canary10Percent15Minutes")) || (data11 === "Canary10Percent5Minutes")) || (data11 === "Linear10PercentEvery1Minutes")) || (data11 === "Linear10PercentEvery3Minutes"))){const err17 = {instancePath:instancePath+"/deployment/strategy",schemaPath:"#/definitions/ContainerWorkloadDeploymentConfig/properties/strategy/enum",keyword:"enum",params:{allowedValues: schema101.properties.strategy.enum},message:"must be equal to one of the allowed values",schema:schema101.properties.strategy.enum,parentSchema:schema101.properties.strategy,data:data11};if(vErrors === null){vErrors = [err17];}else {vErrors.push(err17);}errors++;}}if(data10.beforeAllowTrafficFunction !== undefined){let data12 = data10.beforeAllowTrafficFunction;if(typeof data12 !== "string"){const err18 = {instancePath:instancePath+"/deployment/beforeAllowTrafficFunction",schemaPath:"#/definitions/ContainerWorkloadDeploymentConfig/properties/beforeAllowTrafficFunction/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema101.properties.beforeAllowTrafficFunction.type,parentSchema:schema101.properties.beforeAllowTrafficFunction,data:data12};if(vErrors === null){vErrors = [err18];}else {vErrors.push(err18);}errors++;}}if(data10.afterTrafficShiftFunction !== undefined){let data13 = data10.afterTrafficShiftFunction;if(typeof data13 !== "string"){const err19 = {instancePath:instancePath+"/deployment/afterTrafficShiftFunction",schemaPath:"#/definitions/ContainerWorkloadDeploymentConfig/properties/afterTrafficShiftFunction/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema101.properties.afterTrafficShiftFunction.type,parentSchema:schema101.properties.afterTrafficShiftFunction,data:data13};if(vErrors === null){vErrors = [err19];}else {vErrors.push(err19);}errors++;}}if(data10.testListenerPort !== undefined){let data14 = data10.testListenerPort;if(!(typeof data14 == "number")){const err20 = {instancePath:instancePath+"/deployment/testListenerPort",schemaPath:"#/definitions/ContainerWorkloadDeploymentConfig/properties/testListenerPort/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema101.properties.testListenerPort.type,parentSchema:schema101.properties.testListenerPort,data:data14};if(vErrors === null){vErrors = [err20];}else {vErrors.push(err20);}errors++;}}}else {const err21 = {instancePath:instancePath+"/deployment",schemaPath:"#/definitions/ContainerWorkloadDeploymentConfig/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema101.type,parentSchema:schema101,data:data10};if(vErrors === null){vErrors = [err21];}else {vErrors.push(err21);}errors++;}}if(data.enableRemoteSessions !== undefined){let data15 = data.enableRemoteSessions;if(typeof data15 !== "boolean"){const err22 = {instancePath:instancePath+"/enableRemoteSessions",schemaPath:"#/properties/enableRemoteSessions/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema45.properties.enableRemoteSessions.type,parentSchema:schema45.properties.enableRemoteSessions,data:data15};if(vErrors === null){vErrors = [err22];}else {vErrors.push(err22);}errors++;}}if(data.usePrivateSubnetsWithNAT !== undefined){let data16 = data.usePrivateSubnetsWithNAT;if(typeof data16 !== "boolean"){const err23 = {instancePath:instancePath+"/usePrivateSubnetsWithNAT",schemaPath:"#/properties/usePrivateSubnetsWithNAT/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema45.properties.usePrivateSubnetsWithNAT.type,parentSchema:schema45.properties.usePrivateSubnetsWithNAT,data:data16};if(vErrors === null){vErrors = [err23];}else {vErrors.push(err23);}errors++;}}if(data.connectTo !== undefined){let data17 = data.connectTo;if(Array.isArray(data17)){const len2 = data17.length;for(let i2=0; i2<len2; i2++){let data18 = data17[i2];if(typeof data18 !== "string"){const err24 = {instancePath:instancePath+"/connectTo/" + i2,schemaPath:"#/properties/connectTo/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema45.properties.connectTo.items.type,parentSchema:schema45.properties.connectTo.items,data:data18};if(vErrors === null){vErrors = [err24];}else {vErrors.push(err24);}errors++;}}}else {const err25 = {instancePath:instancePath+"/connectTo",schemaPath:"#/properties/connectTo/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema45.properties.connectTo.type,parentSchema:schema45.properties.connectTo,data:data17};if(vErrors === null){vErrors = [err25];}else {vErrors.push(err25);}errors++;}}if(data.iamRoleStatements !== undefined){let data19 = data.iamRoleStatements;if(Array.isArray(data19)){const len3 = data19.length;for(let i3=0; i3<len3; i3++){let data20 = data19[i3];if(data20 && typeof data20 == "object" && !Array.isArray(data20)){if(data20.Resource === undefined){const err26 = {instancePath:instancePath+"/iamRoleStatements/" + i3,schemaPath:"#/definitions/StpIamRoleStatement/required",keyword:"required",params:{missingProperty: "Resource"},message:"must have required property '"+"Resource"+"'",schema:schema102.required,parentSchema:schema102,data:data20};if(vErrors === null){vErrors = [err26];}else {vErrors.push(err26);}errors++;}for(const key3 in data20){if(!(((((key3 === "Sid") || (key3 === "Effect")) || (key3 === "Action")) || (key3 === "Condition")) || (key3 === "Resource"))){const err27 = {instancePath:instancePath+"/iamRoleStatements/" + i3,schemaPath:"#/definitions/StpIamRoleStatement/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key3},message:"must NOT have additional properties",schema:false,parentSchema:schema102,data:data20};if(vErrors === null){vErrors = [err27];}else {vErrors.push(err27);}errors++;}}if(data20.Sid !== undefined){let data21 = data20.Sid;if(typeof data21 !== "string"){const err28 = {instancePath:instancePath+"/iamRoleStatements/" + i3+"/Sid",schemaPath:"#/definitions/StpIamRoleStatement/properties/Sid/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema102.properties.Sid.type,parentSchema:schema102.properties.Sid,data:data21};if(vErrors === null){vErrors = [err28];}else {vErrors.push(err28);}errors++;}}if(data20.Effect !== undefined){let data22 = data20.Effect;if(typeof data22 !== "string"){const err29 = {instancePath:instancePath+"/iamRoleStatements/" + i3+"/Effect",schemaPath:"#/definitions/StpIamRoleStatement/properties/Effect/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema102.properties.Effect.type,parentSchema:schema102.properties.Effect,data:data22};if(vErrors === null){vErrors = [err29];}else {vErrors.push(err29);}errors++;}}if(data20.Action !== undefined){let data23 = data20.Action;if(Array.isArray(data23)){const len4 = data23.length;for(let i4=0; i4<len4; i4++){let data24 = data23[i4];if(typeof data24 !== "string"){const err30 = {instancePath:instancePath+"/iamRoleStatements/" + i3+"/Action/" + i4,schemaPath:"#/definitions/StpIamRoleStatement/properties/Action/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema102.properties.Action.items.type,parentSchema:schema102.properties.Action.items,data:data24};if(vErrors === null){vErrors = [err30];}else {vErrors.push(err30);}errors++;}}}else {const err31 = {instancePath:instancePath+"/iamRoleStatements/" + i3+"/Action",schemaPath:"#/definitions/StpIamRoleStatement/properties/Action/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema102.properties.Action.type,parentSchema:schema102.properties.Action,data:data23};if(vErrors === null){vErrors = [err31];}else {vErrors.push(err31);}errors++;}}if(data20.Resource !== undefined){let data25 = data20.Resource;if(Array.isArray(data25)){const len5 = data25.length;for(let i5=0; i5<len5; i5++){let data26 = data25[i5];if(typeof data26 !== "string"){const err32 = {instancePath:instancePath+"/iamRoleStatements/" + i3+"/Resource/" + i5,schemaPath:"#/definitions/StpIamRoleStatement/properties/Resource/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema102.properties.Resource.items.type,parentSchema:schema102.properties.Resource.items,data:data26};if(vErrors === null){vErrors = [err32];}else {vErrors.push(err32);}errors++;}}}else {const err33 = {instancePath:instancePath+"/iamRoleStatements/" + i3+"/Resource",schemaPath:"#/definitions/StpIamRoleStatement/properties/Resource/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema102.properties.Resource.type,parentSchema:schema102.properties.Resource,data:data25};if(vErrors === null){vErrors = [err33];}else {vErrors.push(err33);}errors++;}}}else {const err34 = {instancePath:instancePath+"/iamRoleStatements/" + i3,schemaPath:"#/definitions/StpIamRoleStatement/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema102.type,parentSchema:schema102,data:data20};if(vErrors === null){vErrors = [err34];}else {vErrors.push(err34);}errors++;}}}else {const err35 = {instancePath:instancePath+"/iamRoleStatements",schemaPath:"#/properties/iamRoleStatements/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema45.properties.iamRoleStatements.type,parentSchema:schema45.properties.iamRoleStatements,data:data19};if(vErrors === null){vErrors = [err35];}else {vErrors.push(err35);}errors++;}}}else {const err36 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema45.type,parentSchema:schema45,data};if(vErrors === null){vErrors = [err36];}else {vErrors.push(err36);}errors++;}validate35.errors = vErrors;return errors === 0;}function validate34(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema44.required,parentSchema:schema44,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema44.required,parentSchema:schema44,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!(((key0 === "type") || (key0 === "properties")) || (key0 === "overrides"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema44,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema44.properties.type.type,parentSchema:schema44.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("multi-container-workload" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "multi-container-workload"},message:"must be equal to constant",schema:"multi-container-workload",parentSchema:schema44.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate35(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate35.errors : vErrors.concat(validate35.errors);errors = vErrors.length;}}if(data.overrides !== undefined){let data2 = data.overrides;if(data2 && typeof data2 == "object" && !Array.isArray(data2)){for(const key1 in data2){let data3 = data2[key1];if(data3 && typeof data3 == "object" && !Array.isArray(data3)){}else {const err5 = {instancePath:instancePath+"/overrides/" + key1.replace(/~/g, "~0").replace(/\//g, "~1"),schemaPath:"#/properties/overrides/additionalProperties/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema44.properties.overrides.additionalProperties.type,parentSchema:schema44.properties.overrides.additionalProperties,data:data3};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}}else {const err6 = {instancePath:instancePath+"/overrides",schemaPath:"#/properties/overrides/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema44.properties.overrides.type,parentSchema:schema44.properties.overrides,data:data2};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}}else {const err7 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema44.type,parentSchema:schema44,data};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}validate34.errors = vErrors;return errors === 0;}const schema103 = {"description":"#### A resource for running containerized batch computing jobs.\n\n---\n\nBatch jobs are ideal for workloads that need to run to completion, such as data processing, machine learning pipelines, or other long-running background tasks.\nStacktape manages the underlying infrastructure, so you can focus on your application.\n\n- **Pay-per-use**: You only pay for the compute resources consumed by your job.\n- **Scalable**: Handles both CPU-intensive and GPU-accelerated workloads.\n- **Resilient**: Provides built-in support for retries, logging, and event-driven scheduling.","type":"object","properties":{"type":{"type":"string","const":"batch-job"},"properties":{"$ref":"#/definitions/BatchJobProps"},"overrides":{"description":"#### Resource Overrides\n\n---\n\nOverrides properties of the underlying CloudFormation resources that Stacktape creates.\n\nChild resources are identified by their CloudFormation logical ID (e.g., `MyBucketBucket`). You can find these IDs by running `stacktape stack:info --detailed`.\n\nFor a list of properties that can be overridden, refer to the [AWS CloudFormation documentation](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html).","type":"object","additionalProperties":{"type":"object","additionalProperties":{}}}},"additionalProperties":false,"required":["properties","type"]};const schema104 = {"type":"object","properties":{"container":{"$ref":"#/definitions/BatchJobContainer","description":"#### Configures the Docker container for the batch job."},"resources":{"$ref":"#/definitions/BatchJobResources","description":"#### Configures the computing resources for the job.\n\n---\n\nUse this to specify the amount of CPU, memory, and (optionally) GPU required.\nStacktape will automatically provision an instance that meets these requirements when the job runs."},"timeout":{"description":"#### The maximum time (in seconds) the job is allowed to run.\n\n---\n\nIf the job exceeds this timeout, it will be stopped. If retries are configured, the job will be re-run.","type":"number"},"useSpotInstances":{"description":"#### Runs the job on Spot Instances to reduce compute costs.\n\n---\n\n**Benefits:**\n- Save up to 90% compared to on-demand pricing by using spare AWS capacity.\n\n**Important Considerations:**\n- Spot Instances can be interrupted at any time. Your container will receive a `SIGTERM` signal and has **120 seconds** to save its state and shut down gracefully.\n- Your application should be designed to be fault-tolerant. This can be achieved by implementing checkpointing or by making the job idempotent (safe to restart from the beginning).\n\nFor more information, see the [AWS Spot Instance Advisor](https://aws.amazon.com/ec2/spot/instance-advisor/) for interruption rates and best practices.","default":false,"type":"boolean"},"logging":{"$ref":"#/definitions/BatchJobLogging","description":"#### Configures the logging behavior for the batch job.\n\n---\n\nContainer logs (`stdout` and `stderr`) are automatically sent to a CloudWatch log group.\nBy default, logs are retained for 180 days. You can view them in the [Stacktape Console](https://console.stacktape.com)."},"retryConfig":{"$ref":"#/definitions/BatchJobRetryConfiguration","description":"#### Configures the retry behavior for the job.\n\n---\n\nIf a job fails (e.g., non-zero exit code, timeout, Spot Instance interruption), it can be automatically retried."},"events":{"description":"#### Configures event triggers that start the batch job.\n\n---\n\nA batch job can be triggered by various events, such as an HTTP request, a file upload to S3, or a schedule.\nStacktape manages the underlying trigger mechanism automatically.","type":"array","items":{"anyOf":[{"$ref":"#/definitions/ApplicationLoadBalancerIntegration"},{"$ref":"#/definitions/SnsIntegration"},{"$ref":"#/definitions/SqsIntegration"},{"$ref":"#/definitions/KinesisIntegration"},{"$ref":"#/definitions/DynamoDbIntegration"},{"$ref":"#/definitions/S3Integration"},{"$ref":"#/definitions/ScheduleIntegration"},{"$ref":"#/definitions/CloudwatchLogIntegration"},{"$ref":"#/definitions/HttpApiIntegration"},{"$ref":"#/definitions/EventBusIntegration"}]}},"connectTo":{"description":"#### Connect To\n\n---\n\nConfigures access to other resources in your stack and AWS services. By specifying resources here, Stacktape automatically:\n- Configures IAM role permissions.\n- Sets up security group rules to allow network traffic.\n- Injects environment variables with connection details into the compute resource.\n\nEnvironment variables are named `STP_[RESOURCE_NAME]_[VARIABLE_NAME]` (e.g., `STP_MY_DATABASE_CONNECTION_STRING`).\n\n---\n\n#### Granted Permissions and Injected Variables:\n\n**`Bucket`**\n- **Permissions:** List, create, get, delete, and tag objects.\n- **Variables:** `NAME`, `ARN`\n\n**`DynamoDbTable`**\n- **Permissions:** Get, put, update, delete, scan, and query items; describe table stream.\n- **Variables:** `NAME`, `ARN`, `STREAM_ARN`\n\n**`MongoDbAtlasCluster`**\n- **Permissions:** Allows connection to clusters with `accessibilityMode` set to `scoping-workloads-in-vpc`. Creates a temporary user for secure, credential-less access.\n- **Variables:** `CONNECTION_STRING`\n\n**`RelationalDatabase`**\n- **Permissions:** Allows connection to databases with `accessibilityMode` set to `scoping-workloads-in-vpc`.\n- **Variables:** `CONNECTION_STRING`, `JDBC_CONNECTION_STRING`, `HOST`, `PORT`. For Aurora clusters, `READER_CONNECTION_STRING`, `READER_JDBC_CONNECTION_STRING`, and `READER_HOST` are also included.\n\n**`RedisCluster`**\n- **Permissions:** Allows connection to clusters with `accessibilityMode` set to `scoping-workloads-in-vpc`.\n- **Variables:** `HOST`, `READER_HOST`, `PORT`\n\n**`EventBus`**\n- **Permissions:** Publish events.\n- **Variables:** `ARN`\n\n**`Function`**\n- **Permissions:** Invoke the function, including via its URL if enabled.\n- **Variables:** `ARN`\n\n**`BatchJob`**\n- **Permissions:** Submit, list, describe, and terminate jobs; manage state machine executions.\n- **Variables:** `JOB_DEFINITION_ARN`, `STATE_MACHINE_ARN`\n\n**`UserAuthPool`**\n- **Permissions:** Full control over the user pool (`cognito-idp:*`).\n- **Variables:** `ID`, `CLIENT_ID`, `ARN`\n\n**`SnsTopic`**\n- **Permissions:** Confirm, list, publish, and manage subscriptions.\n- **Variables:** `ARN`, `NAME`\n\n**`SqsQueue`**\n- **Permissions:** Send, receive, delete, and purge messages.\n- **Variables:** `ARN`, `NAME`, `URL`\n\n**`UpstashKafkaTopic`**\n- **Variables:** `TOPIC_NAME`, `TOPIC_ID`, `USERNAME`, `PASSWORD`, `TCP_ENDPOINT`, `REST_URL`\n\n**`UpstashRedis`**\n- **Variables:** `HOST`, `PORT`, `PASSWORD`, `REST_TOKEN`, `REST_URL`, `REDIS_URL`\n\n**`PrivateService`**\n- **Variables:** `ADDRESS`\n\n**`aws:ses` (Macro)**\n- **Permissions:** Full permissions for AWS SES (`ses:*`).","type":"array","items":{"type":"string"}},"iamRoleStatements":{"description":"#### Custom IAM Role Statements\n\n---\n\nA list of raw AWS IAM role statements to append to the resource's role, allowing for fine-grained permission control.","type":"array","items":{"$ref":"#/definitions/StpIamRoleStatement"}}},"additionalProperties":false,"required":["container","resources"]};const schema122 = {"type":"object","properties":{"cpu":{"description":"#### The number of virtual CPUs (vCPUs) to allocate to the job.\n\n---\n\nMust be an integer (e.g., 1, 2, 4).","type":"number"},"memory":{"description":"#### The amount of memory (in MB) to allocate to the job.\n\n---\n\n> **Important:** AWS instances require a small amount of memory for their own management processes.\n> If you request memory in exact powers of 2 (e.g., 8192 MB for 8 GiB), a larger instance may be provisioned than you expect.\n>\n> **Recommendation:** To ensure efficient instance usage, consider requesting slightly less memory (e.g., 7680 MB instead of 8192 MB).\n> This allows the job to fit on a standard 8 GiB instance without needing to scale up.\n>\n> For more details, see the [AWS documentation on memory management](https://docs.aws.amazon.com/batch/latest/userguide/memory-management.html#ecs-reserved-memory).","type":"number"},"gpu":{"description":"#### The number of physical GPUs required by the job.\n\n---\n\nSpecifying this will ensure the job runs on a GPU-accelerated instance.\nSupported families include NVIDIA A100 (for deep learning) and A10G (for graphics and ML inference).\nIf omitted, a CPU-only instance will be used.","type":"number"}},"additionalProperties":false,"required":["cpu","memory"]};const schema124 = {"type":"object","properties":{"attempts":{"description":"#### The maximum number of times to retry a failed job.\n\n---\n\nA job is retried if it fails due to an internal error, a timeout, or a Spot Instance interruption.\nOnce this limit is reached, the job is marked as failed.","default":1,"type":"number"},"retryIntervalSeconds":{"description":"#### The time (in seconds) to wait between retry attempts.","default":0,"type":"number"},"retryIntervalMultiplier":{"description":"#### A multiplier for the `retryIntervalSeconds`.\n\n---\n\nWith each retry, the wait time is multiplied by this value. This is useful for implementing an exponential backoff strategy, which can help alleviate pressure on downstream services.","default":1,"type":"number"}},"additionalProperties":false};const schema105 = {"type":"object","properties":{"packaging":{"$ref":"#/definitions/BatchJobContainerPackaging","description":"#### Configures the container image for the batch job."},"environment":{"description":"#### A list of environment variables to inject into the container at runtime.\n\n---\n\nEnvironment variables are ideal for providing configuration details to your job, such as database connection strings, API keys, or other dynamic parameters.","type":"array","items":{"$ref":"#/definitions/EnvironmentVar"}}},"additionalProperties":false,"required":["packaging"]};const schema106 = {"anyOf":[{"$ref":"#/definitions/StpBuildpackBjImagePackaging"},{"$ref":"#/definitions/ExternalBuildpackBjImagePackaging"},{"$ref":"#/definitions/PrebuiltBjImagePackaging"},{"$ref":"#/definitions/CustomDockerfileBjImagePackaging"},{"$ref":"#/definitions/NixpacksBjImagePackaging"}]};const schema107 = {"type":"object","properties":{"type":{"type":"string","const":"stacktape-image-buildpack"},"properties":{"$ref":"#/definitions/StpBuildpackBjImagePackagingProps"}},"additionalProperties":false,"required":["properties","type"]};const schema108 = {"description":"#### Configures an image to be built automatically by Stacktape from your source code.","type":"object","properties":{"languageSpecificConfig":{"description":"#### Language-specific packaging configuration.","anyOf":[{"$ref":"#/definitions/EsLanguageSpecificConfig"},{"$ref":"#/definitions/PyLanguageSpecificConfig"},{"$ref":"#/definitions/JavaLanguageSpecificConfig"},{"$ref":"#/definitions/GoLanguageSpecificConfig"}]},"requiresGlibcBinaries":{"description":"#### Builds the image with support for glibc-based binaries.\n\n---\n\nBy default, Stacktape uses Alpine-based Docker images, which use `musl` instead of `glibc`.\nEnable this option if your application has native dependencies that require `glibc`.\nThis will result in a larger container image.","type":"boolean"},"customDockerBuildCommands":{"description":"#### A list of commands to be executed during the `docker build` process.\n\n---\n\nThese commands are executed using the `RUN` directive in the Dockerfile.\nThis is useful for installing additional system dependencies in your container.","type":"array","items":{"type":"string"}},"entryfilePath":{"description":"#### The path to the entry point of your application, relative to your Stacktape configuration file.\n\n---\n\nStacktape will attempt to bundle your code and its dependencies into a single file.\nIf a dependency cannot be bundled (e.g., it relies on binary executables), it will be installed and included in the deployment package separately.","type":"string"},"includeFiles":{"description":"#### A glob pattern of files to explicitly include in the deployment package.\n\n---\n\nThe path is relative to your Stacktape configuration file.","type":"array","items":{"type":"string"}},"excludeFiles":{"description":"#### A glob pattern of files to explicitly exclude from the deployment package.\n\n---","type":"array","items":{"type":"string"}},"excludeDependencies":{"description":"#### A list of dependencies to exclude from the deployment package.","type":"array","items":{"type":"string"}}},"additionalProperties":false,"required":["entryfilePath"]};function validate99(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.entryfilePath === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "entryfilePath"},message:"must have required property '"+"entryfilePath"+"'",schema:schema108.required,parentSchema:schema108,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!(((((((key0 === "languageSpecificConfig") || (key0 === "requiresGlibcBinaries")) || (key0 === "customDockerBuildCommands")) || (key0 === "entryfilePath")) || (key0 === "includeFiles")) || (key0 === "excludeFiles")) || (key0 === "excludeDependencies"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema108,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.languageSpecificConfig !== undefined){let data0 = data.languageSpecificConfig;const _errs3 = errors;let valid1 = false;const _errs4 = errors;if(data0 && typeof data0 == "object" && !Array.isArray(data0)){for(const key1 in data0){if(!((((((((key1 === "tsConfigPath") || (key1 === "emitTsDecoratorMetadata")) || (key1 === "dependenciesToExcludeFromBundle")) || (key1 === "outputModuleFormat")) || (key1 === "nodeVersion")) || (key1 === "disableSourceMaps")) || (key1 === "outputSourceMapsTo")) || (key1 === "dependenciesToExcludeFromDeploymentPackage"))){const err2 = {instancePath:instancePath+"/languageSpecificConfig",schemaPath:"#/definitions/EsLanguageSpecificConfig/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema68,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data0.tsConfigPath !== undefined){let data1 = data0.tsConfigPath;if(typeof data1 !== "string"){const err3 = {instancePath:instancePath+"/languageSpecificConfig/tsConfigPath",schemaPath:"#/definitions/EsLanguageSpecificConfig/properties/tsConfigPath/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema68.properties.tsConfigPath.type,parentSchema:schema68.properties.tsConfigPath,data:data1};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data0.emitTsDecoratorMetadata !== undefined){let data2 = data0.emitTsDecoratorMetadata;if(typeof data2 !== "boolean"){const err4 = {instancePath:instancePath+"/languageSpecificConfig/emitTsDecoratorMetadata",schemaPath:"#/definitions/EsLanguageSpecificConfig/properties/emitTsDecoratorMetadata/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema68.properties.emitTsDecoratorMetadata.type,parentSchema:schema68.properties.emitTsDecoratorMetadata,data:data2};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data0.dependenciesToExcludeFromBundle !== undefined){let data3 = data0.dependenciesToExcludeFromBundle;if(Array.isArray(data3)){const len0 = data3.length;for(let i0=0; i0<len0; i0++){let data4 = data3[i0];if(typeof data4 !== "string"){const err5 = {instancePath:instancePath+"/languageSpecificConfig/dependenciesToExcludeFromBundle/" + i0,schemaPath:"#/definitions/EsLanguageSpecificConfig/properties/dependenciesToExcludeFromBundle/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema68.properties.dependenciesToExcludeFromBundle.items.type,parentSchema:schema68.properties.dependenciesToExcludeFromBundle.items,data:data4};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}}else {const err6 = {instancePath:instancePath+"/languageSpecificConfig/dependenciesToExcludeFromBundle",schemaPath:"#/definitions/EsLanguageSpecificConfig/properties/dependenciesToExcludeFromBundle/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema68.properties.dependenciesToExcludeFromBundle.type,parentSchema:schema68.properties.dependenciesToExcludeFromBundle,data:data3};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data0.outputModuleFormat !== undefined){let data5 = data0.outputModuleFormat;if(typeof data5 !== "string"){const err7 = {instancePath:instancePath+"/languageSpecificConfig/outputModuleFormat",schemaPath:"#/definitions/EsLanguageSpecificConfig/properties/outputModuleFormat/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema68.properties.outputModuleFormat.type,parentSchema:schema68.properties.outputModuleFormat,data:data5};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}if(!((data5 === "cjs") || (data5 === "esm"))){const err8 = {instancePath:instancePath+"/languageSpecificConfig/outputModuleFormat",schemaPath:"#/definitions/EsLanguageSpecificConfig/properties/outputModuleFormat/enum",keyword:"enum",params:{allowedValues: schema68.properties.outputModuleFormat.enum},message:"must be equal to one of the allowed values",schema:schema68.properties.outputModuleFormat.enum,parentSchema:schema68.properties.outputModuleFormat,data:data5};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}if(data0.nodeVersion !== undefined){let data6 = data0.nodeVersion;if(!(typeof data6 == "number")){const err9 = {instancePath:instancePath+"/languageSpecificConfig/nodeVersion",schemaPath:"#/definitions/EsLanguageSpecificConfig/properties/nodeVersion/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema68.properties.nodeVersion.type,parentSchema:schema68.properties.nodeVersion,data:data6};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}if(!(((((((((data6 === 16) || (data6 === 17)) || (data6 === 18)) || (data6 === 19)) || (data6 === 20)) || (data6 === 21)) || (data6 === 22)) || (data6 === 23)) || (data6 === 24))){const err10 = {instancePath:instancePath+"/languageSpecificConfig/nodeVersion",schemaPath:"#/definitions/EsLanguageSpecificConfig/properties/nodeVersion/enum",keyword:"enum",params:{allowedValues: schema68.properties.nodeVersion.enum},message:"must be equal to one of the allowed values",schema:schema68.properties.nodeVersion.enum,parentSchema:schema68.properties.nodeVersion,data:data6};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data0.disableSourceMaps !== undefined){let data7 = data0.disableSourceMaps;if(typeof data7 !== "boolean"){const err11 = {instancePath:instancePath+"/languageSpecificConfig/disableSourceMaps",schemaPath:"#/definitions/EsLanguageSpecificConfig/properties/disableSourceMaps/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema68.properties.disableSourceMaps.type,parentSchema:schema68.properties.disableSourceMaps,data:data7};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}if(data0.outputSourceMapsTo !== undefined){let data8 = data0.outputSourceMapsTo;if(typeof data8 !== "string"){const err12 = {instancePath:instancePath+"/languageSpecificConfig/outputSourceMapsTo",schemaPath:"#/definitions/EsLanguageSpecificConfig/properties/outputSourceMapsTo/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema68.properties.outputSourceMapsTo.type,parentSchema:schema68.properties.outputSourceMapsTo,data:data8};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}if(data0.dependenciesToExcludeFromDeploymentPackage !== undefined){let data9 = data0.dependenciesToExcludeFromDeploymentPackage;if(Array.isArray(data9)){const len1 = data9.length;for(let i1=0; i1<len1; i1++){let data10 = data9[i1];if(typeof data10 !== "string"){const err13 = {instancePath:instancePath+"/languageSpecificConfig/dependenciesToExcludeFromDeploymentPackage/" + i1,schemaPath:"#/definitions/EsLanguageSpecificConfig/properties/dependenciesToExcludeFromDeploymentPackage/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema68.properties.dependenciesToExcludeFromDeploymentPackage.items.type,parentSchema:schema68.properties.dependenciesToExcludeFromDeploymentPackage.items,data:data10};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}}else {const err14 = {instancePath:instancePath+"/languageSpecificConfig/dependenciesToExcludeFromDeploymentPackage",schemaPath:"#/definitions/EsLanguageSpecificConfig/properties/dependenciesToExcludeFromDeploymentPackage/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema68.properties.dependenciesToExcludeFromDeploymentPackage.type,parentSchema:schema68.properties.dependenciesToExcludeFromDeploymentPackage,data:data9};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}}}else {const err15 = {instancePath:instancePath+"/languageSpecificConfig",schemaPath:"#/definitions/EsLanguageSpecificConfig/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema68.type,parentSchema:schema68,data:data0};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}var _valid0 = _errs4 === errors;valid1 = valid1 || _valid0;if(!valid1){const _errs28 = errors;if(!(validate60(data0, {instancePath:instancePath+"/languageSpecificConfig",parentData:data,parentDataProperty:"languageSpecificConfig",rootData}))){vErrors = vErrors === null ? validate60.errors : vErrors.concat(validate60.errors);errors = vErrors.length;}var _valid0 = _errs28 === errors;valid1 = valid1 || _valid0;if(!valid1){const _errs29 = errors;if(!(validate62(data0, {instancePath:instancePath+"/languageSpecificConfig",parentData:data,parentDataProperty:"languageSpecificConfig",rootData}))){vErrors = vErrors === null ? validate62.errors : vErrors.concat(validate62.errors);errors = vErrors.length;}var _valid0 = _errs29 === errors;valid1 = valid1 || _valid0;if(!valid1){const _errs30 = errors;if(data0 && typeof data0 == "object" && !Array.isArray(data0)){for(const key2 in data0){const err16 = {instancePath:instancePath+"/languageSpecificConfig",schemaPath:"#/definitions/GoLanguageSpecificConfig/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key2},message:"must NOT have additional properties",schema:false,parentSchema:schema75,data:data0};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}}else {const err17 = {instancePath:instancePath+"/languageSpecificConfig",schemaPath:"#/definitions/GoLanguageSpecificConfig/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema75.type,parentSchema:schema75,data:data0};if(vErrors === null){vErrors = [err17];}else {vErrors.push(err17);}errors++;}var _valid0 = _errs30 === errors;valid1 = valid1 || _valid0;}}}if(!valid1){const err18 = {instancePath:instancePath+"/languageSpecificConfig",schemaPath:"#/properties/languageSpecificConfig/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:schema108.properties.languageSpecificConfig.anyOf,parentSchema:schema108.properties.languageSpecificConfig,data:data0};if(vErrors === null){vErrors = [err18];}else {vErrors.push(err18);}errors++;}else {errors = _errs3;if(vErrors !== null){if(_errs3){vErrors.length = _errs3;}else {vErrors = null;}}}}if(data.requiresGlibcBinaries !== undefined){let data11 = data.requiresGlibcBinaries;if(typeof data11 !== "boolean"){const err19 = {instancePath:instancePath+"/requiresGlibcBinaries",schemaPath:"#/properties/requiresGlibcBinaries/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema108.properties.requiresGlibcBinaries.type,parentSchema:schema108.properties.requiresGlibcBinaries,data:data11};if(vErrors === null){vErrors = [err19];}else {vErrors.push(err19);}errors++;}}if(data.customDockerBuildCommands !== undefined){let data12 = data.customDockerBuildCommands;if(Array.isArray(data12)){const len2 = data12.length;for(let i2=0; i2<len2; i2++){let data13 = data12[i2];if(typeof data13 !== "string"){const err20 = {instancePath:instancePath+"/customDockerBuildCommands/" + i2,schemaPath:"#/properties/customDockerBuildCommands/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema108.properties.customDockerBuildCommands.items.type,parentSchema:schema108.properties.customDockerBuildCommands.items,data:data13};if(vErrors === null){vErrors = [err20];}else {vErrors.push(err20);}errors++;}}}else {const err21 = {instancePath:instancePath+"/customDockerBuildCommands",schemaPath:"#/properties/customDockerBuildCommands/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema108.properties.customDockerBuildCommands.type,parentSchema:schema108.properties.customDockerBuildCommands,data:data12};if(vErrors === null){vErrors = [err21];}else {vErrors.push(err21);}errors++;}}if(data.entryfilePath !== undefined){let data14 = data.entryfilePath;if(typeof data14 !== "string"){const err22 = {instancePath:instancePath+"/entryfilePath",schemaPath:"#/properties/entryfilePath/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema108.properties.entryfilePath.type,parentSchema:schema108.properties.entryfilePath,data:data14};if(vErrors === null){vErrors = [err22];}else {vErrors.push(err22);}errors++;}}if(data.includeFiles !== undefined){let data15 = data.includeFiles;if(Array.isArray(data15)){const len3 = data15.length;for(let i3=0; i3<len3; i3++){let data16 = data15[i3];if(typeof data16 !== "string"){const err23 = {instancePath:instancePath+"/includeFiles/" + i3,schemaPath:"#/properties/includeFiles/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema108.properties.includeFiles.items.type,parentSchema:schema108.properties.includeFiles.items,data:data16};if(vErrors === null){vErrors = [err23];}else {vErrors.push(err23);}errors++;}}}else {const err24 = {instancePath:instancePath+"/includeFiles",schemaPath:"#/properties/includeFiles/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema108.properties.includeFiles.type,parentSchema:schema108.properties.includeFiles,data:data15};if(vErrors === null){vErrors = [err24];}else {vErrors.push(err24);}errors++;}}if(data.excludeFiles !== undefined){let data17 = data.excludeFiles;if(Array.isArray(data17)){const len4 = data17.length;for(let i4=0; i4<len4; i4++){let data18 = data17[i4];if(typeof data18 !== "string"){const err25 = {instancePath:instancePath+"/excludeFiles/" + i4,schemaPath:"#/properties/excludeFiles/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema108.properties.excludeFiles.items.type,parentSchema:schema108.properties.excludeFiles.items,data:data18};if(vErrors === null){vErrors = [err25];}else {vErrors.push(err25);}errors++;}}}else {const err26 = {instancePath:instancePath+"/excludeFiles",schemaPath:"#/properties/excludeFiles/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema108.properties.excludeFiles.type,parentSchema:schema108.properties.excludeFiles,data:data17};if(vErrors === null){vErrors = [err26];}else {vErrors.push(err26);}errors++;}}if(data.excludeDependencies !== undefined){let data19 = data.excludeDependencies;if(Array.isArray(data19)){const len5 = data19.length;for(let i5=0; i5<len5; i5++){let data20 = data19[i5];if(typeof data20 !== "string"){const err27 = {instancePath:instancePath+"/excludeDependencies/" + i5,schemaPath:"#/properties/excludeDependencies/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema108.properties.excludeDependencies.items.type,parentSchema:schema108.properties.excludeDependencies.items,data:data20};if(vErrors === null){vErrors = [err27];}else {vErrors.push(err27);}errors++;}}}else {const err28 = {instancePath:instancePath+"/excludeDependencies",schemaPath:"#/properties/excludeDependencies/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema108.properties.excludeDependencies.type,parentSchema:schema108.properties.excludeDependencies,data:data19};if(vErrors === null){vErrors = [err28];}else {vErrors.push(err28);}errors++;}}}else {const err29 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema108.type,parentSchema:schema108,data};if(vErrors === null){vErrors = [err29];}else {vErrors.push(err29);}errors++;}validate99.errors = vErrors;return errors === 0;}function validate98(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema107.required,parentSchema:schema107,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema107.required,parentSchema:schema107,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema107,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema107.properties.type.type,parentSchema:schema107.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("stacktape-image-buildpack" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "stacktape-image-buildpack"},message:"must be equal to constant",schema:"stacktape-image-buildpack",parentSchema:schema107.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate99(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate99.errors : vErrors.concat(validate99.errors);errors = vErrors.length;}}}else {const err5 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema107.type,parentSchema:schema107,data};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}validate98.errors = vErrors;return errors === 0;}const schema111 = {"type":"object","properties":{"type":{"type":"string","const":"external-buildpack"},"properties":{"$ref":"#/definitions/ExternalBuildpackBjImagePackagingProps"}},"additionalProperties":false,"required":["properties","type"]};const schema112 = {"type":"object","properties":{"builder":{"description":"#### The Buildpack Builder to use.\n\n---","default":"paketobuildpacks/builder-jammy-base","type":"string"},"buildpacks":{"description":"#### The specific Buildpack to use.\n\n---\n\nBy default, the buildpack is detected automatically.","type":"array","items":{"type":"string"}},"sourceDirectoryPath":{"description":"#### The path to the source code directory.","type":"string"},"command":{"description":"#### A command to be executed when the container starts.\n\n---\n\nExample: `['/app/start.sh']`","type":"array","items":{"type":"string"}}},"additionalProperties":false,"required":["sourceDirectoryPath"]};function validate104(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema111.required,parentSchema:schema111,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema111.required,parentSchema:schema111,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema111,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema111.properties.type.type,parentSchema:schema111.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("external-buildpack" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "external-buildpack"},message:"must be equal to constant",schema:"external-buildpack",parentSchema:schema111.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){let data1 = data.properties;if(data1 && typeof data1 == "object" && !Array.isArray(data1)){if(data1.sourceDirectoryPath === undefined){const err5 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/ExternalBuildpackBjImagePackagingProps/required",keyword:"required",params:{missingProperty: "sourceDirectoryPath"},message:"must have required property '"+"sourceDirectoryPath"+"'",schema:schema112.required,parentSchema:schema112,data:data1};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}for(const key1 in data1){if(!((((key1 === "builder") || (key1 === "buildpacks")) || (key1 === "sourceDirectoryPath")) || (key1 === "command"))){const err6 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/ExternalBuildpackBjImagePackagingProps/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema112,data:data1};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data1.builder !== undefined){let data2 = data1.builder;if(typeof data2 !== "string"){const err7 = {instancePath:instancePath+"/properties/builder",schemaPath:"#/definitions/ExternalBuildpackBjImagePackagingProps/properties/builder/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema112.properties.builder.type,parentSchema:schema112.properties.builder,data:data2};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data1.buildpacks !== undefined){let data3 = data1.buildpacks;if(Array.isArray(data3)){const len0 = data3.length;for(let i0=0; i0<len0; i0++){let data4 = data3[i0];if(typeof data4 !== "string"){const err8 = {instancePath:instancePath+"/properties/buildpacks/" + i0,schemaPath:"#/definitions/ExternalBuildpackBjImagePackagingProps/properties/buildpacks/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema112.properties.buildpacks.items.type,parentSchema:schema112.properties.buildpacks.items,data:data4};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}}else {const err9 = {instancePath:instancePath+"/properties/buildpacks",schemaPath:"#/definitions/ExternalBuildpackBjImagePackagingProps/properties/buildpacks/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema112.properties.buildpacks.type,parentSchema:schema112.properties.buildpacks,data:data3};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(data1.sourceDirectoryPath !== undefined){let data5 = data1.sourceDirectoryPath;if(typeof data5 !== "string"){const err10 = {instancePath:instancePath+"/properties/sourceDirectoryPath",schemaPath:"#/definitions/ExternalBuildpackBjImagePackagingProps/properties/sourceDirectoryPath/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema112.properties.sourceDirectoryPath.type,parentSchema:schema112.properties.sourceDirectoryPath,data:data5};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data1.command !== undefined){let data6 = data1.command;if(Array.isArray(data6)){const len1 = data6.length;for(let i1=0; i1<len1; i1++){let data7 = data6[i1];if(typeof data7 !== "string"){const err11 = {instancePath:instancePath+"/properties/command/" + i1,schemaPath:"#/definitions/ExternalBuildpackBjImagePackagingProps/properties/command/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema112.properties.command.items.type,parentSchema:schema112.properties.command.items,data:data7};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}}else {const err12 = {instancePath:instancePath+"/properties/command",schemaPath:"#/definitions/ExternalBuildpackBjImagePackagingProps/properties/command/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema112.properties.command.type,parentSchema:schema112.properties.command,data:data6};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}}else {const err13 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/ExternalBuildpackBjImagePackagingProps/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema112.type,parentSchema:schema112,data:data1};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}}else {const err14 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema111.type,parentSchema:schema111,data};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}validate104.errors = vErrors;return errors === 0;}const schema113 = {"type":"object","properties":{"type":{"type":"string","const":"prebuilt-image"},"properties":{"$ref":"#/definitions/PrebuiltImageBjPackagingProps"}},"additionalProperties":false,"required":["properties","type"]};const schema114 = {"description":"#### Configures a pre-built container image.","type":"object","properties":{"image":{"description":"#### The name or URL of the container image.","type":"string"},"command":{"description":"#### A command to be executed when the container starts.\n\n---\n\nThis overrides the `CMD` instruction in the Dockerfile.\n\nExample: `['/app/start.sh']`","type":"array","items":{"type":"string"}}},"additionalProperties":false,"required":["image"]};function validate106(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema113.required,parentSchema:schema113,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema113.required,parentSchema:schema113,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema113,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema113.properties.type.type,parentSchema:schema113.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("prebuilt-image" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "prebuilt-image"},message:"must be equal to constant",schema:"prebuilt-image",parentSchema:schema113.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){let data1 = data.properties;if(data1 && typeof data1 == "object" && !Array.isArray(data1)){if(data1.image === undefined){const err5 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/PrebuiltImageBjPackagingProps/required",keyword:"required",params:{missingProperty: "image"},message:"must have required property '"+"image"+"'",schema:schema114.required,parentSchema:schema114,data:data1};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}for(const key1 in data1){if(!((key1 === "image") || (key1 === "command"))){const err6 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/PrebuiltImageBjPackagingProps/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema114,data:data1};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data1.image !== undefined){let data2 = data1.image;if(typeof data2 !== "string"){const err7 = {instancePath:instancePath+"/properties/image",schemaPath:"#/definitions/PrebuiltImageBjPackagingProps/properties/image/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema114.properties.image.type,parentSchema:schema114.properties.image,data:data2};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data1.command !== undefined){let data3 = data1.command;if(Array.isArray(data3)){const len0 = data3.length;for(let i0=0; i0<len0; i0++){let data4 = data3[i0];if(typeof data4 !== "string"){const err8 = {instancePath:instancePath+"/properties/command/" + i0,schemaPath:"#/definitions/PrebuiltImageBjPackagingProps/properties/command/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema114.properties.command.items.type,parentSchema:schema114.properties.command.items,data:data4};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}}else {const err9 = {instancePath:instancePath+"/properties/command",schemaPath:"#/definitions/PrebuiltImageBjPackagingProps/properties/command/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema114.properties.command.type,parentSchema:schema114.properties.command,data:data3};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}}else {const err10 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/PrebuiltImageBjPackagingProps/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema114.type,parentSchema:schema114,data:data1};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}}else {const err11 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema113.type,parentSchema:schema113,data};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}validate106.errors = vErrors;return errors === 0;}const schema115 = {"type":"object","properties":{"type":{"type":"string","const":"custom-dockerfile"},"properties":{"$ref":"#/definitions/CustomDockerfileBjImagePackagingProps"}},"additionalProperties":false,"required":["properties","type"]};const schema116 = {"description":"#### Configures an image to be built by Stacktape from a specified Dockerfile.","type":"object","properties":{"dockerfilePath":{"description":"#### The path to the Dockerfile, relative to `buildContextPath`.","type":"string"},"buildContextPath":{"description":"#### The path to the build context directory, relative to your Stacktape configuration file.","type":"string"},"buildArgs":{"description":"#### A list of arguments to pass to the `docker build` command.","type":"array","items":{"$ref":"#/definitions/DockerBuildArg"}},"command":{"description":"#### A command to be executed when the container starts.\n\n---\n\nThis overrides the `CMD` instruction in the Dockerfile.\n\nExample: `['/app/start.sh']`","type":"array","items":{"type":"string"}}},"additionalProperties":false,"required":["buildContextPath"]};function validate109(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.buildContextPath === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "buildContextPath"},message:"must have required property '"+"buildContextPath"+"'",schema:schema116.required,parentSchema:schema116,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!((((key0 === "dockerfilePath") || (key0 === "buildContextPath")) || (key0 === "buildArgs")) || (key0 === "command"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema116,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.dockerfilePath !== undefined){let data0 = data.dockerfilePath;if(typeof data0 !== "string"){const err2 = {instancePath:instancePath+"/dockerfilePath",schemaPath:"#/properties/dockerfilePath/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema116.properties.dockerfilePath.type,parentSchema:schema116.properties.dockerfilePath,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.buildContextPath !== undefined){let data1 = data.buildContextPath;if(typeof data1 !== "string"){const err3 = {instancePath:instancePath+"/buildContextPath",schemaPath:"#/properties/buildContextPath/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema116.properties.buildContextPath.type,parentSchema:schema116.properties.buildContextPath,data:data1};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.buildArgs !== undefined){let data2 = data.buildArgs;if(Array.isArray(data2)){const len0 = data2.length;for(let i0=0; i0<len0; i0++){let data3 = data2[i0];if(data3 && typeof data3 == "object" && !Array.isArray(data3)){if(data3.argName === undefined){const err4 = {instancePath:instancePath+"/buildArgs/" + i0,schemaPath:"#/definitions/DockerBuildArg/required",keyword:"required",params:{missingProperty: "argName"},message:"must have required property '"+"argName"+"'",schema:schema82.required,parentSchema:schema82,data:data3};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}if(data3.value === undefined){const err5 = {instancePath:instancePath+"/buildArgs/" + i0,schemaPath:"#/definitions/DockerBuildArg/required",keyword:"required",params:{missingProperty: "value"},message:"must have required property '"+"value"+"'",schema:schema82.required,parentSchema:schema82,data:data3};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}for(const key1 in data3){if(!((key1 === "argName") || (key1 === "value"))){const err6 = {instancePath:instancePath+"/buildArgs/" + i0,schemaPath:"#/definitions/DockerBuildArg/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema82,data:data3};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data3.argName !== undefined){let data4 = data3.argName;if(typeof data4 !== "string"){const err7 = {instancePath:instancePath+"/buildArgs/" + i0+"/argName",schemaPath:"#/definitions/DockerBuildArg/properties/argName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema82.properties.argName.type,parentSchema:schema82.properties.argName,data:data4};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data3.value !== undefined){let data5 = data3.value;if(typeof data5 !== "string"){const err8 = {instancePath:instancePath+"/buildArgs/" + i0+"/value",schemaPath:"#/definitions/DockerBuildArg/properties/value/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema82.properties.value.type,parentSchema:schema82.properties.value,data:data5};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}}else {const err9 = {instancePath:instancePath+"/buildArgs/" + i0,schemaPath:"#/definitions/DockerBuildArg/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema82.type,parentSchema:schema82,data:data3};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}}else {const err10 = {instancePath:instancePath+"/buildArgs",schemaPath:"#/properties/buildArgs/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema116.properties.buildArgs.type,parentSchema:schema116.properties.buildArgs,data:data2};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data.command !== undefined){let data6 = data.command;if(Array.isArray(data6)){const len1 = data6.length;for(let i1=0; i1<len1; i1++){let data7 = data6[i1];if(typeof data7 !== "string"){const err11 = {instancePath:instancePath+"/command/" + i1,schemaPath:"#/properties/command/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema116.properties.command.items.type,parentSchema:schema116.properties.command.items,data:data7};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}}else {const err12 = {instancePath:instancePath+"/command",schemaPath:"#/properties/command/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema116.properties.command.type,parentSchema:schema116.properties.command,data:data6};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}}else {const err13 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema116.type,parentSchema:schema116,data};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}validate109.errors = vErrors;return errors === 0;}function validate108(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema115.required,parentSchema:schema115,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema115.required,parentSchema:schema115,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema115,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema115.properties.type.type,parentSchema:schema115.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("custom-dockerfile" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "custom-dockerfile"},message:"must be equal to constant",schema:"custom-dockerfile",parentSchema:schema115.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate109(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate109.errors : vErrors.concat(validate109.errors);errors = vErrors.length;}}}else {const err5 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema115.type,parentSchema:schema115,data};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}validate108.errors = vErrors;return errors === 0;}const schema118 = {"type":"object","properties":{"type":{"type":"string","const":"nixpacks"},"properties":{"$ref":"#/definitions/NixpacksBjImagePackagingProps"}},"additionalProperties":false,"required":["properties","type"]};const schema119 = {"type":"object","properties":{"sourceDirectoryPath":{"description":"#### The path to the source code directory.","type":"string"},"buildImage":{"description":"#### The base image to use for building the application.\n\n---\n\nFor more details, see the [Nixpacks documentation](https://nixpacks.com/docs/configuration/file#build-image).","type":"string"},"providers":{"description":"#### A list of providers to use for determining the build and runtime environments.","type":"array","items":{"type":"string"}},"startCmd":{"description":"#### The command to execute when starting the application.\n\n---\n\nThis overrides the default start command inferred by Nixpacks.","type":"string"},"startRunImage":{"description":"#### The base image to use for running the application.","type":"string"},"startOnlyIncludeFiles":{"description":"#### A list of file paths to include in the runtime environment; all other files will be excluded.","type":"array","items":{"type":"string"}},"phases":{"description":"#### The build phases for the application.","type":"array","items":{"$ref":"#/definitions/NixpacksPhase"}}},"additionalProperties":false,"required":["sourceDirectoryPath"]};function validate113(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.sourceDirectoryPath === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "sourceDirectoryPath"},message:"must have required property '"+"sourceDirectoryPath"+"'",schema:schema119.required,parentSchema:schema119,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!(((((((key0 === "sourceDirectoryPath") || (key0 === "buildImage")) || (key0 === "providers")) || (key0 === "startCmd")) || (key0 === "startRunImage")) || (key0 === "startOnlyIncludeFiles")) || (key0 === "phases"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema119,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.sourceDirectoryPath !== undefined){let data0 = data.sourceDirectoryPath;if(typeof data0 !== "string"){const err2 = {instancePath:instancePath+"/sourceDirectoryPath",schemaPath:"#/properties/sourceDirectoryPath/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema119.properties.sourceDirectoryPath.type,parentSchema:schema119.properties.sourceDirectoryPath,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.buildImage !== undefined){let data1 = data.buildImage;if(typeof data1 !== "string"){const err3 = {instancePath:instancePath+"/buildImage",schemaPath:"#/properties/buildImage/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema119.properties.buildImage.type,parentSchema:schema119.properties.buildImage,data:data1};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.providers !== undefined){let data2 = data.providers;if(Array.isArray(data2)){const len0 = data2.length;for(let i0=0; i0<len0; i0++){let data3 = data2[i0];if(typeof data3 !== "string"){const err4 = {instancePath:instancePath+"/providers/" + i0,schemaPath:"#/properties/providers/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema119.properties.providers.items.type,parentSchema:schema119.properties.providers.items,data:data3};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}}else {const err5 = {instancePath:instancePath+"/providers",schemaPath:"#/properties/providers/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema119.properties.providers.type,parentSchema:schema119.properties.providers,data:data2};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data.startCmd !== undefined){let data4 = data.startCmd;if(typeof data4 !== "string"){const err6 = {instancePath:instancePath+"/startCmd",schemaPath:"#/properties/startCmd/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema119.properties.startCmd.type,parentSchema:schema119.properties.startCmd,data:data4};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data.startRunImage !== undefined){let data5 = data.startRunImage;if(typeof data5 !== "string"){const err7 = {instancePath:instancePath+"/startRunImage",schemaPath:"#/properties/startRunImage/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema119.properties.startRunImage.type,parentSchema:schema119.properties.startRunImage,data:data5};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data.startOnlyIncludeFiles !== undefined){let data6 = data.startOnlyIncludeFiles;if(Array.isArray(data6)){const len1 = data6.length;for(let i1=0; i1<len1; i1++){let data7 = data6[i1];if(typeof data7 !== "string"){const err8 = {instancePath:instancePath+"/startOnlyIncludeFiles/" + i1,schemaPath:"#/properties/startOnlyIncludeFiles/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema119.properties.startOnlyIncludeFiles.items.type,parentSchema:schema119.properties.startOnlyIncludeFiles.items,data:data7};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}}else {const err9 = {instancePath:instancePath+"/startOnlyIncludeFiles",schemaPath:"#/properties/startOnlyIncludeFiles/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema119.properties.startOnlyIncludeFiles.type,parentSchema:schema119.properties.startOnlyIncludeFiles,data:data6};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(data.phases !== undefined){let data8 = data.phases;if(Array.isArray(data8)){const len2 = data8.length;for(let i2=0; i2<len2; i2++){let data9 = data8[i2];if(data9 && typeof data9 == "object" && !Array.isArray(data9)){if(data9.name === undefined){const err10 = {instancePath:instancePath+"/phases/" + i2,schemaPath:"#/definitions/NixpacksPhase/required",keyword:"required",params:{missingProperty: "name"},message:"must have required property '"+"name"+"'",schema:schema85.required,parentSchema:schema85,data:data9};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}for(const key1 in data9){if(!(func2.call(schema85.properties, key1))){const err11 = {instancePath:instancePath+"/phases/" + i2,schemaPath:"#/definitions/NixpacksPhase/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema85,data:data9};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}if(data9.name !== undefined){let data10 = data9.name;if(typeof data10 !== "string"){const err12 = {instancePath:instancePath+"/phases/" + i2+"/name",schemaPath:"#/definitions/NixpacksPhase/properties/name/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema85.properties.name.type,parentSchema:schema85.properties.name,data:data10};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}if(data9.cmds !== undefined){let data11 = data9.cmds;if(Array.isArray(data11)){const len3 = data11.length;for(let i3=0; i3<len3; i3++){let data12 = data11[i3];if(typeof data12 !== "string"){const err13 = {instancePath:instancePath+"/phases/" + i2+"/cmds/" + i3,schemaPath:"#/definitions/NixpacksPhase/properties/cmds/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema85.properties.cmds.items.type,parentSchema:schema85.properties.cmds.items,data:data12};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}}else {const err14 = {instancePath:instancePath+"/phases/" + i2+"/cmds",schemaPath:"#/definitions/NixpacksPhase/properties/cmds/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema85.properties.cmds.type,parentSchema:schema85.properties.cmds,data:data11};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}}if(data9.nixPkgs !== undefined){let data13 = data9.nixPkgs;if(Array.isArray(data13)){const len4 = data13.length;for(let i4=0; i4<len4; i4++){let data14 = data13[i4];if(typeof data14 !== "string"){const err15 = {instancePath:instancePath+"/phases/" + i2+"/nixPkgs/" + i4,schemaPath:"#/definitions/NixpacksPhase/properties/nixPkgs/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema85.properties.nixPkgs.items.type,parentSchema:schema85.properties.nixPkgs.items,data:data14};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}}}else {const err16 = {instancePath:instancePath+"/phases/" + i2+"/nixPkgs",schemaPath:"#/definitions/NixpacksPhase/properties/nixPkgs/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema85.properties.nixPkgs.type,parentSchema:schema85.properties.nixPkgs,data:data13};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}}if(data9.nixLibs !== undefined){let data15 = data9.nixLibs;if(Array.isArray(data15)){const len5 = data15.length;for(let i5=0; i5<len5; i5++){let data16 = data15[i5];if(typeof data16 !== "string"){const err17 = {instancePath:instancePath+"/phases/" + i2+"/nixLibs/" + i5,schemaPath:"#/definitions/NixpacksPhase/properties/nixLibs/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema85.properties.nixLibs.items.type,parentSchema:schema85.properties.nixLibs.items,data:data16};if(vErrors === null){vErrors = [err17];}else {vErrors.push(err17);}errors++;}}}else {const err18 = {instancePath:instancePath+"/phases/" + i2+"/nixLibs",schemaPath:"#/definitions/NixpacksPhase/properties/nixLibs/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema85.properties.nixLibs.type,parentSchema:schema85.properties.nixLibs,data:data15};if(vErrors === null){vErrors = [err18];}else {vErrors.push(err18);}errors++;}}if(data9.nixOverlay !== undefined){let data17 = data9.nixOverlay;if(Array.isArray(data17)){const len6 = data17.length;for(let i6=0; i6<len6; i6++){let data18 = data17[i6];if(typeof data18 !== "string"){const err19 = {instancePath:instancePath+"/phases/" + i2+"/nixOverlay/" + i6,schemaPath:"#/definitions/NixpacksPhase/properties/nixOverlay/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema85.properties.nixOverlay.items.type,parentSchema:schema85.properties.nixOverlay.items,data:data18};if(vErrors === null){vErrors = [err19];}else {vErrors.push(err19);}errors++;}}}else {const err20 = {instancePath:instancePath+"/phases/" + i2+"/nixOverlay",schemaPath:"#/definitions/NixpacksPhase/properties/nixOverlay/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema85.properties.nixOverlay.type,parentSchema:schema85.properties.nixOverlay,data:data17};if(vErrors === null){vErrors = [err20];}else {vErrors.push(err20);}errors++;}}if(data9.nixpkgsArchive !== undefined){let data19 = data9.nixpkgsArchive;if(typeof data19 !== "string"){const err21 = {instancePath:instancePath+"/phases/" + i2+"/nixpkgsArchive",schemaPath:"#/definitions/NixpacksPhase/properties/nixpkgsArchive/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema85.properties.nixpkgsArchive.type,parentSchema:schema85.properties.nixpkgsArchive,data:data19};if(vErrors === null){vErrors = [err21];}else {vErrors.push(err21);}errors++;}}if(data9.aptPkgs !== undefined){let data20 = data9.aptPkgs;if(Array.isArray(data20)){const len7 = data20.length;for(let i7=0; i7<len7; i7++){let data21 = data20[i7];if(typeof data21 !== "string"){const err22 = {instancePath:instancePath+"/phases/" + i2+"/aptPkgs/" + i7,schemaPath:"#/definitions/NixpacksPhase/properties/aptPkgs/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema85.properties.aptPkgs.items.type,parentSchema:schema85.properties.aptPkgs.items,data:data21};if(vErrors === null){vErrors = [err22];}else {vErrors.push(err22);}errors++;}}}else {const err23 = {instancePath:instancePath+"/phases/" + i2+"/aptPkgs",schemaPath:"#/definitions/NixpacksPhase/properties/aptPkgs/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema85.properties.aptPkgs.type,parentSchema:schema85.properties.aptPkgs,data:data20};if(vErrors === null){vErrors = [err23];}else {vErrors.push(err23);}errors++;}}if(data9.cacheDirectories !== undefined){let data22 = data9.cacheDirectories;if(Array.isArray(data22)){const len8 = data22.length;for(let i8=0; i8<len8; i8++){let data23 = data22[i8];if(typeof data23 !== "string"){const err24 = {instancePath:instancePath+"/phases/" + i2+"/cacheDirectories/" + i8,schemaPath:"#/definitions/NixpacksPhase/properties/cacheDirectories/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema85.properties.cacheDirectories.items.type,parentSchema:schema85.properties.cacheDirectories.items,data:data23};if(vErrors === null){vErrors = [err24];}else {vErrors.push(err24);}errors++;}}}else {const err25 = {instancePath:instancePath+"/phases/" + i2+"/cacheDirectories",schemaPath:"#/definitions/NixpacksPhase/properties/cacheDirectories/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema85.properties.cacheDirectories.type,parentSchema:schema85.properties.cacheDirectories,data:data22};if(vErrors === null){vErrors = [err25];}else {vErrors.push(err25);}errors++;}}if(data9.onlyIncludeFiles !== undefined){let data24 = data9.onlyIncludeFiles;if(Array.isArray(data24)){const len9 = data24.length;for(let i9=0; i9<len9; i9++){let data25 = data24[i9];if(typeof data25 !== "string"){const err26 = {instancePath:instancePath+"/phases/" + i2+"/onlyIncludeFiles/" + i9,schemaPath:"#/definitions/NixpacksPhase/properties/onlyIncludeFiles/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema85.properties.onlyIncludeFiles.items.type,parentSchema:schema85.properties.onlyIncludeFiles.items,data:data25};if(vErrors === null){vErrors = [err26];}else {vErrors.push(err26);}errors++;}}}else {const err27 = {instancePath:instancePath+"/phases/" + i2+"/onlyIncludeFiles",schemaPath:"#/definitions/NixpacksPhase/properties/onlyIncludeFiles/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema85.properties.onlyIncludeFiles.type,parentSchema:schema85.properties.onlyIncludeFiles,data:data24};if(vErrors === null){vErrors = [err27];}else {vErrors.push(err27);}errors++;}}}else {const err28 = {instancePath:instancePath+"/phases/" + i2,schemaPath:"#/definitions/NixpacksPhase/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema85.type,parentSchema:schema85,data:data9};if(vErrors === null){vErrors = [err28];}else {vErrors.push(err28);}errors++;}}}else {const err29 = {instancePath:instancePath+"/phases",schemaPath:"#/properties/phases/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema119.properties.phases.type,parentSchema:schema119.properties.phases,data:data8};if(vErrors === null){vErrors = [err29];}else {vErrors.push(err29);}errors++;}}}else {const err30 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema119.type,parentSchema:schema119,data};if(vErrors === null){vErrors = [err30];}else {vErrors.push(err30);}errors++;}validate113.errors = vErrors;return errors === 0;}function validate112(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema118.required,parentSchema:schema118,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema118.required,parentSchema:schema118,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema118,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema118.properties.type.type,parentSchema:schema118.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("nixpacks" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "nixpacks"},message:"must be equal to constant",schema:"nixpacks",parentSchema:schema118.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate113(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate113.errors : vErrors.concat(validate113.errors);errors = vErrors.length;}}}else {const err5 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema118.type,parentSchema:schema118,data};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}validate112.errors = vErrors;return errors === 0;}function validate97(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;const _errs0 = errors;let valid0 = false;const _errs1 = errors;if(!(validate98(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate98.errors : vErrors.concat(validate98.errors);errors = vErrors.length;}var _valid0 = _errs1 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs2 = errors;if(!(validate104(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate104.errors : vErrors.concat(validate104.errors);errors = vErrors.length;}var _valid0 = _errs2 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs3 = errors;if(!(validate106(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate106.errors : vErrors.concat(validate106.errors);errors = vErrors.length;}var _valid0 = _errs3 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs4 = errors;if(!(validate108(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate108.errors : vErrors.concat(validate108.errors);errors = vErrors.length;}var _valid0 = _errs4 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs5 = errors;if(!(validate112(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate112.errors : vErrors.concat(validate112.errors);errors = vErrors.length;}var _valid0 = _errs5 === errors;valid0 = valid0 || _valid0;}}}}if(!valid0){const err0 = {instancePath,schemaPath:"#/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:schema106.anyOf,parentSchema:schema106,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}else {errors = _errs0;if(vErrors !== null){if(_errs0){vErrors.length = _errs0;}else {vErrors = null;}}}validate97.errors = vErrors;return errors === 0;}function validate96(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.packaging === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "packaging"},message:"must have required property '"+"packaging"+"'",schema:schema105.required,parentSchema:schema105,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!((key0 === "packaging") || (key0 === "environment"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema105,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.packaging !== undefined){if(!(validate97(data.packaging, {instancePath:instancePath+"/packaging",parentData:data,parentDataProperty:"packaging",rootData}))){vErrors = vErrors === null ? validate97.errors : vErrors.concat(validate97.errors);errors = vErrors.length;}}if(data.environment !== undefined){let data1 = data.environment;if(Array.isArray(data1)){const len0 = data1.length;for(let i0=0; i0<len0; i0++){let data2 = data1[i0];if(data2 && typeof data2 == "object" && !Array.isArray(data2)){if(data2.name === undefined){const err2 = {instancePath:instancePath+"/environment/" + i0,schemaPath:"#/definitions/EnvironmentVar/required",keyword:"required",params:{missingProperty: "name"},message:"must have required property '"+"name"+"'",schema:schema28.required,parentSchema:schema28,data:data2};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}if(data2.value === undefined){const err3 = {instancePath:instancePath+"/environment/" + i0,schemaPath:"#/definitions/EnvironmentVar/required",keyword:"required",params:{missingProperty: "value"},message:"must have required property '"+"value"+"'",schema:schema28.required,parentSchema:schema28,data:data2};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}for(const key1 in data2){if(!((key1 === "name") || (key1 === "value"))){const err4 = {instancePath:instancePath+"/environment/" + i0,schemaPath:"#/definitions/EnvironmentVar/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema28,data:data2};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data2.name !== undefined){let data3 = data2.name;if(typeof data3 !== "string"){const err5 = {instancePath:instancePath+"/environment/" + i0+"/name",schemaPath:"#/definitions/EnvironmentVar/properties/name/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema28.properties.name.type,parentSchema:schema28.properties.name,data:data3};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data2.value !== undefined){let data4 = data2.value;if(((typeof data4 !== "string") && (!(typeof data4 == "number"))) && (typeof data4 !== "boolean")){const err6 = {instancePath:instancePath+"/environment/" + i0+"/value",schemaPath:"#/definitions/EnvironmentVar/properties/value/type",keyword:"type",params:{type: schema28.properties.value.type},message:"must be string,number,boolean",schema:schema28.properties.value.type,parentSchema:schema28.properties.value,data:data4};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}}else {const err7 = {instancePath:instancePath+"/environment/" + i0,schemaPath:"#/definitions/EnvironmentVar/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema28.type,parentSchema:schema28,data:data2};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}}else {const err8 = {instancePath:instancePath+"/environment",schemaPath:"#/properties/environment/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema105.properties.environment.type,parentSchema:schema105.properties.environment,data:data1};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}}else {const err9 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema105.type,parentSchema:schema105,data};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}validate96.errors = vErrors;return errors === 0;}const schema123 = {"type":"object","properties":{"disabled":{"description":"#### Disables application logging to CloudWatch.","default":false,"type":"boolean"},"retentionDays":{"description":"#### The number of days to retain logs in CloudWatch.","default":90,"enum":[1,120,14,150,180,1827,3,30,365,3653,400,5,545,60,7,731,90],"type":"number"},"logForwarding":{"description":"#### Log Forwarding\n\n---\n\nForwards logs to a specified destination for monitoring, analysis, or long-term storage.\n\nLog forwarding is handled by an [Amazon Kinesis Data Firehose](https://aws.amazon.com/kinesis/data-firehose/) delivery stream. You will incur costs based on the volume of data transferred (approximately $0.03 per GB). For detailed pricing, see the [AWS Kinesis Firehose Pricing](https://aws.amazon.com/kinesis/data-firehose/pricing/) page.\n\nSupported destinations:\n- `http-endpoint`: Delivers logs to any HTTP endpoint that complies with [Firehose request and response specifications](https://docs.aws.amazon.com/firehose/latest/dev/httpdeliveryrequestresponse.html). Many third-party logging services are compatible out-of-the-box.\n- `datadog`: Delivers logs to [Datadog](https://www.datadoghq.com/).\n- `highlight`: Delivers logs to a [Highlight.io](https://www.highlight.io/) project.\n\nFor more information, refer to the [Stacktape documentation on log forwarding](https://docs.stacktape.com/configuration/log-forwarding/).\n\n> If logs fail to be delivered after multiple retries, they are stored in a backup S3 bucket named `{stackName}-{resourceName}-logs-{generatedHash}`. The retry duration can be configured.","anyOf":[{"$ref":"#/definitions/HttpEndpointLogForwarding"},{"$ref":"#/definitions/HighlightLogForwarding"},{"$ref":"#/definitions/DatadogLogForwarding"}]}},"additionalProperties":false};function validate118(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){for(const key0 in data){if(!(((key0 === "disabled") || (key0 === "retentionDays")) || (key0 === "logForwarding"))){const err0 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema123,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}}if(data.disabled !== undefined){let data0 = data.disabled;if(typeof data0 !== "boolean"){const err1 = {instancePath:instancePath+"/disabled",schemaPath:"#/properties/disabled/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema123.properties.disabled.type,parentSchema:schema123.properties.disabled,data:data0};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.retentionDays !== undefined){let data1 = data.retentionDays;if(!(typeof data1 == "number")){const err2 = {instancePath:instancePath+"/retentionDays",schemaPath:"#/properties/retentionDays/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema123.properties.retentionDays.type,parentSchema:schema123.properties.retentionDays,data:data1};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}if(!(((((((((((((((((data1 === 1) || (data1 === 120)) || (data1 === 14)) || (data1 === 150)) || (data1 === 180)) || (data1 === 1827)) || (data1 === 3)) || (data1 === 30)) || (data1 === 365)) || (data1 === 3653)) || (data1 === 400)) || (data1 === 5)) || (data1 === 545)) || (data1 === 60)) || (data1 === 7)) || (data1 === 731)) || (data1 === 90))){const err3 = {instancePath:instancePath+"/retentionDays",schemaPath:"#/properties/retentionDays/enum",keyword:"enum",params:{allowedValues: schema123.properties.retentionDays.enum},message:"must be equal to one of the allowed values",schema:schema123.properties.retentionDays.enum,parentSchema:schema123.properties.retentionDays,data:data1};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.logForwarding !== undefined){let data2 = data.logForwarding;const _errs7 = errors;let valid1 = false;const _errs8 = errors;if(!(validate80(data2, {instancePath:instancePath+"/logForwarding",parentData:data,parentDataProperty:"logForwarding",rootData}))){vErrors = vErrors === null ? validate80.errors : vErrors.concat(validate80.errors);errors = vErrors.length;}var _valid0 = _errs8 === errors;valid1 = valid1 || _valid0;if(!valid1){const _errs9 = errors;if(!(validate82(data2, {instancePath:instancePath+"/logForwarding",parentData:data,parentDataProperty:"logForwarding",rootData}))){vErrors = vErrors === null ? validate82.errors : vErrors.concat(validate82.errors);errors = vErrors.length;}var _valid0 = _errs9 === errors;valid1 = valid1 || _valid0;if(!valid1){const _errs10 = errors;if(!(validate84(data2, {instancePath:instancePath+"/logForwarding",parentData:data,parentDataProperty:"logForwarding",rootData}))){vErrors = vErrors === null ? validate84.errors : vErrors.concat(validate84.errors);errors = vErrors.length;}var _valid0 = _errs10 === errors;valid1 = valid1 || _valid0;}}if(!valid1){const err4 = {instancePath:instancePath+"/logForwarding",schemaPath:"#/properties/logForwarding/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:schema123.properties.logForwarding.anyOf,parentSchema:schema123.properties.logForwarding,data:data2};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}else {errors = _errs7;if(vErrors !== null){if(_errs7){vErrors.length = _errs7;}else {vErrors = null;}}}}}else {const err5 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema123.type,parentSchema:schema123,data};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}validate118.errors = vErrors;return errors === 0;}const schema125 = {"description":"#### Triggers a function when an Application Load Balancer receives a matching HTTP request.\n\n---\n\nYou can route requests based on HTTP method, path, headers, query parameters, and source IP address.","type":"object","properties":{"type":{"description":"#### Triggers a function when an Application Load Balancer receives a matching HTTP request.\n\n---\n\nYou can route requests based on HTTP method, path, headers, query parameters, and source IP address.","type":"string","const":"application-load-balancer"},"properties":{"$ref":"#/definitions/ApplicationLoadBalancerIntegrationProps","description":"#### Properties of the integration"}},"additionalProperties":false,"required":["properties","type"]};const schema126 = {"type":"object","properties":{"loadBalancerName":{"description":"#### The name of the Application Load Balancer.\n\n---\n\nThis must reference a load balancer defined in your Stacktape configuration.","type":"string"},"listenerPort":{"description":"#### The port of the load balancer listener to attach to.\n\n---\n\nYou only need to specify this if the load balancer uses custom listeners.","type":"number"},"priority":{"description":"#### The priority of this integration rule.\n\n---\n\nLoad balancer rules are evaluated in order from the lowest priority to the highest.\nThe first rule that matches an incoming request will handle it.","type":"number"},"paths":{"description":"#### A list of URL paths that will trigger this integration.\n\n---\n\nThe request will be routed if its path matches any of the paths in this list.\nThe comparison is case-sensitive and supports `*` and `?` wildcards.\n\nExample: `/users`, `/articles/*`","type":"array","items":{"type":"string"}},"methods":{"description":"#### A list of HTTP methods that will trigger this integration.\n\n---\n\nExample: `GET`, `POST`, `DELETE`","type":"array","items":{"type":"string"}},"hosts":{"description":"#### A list of hostnames that will trigger this integration.\n\n---\n\nThe hostname is parsed from the `Host` header of the request.\nWildcards (`*` and `?`) are supported.\n\nExample: `api.example.com`, `*.myapp.com`","type":"array","items":{"type":"string"}},"headers":{"description":"#### A list of header conditions that the request must match.\n\n---\n\nAll header conditions must be met for the request to be routed.","type":"array","items":{"$ref":"#/definitions/LbHeaderCondition"}},"queryParams":{"description":"#### A list of query parameter conditions that the request must match.\n\n---\n\nAll query parameter conditions must be met for the request to be routed.","type":"array","items":{"$ref":"#/definitions/LbQueryParamCondition"}},"sourceIps":{"description":"#### A list of source IP addresses (in CIDR format) that are allowed to trigger this integration.\n\n---\n\n> **Note:** If the client is behind a proxy, this will be the IP address of the proxy.","type":"array","items":{"type":"string"}}},"additionalProperties":false,"required":["loadBalancerName","priority"]};function validate124(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.loadBalancerName === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "loadBalancerName"},message:"must have required property '"+"loadBalancerName"+"'",schema:schema126.required,parentSchema:schema126,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.priority === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "priority"},message:"must have required property '"+"priority"+"'",schema:schema126.required,parentSchema:schema126,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!(func2.call(schema126.properties, key0))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema126,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.loadBalancerName !== undefined){let data0 = data.loadBalancerName;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/loadBalancerName",schemaPath:"#/properties/loadBalancerName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema126.properties.loadBalancerName.type,parentSchema:schema126.properties.loadBalancerName,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.listenerPort !== undefined){let data1 = data.listenerPort;if(!(typeof data1 == "number")){const err4 = {instancePath:instancePath+"/listenerPort",schemaPath:"#/properties/listenerPort/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema126.properties.listenerPort.type,parentSchema:schema126.properties.listenerPort,data:data1};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.priority !== undefined){let data2 = data.priority;if(!(typeof data2 == "number")){const err5 = {instancePath:instancePath+"/priority",schemaPath:"#/properties/priority/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema126.properties.priority.type,parentSchema:schema126.properties.priority,data:data2};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data.paths !== undefined){let data3 = data.paths;if(Array.isArray(data3)){const len0 = data3.length;for(let i0=0; i0<len0; i0++){let data4 = data3[i0];if(typeof data4 !== "string"){const err6 = {instancePath:instancePath+"/paths/" + i0,schemaPath:"#/properties/paths/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema126.properties.paths.items.type,parentSchema:schema126.properties.paths.items,data:data4};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}}else {const err7 = {instancePath:instancePath+"/paths",schemaPath:"#/properties/paths/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema126.properties.paths.type,parentSchema:schema126.properties.paths,data:data3};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data.methods !== undefined){let data5 = data.methods;if(Array.isArray(data5)){const len1 = data5.length;for(let i1=0; i1<len1; i1++){let data6 = data5[i1];if(typeof data6 !== "string"){const err8 = {instancePath:instancePath+"/methods/" + i1,schemaPath:"#/properties/methods/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema126.properties.methods.items.type,parentSchema:schema126.properties.methods.items,data:data6};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}}else {const err9 = {instancePath:instancePath+"/methods",schemaPath:"#/properties/methods/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema126.properties.methods.type,parentSchema:schema126.properties.methods,data:data5};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(data.hosts !== undefined){let data7 = data.hosts;if(Array.isArray(data7)){const len2 = data7.length;for(let i2=0; i2<len2; i2++){let data8 = data7[i2];if(typeof data8 !== "string"){const err10 = {instancePath:instancePath+"/hosts/" + i2,schemaPath:"#/properties/hosts/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema126.properties.hosts.items.type,parentSchema:schema126.properties.hosts.items,data:data8};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}}else {const err11 = {instancePath:instancePath+"/hosts",schemaPath:"#/properties/hosts/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema126.properties.hosts.type,parentSchema:schema126.properties.hosts,data:data7};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}if(data.headers !== undefined){let data9 = data.headers;if(Array.isArray(data9)){const len3 = data9.length;for(let i3=0; i3<len3; i3++){let data10 = data9[i3];if(data10 && typeof data10 == "object" && !Array.isArray(data10)){if(data10.headerName === undefined){const err12 = {instancePath:instancePath+"/headers/" + i3,schemaPath:"#/definitions/LbHeaderCondition/required",keyword:"required",params:{missingProperty: "headerName"},message:"must have required property '"+"headerName"+"'",schema:schema49.required,parentSchema:schema49,data:data10};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}if(data10.values === undefined){const err13 = {instancePath:instancePath+"/headers/" + i3,schemaPath:"#/definitions/LbHeaderCondition/required",keyword:"required",params:{missingProperty: "values"},message:"must have required property '"+"values"+"'",schema:schema49.required,parentSchema:schema49,data:data10};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}for(const key1 in data10){if(!((key1 === "headerName") || (key1 === "values"))){const err14 = {instancePath:instancePath+"/headers/" + i3,schemaPath:"#/definitions/LbHeaderCondition/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema49,data:data10};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}}if(data10.headerName !== undefined){let data11 = data10.headerName;if(typeof data11 !== "string"){const err15 = {instancePath:instancePath+"/headers/" + i3+"/headerName",schemaPath:"#/definitions/LbHeaderCondition/properties/headerName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema49.properties.headerName.type,parentSchema:schema49.properties.headerName,data:data11};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}}if(data10.values !== undefined){let data12 = data10.values;if(Array.isArray(data12)){const len4 = data12.length;for(let i4=0; i4<len4; i4++){let data13 = data12[i4];if(typeof data13 !== "string"){const err16 = {instancePath:instancePath+"/headers/" + i3+"/values/" + i4,schemaPath:"#/definitions/LbHeaderCondition/properties/values/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema49.properties.values.items.type,parentSchema:schema49.properties.values.items,data:data13};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}}}else {const err17 = {instancePath:instancePath+"/headers/" + i3+"/values",schemaPath:"#/definitions/LbHeaderCondition/properties/values/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema49.properties.values.type,parentSchema:schema49.properties.values,data:data12};if(vErrors === null){vErrors = [err17];}else {vErrors.push(err17);}errors++;}}}else {const err18 = {instancePath:instancePath+"/headers/" + i3,schemaPath:"#/definitions/LbHeaderCondition/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema49.type,parentSchema:schema49,data:data10};if(vErrors === null){vErrors = [err18];}else {vErrors.push(err18);}errors++;}}}else {const err19 = {instancePath:instancePath+"/headers",schemaPath:"#/properties/headers/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema126.properties.headers.type,parentSchema:schema126.properties.headers,data:data9};if(vErrors === null){vErrors = [err19];}else {vErrors.push(err19);}errors++;}}if(data.queryParams !== undefined){let data14 = data.queryParams;if(Array.isArray(data14)){const len5 = data14.length;for(let i5=0; i5<len5; i5++){let data15 = data14[i5];if(data15 && typeof data15 == "object" && !Array.isArray(data15)){if(data15.paramName === undefined){const err20 = {instancePath:instancePath+"/queryParams/" + i5,schemaPath:"#/definitions/LbQueryParamCondition/required",keyword:"required",params:{missingProperty: "paramName"},message:"must have required property '"+"paramName"+"'",schema:schema50.required,parentSchema:schema50,data:data15};if(vErrors === null){vErrors = [err20];}else {vErrors.push(err20);}errors++;}if(data15.values === undefined){const err21 = {instancePath:instancePath+"/queryParams/" + i5,schemaPath:"#/definitions/LbQueryParamCondition/required",keyword:"required",params:{missingProperty: "values"},message:"must have required property '"+"values"+"'",schema:schema50.required,parentSchema:schema50,data:data15};if(vErrors === null){vErrors = [err21];}else {vErrors.push(err21);}errors++;}for(const key2 in data15){if(!((key2 === "paramName") || (key2 === "values"))){const err22 = {instancePath:instancePath+"/queryParams/" + i5,schemaPath:"#/definitions/LbQueryParamCondition/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key2},message:"must NOT have additional properties",schema:false,parentSchema:schema50,data:data15};if(vErrors === null){vErrors = [err22];}else {vErrors.push(err22);}errors++;}}if(data15.paramName !== undefined){let data16 = data15.paramName;if(typeof data16 !== "string"){const err23 = {instancePath:instancePath+"/queryParams/" + i5+"/paramName",schemaPath:"#/definitions/LbQueryParamCondition/properties/paramName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema50.properties.paramName.type,parentSchema:schema50.properties.paramName,data:data16};if(vErrors === null){vErrors = [err23];}else {vErrors.push(err23);}errors++;}}if(data15.values !== undefined){let data17 = data15.values;if(Array.isArray(data17)){const len6 = data17.length;for(let i6=0; i6<len6; i6++){let data18 = data17[i6];if(typeof data18 !== "string"){const err24 = {instancePath:instancePath+"/queryParams/" + i5+"/values/" + i6,schemaPath:"#/definitions/LbQueryParamCondition/properties/values/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema50.properties.values.items.type,parentSchema:schema50.properties.values.items,data:data18};if(vErrors === null){vErrors = [err24];}else {vErrors.push(err24);}errors++;}}}else {const err25 = {instancePath:instancePath+"/queryParams/" + i5+"/values",schemaPath:"#/definitions/LbQueryParamCondition/properties/values/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema50.properties.values.type,parentSchema:schema50.properties.values,data:data17};if(vErrors === null){vErrors = [err25];}else {vErrors.push(err25);}errors++;}}}else {const err26 = {instancePath:instancePath+"/queryParams/" + i5,schemaPath:"#/definitions/LbQueryParamCondition/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema50.type,parentSchema:schema50,data:data15};if(vErrors === null){vErrors = [err26];}else {vErrors.push(err26);}errors++;}}}else {const err27 = {instancePath:instancePath+"/queryParams",schemaPath:"#/properties/queryParams/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema126.properties.queryParams.type,parentSchema:schema126.properties.queryParams,data:data14};if(vErrors === null){vErrors = [err27];}else {vErrors.push(err27);}errors++;}}if(data.sourceIps !== undefined){let data19 = data.sourceIps;if(Array.isArray(data19)){const len7 = data19.length;for(let i7=0; i7<len7; i7++){let data20 = data19[i7];if(typeof data20 !== "string"){const err28 = {instancePath:instancePath+"/sourceIps/" + i7,schemaPath:"#/properties/sourceIps/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema126.properties.sourceIps.items.type,parentSchema:schema126.properties.sourceIps.items,data:data20};if(vErrors === null){vErrors = [err28];}else {vErrors.push(err28);}errors++;}}}else {const err29 = {instancePath:instancePath+"/sourceIps",schemaPath:"#/properties/sourceIps/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema126.properties.sourceIps.type,parentSchema:schema126.properties.sourceIps,data:data19};if(vErrors === null){vErrors = [err29];}else {vErrors.push(err29);}errors++;}}}else {const err30 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema126.type,parentSchema:schema126,data};if(vErrors === null){vErrors = [err30];}else {vErrors.push(err30);}errors++;}validate124.errors = vErrors;return errors === 0;}function validate123(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema125.required,parentSchema:schema125,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema125.required,parentSchema:schema125,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema125,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema125.properties.type.type,parentSchema:schema125.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("application-load-balancer" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "application-load-balancer"},message:"must be equal to constant",schema:"application-load-balancer",parentSchema:schema125.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate124(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate124.errors : vErrors.concat(validate124.errors);errors = vErrors.length;}}}else {const err5 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema125.type,parentSchema:schema125,data};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}validate123.errors = vErrors;return errors === 0;}const schema129 = {"description":"#### Triggers a function when a new message is published to an SNS topic.\n\n---\n\nAmazon SNS is a fully managed messaging service for both application-to-application (A2A) and application-to-person (A2P) communication.\n\nTo add a custom SNS topic to your stack, define it as a [CloudFormation resource](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-sns-topic.html) in the `cloudformationResources` section of your configuration.","type":"object","properties":{"type":{"type":"string","const":"sns"},"properties":{"$ref":"#/definitions/SnsIntegrationProps","description":"#### Properties of the integration"}},"additionalProperties":false,"required":["properties","type"]};const schema130 = {"type":"object","properties":{"snsTopicName":{"description":"#### The name of an SNS topic defined in your stack's resources.\n\n---\n\nYou must specify either `snsTopicName` or `snsTopicArn`.","type":"string"},"snsTopicArn":{"description":"#### The ARN of an existing SNS topic.\n\n---\n\nUse this to subscribe to a topic that is not managed by your stack.\nYou must specify either `snsTopicName` or `snsTopicArn`.","type":"string"},"filterPolicy":{"description":"#### A filter policy to apply to incoming messages.\n\n---\n\nThis allows you to filter messages based on their attributes, so the function is only triggered for relevant messages.\nIf you need to filter based on the message content, consider using an EventBridge event bus instead.\nFor more details on filter policies, see the [AWS documentation](https://docs.aws.amazon.com/sns/latest/dg/sns-subscription-filter-policies.html)."},"onDeliveryFailure":{"$ref":"#/definitions/SnsOnDeliveryFailure","description":"#### A destination for messages that fail to be delivered to the target.\n\n---\n\nIn rare cases (e.g., if the target function cannot scale fast enough), a message might fail to be delivered.\nThis property specifies an SQS queue where failed messages will be sent."}},"additionalProperties":false};const schema131 = {"type":"object","properties":{"sqsQueueArn":{"description":"#### The ARN of the SQS queue for failed messages.","type":"string"},"sqsQueueName":{"description":"#### The name of an SQS queue (defined in your Stacktape configuration) for failed messages.","type":"string"}},"additionalProperties":false};function validate128(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){for(const key0 in data){if(!((((key0 === "snsTopicName") || (key0 === "snsTopicArn")) || (key0 === "filterPolicy")) || (key0 === "onDeliveryFailure"))){const err0 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema130,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}}if(data.snsTopicName !== undefined){let data0 = data.snsTopicName;if(typeof data0 !== "string"){const err1 = {instancePath:instancePath+"/snsTopicName",schemaPath:"#/properties/snsTopicName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema130.properties.snsTopicName.type,parentSchema:schema130.properties.snsTopicName,data:data0};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.snsTopicArn !== undefined){let data1 = data.snsTopicArn;if(typeof data1 !== "string"){const err2 = {instancePath:instancePath+"/snsTopicArn",schemaPath:"#/properties/snsTopicArn/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema130.properties.snsTopicArn.type,parentSchema:schema130.properties.snsTopicArn,data:data1};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.onDeliveryFailure !== undefined){let data2 = data.onDeliveryFailure;if(data2 && typeof data2 == "object" && !Array.isArray(data2)){for(const key1 in data2){if(!((key1 === "sqsQueueArn") || (key1 === "sqsQueueName"))){const err3 = {instancePath:instancePath+"/onDeliveryFailure",schemaPath:"#/definitions/SnsOnDeliveryFailure/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema131,data:data2};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data2.sqsQueueArn !== undefined){let data3 = data2.sqsQueueArn;if(typeof data3 !== "string"){const err4 = {instancePath:instancePath+"/onDeliveryFailure/sqsQueueArn",schemaPath:"#/definitions/SnsOnDeliveryFailure/properties/sqsQueueArn/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema131.properties.sqsQueueArn.type,parentSchema:schema131.properties.sqsQueueArn,data:data3};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data2.sqsQueueName !== undefined){let data4 = data2.sqsQueueName;if(typeof data4 !== "string"){const err5 = {instancePath:instancePath+"/onDeliveryFailure/sqsQueueName",schemaPath:"#/definitions/SnsOnDeliveryFailure/properties/sqsQueueName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema131.properties.sqsQueueName.type,parentSchema:schema131.properties.sqsQueueName,data:data4};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}}else {const err6 = {instancePath:instancePath+"/onDeliveryFailure",schemaPath:"#/definitions/SnsOnDeliveryFailure/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema131.type,parentSchema:schema131,data:data2};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}}else {const err7 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema130.type,parentSchema:schema130,data};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}validate128.errors = vErrors;return errors === 0;}function validate127(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema129.required,parentSchema:schema129,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema129.required,parentSchema:schema129,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema129,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema129.properties.type.type,parentSchema:schema129.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("sns" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "sns"},message:"must be equal to constant",schema:"sns",parentSchema:schema129.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate128(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate128.errors : vErrors.concat(validate128.errors);errors = vErrors.length;}}}else {const err5 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema129.type,parentSchema:schema129,data};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}validate127.errors = vErrors;return errors === 0;}const schema132 = {"description":"#### Triggers a function when new messages are available in an SQS queue.\n\n---\n\nMessages are processed in batches. A single function invocation can receive multiple messages.\n\n> A single SQS queue should only be consumed by one function. If you need multiple consumers for the same message (a \"fan-out\" pattern), use an SNS topic or an EventBridge event bus.\n\nTo add a custom SQS queue, define it as a [CloudFormation resource](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-sqs-queues.html) in the `cloudformationResources` section.\n\nThe function is triggered when:\n- The batch window (`maxBatchWindowSeconds`) expires.\n- The maximum batch size (`batchSize`) is reached.\n- The maximum payload size (6 MB) is reached.","type":"object","properties":{"type":{"type":"string","const":"sqs"},"properties":{"$ref":"#/definitions/SqsIntegrationProps","description":"#### Properties of the integration"}},"additionalProperties":false,"required":["properties","type"]};const schema133 = {"type":"object","properties":{"sqsQueueName":{"description":"#### The name of an SQS queue defined in your stack's resources.\n\n---\n\nYou must specify either `sqsQueueName` or `sqsQueueArn`.","type":"string"},"sqsQueueArn":{"description":"#### The ARN of an existing SQS queue.\n\n---\n\nUse this to consume messages from a queue that is not managed by your stack.\nYou must specify either `sqsQueueName` or `sqsQueueArn`.","type":"string"},"batchSize":{"description":"#### The maximum number of records to process in a single batch.\n\n---\n\nMaximum is 10,000.","default":10,"type":"number"},"maxBatchWindowSeconds":{"description":"#### The maximum time (in seconds) to wait before invoking the function with a batch of records.\n\n---\n\nMaximum is 300 seconds. If not set, the function is invoked as soon as messages are available.","type":"number"}},"additionalProperties":false};function validate131(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema132.required,parentSchema:schema132,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema132.required,parentSchema:schema132,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema132,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema132.properties.type.type,parentSchema:schema132.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("sqs" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "sqs"},message:"must be equal to constant",schema:"sqs",parentSchema:schema132.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){let data1 = data.properties;if(data1 && typeof data1 == "object" && !Array.isArray(data1)){for(const key1 in data1){if(!((((key1 === "sqsQueueName") || (key1 === "sqsQueueArn")) || (key1 === "batchSize")) || (key1 === "maxBatchWindowSeconds"))){const err5 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/SqsIntegrationProps/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema133,data:data1};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data1.sqsQueueName !== undefined){let data2 = data1.sqsQueueName;if(typeof data2 !== "string"){const err6 = {instancePath:instancePath+"/properties/sqsQueueName",schemaPath:"#/definitions/SqsIntegrationProps/properties/sqsQueueName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema133.properties.sqsQueueName.type,parentSchema:schema133.properties.sqsQueueName,data:data2};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data1.sqsQueueArn !== undefined){let data3 = data1.sqsQueueArn;if(typeof data3 !== "string"){const err7 = {instancePath:instancePath+"/properties/sqsQueueArn",schemaPath:"#/definitions/SqsIntegrationProps/properties/sqsQueueArn/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema133.properties.sqsQueueArn.type,parentSchema:schema133.properties.sqsQueueArn,data:data3};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data1.batchSize !== undefined){let data4 = data1.batchSize;if(!(typeof data4 == "number")){const err8 = {instancePath:instancePath+"/properties/batchSize",schemaPath:"#/definitions/SqsIntegrationProps/properties/batchSize/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema133.properties.batchSize.type,parentSchema:schema133.properties.batchSize,data:data4};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}if(data1.maxBatchWindowSeconds !== undefined){let data5 = data1.maxBatchWindowSeconds;if(!(typeof data5 == "number")){const err9 = {instancePath:instancePath+"/properties/maxBatchWindowSeconds",schemaPath:"#/definitions/SqsIntegrationProps/properties/maxBatchWindowSeconds/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema133.properties.maxBatchWindowSeconds.type,parentSchema:schema133.properties.maxBatchWindowSeconds,data:data5};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}}else {const err10 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/SqsIntegrationProps/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema133.type,parentSchema:schema133,data:data1};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}}else {const err11 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema132.type,parentSchema:schema132,data};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}validate131.errors = vErrors;return errors === 0;}const schema134 = {"description":"#### Triggers a function when new records are available in a Kinesis Data Stream.\n\n---\n\nKinesis is suitable for real-time data streaming and processing. Records are processed in batches.\nFor a comparison with SQS, see the [AWS documentation](https://aws.amazon.com/kinesis/data-streams/faqs/).\n\nTo add a custom Kinesis stream, define it as a [CloudFormation resource](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-kinesis-stream.html) in the `cloudformationResources` section.\n\nYou can consume messages in two ways:\n- **Directly**: Polls each shard once per second. Read throughput is shared with other consumers.\n- **Stream Consumer**: Provides a dedicated connection to each shard for higher throughput and lower latency.","type":"object","properties":{"type":{"type":"string","const":"kinesis-stream"},"properties":{"$ref":"#/definitions/KinesisIntegrationProps","description":"#### Properties of the integration"}},"additionalProperties":false,"required":["properties","type"]};const schema135 = {"type":"object","properties":{"streamArn":{"description":"#### The ARN of the Kinesis stream to consume records from.","type":"string"},"consumerArn":{"description":"#### The ARN of a specific stream consumer to use.\n\n---\n\nThis cannot be used with `autoCreateConsumer`.","type":"string"},"autoCreateConsumer":{"description":"#### Automatically creates a dedicated stream consumer for this integration.\n\n---\n\nThis is recommended for minimizing latency and maximizing throughput.\nFor more details, see the [AWS documentation on stream consumers](https://docs.aws.amazon.com/streams/latest/dev/amazon-kinesis-consumers.html).\nThis cannot be used with `consumerArn`.","type":"boolean"},"maxBatchWindowSeconds":{"description":"#### The maximum time (in seconds) to wait before invoking the function with a batch of records.\n\n---\n\nMaximum is 300 seconds.","type":"number"},"batchSize":{"description":"#### The maximum number of records to process in a single batch.\n\n---\n\nMaximum is 10,000.","default":10,"type":"number"},"startingPosition":{"description":"#### The position in the stream from which to start reading records.\n\n---\n\n- `LATEST`: Read only new records.\n- `TRIM_HORIZON`: Read all available records from the beginning of the stream.","default":"TRIM_HORIZON","enum":["LATEST","TRIM_HORIZON"],"type":"string"},"maximumRetryAttempts":{"description":"#### The number of times to retry a failed batch of records.\n\n---\n\n> **Important:** If an error occurs, the entire batch is retried, including records that were processed successfully. Your function should be idempotent to handle this.","type":"number"},"onFailure":{"$ref":"#/definitions/DestinationOnFailure","description":"#### A destination (SQS queue or SNS topic) for batches that fail after all retry attempts."},"parallelizationFactor":{"description":"#### The number of batches to process concurrently from the same shard.","type":"number"},"bisectBatchOnFunctionError":{"description":"#### Splits a failed batch in two before retrying.\n\n---\n\nThis can be useful if a failure is caused by a batch being too large.","type":"boolean"}},"additionalProperties":false,"required":["streamArn"]};const schema136 = {"type":"object","properties":{"arn":{"description":"#### The ARN of the SNS topic or SQS queue for failed batches.","type":"string"},"type":{"description":"#### The type of the destination.","enum":["sns","sqs"],"type":"string"}},"additionalProperties":false,"required":["arn","type"]};function validate134(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.streamArn === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "streamArn"},message:"must have required property '"+"streamArn"+"'",schema:schema135.required,parentSchema:schema135,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!(func2.call(schema135.properties, key0))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema135,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.streamArn !== undefined){let data0 = data.streamArn;if(typeof data0 !== "string"){const err2 = {instancePath:instancePath+"/streamArn",schemaPath:"#/properties/streamArn/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema135.properties.streamArn.type,parentSchema:schema135.properties.streamArn,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.consumerArn !== undefined){let data1 = data.consumerArn;if(typeof data1 !== "string"){const err3 = {instancePath:instancePath+"/consumerArn",schemaPath:"#/properties/consumerArn/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema135.properties.consumerArn.type,parentSchema:schema135.properties.consumerArn,data:data1};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.autoCreateConsumer !== undefined){let data2 = data.autoCreateConsumer;if(typeof data2 !== "boolean"){const err4 = {instancePath:instancePath+"/autoCreateConsumer",schemaPath:"#/properties/autoCreateConsumer/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema135.properties.autoCreateConsumer.type,parentSchema:schema135.properties.autoCreateConsumer,data:data2};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.maxBatchWindowSeconds !== undefined){let data3 = data.maxBatchWindowSeconds;if(!(typeof data3 == "number")){const err5 = {instancePath:instancePath+"/maxBatchWindowSeconds",schemaPath:"#/properties/maxBatchWindowSeconds/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema135.properties.maxBatchWindowSeconds.type,parentSchema:schema135.properties.maxBatchWindowSeconds,data:data3};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data.batchSize !== undefined){let data4 = data.batchSize;if(!(typeof data4 == "number")){const err6 = {instancePath:instancePath+"/batchSize",schemaPath:"#/properties/batchSize/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema135.properties.batchSize.type,parentSchema:schema135.properties.batchSize,data:data4};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data.startingPosition !== undefined){let data5 = data.startingPosition;if(typeof data5 !== "string"){const err7 = {instancePath:instancePath+"/startingPosition",schemaPath:"#/properties/startingPosition/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema135.properties.startingPosition.type,parentSchema:schema135.properties.startingPosition,data:data5};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}if(!((data5 === "LATEST") || (data5 === "TRIM_HORIZON"))){const err8 = {instancePath:instancePath+"/startingPosition",schemaPath:"#/properties/startingPosition/enum",keyword:"enum",params:{allowedValues: schema135.properties.startingPosition.enum},message:"must be equal to one of the allowed values",schema:schema135.properties.startingPosition.enum,parentSchema:schema135.properties.startingPosition,data:data5};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}if(data.maximumRetryAttempts !== undefined){let data6 = data.maximumRetryAttempts;if(!(typeof data6 == "number")){const err9 = {instancePath:instancePath+"/maximumRetryAttempts",schemaPath:"#/properties/maximumRetryAttempts/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema135.properties.maximumRetryAttempts.type,parentSchema:schema135.properties.maximumRetryAttempts,data:data6};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(data.onFailure !== undefined){let data7 = data.onFailure;if(data7 && typeof data7 == "object" && !Array.isArray(data7)){if(data7.arn === undefined){const err10 = {instancePath:instancePath+"/onFailure",schemaPath:"#/definitions/DestinationOnFailure/required",keyword:"required",params:{missingProperty: "arn"},message:"must have required property '"+"arn"+"'",schema:schema136.required,parentSchema:schema136,data:data7};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}if(data7.type === undefined){const err11 = {instancePath:instancePath+"/onFailure",schemaPath:"#/definitions/DestinationOnFailure/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema136.required,parentSchema:schema136,data:data7};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}for(const key1 in data7){if(!((key1 === "arn") || (key1 === "type"))){const err12 = {instancePath:instancePath+"/onFailure",schemaPath:"#/definitions/DestinationOnFailure/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema136,data:data7};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}if(data7.arn !== undefined){let data8 = data7.arn;if(typeof data8 !== "string"){const err13 = {instancePath:instancePath+"/onFailure/arn",schemaPath:"#/definitions/DestinationOnFailure/properties/arn/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema136.properties.arn.type,parentSchema:schema136.properties.arn,data:data8};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}if(data7.type !== undefined){let data9 = data7.type;if(typeof data9 !== "string"){const err14 = {instancePath:instancePath+"/onFailure/type",schemaPath:"#/definitions/DestinationOnFailure/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema136.properties.type.type,parentSchema:schema136.properties.type,data:data9};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}if(!((data9 === "sns") || (data9 === "sqs"))){const err15 = {instancePath:instancePath+"/onFailure/type",schemaPath:"#/definitions/DestinationOnFailure/properties/type/enum",keyword:"enum",params:{allowedValues: schema136.properties.type.enum},message:"must be equal to one of the allowed values",schema:schema136.properties.type.enum,parentSchema:schema136.properties.type,data:data9};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}}}else {const err16 = {instancePath:instancePath+"/onFailure",schemaPath:"#/definitions/DestinationOnFailure/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema136.type,parentSchema:schema136,data:data7};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}}if(data.parallelizationFactor !== undefined){let data10 = data.parallelizationFactor;if(!(typeof data10 == "number")){const err17 = {instancePath:instancePath+"/parallelizationFactor",schemaPath:"#/properties/parallelizationFactor/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema135.properties.parallelizationFactor.type,parentSchema:schema135.properties.parallelizationFactor,data:data10};if(vErrors === null){vErrors = [err17];}else {vErrors.push(err17);}errors++;}}if(data.bisectBatchOnFunctionError !== undefined){let data11 = data.bisectBatchOnFunctionError;if(typeof data11 !== "boolean"){const err18 = {instancePath:instancePath+"/bisectBatchOnFunctionError",schemaPath:"#/properties/bisectBatchOnFunctionError/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema135.properties.bisectBatchOnFunctionError.type,parentSchema:schema135.properties.bisectBatchOnFunctionError,data:data11};if(vErrors === null){vErrors = [err18];}else {vErrors.push(err18);}errors++;}}}else {const err19 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema135.type,parentSchema:schema135,data};if(vErrors === null){vErrors = [err19];}else {vErrors.push(err19);}errors++;}validate134.errors = vErrors;return errors === 0;}function validate133(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema134.required,parentSchema:schema134,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema134.required,parentSchema:schema134,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema134,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema134.properties.type.type,parentSchema:schema134.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("kinesis-stream" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "kinesis-stream"},message:"must be equal to constant",schema:"kinesis-stream",parentSchema:schema134.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate134(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate134.errors : vErrors.concat(validate134.errors);errors = vErrors.length;}}}else {const err5 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema134.type,parentSchema:schema134,data};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}validate133.errors = vErrors;return errors === 0;}const schema137 = {"description":"#### Triggers a function when item-level changes occur in a DynamoDB table.\n\n---\n\nDynamoDB Streams capture a time-ordered sequence of modifications to items in a table.\nRecords are processed in batches.\nTo use this, you must enable streams on your DynamoDB table. For more information, see the [DynamoDB table documentation](https://docs.stacktape.com/resources/dynamo-db-tables/#item-change-streaming).","type":"object","properties":{"type":{"type":"string","const":"dynamo-db-stream"},"properties":{"$ref":"#/definitions/DynamoDbIntegrationProps","description":"#### Properties of the integration"}},"additionalProperties":false,"required":["properties","type"]};const schema138 = {"type":"object","properties":{"streamArn":{"description":"#### The ARN of the DynamoDB table stream.","type":"string"},"maxBatchWindowSeconds":{"description":"#### The maximum time (in seconds) to wait before invoking the function with a batch of records.\n\n---\n\nMaximum is 300 seconds.","type":"number"},"batchSize":{"description":"#### The maximum number of records to process in a single batch.\n\n---\n\nMaximum is 1,000.","default":100,"type":"number"},"startingPosition":{"description":"#### The position in the stream from which to start reading records.\n\n---\n\n- `LATEST`: Read only new records.\n- `TRIM_HORIZON`: Read all available records from the beginning of the stream.","default":"TRIM_HORIZON","type":"string"},"maximumRetryAttempts":{"description":"#### The number of times to retry a failed batch of records.\n\n---\n\n> **Important:** If an error occurs, the entire batch is retried, including records that were processed successfully. Your function should be idempotent to handle this.","type":"number"},"onFailure":{"$ref":"#/definitions/DestinationOnFailure","description":"#### A destination (SQS queue or SNS topic) for batches that fail after all retry attempts."},"parallelizationFactor":{"description":"#### The number of batches to process concurrently from the same shard.","type":"number"},"bisectBatchOnFunctionError":{"description":"#### Splits a failed batch in two before retrying.\n\n---\n\nThis can be useful if a failure is caused by a batch being too large.","type":"boolean"}},"additionalProperties":false,"required":["streamArn"]};function validate138(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.streamArn === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "streamArn"},message:"must have required property '"+"streamArn"+"'",schema:schema138.required,parentSchema:schema138,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!((((((((key0 === "streamArn") || (key0 === "maxBatchWindowSeconds")) || (key0 === "batchSize")) || (key0 === "startingPosition")) || (key0 === "maximumRetryAttempts")) || (key0 === "onFailure")) || (key0 === "parallelizationFactor")) || (key0 === "bisectBatchOnFunctionError"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema138,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.streamArn !== undefined){let data0 = data.streamArn;if(typeof data0 !== "string"){const err2 = {instancePath:instancePath+"/streamArn",schemaPath:"#/properties/streamArn/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema138.properties.streamArn.type,parentSchema:schema138.properties.streamArn,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.maxBatchWindowSeconds !== undefined){let data1 = data.maxBatchWindowSeconds;if(!(typeof data1 == "number")){const err3 = {instancePath:instancePath+"/maxBatchWindowSeconds",schemaPath:"#/properties/maxBatchWindowSeconds/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema138.properties.maxBatchWindowSeconds.type,parentSchema:schema138.properties.maxBatchWindowSeconds,data:data1};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.batchSize !== undefined){let data2 = data.batchSize;if(!(typeof data2 == "number")){const err4 = {instancePath:instancePath+"/batchSize",schemaPath:"#/properties/batchSize/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema138.properties.batchSize.type,parentSchema:schema138.properties.batchSize,data:data2};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.startingPosition !== undefined){let data3 = data.startingPosition;if(typeof data3 !== "string"){const err5 = {instancePath:instancePath+"/startingPosition",schemaPath:"#/properties/startingPosition/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema138.properties.startingPosition.type,parentSchema:schema138.properties.startingPosition,data:data3};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data.maximumRetryAttempts !== undefined){let data4 = data.maximumRetryAttempts;if(!(typeof data4 == "number")){const err6 = {instancePath:instancePath+"/maximumRetryAttempts",schemaPath:"#/properties/maximumRetryAttempts/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema138.properties.maximumRetryAttempts.type,parentSchema:schema138.properties.maximumRetryAttempts,data:data4};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data.onFailure !== undefined){let data5 = data.onFailure;if(data5 && typeof data5 == "object" && !Array.isArray(data5)){if(data5.arn === undefined){const err7 = {instancePath:instancePath+"/onFailure",schemaPath:"#/definitions/DestinationOnFailure/required",keyword:"required",params:{missingProperty: "arn"},message:"must have required property '"+"arn"+"'",schema:schema136.required,parentSchema:schema136,data:data5};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}if(data5.type === undefined){const err8 = {instancePath:instancePath+"/onFailure",schemaPath:"#/definitions/DestinationOnFailure/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema136.required,parentSchema:schema136,data:data5};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}for(const key1 in data5){if(!((key1 === "arn") || (key1 === "type"))){const err9 = {instancePath:instancePath+"/onFailure",schemaPath:"#/definitions/DestinationOnFailure/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema136,data:data5};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(data5.arn !== undefined){let data6 = data5.arn;if(typeof data6 !== "string"){const err10 = {instancePath:instancePath+"/onFailure/arn",schemaPath:"#/definitions/DestinationOnFailure/properties/arn/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema136.properties.arn.type,parentSchema:schema136.properties.arn,data:data6};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data5.type !== undefined){let data7 = data5.type;if(typeof data7 !== "string"){const err11 = {instancePath:instancePath+"/onFailure/type",schemaPath:"#/definitions/DestinationOnFailure/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema136.properties.type.type,parentSchema:schema136.properties.type,data:data7};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}if(!((data7 === "sns") || (data7 === "sqs"))){const err12 = {instancePath:instancePath+"/onFailure/type",schemaPath:"#/definitions/DestinationOnFailure/properties/type/enum",keyword:"enum",params:{allowedValues: schema136.properties.type.enum},message:"must be equal to one of the allowed values",schema:schema136.properties.type.enum,parentSchema:schema136.properties.type,data:data7};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}}else {const err13 = {instancePath:instancePath+"/onFailure",schemaPath:"#/definitions/DestinationOnFailure/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema136.type,parentSchema:schema136,data:data5};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}if(data.parallelizationFactor !== undefined){let data8 = data.parallelizationFactor;if(!(typeof data8 == "number")){const err14 = {instancePath:instancePath+"/parallelizationFactor",schemaPath:"#/properties/parallelizationFactor/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema138.properties.parallelizationFactor.type,parentSchema:schema138.properties.parallelizationFactor,data:data8};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}}if(data.bisectBatchOnFunctionError !== undefined){let data9 = data.bisectBatchOnFunctionError;if(typeof data9 !== "boolean"){const err15 = {instancePath:instancePath+"/bisectBatchOnFunctionError",schemaPath:"#/properties/bisectBatchOnFunctionError/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema138.properties.bisectBatchOnFunctionError.type,parentSchema:schema138.properties.bisectBatchOnFunctionError,data:data9};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}}}else {const err16 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema138.type,parentSchema:schema138,data};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}validate138.errors = vErrors;return errors === 0;}function validate137(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema137.required,parentSchema:schema137,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema137.required,parentSchema:schema137,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema137,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema137.properties.type.type,parentSchema:schema137.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("dynamo-db-stream" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "dynamo-db-stream"},message:"must be equal to constant",schema:"dynamo-db-stream",parentSchema:schema137.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate138(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate138.errors : vErrors.concat(validate138.errors);errors = vErrors.length;}}}else {const err5 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema137.type,parentSchema:schema137,data};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}validate137.errors = vErrors;return errors === 0;}const schema140 = {"description":"#### Triggers a function when a specified event occurs in an S3 bucket.\n\n---\n\nFor a list of supported event types, see the [AWS documentation](https://docs.aws.amazon.com/AmazonS3/latest/userguide/notification-how-to-event-types-and-destinations.html#supported-notification-event-types).","type":"object","properties":{"type":{"type":"string","const":"s3"},"properties":{"$ref":"#/definitions/S3IntegrationProps","description":"#### Properties of the integration"}},"additionalProperties":false,"required":["properties","type"]};const schema141 = {"type":"object","properties":{"bucketArn":{"description":"#### The ARN of the S3 bucket to monitor for events.","type":"string"},"s3EventType":{"description":"#### The type of S3 event that will trigger the function.","enum":["s3:ObjectCreated:*","s3:ObjectCreated:CompleteMultipartUpload","s3:ObjectCreated:Copy","s3:ObjectCreated:Post","s3:ObjectCreated:Put","s3:ObjectRemoved:*","s3:ObjectRemoved:Delete","s3:ObjectRemoved:DeleteMarkerCreated","s3:ObjectRestore:*","s3:ObjectRestore:Completed","s3:ObjectRestore:Post","s3:ReducedRedundancyLostObject","s3:Replication:*","s3:Replication:OperationFailedReplication","s3:Replication:OperationMissedThreshold","s3:Replication:OperationNotTracked","s3:Replication:OperationReplicatedAfterThreshold"],"type":"string"},"filterRule":{"$ref":"#/definitions/S3FilterRule","description":"#### A filter to apply to objects, so the function is only triggered for relevant objects."}},"additionalProperties":false,"required":["bucketArn","s3EventType"]};const schema142 = {"type":"object","properties":{"prefix":{"description":"#### The prefix that an object's key must have to trigger the function.","type":"string"},"suffix":{"description":"#### The suffix that an object's key must have to trigger the function.","type":"string"}},"additionalProperties":false};function validate142(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.bucketArn === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "bucketArn"},message:"must have required property '"+"bucketArn"+"'",schema:schema141.required,parentSchema:schema141,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.s3EventType === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "s3EventType"},message:"must have required property '"+"s3EventType"+"'",schema:schema141.required,parentSchema:schema141,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!(((key0 === "bucketArn") || (key0 === "s3EventType")) || (key0 === "filterRule"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema141,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.bucketArn !== undefined){let data0 = data.bucketArn;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/bucketArn",schemaPath:"#/properties/bucketArn/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema141.properties.bucketArn.type,parentSchema:schema141.properties.bucketArn,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.s3EventType !== undefined){let data1 = data.s3EventType;if(typeof data1 !== "string"){const err4 = {instancePath:instancePath+"/s3EventType",schemaPath:"#/properties/s3EventType/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema141.properties.s3EventType.type,parentSchema:schema141.properties.s3EventType,data:data1};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}if(!(((((((((((((((((data1 === "s3:ObjectCreated:*") || (data1 === "s3:ObjectCreated:CompleteMultipartUpload")) || (data1 === "s3:ObjectCreated:Copy")) || (data1 === "s3:ObjectCreated:Post")) || (data1 === "s3:ObjectCreated:Put")) || (data1 === "s3:ObjectRemoved:*")) || (data1 === "s3:ObjectRemoved:Delete")) || (data1 === "s3:ObjectRemoved:DeleteMarkerCreated")) || (data1 === "s3:ObjectRestore:*")) || (data1 === "s3:ObjectRestore:Completed")) || (data1 === "s3:ObjectRestore:Post")) || (data1 === "s3:ReducedRedundancyLostObject")) || (data1 === "s3:Replication:*")) || (data1 === "s3:Replication:OperationFailedReplication")) || (data1 === "s3:Replication:OperationMissedThreshold")) || (data1 === "s3:Replication:OperationNotTracked")) || (data1 === "s3:Replication:OperationReplicatedAfterThreshold"))){const err5 = {instancePath:instancePath+"/s3EventType",schemaPath:"#/properties/s3EventType/enum",keyword:"enum",params:{allowedValues: schema141.properties.s3EventType.enum},message:"must be equal to one of the allowed values",schema:schema141.properties.s3EventType.enum,parentSchema:schema141.properties.s3EventType,data:data1};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data.filterRule !== undefined){let data2 = data.filterRule;if(data2 && typeof data2 == "object" && !Array.isArray(data2)){for(const key1 in data2){if(!((key1 === "prefix") || (key1 === "suffix"))){const err6 = {instancePath:instancePath+"/filterRule",schemaPath:"#/definitions/S3FilterRule/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema142,data:data2};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data2.prefix !== undefined){let data3 = data2.prefix;if(typeof data3 !== "string"){const err7 = {instancePath:instancePath+"/filterRule/prefix",schemaPath:"#/definitions/S3FilterRule/properties/prefix/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema142.properties.prefix.type,parentSchema:schema142.properties.prefix,data:data3};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data2.suffix !== undefined){let data4 = data2.suffix;if(typeof data4 !== "string"){const err8 = {instancePath:instancePath+"/filterRule/suffix",schemaPath:"#/definitions/S3FilterRule/properties/suffix/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema142.properties.suffix.type,parentSchema:schema142.properties.suffix,data:data4};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}}else {const err9 = {instancePath:instancePath+"/filterRule",schemaPath:"#/definitions/S3FilterRule/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema142.type,parentSchema:schema142,data:data2};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}}else {const err10 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema141.type,parentSchema:schema141,data};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}validate142.errors = vErrors;return errors === 0;}function validate141(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema140.required,parentSchema:schema140,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema140.required,parentSchema:schema140,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema140,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema140.properties.type.type,parentSchema:schema140.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("s3" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "s3"},message:"must be equal to constant",schema:"s3",parentSchema:schema140.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate142(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate142.errors : vErrors.concat(validate142.errors);errors = vErrors.length;}}}else {const err5 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema140.type,parentSchema:schema140,data};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}validate141.errors = vErrors;return errors === 0;}const schema143 = {"description":"#### Triggers a function on a recurring schedule.\n\n---\n\nYou can define schedules using two formats:\n- **Rate expressions**: Run at a regular interval (e.g., `rate(5 minutes)`). See the [AWS documentation on rate expressions](https://docs.aws.amazon.com/AmazonCloudWatch/latest/events/ScheduledEvents.html#RateExpressions).\n- **Cron expressions**: Run at specific times (e.g., `cron(0 18 ? * MON-FRI *)`). See the [AWS documentation on cron expressions](https://docs.aws.amazon.com/AmazonCloudWatch/latest/events/ScheduledEvents.html#CronExpressions).","type":"object","properties":{"type":{"type":"string","const":"schedule"},"properties":{"$ref":"#/definitions/ScheduleIntegrationProps","description":"#### Properties of the integration"}},"additionalProperties":false,"required":["properties","type"]};const schema144 = {"type":"object","properties":{"scheduleRate":{"description":"#### The schedule rate or cron expression.\n\n---\n\nExamples: `rate(2 hours)`, `cron(0 10 * * ? *)`","type":"string"},"input":{"description":"#### A fixed JSON object to be passed as the event payload.\n\n---\n\nIf you need to customize the payload based on the event, use `inputTransformer` instead.\nYou can only use one of `input`, `inputPath`, or `inputTransformer`.\n\nExample:\n\n```yaml\ninput:\n  source: 'my-scheduled-event'\n```"},"inputPath":{"description":"#### A JSONPath expression to extract a portion of the event to pass to the target.\n\n---\n\nThis is useful for forwarding only a specific part of the event payload.\nYou can only use one of `input`, `inputPath`, or `inputTransformer`.\n\nExample:\n\n```yaml\ninputPath: '$.detail'\n```","type":"string"},"inputTransformer":{"$ref":"#/definitions/EventInputTransformer","description":"#### Customizes the event payload sent to the target.\n\n---\n\nThis allows you to extract values from the original event and use them to construct a new payload.\nYou can only use one of `input`, `inputPath`, or `inputTransformer`.\n\nExample:\n\n```yaml\ninputTransformer:\n  inputPathsMap:\n    eventTime: '$.time'\n  inputTemplate:\n    message: 'This event occurred at <eventTime>.'\n```"}},"additionalProperties":false,"required":["scheduleRate"]};const schema145 = {"type":"object","properties":{"inputPathsMap":{"description":"#### A map of key-value pairs to extract from the event payload.\n\n---\n\nEach value is a JSONPath expression that extracts data from the event. These extracted values can then be used in the `inputTemplate`."},"inputTemplate":{"description":"#### A template for constructing a new event payload.\n\n---\n\nUse placeholders (`<placeholder>`) to insert the values extracted with `inputPathsMap`."}},"additionalProperties":false,"required":["inputTemplate"]};function validate146(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.scheduleRate === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "scheduleRate"},message:"must have required property '"+"scheduleRate"+"'",schema:schema144.required,parentSchema:schema144,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!((((key0 === "scheduleRate") || (key0 === "input")) || (key0 === "inputPath")) || (key0 === "inputTransformer"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema144,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.scheduleRate !== undefined){let data0 = data.scheduleRate;if(typeof data0 !== "string"){const err2 = {instancePath:instancePath+"/scheduleRate",schemaPath:"#/properties/scheduleRate/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema144.properties.scheduleRate.type,parentSchema:schema144.properties.scheduleRate,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.inputPath !== undefined){let data1 = data.inputPath;if(typeof data1 !== "string"){const err3 = {instancePath:instancePath+"/inputPath",schemaPath:"#/properties/inputPath/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema144.properties.inputPath.type,parentSchema:schema144.properties.inputPath,data:data1};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.inputTransformer !== undefined){let data2 = data.inputTransformer;if(data2 && typeof data2 == "object" && !Array.isArray(data2)){if(data2.inputTemplate === undefined){const err4 = {instancePath:instancePath+"/inputTransformer",schemaPath:"#/definitions/EventInputTransformer/required",keyword:"required",params:{missingProperty: "inputTemplate"},message:"must have required property '"+"inputTemplate"+"'",schema:schema145.required,parentSchema:schema145,data:data2};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}for(const key1 in data2){if(!((key1 === "inputPathsMap") || (key1 === "inputTemplate"))){const err5 = {instancePath:instancePath+"/inputTransformer",schemaPath:"#/definitions/EventInputTransformer/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema145,data:data2};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}}else {const err6 = {instancePath:instancePath+"/inputTransformer",schemaPath:"#/definitions/EventInputTransformer/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema145.type,parentSchema:schema145,data:data2};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}}else {const err7 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema144.type,parentSchema:schema144,data};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}validate146.errors = vErrors;return errors === 0;}function validate145(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema143.required,parentSchema:schema143,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema143.required,parentSchema:schema143,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema143,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema143.properties.type.type,parentSchema:schema143.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("schedule" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "schedule"},message:"must be equal to constant",schema:"schedule",parentSchema:schema143.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate146(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate146.errors : vErrors.concat(validate146.errors);errors = vErrors.length;}}}else {const err5 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema143.type,parentSchema:schema143,data};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}validate145.errors = vErrors;return errors === 0;}const schema146 = {"description":"#### Triggers a function when a new log record is added to a CloudWatch log group.\n\n---\n\n> **Note:** The event payload is BASE64-encoded and gzipped. You will need to decode and decompress it in your function to access the log data.","type":"object","properties":{"type":{"type":"string","const":"cloudwatch-log"},"properties":{"$ref":"#/definitions/CloudwatchLogIntegrationProps","description":"#### Properties of the integration"}},"additionalProperties":false,"required":["properties","type"]};const schema147 = {"type":"object","properties":{"logGroupArn":{"description":"#### The ARN of the log group to watch for new records.","type":"string"},"filter":{"description":"#### A filter pattern to apply to the log records.\n\n---\n\nOnly logs that match this pattern will trigger the function.\nFor details on the syntax, see the [AWS documentation on filter and pattern syntax](https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/FilterAndPatternSyntax.html).","type":"string"}},"additionalProperties":false,"required":["logGroupArn"]};function validate149(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema146.required,parentSchema:schema146,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema146.required,parentSchema:schema146,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema146,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema146.properties.type.type,parentSchema:schema146.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("cloudwatch-log" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "cloudwatch-log"},message:"must be equal to constant",schema:"cloudwatch-log",parentSchema:schema146.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){let data1 = data.properties;if(data1 && typeof data1 == "object" && !Array.isArray(data1)){if(data1.logGroupArn === undefined){const err5 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/CloudwatchLogIntegrationProps/required",keyword:"required",params:{missingProperty: "logGroupArn"},message:"must have required property '"+"logGroupArn"+"'",schema:schema147.required,parentSchema:schema147,data:data1};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}for(const key1 in data1){if(!((key1 === "logGroupArn") || (key1 === "filter"))){const err6 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/CloudwatchLogIntegrationProps/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema147,data:data1};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data1.logGroupArn !== undefined){let data2 = data1.logGroupArn;if(typeof data2 !== "string"){const err7 = {instancePath:instancePath+"/properties/logGroupArn",schemaPath:"#/definitions/CloudwatchLogIntegrationProps/properties/logGroupArn/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema147.properties.logGroupArn.type,parentSchema:schema147.properties.logGroupArn,data:data2};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data1.filter !== undefined){let data3 = data1.filter;if(typeof data3 !== "string"){const err8 = {instancePath:instancePath+"/properties/filter",schemaPath:"#/definitions/CloudwatchLogIntegrationProps/properties/filter/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema147.properties.filter.type,parentSchema:schema147.properties.filter,data:data3};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}}else {const err9 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/CloudwatchLogIntegrationProps/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema147.type,parentSchema:schema147,data:data1};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}}else {const err10 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema146.type,parentSchema:schema146,data};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}validate149.errors = vErrors;return errors === 0;}const schema148 = {"description":"#### Triggers a function when a request is made to an HTTP API Gateway.\n\n---\n\nRoutes are selected based on the most specific match. For more details on route evaluation, see the [AWS documentation](https://docs.aws.amazon.com/apigateway/latest/developerguide/http-api-develop-routes.html#http-api-develop-routes.evaluation).","type":"object","properties":{"type":{"type":"string","const":"http-api-gateway"},"properties":{"$ref":"#/definitions/HttpApiIntegrationProps","description":"#### Properties of the integration"}},"additionalProperties":false,"required":["properties","type"]};const schema149 = {"type":"object","properties":{"httpApiGatewayName":{"description":"#### The name of the HTTP API Gateway.","type":"string"},"method":{"description":"#### The HTTP method that will trigger this integration.\n\n---\n\nYou can specify an exact method (e.g., `GET`) or use `*` to match any method.","enum":["*","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT"],"type":"string"},"path":{"description":"#### The URL path that will trigger this integration.\n\n---\n\n- **Exact path**: `/users`\n- **Path with parameter**: `/users/{id}`. The `id` will be available in `event.pathParameters.id`.\n- **Greedy path**: `/files/{proxy+}`. This will match any path starting with `/files/`.","type":"string"},"authorizer":{"$ref":"#/definitions/StpAuthorizer","description":"#### An authorizer to protect this route.\n\n---\n\nUnauthorized requests will be rejected with a `401 Unauthorized` response."},"payloadFormat":{"description":"#### The payload format version for the Lambda integration.\n\n---\n\nFor details on the differences between formats, see the [AWS documentation](https://docs.aws.amazon.com/apigateway/latest/developerguide/http-api-develop-integrations-lambda.html).","default":"'1.0'","enum":["1.0","2.0"],"type":"string"}},"additionalProperties":false,"required":["httpApiGatewayName","method","path"]};function validate152(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.httpApiGatewayName === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "httpApiGatewayName"},message:"must have required property '"+"httpApiGatewayName"+"'",schema:schema149.required,parentSchema:schema149,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.method === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "method"},message:"must have required property '"+"method"+"'",schema:schema149.required,parentSchema:schema149,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}if(data.path === undefined){const err2 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "path"},message:"must have required property '"+"path"+"'",schema:schema149.required,parentSchema:schema149,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}for(const key0 in data){if(!(((((key0 === "httpApiGatewayName") || (key0 === "method")) || (key0 === "path")) || (key0 === "authorizer")) || (key0 === "payloadFormat"))){const err3 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema149,data};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.httpApiGatewayName !== undefined){let data0 = data.httpApiGatewayName;if(typeof data0 !== "string"){const err4 = {instancePath:instancePath+"/httpApiGatewayName",schemaPath:"#/properties/httpApiGatewayName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema149.properties.httpApiGatewayName.type,parentSchema:schema149.properties.httpApiGatewayName,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.method !== undefined){let data1 = data.method;if(typeof data1 !== "string"){const err5 = {instancePath:instancePath+"/method",schemaPath:"#/properties/method/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema149.properties.method.type,parentSchema:schema149.properties.method,data:data1};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}if(!((((((((data1 === "*") || (data1 === "DELETE")) || (data1 === "GET")) || (data1 === "HEAD")) || (data1 === "OPTIONS")) || (data1 === "PATCH")) || (data1 === "POST")) || (data1 === "PUT"))){const err6 = {instancePath:instancePath+"/method",schemaPath:"#/properties/method/enum",keyword:"enum",params:{allowedValues: schema149.properties.method.enum},message:"must be equal to one of the allowed values",schema:schema149.properties.method.enum,parentSchema:schema149.properties.method,data:data1};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data.path !== undefined){let data2 = data.path;if(typeof data2 !== "string"){const err7 = {instancePath:instancePath+"/path",schemaPath:"#/properties/path/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema149.properties.path.type,parentSchema:schema149.properties.path,data:data2};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data.authorizer !== undefined){if(!(validate43(data.authorizer, {instancePath:instancePath+"/authorizer",parentData:data,parentDataProperty:"authorizer",rootData}))){vErrors = vErrors === null ? validate43.errors : vErrors.concat(validate43.errors);errors = vErrors.length;}}if(data.payloadFormat !== undefined){let data4 = data.payloadFormat;if(typeof data4 !== "string"){const err8 = {instancePath:instancePath+"/payloadFormat",schemaPath:"#/properties/payloadFormat/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema149.properties.payloadFormat.type,parentSchema:schema149.properties.payloadFormat,data:data4};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}if(!((data4 === "1.0") || (data4 === "2.0"))){const err9 = {instancePath:instancePath+"/payloadFormat",schemaPath:"#/properties/payloadFormat/enum",keyword:"enum",params:{allowedValues: schema149.properties.payloadFormat.enum},message:"must be equal to one of the allowed values",schema:schema149.properties.payloadFormat.enum,parentSchema:schema149.properties.payloadFormat,data:data4};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}}else {const err10 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema149.type,parentSchema:schema149,data};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}validate152.errors = vErrors;return errors === 0;}function validate151(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema148.required,parentSchema:schema148,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema148.required,parentSchema:schema148,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema148,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema148.properties.type.type,parentSchema:schema148.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("http-api-gateway" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "http-api-gateway"},message:"must be equal to constant",schema:"http-api-gateway",parentSchema:schema148.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate152(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate152.errors : vErrors.concat(validate152.errors);errors = vErrors.length;}}}else {const err5 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema148.type,parentSchema:schema148,data};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}validate151.errors = vErrors;return errors === 0;}const schema150 = {"description":"#### Triggers a batch job when an event matching a specified pattern is received by an event bus.\n\n---\n\nYou can use a custom event bus or the default AWS event bus.","type":"object","properties":{"type":{"type":"string","const":"event-bus"},"properties":{"$ref":"#/definitions/EventBusIntegrationProps","description":"#### Properties of the integration"}},"additionalProperties":false,"required":["properties","type"]};const schema151 = {"type":"object","properties":{"eventBusArn":{"description":"#### The ARN of an existing event bus.\n\n---\n\nUse this to subscribe to an event bus that is not managed by your stack.\nYou must specify only one of `eventBusArn`, `eventBusName`, or `useDefaultBus`.","type":"string"},"eventBusName":{"description":"#### The name of an event bus defined in your stack's resources.\n\n---\n\nYou must specify only one of `eventBusArn`, `eventBusName`, or `useDefaultBus`.","type":"string"},"useDefaultBus":{"description":"#### Uses the default AWS event bus.\n\n---\n\nYou must specify only one of `eventBusArn`, `eventBusName`, or `useDefaultBus`.","type":"boolean"},"eventPattern":{"$ref":"#/definitions/EventBusIntegrationPattern","description":"#### A pattern to filter events from the event bus.\n\n---\n\nOnly events that match this pattern will trigger the target.\nFor details on the syntax, see the [AWS EventBridge documentation on event patterns](https://docs.aws.amazon.com/eventbridge/latest/userguide/eb-event-patterns.html)."},"onDeliveryFailure":{"$ref":"#/definitions/EventBusOnDeliveryFailure","description":"#### A destination for events that fail to be delivered to the target.\n\n---\n\nIn rare cases, an event might fail to be delivered. This property specifies an SQS queue where failed events will be sent."},"input":{"description":"#### A fixed JSON object to be passed as the event payload.\n\n---\n\nIf you need to customize the payload based on the event, use `inputTransformer` instead.\nYou can only use one of `input`, `inputPath`, or `inputTransformer`.\n\nExample:\n\n```yaml\ninput:\n  source: 'my-custom-event'\n```"},"inputPath":{"description":"#### A JSONPath expression to extract a portion of the event to pass to the target.\n\n---\n\nThis is useful for forwarding only a specific part of the event payload.\nYou can only use one of `input`, `inputPath`, or `inputTransformer`.\n\nExample:\n\n```yaml\ninputPath: '$.detail'\n```","type":"string"},"inputTransformer":{"$ref":"#/definitions/EventInputTransformer","description":"#### Customizes the event payload sent to the target.\n\n---\n\nThis allows you to extract values from the original event and use them to construct a new payload.\nYou can only use one of `input`, `inputPath`, or `inputTransformer`.\n\nExample:\n\n```yaml\ninputTransformer:\n  inputPathsMap:\n    instanceId: '$.detail.instance-id'\n    instanceState: '$.detail.state'\n  inputTemplate:\n    message: 'Instance <instanceId> is now in state <instanceState>.'\n```"}},"additionalProperties":false,"required":["eventPattern"]};const schema152 = {"type":"object","properties":{"version":{"description":"#### A filter for the `version` field of the event.\n\n---\n\nFor more details on event patterns, see the [AWS EventBridge documentation](https://docs.aws.amazon.com/eventbridge/latest/userguide/eb-event-patterns.html)."},"detail-type":{"description":"#### A filter for the `detail-type` field of the event.\n\n---\n\nFor more details on event patterns, see the [AWS EventBridge documentation](https://docs.aws.amazon.com/eventbridge/latest/userguide/eb-event-patterns.html)."},"source":{"description":"#### A filter for the `source` field of the event.\n\n---\n\nFor more details on event patterns, see the [AWS EventBridge documentation](https://docs.aws.amazon.com/eventbridge/latest/userguide/eb-event-patterns.html)."},"account":{"description":"#### A filter for the `account` field of the event.\n\n---\n\nFor more details on event patterns, see the [AWS EventBridge documentation](https://docs.aws.amazon.com/eventbridge/latest/userguide/eb-event-patterns.html)."},"region":{"description":"#### A filter for the `region` field of the event.\n\n---\n\nFor more details on event patterns, see the [AWS EventBridge documentation](https://docs.aws.amazon.com/eventbridge/latest/userguide/eb-event-patterns.html)."},"resources":{"description":"#### A filter for the `resources` field of the event.\n\n---\n\nFor more details on event patterns, see the [AWS EventBridge documentation](https://docs.aws.amazon.com/eventbridge/latest/userguide/eb-event-patterns.html)."},"detail":{"description":"#### A filter for the `detail` field of the event.\n\n---\n\nThe `detail` field contains the main payload of the event as a JSON object. You can create complex matching rules based on its contents.\nFor more details on event patterns, see the [AWS EventBridge documentation](https://docs.aws.amazon.com/eventbridge/latest/userguide/eb-event-patterns.html)."},"replay-name":{"description":"#### A filter for the `replay-name` field of the event.\n\n---\n\nFor more details on event patterns, see the [AWS EventBridge documentation](https://docs.aws.amazon.com/eventbridge/latest/userguide/eb-event-patterns.html)."}},"additionalProperties":false};const schema153 = {"type":"object","properties":{"sqsQueueArn":{"description":"#### The ARN of the SQS queue for failed events.","type":"string"},"sqsQueueName":{"description":"#### The name of an SQS queue (defined in your Stacktape configuration) for failed events.","type":"string"}},"additionalProperties":false};function validate157(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.eventPattern === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "eventPattern"},message:"must have required property '"+"eventPattern"+"'",schema:schema151.required,parentSchema:schema151,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!((((((((key0 === "eventBusArn") || (key0 === "eventBusName")) || (key0 === "useDefaultBus")) || (key0 === "eventPattern")) || (key0 === "onDeliveryFailure")) || (key0 === "input")) || (key0 === "inputPath")) || (key0 === "inputTransformer"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema151,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.eventBusArn !== undefined){let data0 = data.eventBusArn;if(typeof data0 !== "string"){const err2 = {instancePath:instancePath+"/eventBusArn",schemaPath:"#/properties/eventBusArn/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema151.properties.eventBusArn.type,parentSchema:schema151.properties.eventBusArn,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.eventBusName !== undefined){let data1 = data.eventBusName;if(typeof data1 !== "string"){const err3 = {instancePath:instancePath+"/eventBusName",schemaPath:"#/properties/eventBusName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema151.properties.eventBusName.type,parentSchema:schema151.properties.eventBusName,data:data1};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.useDefaultBus !== undefined){let data2 = data.useDefaultBus;if(typeof data2 !== "boolean"){const err4 = {instancePath:instancePath+"/useDefaultBus",schemaPath:"#/properties/useDefaultBus/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema151.properties.useDefaultBus.type,parentSchema:schema151.properties.useDefaultBus,data:data2};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.eventPattern !== undefined){let data3 = data.eventPattern;if(data3 && typeof data3 == "object" && !Array.isArray(data3)){for(const key1 in data3){if(!((((((((key1 === "version") || (key1 === "detail-type")) || (key1 === "source")) || (key1 === "account")) || (key1 === "region")) || (key1 === "resources")) || (key1 === "detail")) || (key1 === "replay-name"))){const err5 = {instancePath:instancePath+"/eventPattern",schemaPath:"#/definitions/EventBusIntegrationPattern/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema152,data:data3};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}}else {const err6 = {instancePath:instancePath+"/eventPattern",schemaPath:"#/definitions/EventBusIntegrationPattern/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema152.type,parentSchema:schema152,data:data3};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data.onDeliveryFailure !== undefined){let data4 = data.onDeliveryFailure;if(data4 && typeof data4 == "object" && !Array.isArray(data4)){for(const key2 in data4){if(!((key2 === "sqsQueueArn") || (key2 === "sqsQueueName"))){const err7 = {instancePath:instancePath+"/onDeliveryFailure",schemaPath:"#/definitions/EventBusOnDeliveryFailure/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key2},message:"must NOT have additional properties",schema:false,parentSchema:schema153,data:data4};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data4.sqsQueueArn !== undefined){let data5 = data4.sqsQueueArn;if(typeof data5 !== "string"){const err8 = {instancePath:instancePath+"/onDeliveryFailure/sqsQueueArn",schemaPath:"#/definitions/EventBusOnDeliveryFailure/properties/sqsQueueArn/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema153.properties.sqsQueueArn.type,parentSchema:schema153.properties.sqsQueueArn,data:data5};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}if(data4.sqsQueueName !== undefined){let data6 = data4.sqsQueueName;if(typeof data6 !== "string"){const err9 = {instancePath:instancePath+"/onDeliveryFailure/sqsQueueName",schemaPath:"#/definitions/EventBusOnDeliveryFailure/properties/sqsQueueName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema153.properties.sqsQueueName.type,parentSchema:schema153.properties.sqsQueueName,data:data6};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}}else {const err10 = {instancePath:instancePath+"/onDeliveryFailure",schemaPath:"#/definitions/EventBusOnDeliveryFailure/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema153.type,parentSchema:schema153,data:data4};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data.inputPath !== undefined){let data7 = data.inputPath;if(typeof data7 !== "string"){const err11 = {instancePath:instancePath+"/inputPath",schemaPath:"#/properties/inputPath/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema151.properties.inputPath.type,parentSchema:schema151.properties.inputPath,data:data7};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}if(data.inputTransformer !== undefined){let data8 = data.inputTransformer;if(data8 && typeof data8 == "object" && !Array.isArray(data8)){if(data8.inputTemplate === undefined){const err12 = {instancePath:instancePath+"/inputTransformer",schemaPath:"#/definitions/EventInputTransformer/required",keyword:"required",params:{missingProperty: "inputTemplate"},message:"must have required property '"+"inputTemplate"+"'",schema:schema145.required,parentSchema:schema145,data:data8};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}for(const key3 in data8){if(!((key3 === "inputPathsMap") || (key3 === "inputTemplate"))){const err13 = {instancePath:instancePath+"/inputTransformer",schemaPath:"#/definitions/EventInputTransformer/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key3},message:"must NOT have additional properties",schema:false,parentSchema:schema145,data:data8};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}}else {const err14 = {instancePath:instancePath+"/inputTransformer",schemaPath:"#/definitions/EventInputTransformer/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema145.type,parentSchema:schema145,data:data8};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}}}else {const err15 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema151.type,parentSchema:schema151,data};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}validate157.errors = vErrors;return errors === 0;}function validate156(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema150.required,parentSchema:schema150,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema150.required,parentSchema:schema150,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema150,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema150.properties.type.type,parentSchema:schema150.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("event-bus" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "event-bus"},message:"must be equal to constant",schema:"event-bus",parentSchema:schema150.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate157(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate157.errors : vErrors.concat(validate157.errors);errors = vErrors.length;}}}else {const err5 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema150.type,parentSchema:schema150,data};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}validate156.errors = vErrors;return errors === 0;}function validate95(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.container === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "container"},message:"must have required property '"+"container"+"'",schema:schema104.required,parentSchema:schema104,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.resources === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "resources"},message:"must have required property '"+"resources"+"'",schema:schema104.required,parentSchema:schema104,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!(func2.call(schema104.properties, key0))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema104,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.container !== undefined){if(!(validate96(data.container, {instancePath:instancePath+"/container",parentData:data,parentDataProperty:"container",rootData}))){vErrors = vErrors === null ? validate96.errors : vErrors.concat(validate96.errors);errors = vErrors.length;}}if(data.resources !== undefined){let data1 = data.resources;if(data1 && typeof data1 == "object" && !Array.isArray(data1)){if(data1.cpu === undefined){const err3 = {instancePath:instancePath+"/resources",schemaPath:"#/definitions/BatchJobResources/required",keyword:"required",params:{missingProperty: "cpu"},message:"must have required property '"+"cpu"+"'",schema:schema122.required,parentSchema:schema122,data:data1};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if(data1.memory === undefined){const err4 = {instancePath:instancePath+"/resources",schemaPath:"#/definitions/BatchJobResources/required",keyword:"required",params:{missingProperty: "memory"},message:"must have required property '"+"memory"+"'",schema:schema122.required,parentSchema:schema122,data:data1};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}for(const key1 in data1){if(!(((key1 === "cpu") || (key1 === "memory")) || (key1 === "gpu"))){const err5 = {instancePath:instancePath+"/resources",schemaPath:"#/definitions/BatchJobResources/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema122,data:data1};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data1.cpu !== undefined){let data2 = data1.cpu;if(!(typeof data2 == "number")){const err6 = {instancePath:instancePath+"/resources/cpu",schemaPath:"#/definitions/BatchJobResources/properties/cpu/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema122.properties.cpu.type,parentSchema:schema122.properties.cpu,data:data2};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data1.memory !== undefined){let data3 = data1.memory;if(!(typeof data3 == "number")){const err7 = {instancePath:instancePath+"/resources/memory",schemaPath:"#/definitions/BatchJobResources/properties/memory/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema122.properties.memory.type,parentSchema:schema122.properties.memory,data:data3};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data1.gpu !== undefined){let data4 = data1.gpu;if(!(typeof data4 == "number")){const err8 = {instancePath:instancePath+"/resources/gpu",schemaPath:"#/definitions/BatchJobResources/properties/gpu/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema122.properties.gpu.type,parentSchema:schema122.properties.gpu,data:data4};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}}else {const err9 = {instancePath:instancePath+"/resources",schemaPath:"#/definitions/BatchJobResources/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema122.type,parentSchema:schema122,data:data1};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(data.timeout !== undefined){let data5 = data.timeout;if(!(typeof data5 == "number")){const err10 = {instancePath:instancePath+"/timeout",schemaPath:"#/properties/timeout/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema104.properties.timeout.type,parentSchema:schema104.properties.timeout,data:data5};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data.useSpotInstances !== undefined){let data6 = data.useSpotInstances;if(typeof data6 !== "boolean"){const err11 = {instancePath:instancePath+"/useSpotInstances",schemaPath:"#/properties/useSpotInstances/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema104.properties.useSpotInstances.type,parentSchema:schema104.properties.useSpotInstances,data:data6};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}if(data.logging !== undefined){if(!(validate118(data.logging, {instancePath:instancePath+"/logging",parentData:data,parentDataProperty:"logging",rootData}))){vErrors = vErrors === null ? validate118.errors : vErrors.concat(validate118.errors);errors = vErrors.length;}}if(data.retryConfig !== undefined){let data8 = data.retryConfig;if(data8 && typeof data8 == "object" && !Array.isArray(data8)){for(const key2 in data8){if(!(((key2 === "attempts") || (key2 === "retryIntervalSeconds")) || (key2 === "retryIntervalMultiplier"))){const err12 = {instancePath:instancePath+"/retryConfig",schemaPath:"#/definitions/BatchJobRetryConfiguration/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key2},message:"must NOT have additional properties",schema:false,parentSchema:schema124,data:data8};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}if(data8.attempts !== undefined){let data9 = data8.attempts;if(!(typeof data9 == "number")){const err13 = {instancePath:instancePath+"/retryConfig/attempts",schemaPath:"#/definitions/BatchJobRetryConfiguration/properties/attempts/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema124.properties.attempts.type,parentSchema:schema124.properties.attempts,data:data9};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}if(data8.retryIntervalSeconds !== undefined){let data10 = data8.retryIntervalSeconds;if(!(typeof data10 == "number")){const err14 = {instancePath:instancePath+"/retryConfig/retryIntervalSeconds",schemaPath:"#/definitions/BatchJobRetryConfiguration/properties/retryIntervalSeconds/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema124.properties.retryIntervalSeconds.type,parentSchema:schema124.properties.retryIntervalSeconds,data:data10};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}}if(data8.retryIntervalMultiplier !== undefined){let data11 = data8.retryIntervalMultiplier;if(!(typeof data11 == "number")){const err15 = {instancePath:instancePath+"/retryConfig/retryIntervalMultiplier",schemaPath:"#/definitions/BatchJobRetryConfiguration/properties/retryIntervalMultiplier/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema124.properties.retryIntervalMultiplier.type,parentSchema:schema124.properties.retryIntervalMultiplier,data:data11};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}}}else {const err16 = {instancePath:instancePath+"/retryConfig",schemaPath:"#/definitions/BatchJobRetryConfiguration/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema124.type,parentSchema:schema124,data:data8};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}}if(data.events !== undefined){let data12 = data.events;if(Array.isArray(data12)){const len0 = data12.length;for(let i0=0; i0<len0; i0++){let data13 = data12[i0];const _errs31 = errors;let valid7 = false;const _errs32 = errors;if(!(validate123(data13, {instancePath:instancePath+"/events/" + i0,parentData:data12,parentDataProperty:i0,rootData}))){vErrors = vErrors === null ? validate123.errors : vErrors.concat(validate123.errors);errors = vErrors.length;}var _valid0 = _errs32 === errors;valid7 = valid7 || _valid0;if(!valid7){const _errs33 = errors;if(!(validate127(data13, {instancePath:instancePath+"/events/" + i0,parentData:data12,parentDataProperty:i0,rootData}))){vErrors = vErrors === null ? validate127.errors : vErrors.concat(validate127.errors);errors = vErrors.length;}var _valid0 = _errs33 === errors;valid7 = valid7 || _valid0;if(!valid7){const _errs34 = errors;if(!(validate131(data13, {instancePath:instancePath+"/events/" + i0,parentData:data12,parentDataProperty:i0,rootData}))){vErrors = vErrors === null ? validate131.errors : vErrors.concat(validate131.errors);errors = vErrors.length;}var _valid0 = _errs34 === errors;valid7 = valid7 || _valid0;if(!valid7){const _errs35 = errors;if(!(validate133(data13, {instancePath:instancePath+"/events/" + i0,parentData:data12,parentDataProperty:i0,rootData}))){vErrors = vErrors === null ? validate133.errors : vErrors.concat(validate133.errors);errors = vErrors.length;}var _valid0 = _errs35 === errors;valid7 = valid7 || _valid0;if(!valid7){const _errs36 = errors;if(!(validate137(data13, {instancePath:instancePath+"/events/" + i0,parentData:data12,parentDataProperty:i0,rootData}))){vErrors = vErrors === null ? validate137.errors : vErrors.concat(validate137.errors);errors = vErrors.length;}var _valid0 = _errs36 === errors;valid7 = valid7 || _valid0;if(!valid7){const _errs37 = errors;if(!(validate141(data13, {instancePath:instancePath+"/events/" + i0,parentData:data12,parentDataProperty:i0,rootData}))){vErrors = vErrors === null ? validate141.errors : vErrors.concat(validate141.errors);errors = vErrors.length;}var _valid0 = _errs37 === errors;valid7 = valid7 || _valid0;if(!valid7){const _errs38 = errors;if(!(validate145(data13, {instancePath:instancePath+"/events/" + i0,parentData:data12,parentDataProperty:i0,rootData}))){vErrors = vErrors === null ? validate145.errors : vErrors.concat(validate145.errors);errors = vErrors.length;}var _valid0 = _errs38 === errors;valid7 = valid7 || _valid0;if(!valid7){const _errs39 = errors;if(!(validate149(data13, {instancePath:instancePath+"/events/" + i0,parentData:data12,parentDataProperty:i0,rootData}))){vErrors = vErrors === null ? validate149.errors : vErrors.concat(validate149.errors);errors = vErrors.length;}var _valid0 = _errs39 === errors;valid7 = valid7 || _valid0;if(!valid7){const _errs40 = errors;if(!(validate151(data13, {instancePath:instancePath+"/events/" + i0,parentData:data12,parentDataProperty:i0,rootData}))){vErrors = vErrors === null ? validate151.errors : vErrors.concat(validate151.errors);errors = vErrors.length;}var _valid0 = _errs40 === errors;valid7 = valid7 || _valid0;if(!valid7){const _errs41 = errors;if(!(validate156(data13, {instancePath:instancePath+"/events/" + i0,parentData:data12,parentDataProperty:i0,rootData}))){vErrors = vErrors === null ? validate156.errors : vErrors.concat(validate156.errors);errors = vErrors.length;}var _valid0 = _errs41 === errors;valid7 = valid7 || _valid0;}}}}}}}}}if(!valid7){const err17 = {instancePath:instancePath+"/events/" + i0,schemaPath:"#/properties/events/items/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:schema104.properties.events.items.anyOf,parentSchema:schema104.properties.events.items,data:data13};if(vErrors === null){vErrors = [err17];}else {vErrors.push(err17);}errors++;}else {errors = _errs31;if(vErrors !== null){if(_errs31){vErrors.length = _errs31;}else {vErrors = null;}}}}}else {const err18 = {instancePath:instancePath+"/events",schemaPath:"#/properties/events/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema104.properties.events.type,parentSchema:schema104.properties.events,data:data12};if(vErrors === null){vErrors = [err18];}else {vErrors.push(err18);}errors++;}}if(data.connectTo !== undefined){let data14 = data.connectTo;if(Array.isArray(data14)){const len1 = data14.length;for(let i1=0; i1<len1; i1++){let data15 = data14[i1];if(typeof data15 !== "string"){const err19 = {instancePath:instancePath+"/connectTo/" + i1,schemaPath:"#/properties/connectTo/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema104.properties.connectTo.items.type,parentSchema:schema104.properties.connectTo.items,data:data15};if(vErrors === null){vErrors = [err19];}else {vErrors.push(err19);}errors++;}}}else {const err20 = {instancePath:instancePath+"/connectTo",schemaPath:"#/properties/connectTo/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema104.properties.connectTo.type,parentSchema:schema104.properties.connectTo,data:data14};if(vErrors === null){vErrors = [err20];}else {vErrors.push(err20);}errors++;}}if(data.iamRoleStatements !== undefined){let data16 = data.iamRoleStatements;if(Array.isArray(data16)){const len2 = data16.length;for(let i2=0; i2<len2; i2++){let data17 = data16[i2];if(data17 && typeof data17 == "object" && !Array.isArray(data17)){if(data17.Resource === undefined){const err21 = {instancePath:instancePath+"/iamRoleStatements/" + i2,schemaPath:"#/definitions/StpIamRoleStatement/required",keyword:"required",params:{missingProperty: "Resource"},message:"must have required property '"+"Resource"+"'",schema:schema102.required,parentSchema:schema102,data:data17};if(vErrors === null){vErrors = [err21];}else {vErrors.push(err21);}errors++;}for(const key3 in data17){if(!(((((key3 === "Sid") || (key3 === "Effect")) || (key3 === "Action")) || (key3 === "Condition")) || (key3 === "Resource"))){const err22 = {instancePath:instancePath+"/iamRoleStatements/" + i2,schemaPath:"#/definitions/StpIamRoleStatement/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key3},message:"must NOT have additional properties",schema:false,parentSchema:schema102,data:data17};if(vErrors === null){vErrors = [err22];}else {vErrors.push(err22);}errors++;}}if(data17.Sid !== undefined){let data18 = data17.Sid;if(typeof data18 !== "string"){const err23 = {instancePath:instancePath+"/iamRoleStatements/" + i2+"/Sid",schemaPath:"#/definitions/StpIamRoleStatement/properties/Sid/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema102.properties.Sid.type,parentSchema:schema102.properties.Sid,data:data18};if(vErrors === null){vErrors = [err23];}else {vErrors.push(err23);}errors++;}}if(data17.Effect !== undefined){let data19 = data17.Effect;if(typeof data19 !== "string"){const err24 = {instancePath:instancePath+"/iamRoleStatements/" + i2+"/Effect",schemaPath:"#/definitions/StpIamRoleStatement/properties/Effect/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema102.properties.Effect.type,parentSchema:schema102.properties.Effect,data:data19};if(vErrors === null){vErrors = [err24];}else {vErrors.push(err24);}errors++;}}if(data17.Action !== undefined){let data20 = data17.Action;if(Array.isArray(data20)){const len3 = data20.length;for(let i3=0; i3<len3; i3++){let data21 = data20[i3];if(typeof data21 !== "string"){const err25 = {instancePath:instancePath+"/iamRoleStatements/" + i2+"/Action/" + i3,schemaPath:"#/definitions/StpIamRoleStatement/properties/Action/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema102.properties.Action.items.type,parentSchema:schema102.properties.Action.items,data:data21};if(vErrors === null){vErrors = [err25];}else {vErrors.push(err25);}errors++;}}}else {const err26 = {instancePath:instancePath+"/iamRoleStatements/" + i2+"/Action",schemaPath:"#/definitions/StpIamRoleStatement/properties/Action/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema102.properties.Action.type,parentSchema:schema102.properties.Action,data:data20};if(vErrors === null){vErrors = [err26];}else {vErrors.push(err26);}errors++;}}if(data17.Resource !== undefined){let data22 = data17.Resource;if(Array.isArray(data22)){const len4 = data22.length;for(let i4=0; i4<len4; i4++){let data23 = data22[i4];if(typeof data23 !== "string"){const err27 = {instancePath:instancePath+"/iamRoleStatements/" + i2+"/Resource/" + i4,schemaPath:"#/definitions/StpIamRoleStatement/properties/Resource/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema102.properties.Resource.items.type,parentSchema:schema102.properties.Resource.items,data:data23};if(vErrors === null){vErrors = [err27];}else {vErrors.push(err27);}errors++;}}}else {const err28 = {instancePath:instancePath+"/iamRoleStatements/" + i2+"/Resource",schemaPath:"#/definitions/StpIamRoleStatement/properties/Resource/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema102.properties.Resource.type,parentSchema:schema102.properties.Resource,data:data22};if(vErrors === null){vErrors = [err28];}else {vErrors.push(err28);}errors++;}}}else {const err29 = {instancePath:instancePath+"/iamRoleStatements/" + i2,schemaPath:"#/definitions/StpIamRoleStatement/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema102.type,parentSchema:schema102,data:data17};if(vErrors === null){vErrors = [err29];}else {vErrors.push(err29);}errors++;}}}else {const err30 = {instancePath:instancePath+"/iamRoleStatements",schemaPath:"#/properties/iamRoleStatements/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema104.properties.iamRoleStatements.type,parentSchema:schema104.properties.iamRoleStatements,data:data16};if(vErrors === null){vErrors = [err30];}else {vErrors.push(err30);}errors++;}}}else {const err31 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema104.type,parentSchema:schema104,data};if(vErrors === null){vErrors = [err31];}else {vErrors.push(err31);}errors++;}validate95.errors = vErrors;return errors === 0;}function validate94(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema103.required,parentSchema:schema103,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema103.required,parentSchema:schema103,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!(((key0 === "type") || (key0 === "properties")) || (key0 === "overrides"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema103,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema103.properties.type.type,parentSchema:schema103.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("batch-job" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "batch-job"},message:"must be equal to constant",schema:"batch-job",parentSchema:schema103.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate95(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate95.errors : vErrors.concat(validate95.errors);errors = vErrors.length;}}if(data.overrides !== undefined){let data2 = data.overrides;if(data2 && typeof data2 == "object" && !Array.isArray(data2)){for(const key1 in data2){let data3 = data2[key1];if(data3 && typeof data3 == "object" && !Array.isArray(data3)){}else {const err5 = {instancePath:instancePath+"/overrides/" + key1.replace(/~/g, "~0").replace(/\//g, "~1"),schemaPath:"#/properties/overrides/additionalProperties/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema103.properties.overrides.additionalProperties.type,parentSchema:schema103.properties.overrides.additionalProperties,data:data3};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}}else {const err6 = {instancePath:instancePath+"/overrides",schemaPath:"#/properties/overrides/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema103.properties.overrides.type,parentSchema:schema103.properties.overrides,data:data2};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}}else {const err7 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema103.type,parentSchema:schema103,data};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}validate94.errors = vErrors;return errors === 0;}const schema156 = {"description":"#### Web Service\n\n---\n\nA continuously running container with a public endpoint (URL) that is accessible from the internet.\nIt includes TLS/SSL out of the box and provides easy configuration for scaling, health checks, and other properties.","type":"object","properties":{"type":{"type":"string","const":"web-service"},"properties":{"$ref":"#/definitions/WebServiceProps"},"overrides":{"description":"#### Resource Overrides\n\n---\n\nOverrides properties of the underlying CloudFormation resources that Stacktape creates.\n\nChild resources are identified by their CloudFormation logical ID (e.g., `MyBucketBucket`). You can find these IDs by running `stacktape stack:info --detailed`.\n\nFor a list of properties that can be overridden, refer to the [AWS CloudFormation documentation](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html).","type":"object","additionalProperties":{"type":"object","additionalProperties":{}}}},"additionalProperties":false,"required":["properties","type"]};const schema157 = {"type":"object","properties":{"cors":{"$ref":"#/definitions/HttpApiCorsConfig","description":"#### Configures CORS (Cross-Origin Resource Sharing) for this service.\n\n---\n\nIf CORS is configured using this property, any CORS headers returned from your application will be ignored and replaced.\n\n> This property is only effective if the `loadBalancing` type is `http-api-gateway` (the default)."},"customDomains":{"description":"#### Attaches custom domains to this Web Service.\n\n---\n\nStacktape allows you to connect custom domains to various resources, including Web Services, HTTP API Gateways, Application Load Balancers, and Buckets with CDNs.\n\nWhen you connect a custom domain, Stacktape automatically:\n\n- **Creates DNS records:** A DNS record is created to point your domain name to the resource.\n- **Adds TLS certificates:** If the resource uses HTTPS, Stacktape issues and attaches a free, AWS-managed TLS certificate, handling TLS termination for you.\n\nIf you want to use your own certificates, you can configure `customCertificateArns`.\n\n> To manage a custom domain, it must first be added to your AWS account as a [hosted zone](https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/AboutHZWorkingWith.html), and your domain registrar's name servers must point to it.\n> For more details, see the [Adding a domain guide](https://docs.stacktape.com/other-resources/domains-and-certificates/#adding-domain).","type":"array","items":{"$ref":"#/definitions/DomainConfiguration"}},"loadBalancing":{"description":"#### Configures the entry point used for distributing traffic to containers.\n\n---\n\nThe following entry point types are supported:\n\n- **`http-api-gateway`** (default):\n  - Distributes traffic to available containers randomly.\n  - Uses a pay-per-use pricing model (~$1 per million requests).\n  - Ideal for most workloads, but an `application-load-balancer` may be more cost-effective if you exceed ~500,000 requests per day.\n\n- **`application-load-balancer`**:\n  - Distributes traffic to available containers in a round-robin fashion.\n  - Uses a pricing model that combines a flat hourly charge (~$0.0252/hour) with usage-based charges for LCUs (Load Balancer Capacity Units) (~$0.08/hour).\n  - Eligible for the AWS Free Tier. For more details, see the [AWS pricing documentation](https://aws.amazon.com/elasticloadbalancing/pricing/).\n\n- **`network-load-balancer`**:\n  - Supports TCP and TLS protocols.\n  - Uses the same pricing model as the `application-load-balancer`.\n  - Also eligible for the AWS Free Tier.","anyOf":[{"$ref":"#/definitions/WebServiceHttpApiGatewayLoadBalancing"},{"$ref":"#/definitions/WebServiceAlbLoadBalancing"},{"$ref":"#/definitions/WebServiceNlbLoadBalancing"}]},"cdn":{"$ref":"#/definitions/CdnConfiguration","description":"#### Configures an AWS CloudFront CDN (Content Delivery Network) in front of your Web Service.\n\n---\n\nA CDN is a globally distributed network of edge locations that caches responses from your Web Service, bringing content closer to your users.\n\nUsing a CDN can:\n- Reduce latency and improve load times.\n- Lower bandwidth costs.\n- Decrease the amount of traffic hitting your origin (the Web Service containers).\n- Enhance security.\n\nThe CDN caches responses from the origin at the edge for a specified amount of time."},"alarms":{"description":"#### Additional alarms associated with this resource.\n\n---\n\nThese alarms will be merged with any alarms configured globally in the [console](https://console.stacktape.com/alarms).","type":"array","items":{"anyOf":[{"$ref":"#/definitions/ApplicationLoadBalancerAlarm"},{"$ref":"#/definitions/HttpApiGatewayAlarm"}]}},"disabledGlobalAlarms":{"description":"#### Disables globally configured alarms for this resource.\n\n---\n\nProvide a list of alarm names as configured in the [console](https://console.stacktape.com/alarms).","type":"array","items":{"type":"string"}},"deployment":{"$ref":"#/definitions/ContainerWorkloadDeploymentConfig","description":"#### Configures the deployment behavior of the Web Service.\n\n---\n\nThis allows you to safely update your service in a live environment by gradually shifting traffic to the new version.\nThis gives you the opportunity to monitor the workload during the update and quickly roll back in case of any issues.\n\nThe following deployment strategies are supported:\n- **`Canary10Percent5Minutes`**: Shifts 10% of traffic, then the remaining 90% five minutes later.\n- **`Canary10Percent15Minutes`**: Shifts 10% of traffic, then the remaining 90% fifteen minutes later.\n- **`Linear10PercentEvery1Minute`**: Shifts 10% of traffic every minute until all traffic is shifted.\n- **`Linear10PercentEvery3Minutes`**: Shifts 10% of traffic every three minutes until all traffic is shifted.\n- **`AllAtOnce`**: Shifts all traffic to the updated service at once.\n\nYou can use Lambda function hooks to validate or abort the deployment.\n\n> This feature requires the `loadBalancing` type to be set to `application-load-balancer`."},"useFirewall":{"description":"#### The name of the `web-app-firewall` resource to use for this Web Service.\n\n---\n\nA `web-app-firewall` can protect your resources from common web exploits that could affect availability, compromise security, or consume excessive resources.\nThe firewall works by filtering malicious requests before they reach your application.\n\nFor more information, see the [firewall documentation](https://docs.stacktape.com/security-resources/web-app-firewalls/).","type":"string"},"packaging":{"$ref":"#/definitions/ContainerWorkloadContainerPackaging","description":"#### Container Packaging\n\n---\n\nConfigures the container image for the service."},"environment":{"description":"#### Environment Variables\n\n---\n\nA list of environment variables to inject into the container at runtime. This is often used to provide configuration details, such as database URLs or secrets.","type":"array","items":{"$ref":"#/definitions/EnvironmentVar"}},"logging":{"$ref":"#/definitions/ContainerWorkloadContainerLogging","description":"#### Logging Configuration\n\n---\n\nConfigures the logging behavior for the service container.\n\nContainer logs (from `stdout` and `stderr`) are automatically sent to a CloudWatch log group and retained for 180 days by default. You can view logs in the AWS CloudWatch console or by using the [`stacktape logs` command](https://docs.stacktape.com/cli/commands/logs/)."},"resources":{"$ref":"#/definitions/ContainerWorkloadResourcesConfig","description":"#### Resource Allocation\n\n---\n\nConfigures the CPU, memory, and underlying compute engine for the service container.\n\nYou can choose between two compute engines:\n- **Fargate:** A serverless engine that abstracts away server management. To use Fargate, specify `cpu` and `memory` without `instanceTypes`.\n- **EC2:** Provides direct control over the underlying virtual servers. To use EC2, specify the desired `instanceTypes`."},"scaling":{"$ref":"#/definitions/ContainerWorkloadScaling","description":"#### Scaling Configuration\n\n---\n\nConfigures horizontal scaling by adding or removing container instances based on demand. Incoming requests are automatically distributed across all available containers."},"internalHealthCheck":{"$ref":"#/definitions/ContainerHealthCheck","description":"#### Internal Health Check\n\n---\n\nConfigures an internal health check to monitor the container's status. If a container fails the health check, it is automatically terminated and replaced with a new one."},"stopTimeout":{"description":"#### Stop Timeout\n\n---\n\nThe amount of time (in seconds) to wait before a container is forcefully killed if it does not exit gracefully.\n\nWhen a container is stopped, it receives a `SIGTERM` signal. If it doesn't exit within the timeout period, it receives a `SIGKILL` signal. This allows for graceful shutdown and cleanup. The timeout must be between 2 and 120 seconds.","default":2,"type":"number"},"enableRemoteSessions":{"description":"#### Enable Remote Sessions\n\n---\n\nIf `true`, allows you to start an interactive shell session inside a running container using the `stacktape container:session` command.\n\nThis uses AWS ECS Exec and SSM Session Manager for secure connections. It runs a small agent alongside your application, which consumes a minimal amount of CPU and memory. This is useful for debugging and inspecting deployed containers.","default":false,"type":"boolean"},"volumeMounts":{"description":"#### Volume Mounts\n\n---\n\nA list of volumes to attach to the container for persistent storage.\n\nCurrently, only EFS (Elastic File System) volumes are supported. Volumes can be shared across multiple containers and persist even if the container is stopped or replaced.","type":"array","items":{"$ref":"#/definitions/ContainerEfsMount"}},"sideContainers":{"description":"#### Sidecar Containers\n\n---\n\nA list of helper containers that run alongside the main service container to provide additional functionality.\n\n- **`run-on-init`:** Runs to completion before the main service container starts. Ideal for setup tasks like database migrations.\n- **`always-running`:** Runs for the entire lifecycle of the service container. Ideal for supporting services like logging, monitoring, or debugging agents.\n\n`always-running` containers can communicate with the main container via `localhost` on its exposed ports.","type":"array","items":{"$ref":"#/definitions/ServiceHelperContainer"}},"usePrivateSubnetsWithNAT":{"description":"#### Deploys the service in private subnets with internet access through NAT Gateway.\n\n---\n\nWhen the service is in a private subnet, it does not have public IP and direct internet access.\nInstead, all outbound internet traffic is routed through a NAT Gateway.\n\nYou can assign a static public IP address to the NAT Gateway and configure high availability using `stackConfig.vpcSettings`.\nThis allows you to whitelist your service's IP address in external services (e.g., third-party APIs, databases, payment gateways).\n\n**Cost considerations:**\n- NAT Gateways incur additional AWS charges for both the gateway itself and data processing","default":false,"type":"boolean"},"connectTo":{"description":"#### Connect To\n\n---\n\nConfigures access to other resources in your stack and AWS services. By specifying resources here, Stacktape automatically:\n- Configures IAM role permissions.\n- Sets up security group rules to allow network traffic.\n- Injects environment variables with connection details into the compute resource.\n\nEnvironment variables are named `STP_[RESOURCE_NAME]_[VARIABLE_NAME]` (e.g., `STP_MY_DATABASE_CONNECTION_STRING`).\n\n---\n\n#### Granted Permissions and Injected Variables:\n\n**`Bucket`**\n- **Permissions:** List, create, get, delete, and tag objects.\n- **Variables:** `NAME`, `ARN`\n\n**`DynamoDbTable`**\n- **Permissions:** Get, put, update, delete, scan, and query items; describe table stream.\n- **Variables:** `NAME`, `ARN`, `STREAM_ARN`\n\n**`MongoDbAtlasCluster`**\n- **Permissions:** Allows connection to clusters with `accessibilityMode` set to `scoping-workloads-in-vpc`. Creates a temporary user for secure, credential-less access.\n- **Variables:** `CONNECTION_STRING`\n\n**`RelationalDatabase`**\n- **Permissions:** Allows connection to databases with `accessibilityMode` set to `scoping-workloads-in-vpc`.\n- **Variables:** `CONNECTION_STRING`, `JDBC_CONNECTION_STRING`, `HOST`, `PORT`. For Aurora clusters, `READER_CONNECTION_STRING`, `READER_JDBC_CONNECTION_STRING`, and `READER_HOST` are also included.\n\n**`RedisCluster`**\n- **Permissions:** Allows connection to clusters with `accessibilityMode` set to `scoping-workloads-in-vpc`.\n- **Variables:** `HOST`, `READER_HOST`, `PORT`\n\n**`EventBus`**\n- **Permissions:** Publish events.\n- **Variables:** `ARN`\n\n**`Function`**\n- **Permissions:** Invoke the function, including via its URL if enabled.\n- **Variables:** `ARN`\n\n**`BatchJob`**\n- **Permissions:** Submit, list, describe, and terminate jobs; manage state machine executions.\n- **Variables:** `JOB_DEFINITION_ARN`, `STATE_MACHINE_ARN`\n\n**`UserAuthPool`**\n- **Permissions:** Full control over the user pool (`cognito-idp:*`).\n- **Variables:** `ID`, `CLIENT_ID`, `ARN`\n\n**`SnsTopic`**\n- **Permissions:** Confirm, list, publish, and manage subscriptions.\n- **Variables:** `ARN`, `NAME`\n\n**`SqsQueue`**\n- **Permissions:** Send, receive, delete, and purge messages.\n- **Variables:** `ARN`, `NAME`, `URL`\n\n**`UpstashKafkaTopic`**\n- **Variables:** `TOPIC_NAME`, `TOPIC_ID`, `USERNAME`, `PASSWORD`, `TCP_ENDPOINT`, `REST_URL`\n\n**`UpstashRedis`**\n- **Variables:** `HOST`, `PORT`, `PASSWORD`, `REST_TOKEN`, `REST_URL`, `REDIS_URL`\n\n**`PrivateService`**\n- **Variables:** `ADDRESS`\n\n**`aws:ses` (Macro)**\n- **Permissions:** Full permissions for AWS SES (`ses:*`).","type":"array","items":{"type":"string"}},"iamRoleStatements":{"description":"#### Custom IAM Role Statements\n\n---\n\nA list of raw AWS IAM role statements to append to the resource's role, allowing for fine-grained permission control.","type":"array","items":{"$ref":"#/definitions/StpIamRoleStatement"}}},"additionalProperties":false,"required":["packaging","resources"]};const schema160 = {"type":"object","properties":{"domainName":{"description":"#### Domain Name\n\n---\n\nThe fully qualified domain name (e.g., `mydomain.com`, `api.mydomain.com`). Do not include the protocol (`https://`).","type":"string"},"customCertificateArn":{"description":"#### Custom Certificate ARN\n\n---\n\nThe ARN of a custom ACM certificate to use for this domain.\n\nBy default, Stacktape automatically generates and manages certificates for your domains. If you prefer to use a custom certificate from your AWS account, provide its ARN here.","type":"string"},"disableDnsRecordCreation":{"description":"#### Disable DNS Record Creation\n\n---\n\nIf `true`, Stacktape will not create a DNS record for this domain. This is useful if you want to manage DNS records manually.","default":false,"type":"boolean"}},"additionalProperties":false,"required":["domainName"]};const schema161 = {"type":"object","properties":{"type":{"type":"string","const":"http-api-gateway"}},"additionalProperties":false,"required":["type"]};const schema158 = {"type":"object","properties":{"enabled":{"description":"#### Enables CORS (Cross-Origin Resource Sharing).\n\n---\n\nIf you do not specify any additional properties, a default CORS configuration is used:\n- `allowedMethods`: Inferred from the methods used by integrations associated with the API Gateway.\n- `allowedOrigins`: `*`\n- `allowedHeaders`: `Content-Type`, `X-Amz-Date`, `Authorization`, `X-Api-Key`, `X-Amz-Security-Token`, `X-Amz-User-Agent`","default":false,"type":"boolean"},"allowedOrigins":{"description":"#### The origins to accept cross-domain requests from.\n\n---\n\nAn origin is a combination of a scheme (protocol), hostname (domain), and port.\n\nExample: `https://foo.example`","default":"*","type":"array","items":{"type":"string"}},"allowedHeaders":{"description":"#### The allowed HTTP headers.\n\n---\n\nEach header name in the `Access-Control-Request-Headers` header of a preflight request must match an entry in this list.","type":"array","items":{"type":"string"}},"allowedMethods":{"description":"#### The allowed HTTP methods.\n\n---\n\nBy default, Stacktape determines the allowed methods based on the event integrations associated with the gateway.","type":"array","items":{"$ref":"#/definitions/HttpMethod"}},"allowCredentials":{"description":"#### Configures the presence of credentials in the CORS request.","type":"boolean"},"exposedResponseHeaders":{"description":"#### The response headers that should be made available to scripts running in the browser in response to a cross-origin request.","type":"array","items":{"type":"string"}},"maxAge":{"description":"#### The time (in seconds) that the browser can cache the response for a preflight request.","type":"number"}},"additionalProperties":false,"required":["enabled"]};const schema159 = {"enum":["*","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT"],"type":"string"};function validate164(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.enabled === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "enabled"},message:"must have required property '"+"enabled"+"'",schema:schema158.required,parentSchema:schema158,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!(((((((key0 === "enabled") || (key0 === "allowedOrigins")) || (key0 === "allowedHeaders")) || (key0 === "allowedMethods")) || (key0 === "allowCredentials")) || (key0 === "exposedResponseHeaders")) || (key0 === "maxAge"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema158,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.enabled !== undefined){let data0 = data.enabled;if(typeof data0 !== "boolean"){const err2 = {instancePath:instancePath+"/enabled",schemaPath:"#/properties/enabled/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema158.properties.enabled.type,parentSchema:schema158.properties.enabled,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.allowedOrigins !== undefined){let data1 = data.allowedOrigins;if(Array.isArray(data1)){const len0 = data1.length;for(let i0=0; i0<len0; i0++){let data2 = data1[i0];if(typeof data2 !== "string"){const err3 = {instancePath:instancePath+"/allowedOrigins/" + i0,schemaPath:"#/properties/allowedOrigins/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema158.properties.allowedOrigins.items.type,parentSchema:schema158.properties.allowedOrigins.items,data:data2};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}}else {const err4 = {instancePath:instancePath+"/allowedOrigins",schemaPath:"#/properties/allowedOrigins/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema158.properties.allowedOrigins.type,parentSchema:schema158.properties.allowedOrigins,data:data1};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.allowedHeaders !== undefined){let data3 = data.allowedHeaders;if(Array.isArray(data3)){const len1 = data3.length;for(let i1=0; i1<len1; i1++){let data4 = data3[i1];if(typeof data4 !== "string"){const err5 = {instancePath:instancePath+"/allowedHeaders/" + i1,schemaPath:"#/properties/allowedHeaders/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema158.properties.allowedHeaders.items.type,parentSchema:schema158.properties.allowedHeaders.items,data:data4};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}}else {const err6 = {instancePath:instancePath+"/allowedHeaders",schemaPath:"#/properties/allowedHeaders/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema158.properties.allowedHeaders.type,parentSchema:schema158.properties.allowedHeaders,data:data3};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data.allowedMethods !== undefined){let data5 = data.allowedMethods;if(Array.isArray(data5)){const len2 = data5.length;for(let i2=0; i2<len2; i2++){let data6 = data5[i2];if(typeof data6 !== "string"){const err7 = {instancePath:instancePath+"/allowedMethods/" + i2,schemaPath:"#/definitions/HttpMethod/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema159.type,parentSchema:schema159,data:data6};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}if(!((((((((data6 === "*") || (data6 === "DELETE")) || (data6 === "GET")) || (data6 === "HEAD")) || (data6 === "OPTIONS")) || (data6 === "PATCH")) || (data6 === "POST")) || (data6 === "PUT"))){const err8 = {instancePath:instancePath+"/allowedMethods/" + i2,schemaPath:"#/definitions/HttpMethod/enum",keyword:"enum",params:{allowedValues: schema159.enum},message:"must be equal to one of the allowed values",schema:schema159.enum,parentSchema:schema159,data:data6};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}}else {const err9 = {instancePath:instancePath+"/allowedMethods",schemaPath:"#/properties/allowedMethods/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema158.properties.allowedMethods.type,parentSchema:schema158.properties.allowedMethods,data:data5};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(data.allowCredentials !== undefined){let data7 = data.allowCredentials;if(typeof data7 !== "boolean"){const err10 = {instancePath:instancePath+"/allowCredentials",schemaPath:"#/properties/allowCredentials/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema158.properties.allowCredentials.type,parentSchema:schema158.properties.allowCredentials,data:data7};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data.exposedResponseHeaders !== undefined){let data8 = data.exposedResponseHeaders;if(Array.isArray(data8)){const len3 = data8.length;for(let i3=0; i3<len3; i3++){let data9 = data8[i3];if(typeof data9 !== "string"){const err11 = {instancePath:instancePath+"/exposedResponseHeaders/" + i3,schemaPath:"#/properties/exposedResponseHeaders/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema158.properties.exposedResponseHeaders.items.type,parentSchema:schema158.properties.exposedResponseHeaders.items,data:data9};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}}else {const err12 = {instancePath:instancePath+"/exposedResponseHeaders",schemaPath:"#/properties/exposedResponseHeaders/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema158.properties.exposedResponseHeaders.type,parentSchema:schema158.properties.exposedResponseHeaders,data:data8};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}if(data.maxAge !== undefined){let data10 = data.maxAge;if(!(typeof data10 == "number")){const err13 = {instancePath:instancePath+"/maxAge",schemaPath:"#/properties/maxAge/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema158.properties.maxAge.type,parentSchema:schema158.properties.maxAge,data:data10};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}}else {const err14 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema158.type,parentSchema:schema158,data};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}validate164.errors = vErrors;return errors === 0;}const schema162 = {"type":"object","properties":{"type":{"type":"string","const":"application-load-balancer"},"properties":{"$ref":"#/definitions/WebServiceAlbLoadBalancingProps"}},"additionalProperties":false,"required":["type"]};const schema163 = {"type":"object","properties":{"healthcheckPath":{"description":"#### The path on which the Load Balancer performs health checks.\n\n---","default":"/","type":"string"},"healthcheckInterval":{"description":"#### The interval (in seconds) for how often the health check is performed.\n\n---","default":5,"type":"number"},"healthcheckTimeout":{"description":"#### The timeout (in seconds) after which the health check is considered failed.\n\n---","default":4,"type":"number"}},"additionalProperties":false};function validate166(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.type === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema162.required,parentSchema:schema162,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema162,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err2 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema162.properties.type.type,parentSchema:schema162.properties.type,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}if("application-load-balancer" !== data0){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "application-load-balancer"},message:"must be equal to constant",schema:"application-load-balancer",parentSchema:schema162.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.properties !== undefined){let data1 = data.properties;if(data1 && typeof data1 == "object" && !Array.isArray(data1)){for(const key1 in data1){if(!(((key1 === "healthcheckPath") || (key1 === "healthcheckInterval")) || (key1 === "healthcheckTimeout"))){const err4 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/WebServiceAlbLoadBalancingProps/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema163,data:data1};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data1.healthcheckPath !== undefined){let data2 = data1.healthcheckPath;if(typeof data2 !== "string"){const err5 = {instancePath:instancePath+"/properties/healthcheckPath",schemaPath:"#/definitions/WebServiceAlbLoadBalancingProps/properties/healthcheckPath/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema163.properties.healthcheckPath.type,parentSchema:schema163.properties.healthcheckPath,data:data2};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data1.healthcheckInterval !== undefined){let data3 = data1.healthcheckInterval;if(!(typeof data3 == "number")){const err6 = {instancePath:instancePath+"/properties/healthcheckInterval",schemaPath:"#/definitions/WebServiceAlbLoadBalancingProps/properties/healthcheckInterval/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema163.properties.healthcheckInterval.type,parentSchema:schema163.properties.healthcheckInterval,data:data3};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data1.healthcheckTimeout !== undefined){let data4 = data1.healthcheckTimeout;if(!(typeof data4 == "number")){const err7 = {instancePath:instancePath+"/properties/healthcheckTimeout",schemaPath:"#/definitions/WebServiceAlbLoadBalancingProps/properties/healthcheckTimeout/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema163.properties.healthcheckTimeout.type,parentSchema:schema163.properties.healthcheckTimeout,data:data4};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}}else {const err8 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/WebServiceAlbLoadBalancingProps/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema163.type,parentSchema:schema163,data:data1};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}}else {const err9 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema162.type,parentSchema:schema162,data};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}validate166.errors = vErrors;return errors === 0;}const schema164 = {"type":"object","properties":{"type":{"type":"string","const":"network-load-balancer"},"properties":{"$ref":"#/definitions/WebServiceNlbLoadBalancingProps"}},"additionalProperties":false,"required":["properties","type"]};const schema165 = {"type":"object","properties":{"healthcheckPath":{"description":"#### The path on which the Load Balancer performs health checks.\n\n---\n\nThis only takes effect if `healthcheckProtocol` is set to `HTTP`.","default":"/","type":"string"},"healthcheckInterval":{"description":"#### The interval (in seconds) for how often the health check is performed.\n\n---\n\nMust be between 5 and 300.","default":5,"type":"number"},"healthcheckTimeout":{"description":"#### The timeout (in seconds) after which the health check is considered failed.\n\n---\n\nMust be between 2 and 120.","default":4,"type":"number"},"healthCheckProtocol":{"description":"#### The protocol the Load Balancer uses when performing health checks on targets.\n\n---","default":"TCP","enum":["HTTP","TCP"],"type":"string"},"healthCheckPort":{"description":"#### The port the Load Balancer uses when performing health checks on targets.\n\n---\n\nBy default, this uses the same port that receives traffic from the Load Balancer.","type":"number"},"ports":{"type":"array","items":{"$ref":"#/definitions/WebServiceNlbLoadBalancingPort"}}},"additionalProperties":false,"required":["ports"]};const schema166 = {"type":"object","properties":{"port":{"description":"#### The port number exposed by the Load Balancer.\n\n---","type":"number"},"protocol":{"description":"#### The protocol to be used for the Load Balancer.\n\n---","default":"TLS","enum":["TCP","TLS"],"type":"string"},"containerPort":{"description":"#### The port number on the container that will receive traffic from the Load Balancer.\n\n---\n\nDefaults to the same port number specified in the `port` property.","type":"number"}},"additionalProperties":false,"required":["port"]};function validate169(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.ports === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "ports"},message:"must have required property '"+"ports"+"'",schema:schema165.required,parentSchema:schema165,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!((((((key0 === "healthcheckPath") || (key0 === "healthcheckInterval")) || (key0 === "healthcheckTimeout")) || (key0 === "healthCheckProtocol")) || (key0 === "healthCheckPort")) || (key0 === "ports"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema165,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.healthcheckPath !== undefined){let data0 = data.healthcheckPath;if(typeof data0 !== "string"){const err2 = {instancePath:instancePath+"/healthcheckPath",schemaPath:"#/properties/healthcheckPath/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema165.properties.healthcheckPath.type,parentSchema:schema165.properties.healthcheckPath,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.healthcheckInterval !== undefined){let data1 = data.healthcheckInterval;if(!(typeof data1 == "number")){const err3 = {instancePath:instancePath+"/healthcheckInterval",schemaPath:"#/properties/healthcheckInterval/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema165.properties.healthcheckInterval.type,parentSchema:schema165.properties.healthcheckInterval,data:data1};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.healthcheckTimeout !== undefined){let data2 = data.healthcheckTimeout;if(!(typeof data2 == "number")){const err4 = {instancePath:instancePath+"/healthcheckTimeout",schemaPath:"#/properties/healthcheckTimeout/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema165.properties.healthcheckTimeout.type,parentSchema:schema165.properties.healthcheckTimeout,data:data2};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.healthCheckProtocol !== undefined){let data3 = data.healthCheckProtocol;if(typeof data3 !== "string"){const err5 = {instancePath:instancePath+"/healthCheckProtocol",schemaPath:"#/properties/healthCheckProtocol/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema165.properties.healthCheckProtocol.type,parentSchema:schema165.properties.healthCheckProtocol,data:data3};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}if(!((data3 === "HTTP") || (data3 === "TCP"))){const err6 = {instancePath:instancePath+"/healthCheckProtocol",schemaPath:"#/properties/healthCheckProtocol/enum",keyword:"enum",params:{allowedValues: schema165.properties.healthCheckProtocol.enum},message:"must be equal to one of the allowed values",schema:schema165.properties.healthCheckProtocol.enum,parentSchema:schema165.properties.healthCheckProtocol,data:data3};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data.healthCheckPort !== undefined){let data4 = data.healthCheckPort;if(!(typeof data4 == "number")){const err7 = {instancePath:instancePath+"/healthCheckPort",schemaPath:"#/properties/healthCheckPort/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema165.properties.healthCheckPort.type,parentSchema:schema165.properties.healthCheckPort,data:data4};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data.ports !== undefined){let data5 = data.ports;if(Array.isArray(data5)){const len0 = data5.length;for(let i0=0; i0<len0; i0++){let data6 = data5[i0];if(data6 && typeof data6 == "object" && !Array.isArray(data6)){if(data6.port === undefined){const err8 = {instancePath:instancePath+"/ports/" + i0,schemaPath:"#/definitions/WebServiceNlbLoadBalancingPort/required",keyword:"required",params:{missingProperty: "port"},message:"must have required property '"+"port"+"'",schema:schema166.required,parentSchema:schema166,data:data6};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}for(const key1 in data6){if(!(((key1 === "port") || (key1 === "protocol")) || (key1 === "containerPort"))){const err9 = {instancePath:instancePath+"/ports/" + i0,schemaPath:"#/definitions/WebServiceNlbLoadBalancingPort/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema166,data:data6};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(data6.port !== undefined){let data7 = data6.port;if(!(typeof data7 == "number")){const err10 = {instancePath:instancePath+"/ports/" + i0+"/port",schemaPath:"#/definitions/WebServiceNlbLoadBalancingPort/properties/port/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema166.properties.port.type,parentSchema:schema166.properties.port,data:data7};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data6.protocol !== undefined){let data8 = data6.protocol;if(typeof data8 !== "string"){const err11 = {instancePath:instancePath+"/ports/" + i0+"/protocol",schemaPath:"#/definitions/WebServiceNlbLoadBalancingPort/properties/protocol/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema166.properties.protocol.type,parentSchema:schema166.properties.protocol,data:data8};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}if(!((data8 === "TCP") || (data8 === "TLS"))){const err12 = {instancePath:instancePath+"/ports/" + i0+"/protocol",schemaPath:"#/definitions/WebServiceNlbLoadBalancingPort/properties/protocol/enum",keyword:"enum",params:{allowedValues: schema166.properties.protocol.enum},message:"must be equal to one of the allowed values",schema:schema166.properties.protocol.enum,parentSchema:schema166.properties.protocol,data:data8};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}if(data6.containerPort !== undefined){let data9 = data6.containerPort;if(!(typeof data9 == "number")){const err13 = {instancePath:instancePath+"/ports/" + i0+"/containerPort",schemaPath:"#/definitions/WebServiceNlbLoadBalancingPort/properties/containerPort/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema166.properties.containerPort.type,parentSchema:schema166.properties.containerPort,data:data9};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}}else {const err14 = {instancePath:instancePath+"/ports/" + i0,schemaPath:"#/definitions/WebServiceNlbLoadBalancingPort/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema166.type,parentSchema:schema166,data:data6};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}}}else {const err15 = {instancePath:instancePath+"/ports",schemaPath:"#/properties/ports/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema165.properties.ports.type,parentSchema:schema165.properties.ports,data:data5};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}}}else {const err16 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema165.type,parentSchema:schema165,data};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}validate169.errors = vErrors;return errors === 0;}function validate168(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema164.required,parentSchema:schema164,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema164.required,parentSchema:schema164,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema164,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema164.properties.type.type,parentSchema:schema164.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("network-load-balancer" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "network-load-balancer"},message:"must be equal to constant",schema:"network-load-balancer",parentSchema:schema164.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate169(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate169.errors : vErrors.concat(validate169.errors);errors = vErrors.length;}}}else {const err5 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema164.type,parentSchema:schema164,data};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}validate168.errors = vErrors;return errors === 0;}const schema167 = {"type":"object","properties":{"enabled":{"description":"#### Enables the CDN.\n\n---","default":false,"type":"boolean"},"cachingOptions":{"$ref":"#/definitions/CdnCachingOptions","description":"#### Configures custom caching options.\n\n---\n\nThis property controls the caching behavior of your edge distribution, including what content is cached, for how long, and when it should be re-fetched from the origin.\n\nIf a response from the origin does not include `Cache-Control` or `Expires` headers, a default caching behavior is used:\n- **bucket**: Objects are cached for 6 months by default, or until the cache is invalidated.\n- **http-api-gateway** and **application-load-balancer**: Responses are not cached by default."},"forwardingOptions":{"$ref":"#/definitions/CdnForwardingOptions","description":"#### Configures which parts of the request are forwarded to the origin.\n\n---\n\nThis includes headers, query parameters, and cookies."},"routeRewrites":{"description":"#### Redirects specific requests to a different origin.\n\n---\n\nEach incoming request to the CDN is evaluated against a list of route rewrites. If the request path matches a rewrite's path pattern, it is sent to the configured route.\n\nRoute rewrites are evaluated in order, and the first match determines where the request will be sent.\nIf no match is found, the request is sent to the default origin (the resource the CDN is attached to).\n\n**Example Use Cases:**\n- Serving static content from a bucket while routing dynamic paths to a Lambda function.\n- Caching `.jpg` files for a longer duration than other file types.","type":"array","items":{"$ref":"#/definitions/CdnRouteRewrite"}},"customDomains":{"description":"#### Attaches custom domains to this CDN.\n\n---\n\nWhen you connect a custom domain, Stacktape automatically:\n\n- **Creates DNS records:** A DNS record is created to point your domain name to the resource.\n- **Adds TLS certificates:** If the resource uses HTTPS, Stacktape issues and attaches a free, AWS-managed TLS certificate, handling TLS termination for you.\n\n> To manage a custom domain, it first needs to be added to your AWS account.\n> This means that a [hosted zone](https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/AboutHZWorkingWith.html)\n> (collection of records managed together for a given domain)\n> for your domain exists in your AWS account and your domain registrar's name servers are pointing to it.\n> To learn more, refer to [Adding a domain guide](https://docs.stacktape.com/other-resources/domains-and-certificates/#adding-domain).","type":"array","items":{"$ref":"#/definitions/DomainConfiguration"}},"edgeFunctions":{"$ref":"#/definitions/EdgeFunctionsConfig","description":"#### Configures Edge function triggers.\n\n---\n\nYou can associate an `edge-lambda-function` with the CDN to be executed at different stages:\n\n- `onRequest`: Executed when the CDN receives a request from a client, before checking the cache.\n- `onResponse`: Executed before returning a response to the client.\n\n**Potential Use Cases:**\n- Generating an immediate HTTP response without checking the cache or forwarding to the origin.\n- Modifying the request (e.g., rewriting the URL or headers) before forwarding to the origin.\n- Inspecting cookies or validating authorization headers and tokens."},"cloudfrontPriceClass":{"description":"#### Configures the locations from which the CDN serves traffic.\n\n---\n\nA higher price class results in more edge locations serving your traffic, which can improve performance in some regions but is more costly.\n\nFor example, if your users are primarily located in the US and Europe, you can save money by using `PriceClass_100`.\n\nFor more details, see the [AWS documentation on price classes](https://aws.amazon.com/cloudfront/pricing/).","default":"PriceClass_All","enum":["PriceClass_100","PriceClass_200","PriceClass_All"],"type":"string"},"defaultRoutePrefix":{"description":"#### Prefixes requests to the origin with a specified path.\n\n---\n\nIncoming requests will be prefixed with `defaultRoutePrefix` before being forwarded to the origin.\nFor example, if the CDN receives a request for `/my/resource/url`, the request will be sent to the origin as `/your_prefix/my/resource/url`.","type":"string"},"errorDocument":{"description":"#### The custom error document URL.\n\n---\n\nThis document is requested by the CDN if the original request to the origin returns a `404` error code.\n\nExample: `/error.html`","default":"/404.html","type":"string"},"indexDocument":{"description":"#### The custom index document served for requests to the root path (`/`).\n\n---","default":"/index.html","type":"string"},"disableInvalidationAfterDeploy":{"description":"#### Disables invalidation of the CDN cache after each deployment.\n\n---\n\nBy default, the cache is invalidated after every deployment to prevent serving outdated content.\nWhen the cache is invalidated, the CDN flushes all cached content, and new requests are sent directly to the origin.","default":false,"type":"boolean"},"useFirewall":{"description":"#### The name of the `web-app-firewall` resource to use with your CDN.\n\n---\n\nA `web-app-firewall` can protect your resources from common web exploits that could affect availability, compromise security, or consume excessive resources.\nThe firewall works by filtering malicious requests before they reach your application.\n\nFor more information, see the [firewall documentation](https://docs.stacktape.com/security-resources/web-app-firewalls/).","type":"string"}},"additionalProperties":false,"required":["enabled"]};const schema189 = {"type":"object","properties":{"onRequest":{"description":"#### The name of the `edge-lambda-function` to be executed on request.\n\n---\n\nThe `onRequest` function is triggered when the CDN receives a request from a client. It allows you to:\n- Modify the request before forwarding it to the origin.\n- Return an immediate response to the client.\n- Make network calls to external resources to confirm user credentials or fetch additional content.\n\nThe body of the request is exposed to the function with some restrictions. For more details, see the [AWS documentation](https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/edge-functions-restrictions.html#lambda-at-edge-restrictions-request-body).","type":"string"},"onResponse":{"description":"#### The name of the `edge-lambda-function` to be executed on response.\n\n---\n\nThe `onResponse` function is triggered before the CDN returns a response to the client, allowing you to modify the response (e.g., headers, cookies).\n\nThis function does not execute if:\n- The origin returns an HTTP status code of 400 or higher.\n- The response was generated by a function triggered by a viewer request event (`onRequest`).","type":"string"},"onOriginRequest":{"description":"#### The name of the `edge-lambda-function` to be executed on origin request.\n\n---\n\n> **Warning:** Use this trigger only if you are an advanced user and understand the implications.\n> Using this trigger can override the default behavior configured by Stacktape, which uses pre-configured Lambdas for this trigger when using a CDN with a bucket, web-service, http-api-gateway, or application-load-balancer.\n\nThe `onOriginRequest` function is triggered after the CDN receives a request but before it is sent to the origin. This means the function is not triggered if the response is found in the cache.\n\nYou can use this function to:\n- Modify the request before forwarding it to the origin.\n- Return an immediate response to the client, which will be cached as if it came from the origin.\n- Make network calls to external resources.\n\nThe body of the request is exposed with some restrictions. See the [AWS documentation](https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/edge-functions-restrictions.html#lambda-at-edge-restrictions-request-body) for more details.","type":"string"},"onOriginResponse":{"description":"#### The name of the `edge-lambda-function` to be executed on origin response.\n\n---\n\nThe `onOriginResponse` function is triggered after the origin returns a response but before it is sent to the client.\n\nYou can use this function to:\n- Modify the response (e.g., headers, cookies), which will be cached as if it came from the origin.\n- Update the response status.","type":"string"}},"additionalProperties":false};const schema168 = {"type":"object","properties":{"cacheMethods":{"description":"#### The HTTP methods for which responses will be cached.\n\n---\n\nPossible values are:\n- `['GET', 'HEAD']`\n- `['GET', 'HEAD', 'OPTIONS']`","type":"array","items":{"enum":["GET","HEAD","OPTIONS"],"type":"string"}},"minTTL":{"description":"#### The minimum amount of time (in seconds) that objects will remain in the CDN cache.\n\n---\n\nFor more details on cache expiration, see the [AWS documentation](https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/Expiration.html).","type":"number"},"maxTTL":{"description":"#### The maximum amount of time (in seconds) that objects will remain in the CDN cache.\n\n---\n\nFor more details on cache expiration, see the [AWS documentation](https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/Expiration.html).","type":"number"},"defaultTTL":{"description":"#### The default amount of time (in seconds) that objects will remain in the CDN cache.\n\n---\n\nFor more details on cache expiration, see the [AWS documentation](https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/Expiration.html).","type":"number"},"disableCompression":{"description":"#### Disables compression of objects served by the CDN.\n\n---\n\nCompression is enabled by default and can significantly reduce the size of responses, improving performance and lowering transfer costs.\nThe CDN uses `Gzip` and `Brotli` compression methods. If the viewer supports both, Brotli is used.\nThe client must indicate that it accepts compressed files using the `Accept-Encoding` HTTP header.\n\nFor more details on compression, see the [AWS documentation](https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/ServingCompressedFiles.html).","default":false,"type":"boolean"},"cacheKeyParameters":{"$ref":"#/definitions/CdnCacheKey","description":"#### Configures the HTTP headers, cookies, and URL query strings to include in the cache key.\n\n---\n\nBy default, the cache key depends on the origin type:\n- **bucket**: Only the URL path is included.\n- **http-api-gateway** and **application-load-balancer**: The URL path and query string are included.\n\nThe values included in the cache key are automatically forwarded in requests sent to the origin."},"cachePolicyId":{"description":"#### The ID of a pre-created cache policy to use.\n\n---\n\nUse this to apply a pre-configured cache policy instead of specifying `ttl`, `cacheKeyParameters`, and other options.","type":"string"}},"additionalProperties":false};const schema169 = {"type":"object","properties":{"cookies":{"$ref":"#/definitions/CacheKeyCookies","description":"#### Configures which cookies are included in the cache key.\n\n---\n\nCookies included in the cache key are automatically forwarded in requests sent to the origin.\nBy default, no cookies are included in the cache key."},"headers":{"$ref":"#/definitions/CacheKeyHeaders","description":"#### Configures which headers are included in the cache key.\n\n---\n\nHeaders included in the cache key are automatically forwarded in requests sent to the origin.\nBy default, no headers (except `Accept-Encoding` for compression) are included in the cache key."},"queryString":{"$ref":"#/definitions/CacheKeyQueryString","description":"#### Configures which query parameters are included in the cache key.\n\n---\n\nQuery parameters included in the cache key are automatically forwarded in requests sent to the origin.\nBy default, no query parameters are included in the cache key."}},"additionalProperties":false};const schema170 = {"type":"object","properties":{"none":{"description":"#### No cookies are included in the cache key.","type":"boolean"},"whitelist":{"description":"#### Only the listed cookies are included in the cache key.","type":"array","items":{"type":"string"}},"allExcept":{"description":"#### All cookies except the listed ones are included in the cache key.","type":"array","items":{"type":"string"}},"all":{"description":"#### All cookies are included in the cache key.","type":"boolean"}},"additionalProperties":false};const schema171 = {"type":"object","properties":{"none":{"description":"#### No headers are included in the cache key.","type":"boolean"},"whitelist":{"description":"#### Only the listed headers are included in the cache key.","type":"array","items":{"type":"string"}}},"additionalProperties":false};const schema172 = {"type":"object","properties":{"all":{"description":"#### All query parameters are included in the cache key.","type":"boolean"},"none":{"description":"#### No query parameters are included in the cache key.","type":"boolean"},"whitelist":{"description":"#### Only the listed query parameters are included in the cache key.","type":"array","items":{"type":"string"}}},"additionalProperties":false};function validate174(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){for(const key0 in data){if(!(((key0 === "cookies") || (key0 === "headers")) || (key0 === "queryString"))){const err0 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema169,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}}if(data.cookies !== undefined){let data0 = data.cookies;if(data0 && typeof data0 == "object" && !Array.isArray(data0)){for(const key1 in data0){if(!((((key1 === "none") || (key1 === "whitelist")) || (key1 === "allExcept")) || (key1 === "all"))){const err1 = {instancePath:instancePath+"/cookies",schemaPath:"#/definitions/CacheKeyCookies/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema170,data:data0};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data0.none !== undefined){let data1 = data0.none;if(typeof data1 !== "boolean"){const err2 = {instancePath:instancePath+"/cookies/none",schemaPath:"#/definitions/CacheKeyCookies/properties/none/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema170.properties.none.type,parentSchema:schema170.properties.none,data:data1};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data0.whitelist !== undefined){let data2 = data0.whitelist;if(Array.isArray(data2)){const len0 = data2.length;for(let i0=0; i0<len0; i0++){let data3 = data2[i0];if(typeof data3 !== "string"){const err3 = {instancePath:instancePath+"/cookies/whitelist/" + i0,schemaPath:"#/definitions/CacheKeyCookies/properties/whitelist/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema170.properties.whitelist.items.type,parentSchema:schema170.properties.whitelist.items,data:data3};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}}else {const err4 = {instancePath:instancePath+"/cookies/whitelist",schemaPath:"#/definitions/CacheKeyCookies/properties/whitelist/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema170.properties.whitelist.type,parentSchema:schema170.properties.whitelist,data:data2};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data0.allExcept !== undefined){let data4 = data0.allExcept;if(Array.isArray(data4)){const len1 = data4.length;for(let i1=0; i1<len1; i1++){let data5 = data4[i1];if(typeof data5 !== "string"){const err5 = {instancePath:instancePath+"/cookies/allExcept/" + i1,schemaPath:"#/definitions/CacheKeyCookies/properties/allExcept/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema170.properties.allExcept.items.type,parentSchema:schema170.properties.allExcept.items,data:data5};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}}else {const err6 = {instancePath:instancePath+"/cookies/allExcept",schemaPath:"#/definitions/CacheKeyCookies/properties/allExcept/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema170.properties.allExcept.type,parentSchema:schema170.properties.allExcept,data:data4};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data0.all !== undefined){let data6 = data0.all;if(typeof data6 !== "boolean"){const err7 = {instancePath:instancePath+"/cookies/all",schemaPath:"#/definitions/CacheKeyCookies/properties/all/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema170.properties.all.type,parentSchema:schema170.properties.all,data:data6};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}}else {const err8 = {instancePath:instancePath+"/cookies",schemaPath:"#/definitions/CacheKeyCookies/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema170.type,parentSchema:schema170,data:data0};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}if(data.headers !== undefined){let data7 = data.headers;if(data7 && typeof data7 == "object" && !Array.isArray(data7)){for(const key2 in data7){if(!((key2 === "none") || (key2 === "whitelist"))){const err9 = {instancePath:instancePath+"/headers",schemaPath:"#/definitions/CacheKeyHeaders/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key2},message:"must NOT have additional properties",schema:false,parentSchema:schema171,data:data7};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(data7.none !== undefined){let data8 = data7.none;if(typeof data8 !== "boolean"){const err10 = {instancePath:instancePath+"/headers/none",schemaPath:"#/definitions/CacheKeyHeaders/properties/none/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema171.properties.none.type,parentSchema:schema171.properties.none,data:data8};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data7.whitelist !== undefined){let data9 = data7.whitelist;if(Array.isArray(data9)){const len2 = data9.length;for(let i2=0; i2<len2; i2++){let data10 = data9[i2];if(typeof data10 !== "string"){const err11 = {instancePath:instancePath+"/headers/whitelist/" + i2,schemaPath:"#/definitions/CacheKeyHeaders/properties/whitelist/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema171.properties.whitelist.items.type,parentSchema:schema171.properties.whitelist.items,data:data10};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}}else {const err12 = {instancePath:instancePath+"/headers/whitelist",schemaPath:"#/definitions/CacheKeyHeaders/properties/whitelist/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema171.properties.whitelist.type,parentSchema:schema171.properties.whitelist,data:data9};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}}else {const err13 = {instancePath:instancePath+"/headers",schemaPath:"#/definitions/CacheKeyHeaders/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema171.type,parentSchema:schema171,data:data7};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}if(data.queryString !== undefined){let data11 = data.queryString;if(data11 && typeof data11 == "object" && !Array.isArray(data11)){for(const key3 in data11){if(!(((key3 === "all") || (key3 === "none")) || (key3 === "whitelist"))){const err14 = {instancePath:instancePath+"/queryString",schemaPath:"#/definitions/CacheKeyQueryString/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key3},message:"must NOT have additional properties",schema:false,parentSchema:schema172,data:data11};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}}if(data11.all !== undefined){let data12 = data11.all;if(typeof data12 !== "boolean"){const err15 = {instancePath:instancePath+"/queryString/all",schemaPath:"#/definitions/CacheKeyQueryString/properties/all/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema172.properties.all.type,parentSchema:schema172.properties.all,data:data12};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}}if(data11.none !== undefined){let data13 = data11.none;if(typeof data13 !== "boolean"){const err16 = {instancePath:instancePath+"/queryString/none",schemaPath:"#/definitions/CacheKeyQueryString/properties/none/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema172.properties.none.type,parentSchema:schema172.properties.none,data:data13};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}}if(data11.whitelist !== undefined){let data14 = data11.whitelist;if(Array.isArray(data14)){const len3 = data14.length;for(let i3=0; i3<len3; i3++){let data15 = data14[i3];if(typeof data15 !== "string"){const err17 = {instancePath:instancePath+"/queryString/whitelist/" + i3,schemaPath:"#/definitions/CacheKeyQueryString/properties/whitelist/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema172.properties.whitelist.items.type,parentSchema:schema172.properties.whitelist.items,data:data15};if(vErrors === null){vErrors = [err17];}else {vErrors.push(err17);}errors++;}}}else {const err18 = {instancePath:instancePath+"/queryString/whitelist",schemaPath:"#/definitions/CacheKeyQueryString/properties/whitelist/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema172.properties.whitelist.type,parentSchema:schema172.properties.whitelist,data:data14};if(vErrors === null){vErrors = [err18];}else {vErrors.push(err18);}errors++;}}}else {const err19 = {instancePath:instancePath+"/queryString",schemaPath:"#/definitions/CacheKeyQueryString/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema172.type,parentSchema:schema172,data:data11};if(vErrors === null){vErrors = [err19];}else {vErrors.push(err19);}errors++;}}}else {const err20 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema169.type,parentSchema:schema169,data};if(vErrors === null){vErrors = [err20];}else {vErrors.push(err20);}errors++;}validate174.errors = vErrors;return errors === 0;}function validate173(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){for(const key0 in data){if(!(((((((key0 === "cacheMethods") || (key0 === "minTTL")) || (key0 === "maxTTL")) || (key0 === "defaultTTL")) || (key0 === "disableCompression")) || (key0 === "cacheKeyParameters")) || (key0 === "cachePolicyId"))){const err0 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema168,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}}if(data.cacheMethods !== undefined){let data0 = data.cacheMethods;if(Array.isArray(data0)){const len0 = data0.length;for(let i0=0; i0<len0; i0++){let data1 = data0[i0];if(typeof data1 !== "string"){const err1 = {instancePath:instancePath+"/cacheMethods/" + i0,schemaPath:"#/properties/cacheMethods/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema168.properties.cacheMethods.items.type,parentSchema:schema168.properties.cacheMethods.items,data:data1};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}if(!(((data1 === "GET") || (data1 === "HEAD")) || (data1 === "OPTIONS"))){const err2 = {instancePath:instancePath+"/cacheMethods/" + i0,schemaPath:"#/properties/cacheMethods/items/enum",keyword:"enum",params:{allowedValues: schema168.properties.cacheMethods.items.enum},message:"must be equal to one of the allowed values",schema:schema168.properties.cacheMethods.items.enum,parentSchema:schema168.properties.cacheMethods.items,data:data1};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}}else {const err3 = {instancePath:instancePath+"/cacheMethods",schemaPath:"#/properties/cacheMethods/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema168.properties.cacheMethods.type,parentSchema:schema168.properties.cacheMethods,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.minTTL !== undefined){let data2 = data.minTTL;if(!(typeof data2 == "number")){const err4 = {instancePath:instancePath+"/minTTL",schemaPath:"#/properties/minTTL/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema168.properties.minTTL.type,parentSchema:schema168.properties.minTTL,data:data2};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.maxTTL !== undefined){let data3 = data.maxTTL;if(!(typeof data3 == "number")){const err5 = {instancePath:instancePath+"/maxTTL",schemaPath:"#/properties/maxTTL/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema168.properties.maxTTL.type,parentSchema:schema168.properties.maxTTL,data:data3};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data.defaultTTL !== undefined){let data4 = data.defaultTTL;if(!(typeof data4 == "number")){const err6 = {instancePath:instancePath+"/defaultTTL",schemaPath:"#/properties/defaultTTL/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema168.properties.defaultTTL.type,parentSchema:schema168.properties.defaultTTL,data:data4};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data.disableCompression !== undefined){let data5 = data.disableCompression;if(typeof data5 !== "boolean"){const err7 = {instancePath:instancePath+"/disableCompression",schemaPath:"#/properties/disableCompression/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema168.properties.disableCompression.type,parentSchema:schema168.properties.disableCompression,data:data5};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data.cacheKeyParameters !== undefined){if(!(validate174(data.cacheKeyParameters, {instancePath:instancePath+"/cacheKeyParameters",parentData:data,parentDataProperty:"cacheKeyParameters",rootData}))){vErrors = vErrors === null ? validate174.errors : vErrors.concat(validate174.errors);errors = vErrors.length;}}if(data.cachePolicyId !== undefined){let data7 = data.cachePolicyId;if(typeof data7 !== "string"){const err8 = {instancePath:instancePath+"/cachePolicyId",schemaPath:"#/properties/cachePolicyId/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema168.properties.cachePolicyId.type,parentSchema:schema168.properties.cachePolicyId,data:data7};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}}else {const err9 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema168.type,parentSchema:schema168,data};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}validate173.errors = vErrors;return errors === 0;}const schema173 = {"type":"object","properties":{"customRequestHeaders":{"description":"#### Adds static headers that the CDN will add to all requests sent to the origin.","type":"array","items":{"$ref":"#/definitions/CdnCustomRequestHeader"}},"allowedMethods":{"description":"#### The HTTP methods that will be forwarded by the CDN to the origin.\n\n---\n\nIf not set, all methods are forwarded.","type":"array","items":{"enum":["DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT"],"type":"string"}},"cookies":{"$ref":"#/definitions/ForwardCookies","description":"#### The cookies that will be forwarded to the origin.\n\n---\n\nIf not set, all cookies are forwarded.\nAll cookies that are part of the cache key (see `cachingOptions`) are automatically forwarded to the origin."},"headers":{"$ref":"#/definitions/ForwardHeaders","description":"#### The headers that will be forwarded to the origin.\n\n---\n\nIf not set, all headers are forwarded.\nAll headers that are part of the cache key (see `cachingOptions`) are automatically forwarded to the origin.\n\n> **Warning:** The `Authorization` header must be included as a cache key parameter in `cachingOptions` to be forwarded to the origin. This is to prevent unauthorized access to resources."},"queryString":{"$ref":"#/definitions/ForwardQueryString","description":"#### The query parameters that will be forwarded to the origin.\n\n---\n\nIf not set, all query string parameters are forwarded.\nAll query string parameters that are part of the cache key (see `cachingOptions`) are automatically forwarded to the origin."},"originRequestPolicyId":{"description":"#### The ID of a pre-created origin request policy to use.\n\n---\n\nUse this to apply a pre-configured origin request policy instead of specifying `cookies`, `headers`, and `queryString` options.","type":"string"}},"additionalProperties":false};const schema174 = {"type":"object","properties":{"headerName":{"description":"#### Name of the header","type":"string"},"value":{"description":"#### Value of the header","type":"string"}},"additionalProperties":false,"required":["headerName","value"]};const schema175 = {"type":"object","properties":{"none":{"description":"#### No cookies are forwarded to the origin.","type":"boolean"},"whitelist":{"description":"#### Only the listed cookies are forwarded to the origin.","type":"array","items":{"type":"string"}},"all":{"description":"#### All cookies are forwarded to the origin.","type":"boolean"}},"additionalProperties":false};const schema176 = {"type":"object","properties":{"none":{"description":"#### No headers are forwarded to the origin.","type":"boolean"},"whitelist":{"description":"#### Only the listed headers are forwarded to the origin.","type":"array","items":{"type":"string"}},"allViewer":{"description":"#### All viewer headers are forwarded to the origin.","type":"boolean"},"allViewerAndWhitelistCloudFront":{"description":"#### All viewer headers and the listed CDN headers are forwarded to the origin.","type":"array","items":{"type":"string"}},"allExcept":{"description":"#### All viewer headers except the explicitly specified ones are forwarded to the origin.","type":"array","items":{"type":"string"}}},"additionalProperties":false};const schema177 = {"type":"object","properties":{"all":{"description":"#### All query parameters are forwarded to the origin.","type":"boolean"},"none":{"description":"#### No query parameters are forwarded to the origin.","type":"boolean"},"whitelist":{"description":"#### Only the listed query parameters are forwarded to the origin.","type":"array","items":{"type":"string"}}},"additionalProperties":false};function validate177(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){for(const key0 in data){if(!((((((key0 === "customRequestHeaders") || (key0 === "allowedMethods")) || (key0 === "cookies")) || (key0 === "headers")) || (key0 === "queryString")) || (key0 === "originRequestPolicyId"))){const err0 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema173,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}}if(data.customRequestHeaders !== undefined){let data0 = data.customRequestHeaders;if(Array.isArray(data0)){const len0 = data0.length;for(let i0=0; i0<len0; i0++){let data1 = data0[i0];if(data1 && typeof data1 == "object" && !Array.isArray(data1)){if(data1.headerName === undefined){const err1 = {instancePath:instancePath+"/customRequestHeaders/" + i0,schemaPath:"#/definitions/CdnCustomRequestHeader/required",keyword:"required",params:{missingProperty: "headerName"},message:"must have required property '"+"headerName"+"'",schema:schema174.required,parentSchema:schema174,data:data1};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}if(data1.value === undefined){const err2 = {instancePath:instancePath+"/customRequestHeaders/" + i0,schemaPath:"#/definitions/CdnCustomRequestHeader/required",keyword:"required",params:{missingProperty: "value"},message:"must have required property '"+"value"+"'",schema:schema174.required,parentSchema:schema174,data:data1};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}for(const key1 in data1){if(!((key1 === "headerName") || (key1 === "value"))){const err3 = {instancePath:instancePath+"/customRequestHeaders/" + i0,schemaPath:"#/definitions/CdnCustomRequestHeader/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema174,data:data1};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data1.headerName !== undefined){let data2 = data1.headerName;if(typeof data2 !== "string"){const err4 = {instancePath:instancePath+"/customRequestHeaders/" + i0+"/headerName",schemaPath:"#/definitions/CdnCustomRequestHeader/properties/headerName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema174.properties.headerName.type,parentSchema:schema174.properties.headerName,data:data2};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data1.value !== undefined){let data3 = data1.value;if(typeof data3 !== "string"){const err5 = {instancePath:instancePath+"/customRequestHeaders/" + i0+"/value",schemaPath:"#/definitions/CdnCustomRequestHeader/properties/value/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema174.properties.value.type,parentSchema:schema174.properties.value,data:data3};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}}else {const err6 = {instancePath:instancePath+"/customRequestHeaders/" + i0,schemaPath:"#/definitions/CdnCustomRequestHeader/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema174.type,parentSchema:schema174,data:data1};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}}else {const err7 = {instancePath:instancePath+"/customRequestHeaders",schemaPath:"#/properties/customRequestHeaders/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema173.properties.customRequestHeaders.type,parentSchema:schema173.properties.customRequestHeaders,data:data0};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data.allowedMethods !== undefined){let data4 = data.allowedMethods;if(Array.isArray(data4)){const len1 = data4.length;for(let i1=0; i1<len1; i1++){let data5 = data4[i1];if(typeof data5 !== "string"){const err8 = {instancePath:instancePath+"/allowedMethods/" + i1,schemaPath:"#/properties/allowedMethods/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema173.properties.allowedMethods.items.type,parentSchema:schema173.properties.allowedMethods.items,data:data5};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}if(!(((((((data5 === "DELETE") || (data5 === "GET")) || (data5 === "HEAD")) || (data5 === "OPTIONS")) || (data5 === "PATCH")) || (data5 === "POST")) || (data5 === "PUT"))){const err9 = {instancePath:instancePath+"/allowedMethods/" + i1,schemaPath:"#/properties/allowedMethods/items/enum",keyword:"enum",params:{allowedValues: schema173.properties.allowedMethods.items.enum},message:"must be equal to one of the allowed values",schema:schema173.properties.allowedMethods.items.enum,parentSchema:schema173.properties.allowedMethods.items,data:data5};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}}else {const err10 = {instancePath:instancePath+"/allowedMethods",schemaPath:"#/properties/allowedMethods/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema173.properties.allowedMethods.type,parentSchema:schema173.properties.allowedMethods,data:data4};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data.cookies !== undefined){let data6 = data.cookies;if(data6 && typeof data6 == "object" && !Array.isArray(data6)){for(const key2 in data6){if(!(((key2 === "none") || (key2 === "whitelist")) || (key2 === "all"))){const err11 = {instancePath:instancePath+"/cookies",schemaPath:"#/definitions/ForwardCookies/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key2},message:"must NOT have additional properties",schema:false,parentSchema:schema175,data:data6};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}if(data6.none !== undefined){let data7 = data6.none;if(typeof data7 !== "boolean"){const err12 = {instancePath:instancePath+"/cookies/none",schemaPath:"#/definitions/ForwardCookies/properties/none/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema175.properties.none.type,parentSchema:schema175.properties.none,data:data7};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}if(data6.whitelist !== undefined){let data8 = data6.whitelist;if(Array.isArray(data8)){const len2 = data8.length;for(let i2=0; i2<len2; i2++){let data9 = data8[i2];if(typeof data9 !== "string"){const err13 = {instancePath:instancePath+"/cookies/whitelist/" + i2,schemaPath:"#/definitions/ForwardCookies/properties/whitelist/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema175.properties.whitelist.items.type,parentSchema:schema175.properties.whitelist.items,data:data9};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}}else {const err14 = {instancePath:instancePath+"/cookies/whitelist",schemaPath:"#/definitions/ForwardCookies/properties/whitelist/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema175.properties.whitelist.type,parentSchema:schema175.properties.whitelist,data:data8};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}}if(data6.all !== undefined){let data10 = data6.all;if(typeof data10 !== "boolean"){const err15 = {instancePath:instancePath+"/cookies/all",schemaPath:"#/definitions/ForwardCookies/properties/all/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema175.properties.all.type,parentSchema:schema175.properties.all,data:data10};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}}}else {const err16 = {instancePath:instancePath+"/cookies",schemaPath:"#/definitions/ForwardCookies/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema175.type,parentSchema:schema175,data:data6};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}}if(data.headers !== undefined){let data11 = data.headers;if(data11 && typeof data11 == "object" && !Array.isArray(data11)){for(const key3 in data11){if(!(((((key3 === "none") || (key3 === "whitelist")) || (key3 === "allViewer")) || (key3 === "allViewerAndWhitelistCloudFront")) || (key3 === "allExcept"))){const err17 = {instancePath:instancePath+"/headers",schemaPath:"#/definitions/ForwardHeaders/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key3},message:"must NOT have additional properties",schema:false,parentSchema:schema176,data:data11};if(vErrors === null){vErrors = [err17];}else {vErrors.push(err17);}errors++;}}if(data11.none !== undefined){let data12 = data11.none;if(typeof data12 !== "boolean"){const err18 = {instancePath:instancePath+"/headers/none",schemaPath:"#/definitions/ForwardHeaders/properties/none/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema176.properties.none.type,parentSchema:schema176.properties.none,data:data12};if(vErrors === null){vErrors = [err18];}else {vErrors.push(err18);}errors++;}}if(data11.whitelist !== undefined){let data13 = data11.whitelist;if(Array.isArray(data13)){const len3 = data13.length;for(let i3=0; i3<len3; i3++){let data14 = data13[i3];if(typeof data14 !== "string"){const err19 = {instancePath:instancePath+"/headers/whitelist/" + i3,schemaPath:"#/definitions/ForwardHeaders/properties/whitelist/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema176.properties.whitelist.items.type,parentSchema:schema176.properties.whitelist.items,data:data14};if(vErrors === null){vErrors = [err19];}else {vErrors.push(err19);}errors++;}}}else {const err20 = {instancePath:instancePath+"/headers/whitelist",schemaPath:"#/definitions/ForwardHeaders/properties/whitelist/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema176.properties.whitelist.type,parentSchema:schema176.properties.whitelist,data:data13};if(vErrors === null){vErrors = [err20];}else {vErrors.push(err20);}errors++;}}if(data11.allViewer !== undefined){let data15 = data11.allViewer;if(typeof data15 !== "boolean"){const err21 = {instancePath:instancePath+"/headers/allViewer",schemaPath:"#/definitions/ForwardHeaders/properties/allViewer/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema176.properties.allViewer.type,parentSchema:schema176.properties.allViewer,data:data15};if(vErrors === null){vErrors = [err21];}else {vErrors.push(err21);}errors++;}}if(data11.allViewerAndWhitelistCloudFront !== undefined){let data16 = data11.allViewerAndWhitelistCloudFront;if(Array.isArray(data16)){const len4 = data16.length;for(let i4=0; i4<len4; i4++){let data17 = data16[i4];if(typeof data17 !== "string"){const err22 = {instancePath:instancePath+"/headers/allViewerAndWhitelistCloudFront/" + i4,schemaPath:"#/definitions/ForwardHeaders/properties/allViewerAndWhitelistCloudFront/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema176.properties.allViewerAndWhitelistCloudFront.items.type,parentSchema:schema176.properties.allViewerAndWhitelistCloudFront.items,data:data17};if(vErrors === null){vErrors = [err22];}else {vErrors.push(err22);}errors++;}}}else {const err23 = {instancePath:instancePath+"/headers/allViewerAndWhitelistCloudFront",schemaPath:"#/definitions/ForwardHeaders/properties/allViewerAndWhitelistCloudFront/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema176.properties.allViewerAndWhitelistCloudFront.type,parentSchema:schema176.properties.allViewerAndWhitelistCloudFront,data:data16};if(vErrors === null){vErrors = [err23];}else {vErrors.push(err23);}errors++;}}if(data11.allExcept !== undefined){let data18 = data11.allExcept;if(Array.isArray(data18)){const len5 = data18.length;for(let i5=0; i5<len5; i5++){let data19 = data18[i5];if(typeof data19 !== "string"){const err24 = {instancePath:instancePath+"/headers/allExcept/" + i5,schemaPath:"#/definitions/ForwardHeaders/properties/allExcept/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema176.properties.allExcept.items.type,parentSchema:schema176.properties.allExcept.items,data:data19};if(vErrors === null){vErrors = [err24];}else {vErrors.push(err24);}errors++;}}}else {const err25 = {instancePath:instancePath+"/headers/allExcept",schemaPath:"#/definitions/ForwardHeaders/properties/allExcept/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema176.properties.allExcept.type,parentSchema:schema176.properties.allExcept,data:data18};if(vErrors === null){vErrors = [err25];}else {vErrors.push(err25);}errors++;}}}else {const err26 = {instancePath:instancePath+"/headers",schemaPath:"#/definitions/ForwardHeaders/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema176.type,parentSchema:schema176,data:data11};if(vErrors === null){vErrors = [err26];}else {vErrors.push(err26);}errors++;}}if(data.queryString !== undefined){let data20 = data.queryString;if(data20 && typeof data20 == "object" && !Array.isArray(data20)){for(const key4 in data20){if(!(((key4 === "all") || (key4 === "none")) || (key4 === "whitelist"))){const err27 = {instancePath:instancePath+"/queryString",schemaPath:"#/definitions/ForwardQueryString/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key4},message:"must NOT have additional properties",schema:false,parentSchema:schema177,data:data20};if(vErrors === null){vErrors = [err27];}else {vErrors.push(err27);}errors++;}}if(data20.all !== undefined){let data21 = data20.all;if(typeof data21 !== "boolean"){const err28 = {instancePath:instancePath+"/queryString/all",schemaPath:"#/definitions/ForwardQueryString/properties/all/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema177.properties.all.type,parentSchema:schema177.properties.all,data:data21};if(vErrors === null){vErrors = [err28];}else {vErrors.push(err28);}errors++;}}if(data20.none !== undefined){let data22 = data20.none;if(typeof data22 !== "boolean"){const err29 = {instancePath:instancePath+"/queryString/none",schemaPath:"#/definitions/ForwardQueryString/properties/none/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema177.properties.none.type,parentSchema:schema177.properties.none,data:data22};if(vErrors === null){vErrors = [err29];}else {vErrors.push(err29);}errors++;}}if(data20.whitelist !== undefined){let data23 = data20.whitelist;if(Array.isArray(data23)){const len6 = data23.length;for(let i6=0; i6<len6; i6++){let data24 = data23[i6];if(typeof data24 !== "string"){const err30 = {instancePath:instancePath+"/queryString/whitelist/" + i6,schemaPath:"#/definitions/ForwardQueryString/properties/whitelist/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema177.properties.whitelist.items.type,parentSchema:schema177.properties.whitelist.items,data:data24};if(vErrors === null){vErrors = [err30];}else {vErrors.push(err30);}errors++;}}}else {const err31 = {instancePath:instancePath+"/queryString/whitelist",schemaPath:"#/definitions/ForwardQueryString/properties/whitelist/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema177.properties.whitelist.type,parentSchema:schema177.properties.whitelist,data:data23};if(vErrors === null){vErrors = [err31];}else {vErrors.push(err31);}errors++;}}}else {const err32 = {instancePath:instancePath+"/queryString",schemaPath:"#/definitions/ForwardQueryString/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema177.type,parentSchema:schema177,data:data20};if(vErrors === null){vErrors = [err32];}else {vErrors.push(err32);}errors++;}}if(data.originRequestPolicyId !== undefined){let data25 = data.originRequestPolicyId;if(typeof data25 !== "string"){const err33 = {instancePath:instancePath+"/originRequestPolicyId",schemaPath:"#/properties/originRequestPolicyId/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema173.properties.originRequestPolicyId.type,parentSchema:schema173.properties.originRequestPolicyId,data:data25};if(vErrors === null){vErrors = [err33];}else {vErrors.push(err33);}errors++;}}}else {const err34 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema173.type,parentSchema:schema173,data};if(vErrors === null){vErrors = [err34];}else {vErrors.push(err34);}errors++;}validate177.errors = vErrors;return errors === 0;}const schema178 = {"type":"object","properties":{"path":{"description":"#### The path pattern to be matched by this route rewrite.\n\n---\n\nYou can use wildcards (`*`) to match multiple paths.\nFor more details on path patterns, see the [AWS documentation](https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/distribution-web-values-specify.html#DownloadDistValuesPathPattern).","type":"string"},"routePrefix":{"description":"#### Prefixes every request to the origin with the specified path.\n\n---\n\nAll requests matching this route will be prefixed with `routePrefix` before being forwarded to the origin.\nFor example, if the CDN receives a request for `/my/resource/url`, it will be sent to the origin as `/your_prefix/my/resource/url`.","type":"string"},"routeTo":{"description":"#### The origin to which the route rewrite forwards requests.\n\n---\n\nIf not set, the default origin (the one the CDN is attached to) is used.","anyOf":[{"$ref":"#/definitions/CdnLoadBalancerRoute"},{"$ref":"#/definitions/CdnHttpApiGatewayRoute"},{"$ref":"#/definitions/CdnLambdaFunctionRoute"},{"$ref":"#/definitions/CdnCustomDomainRoute"},{"$ref":"#/definitions/CdnBucketRoute"}]},"cachingOptions":{"$ref":"#/definitions/CdnCachingOptions","description":"#### Configures custom caching options for this route rewrite.\n\n---\n\nThis property controls the caching behavior for requests matching this route.\nIf a response from the origin does not include `Cache-Control` or `Expires` headers, a default caching behavior is used:\n- **bucket**: Objects are cached for 6 months by default.\n- **http-api-gateway** and **application-load-balancer**: Responses are not cached by default."},"forwardingOptions":{"$ref":"#/definitions/CdnForwardingOptions","description":"#### Redirects specific requests to a different origin.\n\n---\n\nForwarding options allow you to specify which parts of the request (headers, query parameters, cookies, etc.) are forwarded to the origin."},"edgeFunctions":{"$ref":"#/definitions/EdgeFunctionsConfig","description":"#### Configures Edge function triggers for this route.\n\n---\n\nYou can associate an `edge-lambda-function` with this route to be executed at different stages:\n\n- `onRequest`: Executed when the CDN receives a request from a client, before checking the cache.\n- `onResponse`: Executed before returning a response to the client.\n\n**Potential Use Cases:**\n- Generating an immediate HTTP response.\n- Modifying the request before forwarding it to the origin.\n- Inspecting cookies or validating authorization tokens."}},"additionalProperties":false,"required":["path"]};const schema179 = {"type":"object","properties":{"type":{"type":"string","const":"application-load-balancer"},"properties":{"$ref":"#/definitions/CdnLoadBalancerOrigin"}},"additionalProperties":false,"required":["properties","type"]};const schema180 = {"type":"object","properties":{"loadBalancerName":{"description":"#### The name of the Load Balancer.","type":"string"},"listenerPort":{"description":"#### The port of the Load Balancer listener.\n\n---\n\nYou must specify this if the Load Balancer you are routing to uses custom listeners.","type":"number"},"originDomainName":{"description":"#### Explicitly sets the origin domain name to use when forwarding to the Load Balancer.\n\n---\n\nThis is only required if the Load Balancer has no `customDomains` attached and the listener uses `customCertificateArns`.","type":"string"}},"additionalProperties":false,"required":["loadBalancerName"]};function validate180(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema179.required,parentSchema:schema179,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema179.required,parentSchema:schema179,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema179,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema179.properties.type.type,parentSchema:schema179.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("application-load-balancer" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "application-load-balancer"},message:"must be equal to constant",schema:"application-load-balancer",parentSchema:schema179.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){let data1 = data.properties;if(data1 && typeof data1 == "object" && !Array.isArray(data1)){if(data1.loadBalancerName === undefined){const err5 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/CdnLoadBalancerOrigin/required",keyword:"required",params:{missingProperty: "loadBalancerName"},message:"must have required property '"+"loadBalancerName"+"'",schema:schema180.required,parentSchema:schema180,data:data1};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}for(const key1 in data1){if(!(((key1 === "loadBalancerName") || (key1 === "listenerPort")) || (key1 === "originDomainName"))){const err6 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/CdnLoadBalancerOrigin/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema180,data:data1};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data1.loadBalancerName !== undefined){let data2 = data1.loadBalancerName;if(typeof data2 !== "string"){const err7 = {instancePath:instancePath+"/properties/loadBalancerName",schemaPath:"#/definitions/CdnLoadBalancerOrigin/properties/loadBalancerName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema180.properties.loadBalancerName.type,parentSchema:schema180.properties.loadBalancerName,data:data2};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data1.listenerPort !== undefined){let data3 = data1.listenerPort;if(!(typeof data3 == "number")){const err8 = {instancePath:instancePath+"/properties/listenerPort",schemaPath:"#/definitions/CdnLoadBalancerOrigin/properties/listenerPort/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema180.properties.listenerPort.type,parentSchema:schema180.properties.listenerPort,data:data3};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}if(data1.originDomainName !== undefined){let data4 = data1.originDomainName;if(typeof data4 !== "string"){const err9 = {instancePath:instancePath+"/properties/originDomainName",schemaPath:"#/definitions/CdnLoadBalancerOrigin/properties/originDomainName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema180.properties.originDomainName.type,parentSchema:schema180.properties.originDomainName,data:data4};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}}else {const err10 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/CdnLoadBalancerOrigin/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema180.type,parentSchema:schema180,data:data1};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}}else {const err11 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema179.type,parentSchema:schema179,data};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}validate180.errors = vErrors;return errors === 0;}const schema181 = {"type":"object","properties":{"type":{"type":"string","const":"http-api-gateway"},"properties":{"$ref":"#/definitions/CdnHttpApiGatewayOrigin"}},"additionalProperties":false,"required":["properties","type"]};const schema182 = {"type":"object","properties":{"httpApiGatewayName":{"description":"#### The name of the HTTP API Gateway.","type":"string"}},"additionalProperties":false,"required":["httpApiGatewayName"]};function validate182(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema181.required,parentSchema:schema181,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema181.required,parentSchema:schema181,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema181,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema181.properties.type.type,parentSchema:schema181.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("http-api-gateway" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "http-api-gateway"},message:"must be equal to constant",schema:"http-api-gateway",parentSchema:schema181.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){let data1 = data.properties;if(data1 && typeof data1 == "object" && !Array.isArray(data1)){if(data1.httpApiGatewayName === undefined){const err5 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/CdnHttpApiGatewayOrigin/required",keyword:"required",params:{missingProperty: "httpApiGatewayName"},message:"must have required property '"+"httpApiGatewayName"+"'",schema:schema182.required,parentSchema:schema182,data:data1};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}for(const key1 in data1){if(!(key1 === "httpApiGatewayName")){const err6 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/CdnHttpApiGatewayOrigin/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema182,data:data1};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data1.httpApiGatewayName !== undefined){let data2 = data1.httpApiGatewayName;if(typeof data2 !== "string"){const err7 = {instancePath:instancePath+"/properties/httpApiGatewayName",schemaPath:"#/definitions/CdnHttpApiGatewayOrigin/properties/httpApiGatewayName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema182.properties.httpApiGatewayName.type,parentSchema:schema182.properties.httpApiGatewayName,data:data2};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}}else {const err8 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/CdnHttpApiGatewayOrigin/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema182.type,parentSchema:schema182,data:data1};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}}else {const err9 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema181.type,parentSchema:schema181,data};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}validate182.errors = vErrors;return errors === 0;}const schema183 = {"type":"object","properties":{"type":{"type":"string","const":"function"},"properties":{"$ref":"#/definitions/CdnLambdaFunctionOrigin"}},"additionalProperties":false,"required":["properties","type"]};const schema184 = {"type":"object","properties":{"functionName":{"description":"#### The name of the Web Service resource.","type":"string"}},"additionalProperties":false,"required":["functionName"]};function validate184(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema183.required,parentSchema:schema183,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema183.required,parentSchema:schema183,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema183,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema183.properties.type.type,parentSchema:schema183.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("function" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "function"},message:"must be equal to constant",schema:"function",parentSchema:schema183.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){let data1 = data.properties;if(data1 && typeof data1 == "object" && !Array.isArray(data1)){if(data1.functionName === undefined){const err5 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/CdnLambdaFunctionOrigin/required",keyword:"required",params:{missingProperty: "functionName"},message:"must have required property '"+"functionName"+"'",schema:schema184.required,parentSchema:schema184,data:data1};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}for(const key1 in data1){if(!(key1 === "functionName")){const err6 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/CdnLambdaFunctionOrigin/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema184,data:data1};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data1.functionName !== undefined){let data2 = data1.functionName;if(typeof data2 !== "string"){const err7 = {instancePath:instancePath+"/properties/functionName",schemaPath:"#/definitions/CdnLambdaFunctionOrigin/properties/functionName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema184.properties.functionName.type,parentSchema:schema184.properties.functionName,data:data2};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}}else {const err8 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/CdnLambdaFunctionOrigin/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema184.type,parentSchema:schema184,data:data1};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}}else {const err9 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema183.type,parentSchema:schema183,data};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}validate184.errors = vErrors;return errors === 0;}const schema185 = {"type":"object","properties":{"type":{"type":"string","const":"custom-origin"},"properties":{"$ref":"#/definitions/CdnCustomOrigin"}},"additionalProperties":false,"required":["properties","type"]};const schema186 = {"type":"object","properties":{"domainName":{"description":"#### The domain name of the custom origin.\n\n---\n\nExample: `mydomain.com` or `domain.example.com`","type":"string"},"protocol":{"description":"#### The protocol to use when connecting to the custom origin.\n\n---","default":"HTTPS","enum":["HTTP","HTTPS"],"type":"string"},"port":{"description":"#### The port of the custom origin.\n\n---\n\nBy default, port 443 is used for `HTTPS` origins, and port 80 is used for `HTTP` origins.","default":443,"type":"number"}},"additionalProperties":false,"required":["domainName"]};function validate186(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema185.required,parentSchema:schema185,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema185.required,parentSchema:schema185,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema185,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema185.properties.type.type,parentSchema:schema185.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("custom-origin" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "custom-origin"},message:"must be equal to constant",schema:"custom-origin",parentSchema:schema185.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){let data1 = data.properties;if(data1 && typeof data1 == "object" && !Array.isArray(data1)){if(data1.domainName === undefined){const err5 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/CdnCustomOrigin/required",keyword:"required",params:{missingProperty: "domainName"},message:"must have required property '"+"domainName"+"'",schema:schema186.required,parentSchema:schema186,data:data1};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}for(const key1 in data1){if(!(((key1 === "domainName") || (key1 === "protocol")) || (key1 === "port"))){const err6 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/CdnCustomOrigin/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema186,data:data1};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data1.domainName !== undefined){let data2 = data1.domainName;if(typeof data2 !== "string"){const err7 = {instancePath:instancePath+"/properties/domainName",schemaPath:"#/definitions/CdnCustomOrigin/properties/domainName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema186.properties.domainName.type,parentSchema:schema186.properties.domainName,data:data2};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data1.protocol !== undefined){let data3 = data1.protocol;if(typeof data3 !== "string"){const err8 = {instancePath:instancePath+"/properties/protocol",schemaPath:"#/definitions/CdnCustomOrigin/properties/protocol/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema186.properties.protocol.type,parentSchema:schema186.properties.protocol,data:data3};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}if(!((data3 === "HTTP") || (data3 === "HTTPS"))){const err9 = {instancePath:instancePath+"/properties/protocol",schemaPath:"#/definitions/CdnCustomOrigin/properties/protocol/enum",keyword:"enum",params:{allowedValues: schema186.properties.protocol.enum},message:"must be equal to one of the allowed values",schema:schema186.properties.protocol.enum,parentSchema:schema186.properties.protocol,data:data3};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(data1.port !== undefined){let data4 = data1.port;if(!(typeof data4 == "number")){const err10 = {instancePath:instancePath+"/properties/port",schemaPath:"#/definitions/CdnCustomOrigin/properties/port/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema186.properties.port.type,parentSchema:schema186.properties.port,data:data4};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}}else {const err11 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/CdnCustomOrigin/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema186.type,parentSchema:schema186,data:data1};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}}else {const err12 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema185.type,parentSchema:schema185,data};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}validate186.errors = vErrors;return errors === 0;}const schema187 = {"type":"object","properties":{"type":{"type":"string","const":"bucket"},"properties":{"$ref":"#/definitions/CdnBucketOrigin"}},"additionalProperties":false,"required":["properties","type"]};const schema188 = {"type":"object","properties":{"bucketName":{"description":"#### The name of the bucket.","type":"string"},"disableUrlNormalization":{"description":"#### Disables URL normalization.\n\n---\n\nURL normalization is enabled by default and is useful for serving HTML files from a bucket with clean URLs (without the `.html` extension).\nWhen enabled, the CDN can fetch the correct HTML file even if the URL is incomplete (e.g., `/about` instead of `/about.html` or `/about/index.html`).","default":false,"type":"boolean"}},"additionalProperties":false,"required":["bucketName"]};function validate188(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema187.required,parentSchema:schema187,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema187.required,parentSchema:schema187,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema187,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema187.properties.type.type,parentSchema:schema187.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("bucket" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "bucket"},message:"must be equal to constant",schema:"bucket",parentSchema:schema187.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){let data1 = data.properties;if(data1 && typeof data1 == "object" && !Array.isArray(data1)){if(data1.bucketName === undefined){const err5 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/CdnBucketOrigin/required",keyword:"required",params:{missingProperty: "bucketName"},message:"must have required property '"+"bucketName"+"'",schema:schema188.required,parentSchema:schema188,data:data1};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}for(const key1 in data1){if(!((key1 === "bucketName") || (key1 === "disableUrlNormalization"))){const err6 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/CdnBucketOrigin/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema188,data:data1};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data1.bucketName !== undefined){let data2 = data1.bucketName;if(typeof data2 !== "string"){const err7 = {instancePath:instancePath+"/properties/bucketName",schemaPath:"#/definitions/CdnBucketOrigin/properties/bucketName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema188.properties.bucketName.type,parentSchema:schema188.properties.bucketName,data:data2};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data1.disableUrlNormalization !== undefined){let data3 = data1.disableUrlNormalization;if(typeof data3 !== "boolean"){const err8 = {instancePath:instancePath+"/properties/disableUrlNormalization",schemaPath:"#/definitions/CdnBucketOrigin/properties/disableUrlNormalization/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema188.properties.disableUrlNormalization.type,parentSchema:schema188.properties.disableUrlNormalization,data:data3};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}}else {const err9 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/CdnBucketOrigin/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema188.type,parentSchema:schema188,data:data1};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}}else {const err10 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema187.type,parentSchema:schema187,data};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}validate188.errors = vErrors;return errors === 0;}function validate179(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.path === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "path"},message:"must have required property '"+"path"+"'",schema:schema178.required,parentSchema:schema178,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!((((((key0 === "path") || (key0 === "routePrefix")) || (key0 === "routeTo")) || (key0 === "cachingOptions")) || (key0 === "forwardingOptions")) || (key0 === "edgeFunctions"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema178,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.path !== undefined){let data0 = data.path;if(typeof data0 !== "string"){const err2 = {instancePath:instancePath+"/path",schemaPath:"#/properties/path/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema178.properties.path.type,parentSchema:schema178.properties.path,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.routePrefix !== undefined){let data1 = data.routePrefix;if(typeof data1 !== "string"){const err3 = {instancePath:instancePath+"/routePrefix",schemaPath:"#/properties/routePrefix/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema178.properties.routePrefix.type,parentSchema:schema178.properties.routePrefix,data:data1};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.routeTo !== undefined){let data2 = data.routeTo;const _errs7 = errors;let valid1 = false;const _errs8 = errors;if(!(validate180(data2, {instancePath:instancePath+"/routeTo",parentData:data,parentDataProperty:"routeTo",rootData}))){vErrors = vErrors === null ? validate180.errors : vErrors.concat(validate180.errors);errors = vErrors.length;}var _valid0 = _errs8 === errors;valid1 = valid1 || _valid0;if(!valid1){const _errs9 = errors;if(!(validate182(data2, {instancePath:instancePath+"/routeTo",parentData:data,parentDataProperty:"routeTo",rootData}))){vErrors = vErrors === null ? validate182.errors : vErrors.concat(validate182.errors);errors = vErrors.length;}var _valid0 = _errs9 === errors;valid1 = valid1 || _valid0;if(!valid1){const _errs10 = errors;if(!(validate184(data2, {instancePath:instancePath+"/routeTo",parentData:data,parentDataProperty:"routeTo",rootData}))){vErrors = vErrors === null ? validate184.errors : vErrors.concat(validate184.errors);errors = vErrors.length;}var _valid0 = _errs10 === errors;valid1 = valid1 || _valid0;if(!valid1){const _errs11 = errors;if(!(validate186(data2, {instancePath:instancePath+"/routeTo",parentData:data,parentDataProperty:"routeTo",rootData}))){vErrors = vErrors === null ? validate186.errors : vErrors.concat(validate186.errors);errors = vErrors.length;}var _valid0 = _errs11 === errors;valid1 = valid1 || _valid0;if(!valid1){const _errs12 = errors;if(!(validate188(data2, {instancePath:instancePath+"/routeTo",parentData:data,parentDataProperty:"routeTo",rootData}))){vErrors = vErrors === null ? validate188.errors : vErrors.concat(validate188.errors);errors = vErrors.length;}var _valid0 = _errs12 === errors;valid1 = valid1 || _valid0;}}}}if(!valid1){const err4 = {instancePath:instancePath+"/routeTo",schemaPath:"#/properties/routeTo/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:schema178.properties.routeTo.anyOf,parentSchema:schema178.properties.routeTo,data:data2};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}else {errors = _errs7;if(vErrors !== null){if(_errs7){vErrors.length = _errs7;}else {vErrors = null;}}}}if(data.cachingOptions !== undefined){if(!(validate173(data.cachingOptions, {instancePath:instancePath+"/cachingOptions",parentData:data,parentDataProperty:"cachingOptions",rootData}))){vErrors = vErrors === null ? validate173.errors : vErrors.concat(validate173.errors);errors = vErrors.length;}}if(data.forwardingOptions !== undefined){if(!(validate177(data.forwardingOptions, {instancePath:instancePath+"/forwardingOptions",parentData:data,parentDataProperty:"forwardingOptions",rootData}))){vErrors = vErrors === null ? validate177.errors : vErrors.concat(validate177.errors);errors = vErrors.length;}}if(data.edgeFunctions !== undefined){let data5 = data.edgeFunctions;if(data5 && typeof data5 == "object" && !Array.isArray(data5)){for(const key1 in data5){if(!((((key1 === "onRequest") || (key1 === "onResponse")) || (key1 === "onOriginRequest")) || (key1 === "onOriginResponse"))){const err5 = {instancePath:instancePath+"/edgeFunctions",schemaPath:"#/definitions/EdgeFunctionsConfig/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema189,data:data5};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data5.onRequest !== undefined){let data6 = data5.onRequest;if(typeof data6 !== "string"){const err6 = {instancePath:instancePath+"/edgeFunctions/onRequest",schemaPath:"#/definitions/EdgeFunctionsConfig/properties/onRequest/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema189.properties.onRequest.type,parentSchema:schema189.properties.onRequest,data:data6};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data5.onResponse !== undefined){let data7 = data5.onResponse;if(typeof data7 !== "string"){const err7 = {instancePath:instancePath+"/edgeFunctions/onResponse",schemaPath:"#/definitions/EdgeFunctionsConfig/properties/onResponse/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema189.properties.onResponse.type,parentSchema:schema189.properties.onResponse,data:data7};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data5.onOriginRequest !== undefined){let data8 = data5.onOriginRequest;if(typeof data8 !== "string"){const err8 = {instancePath:instancePath+"/edgeFunctions/onOriginRequest",schemaPath:"#/definitions/EdgeFunctionsConfig/properties/onOriginRequest/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema189.properties.onOriginRequest.type,parentSchema:schema189.properties.onOriginRequest,data:data8};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}if(data5.onOriginResponse !== undefined){let data9 = data5.onOriginResponse;if(typeof data9 !== "string"){const err9 = {instancePath:instancePath+"/edgeFunctions/onOriginResponse",schemaPath:"#/definitions/EdgeFunctionsConfig/properties/onOriginResponse/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema189.properties.onOriginResponse.type,parentSchema:schema189.properties.onOriginResponse,data:data9};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}}else {const err10 = {instancePath:instancePath+"/edgeFunctions",schemaPath:"#/definitions/EdgeFunctionsConfig/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema189.type,parentSchema:schema189,data:data5};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}}else {const err11 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema178.type,parentSchema:schema178,data};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}validate179.errors = vErrors;return errors === 0;}function validate172(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.enabled === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "enabled"},message:"must have required property '"+"enabled"+"'",schema:schema167.required,parentSchema:schema167,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!(func2.call(schema167.properties, key0))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema167,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.enabled !== undefined){let data0 = data.enabled;if(typeof data0 !== "boolean"){const err2 = {instancePath:instancePath+"/enabled",schemaPath:"#/properties/enabled/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema167.properties.enabled.type,parentSchema:schema167.properties.enabled,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.cachingOptions !== undefined){if(!(validate173(data.cachingOptions, {instancePath:instancePath+"/cachingOptions",parentData:data,parentDataProperty:"cachingOptions",rootData}))){vErrors = vErrors === null ? validate173.errors : vErrors.concat(validate173.errors);errors = vErrors.length;}}if(data.forwardingOptions !== undefined){if(!(validate177(data.forwardingOptions, {instancePath:instancePath+"/forwardingOptions",parentData:data,parentDataProperty:"forwardingOptions",rootData}))){vErrors = vErrors === null ? validate177.errors : vErrors.concat(validate177.errors);errors = vErrors.length;}}if(data.routeRewrites !== undefined){let data3 = data.routeRewrites;if(Array.isArray(data3)){const len0 = data3.length;for(let i0=0; i0<len0; i0++){if(!(validate179(data3[i0], {instancePath:instancePath+"/routeRewrites/" + i0,parentData:data3,parentDataProperty:i0,rootData}))){vErrors = vErrors === null ? validate179.errors : vErrors.concat(validate179.errors);errors = vErrors.length;}}}else {const err3 = {instancePath:instancePath+"/routeRewrites",schemaPath:"#/properties/routeRewrites/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema167.properties.routeRewrites.type,parentSchema:schema167.properties.routeRewrites,data:data3};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.customDomains !== undefined){let data5 = data.customDomains;if(Array.isArray(data5)){const len1 = data5.length;for(let i1=0; i1<len1; i1++){let data6 = data5[i1];if(data6 && typeof data6 == "object" && !Array.isArray(data6)){if(data6.domainName === undefined){const err4 = {instancePath:instancePath+"/customDomains/" + i1,schemaPath:"#/definitions/DomainConfiguration/required",keyword:"required",params:{missingProperty: "domainName"},message:"must have required property '"+"domainName"+"'",schema:schema160.required,parentSchema:schema160,data:data6};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}for(const key1 in data6){if(!(((key1 === "domainName") || (key1 === "customCertificateArn")) || (key1 === "disableDnsRecordCreation"))){const err5 = {instancePath:instancePath+"/customDomains/" + i1,schemaPath:"#/definitions/DomainConfiguration/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema160,data:data6};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data6.domainName !== undefined){let data7 = data6.domainName;if(typeof data7 !== "string"){const err6 = {instancePath:instancePath+"/customDomains/" + i1+"/domainName",schemaPath:"#/definitions/DomainConfiguration/properties/domainName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema160.properties.domainName.type,parentSchema:schema160.properties.domainName,data:data7};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data6.customCertificateArn !== undefined){let data8 = data6.customCertificateArn;if(typeof data8 !== "string"){const err7 = {instancePath:instancePath+"/customDomains/" + i1+"/customCertificateArn",schemaPath:"#/definitions/DomainConfiguration/properties/customCertificateArn/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema160.properties.customCertificateArn.type,parentSchema:schema160.properties.customCertificateArn,data:data8};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data6.disableDnsRecordCreation !== undefined){let data9 = data6.disableDnsRecordCreation;if(typeof data9 !== "boolean"){const err8 = {instancePath:instancePath+"/customDomains/" + i1+"/disableDnsRecordCreation",schemaPath:"#/definitions/DomainConfiguration/properties/disableDnsRecordCreation/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema160.properties.disableDnsRecordCreation.type,parentSchema:schema160.properties.disableDnsRecordCreation,data:data9};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}}else {const err9 = {instancePath:instancePath+"/customDomains/" + i1,schemaPath:"#/definitions/DomainConfiguration/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema160.type,parentSchema:schema160,data:data6};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}}else {const err10 = {instancePath:instancePath+"/customDomains",schemaPath:"#/properties/customDomains/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema167.properties.customDomains.type,parentSchema:schema167.properties.customDomains,data:data5};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data.edgeFunctions !== undefined){let data10 = data.edgeFunctions;if(data10 && typeof data10 == "object" && !Array.isArray(data10)){for(const key2 in data10){if(!((((key2 === "onRequest") || (key2 === "onResponse")) || (key2 === "onOriginRequest")) || (key2 === "onOriginResponse"))){const err11 = {instancePath:instancePath+"/edgeFunctions",schemaPath:"#/definitions/EdgeFunctionsConfig/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key2},message:"must NOT have additional properties",schema:false,parentSchema:schema189,data:data10};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}if(data10.onRequest !== undefined){let data11 = data10.onRequest;if(typeof data11 !== "string"){const err12 = {instancePath:instancePath+"/edgeFunctions/onRequest",schemaPath:"#/definitions/EdgeFunctionsConfig/properties/onRequest/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema189.properties.onRequest.type,parentSchema:schema189.properties.onRequest,data:data11};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}if(data10.onResponse !== undefined){let data12 = data10.onResponse;if(typeof data12 !== "string"){const err13 = {instancePath:instancePath+"/edgeFunctions/onResponse",schemaPath:"#/definitions/EdgeFunctionsConfig/properties/onResponse/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema189.properties.onResponse.type,parentSchema:schema189.properties.onResponse,data:data12};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}if(data10.onOriginRequest !== undefined){let data13 = data10.onOriginRequest;if(typeof data13 !== "string"){const err14 = {instancePath:instancePath+"/edgeFunctions/onOriginRequest",schemaPath:"#/definitions/EdgeFunctionsConfig/properties/onOriginRequest/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema189.properties.onOriginRequest.type,parentSchema:schema189.properties.onOriginRequest,data:data13};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}}if(data10.onOriginResponse !== undefined){let data14 = data10.onOriginResponse;if(typeof data14 !== "string"){const err15 = {instancePath:instancePath+"/edgeFunctions/onOriginResponse",schemaPath:"#/definitions/EdgeFunctionsConfig/properties/onOriginResponse/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema189.properties.onOriginResponse.type,parentSchema:schema189.properties.onOriginResponse,data:data14};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}}}else {const err16 = {instancePath:instancePath+"/edgeFunctions",schemaPath:"#/definitions/EdgeFunctionsConfig/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema189.type,parentSchema:schema189,data:data10};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}}if(data.cloudfrontPriceClass !== undefined){let data15 = data.cloudfrontPriceClass;if(typeof data15 !== "string"){const err17 = {instancePath:instancePath+"/cloudfrontPriceClass",schemaPath:"#/properties/cloudfrontPriceClass/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema167.properties.cloudfrontPriceClass.type,parentSchema:schema167.properties.cloudfrontPriceClass,data:data15};if(vErrors === null){vErrors = [err17];}else {vErrors.push(err17);}errors++;}if(!(((data15 === "PriceClass_100") || (data15 === "PriceClass_200")) || (data15 === "PriceClass_All"))){const err18 = {instancePath:instancePath+"/cloudfrontPriceClass",schemaPath:"#/properties/cloudfrontPriceClass/enum",keyword:"enum",params:{allowedValues: schema167.properties.cloudfrontPriceClass.enum},message:"must be equal to one of the allowed values",schema:schema167.properties.cloudfrontPriceClass.enum,parentSchema:schema167.properties.cloudfrontPriceClass,data:data15};if(vErrors === null){vErrors = [err18];}else {vErrors.push(err18);}errors++;}}if(data.defaultRoutePrefix !== undefined){let data16 = data.defaultRoutePrefix;if(typeof data16 !== "string"){const err19 = {instancePath:instancePath+"/defaultRoutePrefix",schemaPath:"#/properties/defaultRoutePrefix/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema167.properties.defaultRoutePrefix.type,parentSchema:schema167.properties.defaultRoutePrefix,data:data16};if(vErrors === null){vErrors = [err19];}else {vErrors.push(err19);}errors++;}}if(data.errorDocument !== undefined){let data17 = data.errorDocument;if(typeof data17 !== "string"){const err20 = {instancePath:instancePath+"/errorDocument",schemaPath:"#/properties/errorDocument/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema167.properties.errorDocument.type,parentSchema:schema167.properties.errorDocument,data:data17};if(vErrors === null){vErrors = [err20];}else {vErrors.push(err20);}errors++;}}if(data.indexDocument !== undefined){let data18 = data.indexDocument;if(typeof data18 !== "string"){const err21 = {instancePath:instancePath+"/indexDocument",schemaPath:"#/properties/indexDocument/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema167.properties.indexDocument.type,parentSchema:schema167.properties.indexDocument,data:data18};if(vErrors === null){vErrors = [err21];}else {vErrors.push(err21);}errors++;}}if(data.disableInvalidationAfterDeploy !== undefined){let data19 = data.disableInvalidationAfterDeploy;if(typeof data19 !== "boolean"){const err22 = {instancePath:instancePath+"/disableInvalidationAfterDeploy",schemaPath:"#/properties/disableInvalidationAfterDeploy/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema167.properties.disableInvalidationAfterDeploy.type,parentSchema:schema167.properties.disableInvalidationAfterDeploy,data:data19};if(vErrors === null){vErrors = [err22];}else {vErrors.push(err22);}errors++;}}if(data.useFirewall !== undefined){let data20 = data.useFirewall;if(typeof data20 !== "string"){const err23 = {instancePath:instancePath+"/useFirewall",schemaPath:"#/properties/useFirewall/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema167.properties.useFirewall.type,parentSchema:schema167.properties.useFirewall,data:data20};if(vErrors === null){vErrors = [err23];}else {vErrors.push(err23);}errors++;}}}else {const err24 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema167.type,parentSchema:schema167,data};if(vErrors === null){vErrors = [err24];}else {vErrors.push(err24);}errors++;}validate172.errors = vErrors;return errors === 0;}const schema192 = {"type":"object","properties":{"trigger":{"$ref":"#/definitions/ApplicationLoadBalancerAlarmTrigger"},"evaluation":{"$ref":"#/definitions/AlarmEvaluation","description":"#### Specifies the time window for evaluating the metric to determine if the alarm should be triggered.\n\n---\n\nDefines the duration and frequency of metric evaluation."},"notificationTargets":{"description":"#### Defines where to send notifications when the alarm is triggered.\n\n---\n\nYou can specify a list of integrations, such as Slack, MS Teams, or email.","type":"array","items":{"$ref":"#/definitions/AlarmUserIntegration"}},"description":{"description":"#### Custom description for the alarm\n---\n- If custom description is specified, it is used in the alarm notification message\n- Custom description is also used in the alarm description in the AWS console (If not provided, Stacktape generates default description.)","type":"string"}},"additionalProperties":false,"required":["trigger"]};const schema205 = {"type":"object","properties":{"period":{"description":"#### The duration (in seconds) of a single evaluation period.\n\n---\n\nThis value determines how long to collect data for a single data point. It must be a multiple of 60.","default":60,"type":"number"},"evaluationPeriods":{"description":"#### The number of most recent periods to evaluate.\n\n---\n\nThe alarm is triggered only if the condition is met for a specified number of these periods (`breachedPeriods`).\nThis helps prevent alarms from being triggered by temporary spikes.\n\nFor example, a sudden, short-lived spike in CPU utilization might not be a problem.\nHowever, if the CPU utilization stays high for several consecutive periods, it could indicate an issue that requires attention.","default":1,"type":"number"},"breachedPeriods":{"description":"#### The number of periods (within `evaluationPeriods`) that must breach the threshold to trigger the alarm.\n\n---\n\nThis allows you to configure the alarm's sensitivity. For example, if you set `evaluationPeriods` to 5 and `breachedPeriods` to 3, the alarm will only trigger if the metric exceeds the threshold in at least 3 of the 5 most recent periods.\n\nThis value must be less than or equal to `evaluationPeriods`.","default":1,"type":"number"}},"additionalProperties":false};const schema193 = {"anyOf":[{"$ref":"#/definitions/ApplicationLoadBalancerCustomTrigger"},{"$ref":"#/definitions/ApplicationLoadBalancerErrorRateTrigger"},{"$ref":"#/definitions/ApplicationLoadBalancerUnhealthyTargetsTrigger"}]};const schema194 = {"type":"object","properties":{"type":{"type":"string","const":"application-load-balancer-custom"},"properties":{"$ref":"#/definitions/ApplicationLoadBalancerCustomTriggerProps"}},"additionalProperties":false,"required":["properties","type"]};const schema195 = {"type":"object","properties":{"metric":{"$ref":"#/definitions/ApplicationLoadBalancerMetric","description":"#### The metric to monitor on the Load Balancer.\n\n---\n\nThe threshold will be compared against the calculated value of `statistic(METRIC)`, where:\n- `statistic` is the function applied to the metric values collected during the evaluation period (default: `avg`).\n- `METRIC` is the chosen metric.\n\n**Available Metrics:**\n\n- `ActiveConnectionCount`: The total number of concurrent TCP connections active from clients to the load balancer and from the load balancer to targets.\n- `AnomalousHostCount`: The number of hosts detected with anomalies.\n- `ClientTLSNegotiationErrorCount`: The number of TLS connections initiated by the client that did not establish a session with the load balancer due to a TLS error.\n- `ConsumedLCUs`: The number of load balancer capacity units (LCU) used by your load balancer.\n- `DesyncMitigationMode_NonCompliant_Request_Count`: The number of requests that do not comply with RFC 7230.\n- `DroppedInvalidHeaderRequestCount`: The number of requests where the load balancer removed HTTP headers with invalid fields before routing the request.\n- `MitigatedHostCount`: The number of targets under mitigation.\n- `ForwardedInvalidHeaderRequestCount`: The number of requests routed by the load balancer that had HTTP headers with invalid fields.\n- `GrpcRequestCount`: The number of gRPC requests processed over IPv4 and IPv6.\n- `HTTP_Fixed_Response_Count`: The number of successful fixed-response actions.\n- `HTTP_Redirect_Count`: The number of successful redirect actions.\n- `HTTP_Redirect_Url_Limit_Exceeded_Count`: The number of redirect actions that failed because the URL in the response location header exceeded 8K.\n- `HTTPCode_ELB_3XX_Count`: The number of HTTP 3XX redirection codes originating from the load balancer.\n- `HTTPCode_ELB_4XX_Count`: The number of HTTP 4XX client error codes originating from the load balancer.\n- `HTTPCode_ELB_5XX_Count`: The number of HTTP 5XX server error codes originating from the load balancer.\n- `HTTPCode_ELB_500_Count`: The number of HTTP 500 error codes originating from the load balancer.\n- `HTTPCode_ELB_502_Count`: The number of HTTP 502 error codes originating from the load balancer.\n- `HTTPCode_ELB_503_Count`: The number of HTTP 503 error codes originating from the load balancer.\n- `HTTPCode_ELB_504_Count`: The number of HTTP 504 error codes originating from the load balancer.\n- `IPv6ProcessedBytes`: The total number of bytes processed by the load balancer over IPv6.\n- `IPv6RequestCount`: The number of IPv6 requests received by the load balancer.\n- `NewConnectionCount`: The total number of new TCP connections established from clients to the load balancer and from the load balancer to targets.\n- `NonStickyRequestCount`: The number of requests where the load balancer chose a new target because it could not use an existing sticky session.\n- `ProcessedBytes`: The total number of bytes processed by the load balancer over IPv4 and IPv6.\n- `RejectedConnectionCount`: The number of connections rejected because the load balancer reached its maximum number of connections.\n- `RequestCount`: The number of requests processed over IPv4 and IPv6.\n- `RuleEvaluations`: The number of rules processed by the load balancer, averaged over an hour.\n- `HealthyHostCount`: The number of targets that are considered healthy.\n- `HTTPCode_Target_2XX_Count`: The number of HTTP 2XX response codes generated by the targets.\n- `HTTPCode_Target_3XX_Count`: The number of HTTP 3XX response codes generated by the targets.\n- `HTTPCode_Target_4XX_Count`: The number of HTTP 4XX response codes generated by the targets.\n- `HTTPCode_Target_5XX_Count`: The number of HTTP 5XX response codes generated by the targets.\n- `RequestCountPerTarget`: The average number of requests per target in a target group.\n- `TargetConnectionErrorCount`: The number of connections that were not successfully established between the load balancer and a target.\n- `TargetResponseTime`: The time elapsed (in seconds) from when a request leaves the load balancer until the target starts sending response headers.\n- `TargetTLSNegotiationErrorCount`: The number of TLS connections initiated by the load balancer that did not establish a session with the target.\n- `UnHealthyHostCount`: The number of targets that are considered unhealthy.\n- `HealthyStateDNS`: The number of zones that meet the DNS healthy state requirements.\n- `HealthyStateRouting`: The number of zones that meet the routing healthy state requirements.\n- `UnhealthyRoutingRequestCount`: The number of requests routed using the routing failover action (fail open).\n- `UnhealthyStateDNS`: The number of zones that do not meet the DNS healthy state requirements.\n- `UnhealthyStateRouting`: The number of zones that do not meet the routing healthy state requirements.\n- `LambdaInternalError`: The number of requests to a Lambda function that failed due to an issue internal to the load balancer or AWS Lambda.\n- `LambdaTargetProcessedBytes`: The total number of bytes processed by the load balancer for requests to and responses from a Lambda function.\n- `LambdaUserError`: The number of requests to a Lambda function that failed due to an issue with the Lambda function itself.\n- `ELBAuthError`: The number of user authentications that could not be completed due to an internal error.\n- `ELBAuthFailure`: The number of user authentications that could not be completed because the IdP denied access.\n- `ELBAuthLatency`: The time elapsed (in milliseconds) to query the IdP for the ID token and user info.\n- `ELBAuthRefreshTokenSuccess`: The number of times the load balancer successfully refreshed user claims using a refresh token.\n- `ELBAuthSuccess`: The number of successful authentication actions.\n- `ELBAuthUserClaimsSizeExceeded`: The number of times a configured IdP returned user claims that exceeded 11K bytes in size."},"threshold":{"description":"#### The threshold that triggers the alarm.\n\n---\n\nThe threshold is compared against the calculated value of `statistic(METRIC)`, where:\n- `statistic` is the function applied to the metric values collected during the evaluation period (default: `avg`).\n- `METRIC` is the chosen metric.","type":"number"},"statistic":{"$ref":"#/definitions/StatisticFunction","description":"#### The statistic to apply to the metric data points.\n\n---\n\nSupported statistics:\n- **avg**: The average of the metric values.\n- **sum**: The sum of the metric values.\n- **p90**: The 90th percentile. 90% of the data points are lower than this value.\n- **p95**: The 95th percentile. 95% of the data points are lower than this value.\n- **p99**: The 99th percentile. 99% of the data points are lower than this value.\n- **min**: The lowest value from the data points.\n- **max**: The highest value from the data points.","default":"avg"},"comparisonOperator":{"$ref":"#/definitions/ComparisonOperator","description":"#### The arithmetic operation to use when comparing the specified statistic and threshold.\n\n---\n\nSupported operators:\n- `GreaterThanThreshold`\n- `GreaterThanOrEqualToThreshold`\n- `LessThanThreshold`\n- `LessThanOrEqualToThreshold`"}},"additionalProperties":false,"required":["metric","threshold"]};const schema196 = {"enum":["ActiveConnectionCount","AnomalousHostCount","ClientTLSNegotiationErrorCount","ConsumedLCUs","DesyncMitigationMode_NonCompliant_Request_Count","DroppedInvalidHeaderRequestCount","ELBAuthError","ELBAuthFailure","ELBAuthLatency","ELBAuthRefreshTokenSuccess","ELBAuthSuccess","ELBAuthUserClaimsSizeExceeded","ForwardedInvalidHeaderRequestCount","GrpcRequestCount","HTTPCode_ELB_3XX_Count","HTTPCode_ELB_4XX_Count","HTTPCode_ELB_500_Count","HTTPCode_ELB_502_Count","HTTPCode_ELB_503_Count","HTTPCode_ELB_504_Count","HTTPCode_ELB_5XX_Count","HTTPCode_Target_2XX_Count","HTTPCode_Target_3XX_Count","HTTPCode_Target_4XX_Count","HTTPCode_Target_5XX_Count","HTTP_Fixed_Response_Count","HTTP_Redirect_Count","HTTP_Redirect_Url_Limit_Exceeded_Count","HealthyHostCount","HealthyStateDNS","HealthyStateRouting","IPv6ProcessedBytes","IPv6RequestCount","LambdaInternalError","LambdaTargetProcessedBytes","LambdaUserError","MitigatedHostCount","NewConnectionCount","NonStickyRequestCount","ProcessedBytes","RejectedConnectionCount","RequestCount","RequestCountPerTarget","RuleEvaluations","TargetConnectionErrorCount","TargetResponseTime","TargetTLSNegotiationErrorCount","UnHealthyHostCount","UnhealthyRoutingRequestCount","UnhealthyStateDNS","UnhealthyStateRouting"],"type":"string"};const schema197 = {"enum":["avg","max","min","p90","p95","p99","sum"],"type":"string"};const schema198 = {"enum":["GreaterThanOrEqualToThreshold","GreaterThanThreshold","LessThanOrEqualToThreshold","LessThanThreshold"],"type":"string"};function validate197(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.metric === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "metric"},message:"must have required property '"+"metric"+"'",schema:schema195.required,parentSchema:schema195,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.threshold === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "threshold"},message:"must have required property '"+"threshold"+"'",schema:schema195.required,parentSchema:schema195,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((((key0 === "metric") || (key0 === "threshold")) || (key0 === "statistic")) || (key0 === "comparisonOperator"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema195,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.metric !== undefined){let data0 = data.metric;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/metric",schemaPath:"#/definitions/ApplicationLoadBalancerMetric/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema196.type,parentSchema:schema196,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if(!(((((((((((((((((((((((((((((((((((((((((((((((((((data0 === "ActiveConnectionCount") || (data0 === "AnomalousHostCount")) || (data0 === "ClientTLSNegotiationErrorCount")) || (data0 === "ConsumedLCUs")) || (data0 === "DesyncMitigationMode_NonCompliant_Request_Count")) || (data0 === "DroppedInvalidHeaderRequestCount")) || (data0 === "ELBAuthError")) || (data0 === "ELBAuthFailure")) || (data0 === "ELBAuthLatency")) || (data0 === "ELBAuthRefreshTokenSuccess")) || (data0 === "ELBAuthSuccess")) || (data0 === "ELBAuthUserClaimsSizeExceeded")) || (data0 === "ForwardedInvalidHeaderRequestCount")) || (data0 === "GrpcRequestCount")) || (data0 === "HTTPCode_ELB_3XX_Count")) || (data0 === "HTTPCode_ELB_4XX_Count")) || (data0 === "HTTPCode_ELB_500_Count")) || (data0 === "HTTPCode_ELB_502_Count")) || (data0 === "HTTPCode_ELB_503_Count")) || (data0 === "HTTPCode_ELB_504_Count")) || (data0 === "HTTPCode_ELB_5XX_Count")) || (data0 === "HTTPCode_Target_2XX_Count")) || (data0 === "HTTPCode_Target_3XX_Count")) || (data0 === "HTTPCode_Target_4XX_Count")) || (data0 === "HTTPCode_Target_5XX_Count")) || (data0 === "HTTP_Fixed_Response_Count")) || (data0 === "HTTP_Redirect_Count")) || (data0 === "HTTP_Redirect_Url_Limit_Exceeded_Count")) || (data0 === "HealthyHostCount")) || (data0 === "HealthyStateDNS")) || (data0 === "HealthyStateRouting")) || (data0 === "IPv6ProcessedBytes")) || (data0 === "IPv6RequestCount")) || (data0 === "LambdaInternalError")) || (data0 === "LambdaTargetProcessedBytes")) || (data0 === "LambdaUserError")) || (data0 === "MitigatedHostCount")) || (data0 === "NewConnectionCount")) || (data0 === "NonStickyRequestCount")) || (data0 === "ProcessedBytes")) || (data0 === "RejectedConnectionCount")) || (data0 === "RequestCount")) || (data0 === "RequestCountPerTarget")) || (data0 === "RuleEvaluations")) || (data0 === "TargetConnectionErrorCount")) || (data0 === "TargetResponseTime")) || (data0 === "TargetTLSNegotiationErrorCount")) || (data0 === "UnHealthyHostCount")) || (data0 === "UnhealthyRoutingRequestCount")) || (data0 === "UnhealthyStateDNS")) || (data0 === "UnhealthyStateRouting"))){const err4 = {instancePath:instancePath+"/metric",schemaPath:"#/definitions/ApplicationLoadBalancerMetric/enum",keyword:"enum",params:{allowedValues: schema196.enum},message:"must be equal to one of the allowed values",schema:schema196.enum,parentSchema:schema196,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.threshold !== undefined){let data1 = data.threshold;if(!(typeof data1 == "number")){const err5 = {instancePath:instancePath+"/threshold",schemaPath:"#/properties/threshold/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema195.properties.threshold.type,parentSchema:schema195.properties.threshold,data:data1};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data.statistic !== undefined){let data2 = data.statistic;if(typeof data2 !== "string"){const err6 = {instancePath:instancePath+"/statistic",schemaPath:"#/definitions/StatisticFunction/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema197.type,parentSchema:schema197,data:data2};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}if(!(((((((data2 === "avg") || (data2 === "max")) || (data2 === "min")) || (data2 === "p90")) || (data2 === "p95")) || (data2 === "p99")) || (data2 === "sum"))){const err7 = {instancePath:instancePath+"/statistic",schemaPath:"#/definitions/StatisticFunction/enum",keyword:"enum",params:{allowedValues: schema197.enum},message:"must be equal to one of the allowed values",schema:schema197.enum,parentSchema:schema197,data:data2};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data.comparisonOperator !== undefined){let data3 = data.comparisonOperator;if(typeof data3 !== "string"){const err8 = {instancePath:instancePath+"/comparisonOperator",schemaPath:"#/definitions/ComparisonOperator/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema198.type,parentSchema:schema198,data:data3};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}if(!((((data3 === "GreaterThanOrEqualToThreshold") || (data3 === "GreaterThanThreshold")) || (data3 === "LessThanOrEqualToThreshold")) || (data3 === "LessThanThreshold"))){const err9 = {instancePath:instancePath+"/comparisonOperator",schemaPath:"#/definitions/ComparisonOperator/enum",keyword:"enum",params:{allowedValues: schema198.enum},message:"must be equal to one of the allowed values",schema:schema198.enum,parentSchema:schema198,data:data3};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}}else {const err10 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema195.type,parentSchema:schema195,data};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}validate197.errors = vErrors;return errors === 0;}function validate196(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema194.required,parentSchema:schema194,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema194.required,parentSchema:schema194,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema194,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema194.properties.type.type,parentSchema:schema194.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("application-load-balancer-custom" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "application-load-balancer-custom"},message:"must be equal to constant",schema:"application-load-balancer-custom",parentSchema:schema194.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate197(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate197.errors : vErrors.concat(validate197.errors);errors = vErrors.length;}}}else {const err5 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema194.type,parentSchema:schema194,data};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}validate196.errors = vErrors;return errors === 0;}const schema199 = {"type":"object","properties":{"type":{"type":"string","const":"application-load-balancer-error-rate"},"properties":{"$ref":"#/definitions/ApplicationLoadBalancerErrorRateTriggerProps"}},"additionalProperties":false,"required":["properties","type"]};const schema200 = {"type":"object","properties":{"thresholdPercent":{"description":"#### The error rate percentage that triggers the alarm.\n\n---\n\nThe error rate is the percentage of total requests that result in a 4xx or 5xx HTTP status code.\nFor example, a value of 5 means the alarm will trigger if more than 5% of requests result in an error.","type":"number"},"comparisonOperator":{"$ref":"#/definitions/ComparisonOperator","description":"#### The arithmetic operation to use when comparing the specified statistic and threshold.\n\n---\n\nSupported operators:\n- `GreaterThanThreshold`\n- `GreaterThanOrEqualToThreshold`\n- `LessThanThreshold`\n- `LessThanOrEqualToThreshold`"}},"additionalProperties":false,"required":["thresholdPercent"]};function validate201(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.thresholdPercent === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "thresholdPercent"},message:"must have required property '"+"thresholdPercent"+"'",schema:schema200.required,parentSchema:schema200,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!((key0 === "thresholdPercent") || (key0 === "comparisonOperator"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema200,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.thresholdPercent !== undefined){let data0 = data.thresholdPercent;if(!(typeof data0 == "number")){const err2 = {instancePath:instancePath+"/thresholdPercent",schemaPath:"#/properties/thresholdPercent/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema200.properties.thresholdPercent.type,parentSchema:schema200.properties.thresholdPercent,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.comparisonOperator !== undefined){let data1 = data.comparisonOperator;if(typeof data1 !== "string"){const err3 = {instancePath:instancePath+"/comparisonOperator",schemaPath:"#/definitions/ComparisonOperator/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema198.type,parentSchema:schema198,data:data1};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if(!((((data1 === "GreaterThanOrEqualToThreshold") || (data1 === "GreaterThanThreshold")) || (data1 === "LessThanOrEqualToThreshold")) || (data1 === "LessThanThreshold"))){const err4 = {instancePath:instancePath+"/comparisonOperator",schemaPath:"#/definitions/ComparisonOperator/enum",keyword:"enum",params:{allowedValues: schema198.enum},message:"must be equal to one of the allowed values",schema:schema198.enum,parentSchema:schema198,data:data1};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}}else {const err5 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema200.type,parentSchema:schema200,data};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}validate201.errors = vErrors;return errors === 0;}function validate200(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema199.required,parentSchema:schema199,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema199.required,parentSchema:schema199,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema199,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema199.properties.type.type,parentSchema:schema199.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("application-load-balancer-error-rate" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "application-load-balancer-error-rate"},message:"must be equal to constant",schema:"application-load-balancer-error-rate",parentSchema:schema199.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate201(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate201.errors : vErrors.concat(validate201.errors);errors = vErrors.length;}}}else {const err5 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema199.type,parentSchema:schema199,data};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}validate200.errors = vErrors;return errors === 0;}const schema202 = {"type":"object","properties":{"type":{"type":"string","const":"application-load-balancer-unhealthy-targets"},"properties":{"$ref":"#/definitions/ApplicationLoadBalancerUnhealthyTargetsTriggerProps"}},"additionalProperties":false,"required":["properties","type"]};const schema203 = {"type":"object","properties":{"thresholdPercent":{"description":"#### The percentage of unhealthy targets that triggers the alarm.\n\n---\n\nAn Application Load Balancer routes traffic to multiple targets (e.g., containers). This alarm triggers if the percentage of unhealthy targets exceeds the specified threshold.\nIf the load balancer has multiple target groups, the alarm will trigger if *any* of them breach the threshold.","type":"number"},"onlyIncludeTargets":{"description":"#### Limits alarm to monitor health of only the specified target container services\n---\n- By specifying this property, only the containers of target container services that are specified are monitored for health.\n- Only services that are actually targeted by the load balancer can be part of the list.\n- If not specified, all targeted container services are monitored.","type":"array","items":{"type":"string"}},"comparisonOperator":{"$ref":"#/definitions/ComparisonOperator","description":"#### The arithmetic operation to use when comparing the specified statistic and threshold.\n\n---\n\nSupported operators:\n- `GreaterThanThreshold`\n- `GreaterThanOrEqualToThreshold`\n- `LessThanThreshold`\n- `LessThanOrEqualToThreshold`"}},"additionalProperties":false,"required":["thresholdPercent"]};function validate205(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.thresholdPercent === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "thresholdPercent"},message:"must have required property '"+"thresholdPercent"+"'",schema:schema203.required,parentSchema:schema203,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!(((key0 === "thresholdPercent") || (key0 === "onlyIncludeTargets")) || (key0 === "comparisonOperator"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema203,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.thresholdPercent !== undefined){let data0 = data.thresholdPercent;if(!(typeof data0 == "number")){const err2 = {instancePath:instancePath+"/thresholdPercent",schemaPath:"#/properties/thresholdPercent/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema203.properties.thresholdPercent.type,parentSchema:schema203.properties.thresholdPercent,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.onlyIncludeTargets !== undefined){let data1 = data.onlyIncludeTargets;if(Array.isArray(data1)){const len0 = data1.length;for(let i0=0; i0<len0; i0++){let data2 = data1[i0];if(typeof data2 !== "string"){const err3 = {instancePath:instancePath+"/onlyIncludeTargets/" + i0,schemaPath:"#/properties/onlyIncludeTargets/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema203.properties.onlyIncludeTargets.items.type,parentSchema:schema203.properties.onlyIncludeTargets.items,data:data2};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}}else {const err4 = {instancePath:instancePath+"/onlyIncludeTargets",schemaPath:"#/properties/onlyIncludeTargets/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema203.properties.onlyIncludeTargets.type,parentSchema:schema203.properties.onlyIncludeTargets,data:data1};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.comparisonOperator !== undefined){let data3 = data.comparisonOperator;if(typeof data3 !== "string"){const err5 = {instancePath:instancePath+"/comparisonOperator",schemaPath:"#/definitions/ComparisonOperator/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema198.type,parentSchema:schema198,data:data3};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}if(!((((data3 === "GreaterThanOrEqualToThreshold") || (data3 === "GreaterThanThreshold")) || (data3 === "LessThanOrEqualToThreshold")) || (data3 === "LessThanThreshold"))){const err6 = {instancePath:instancePath+"/comparisonOperator",schemaPath:"#/definitions/ComparisonOperator/enum",keyword:"enum",params:{allowedValues: schema198.enum},message:"must be equal to one of the allowed values",schema:schema198.enum,parentSchema:schema198,data:data3};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}}else {const err7 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema203.type,parentSchema:schema203,data};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}validate205.errors = vErrors;return errors === 0;}function validate204(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema202.required,parentSchema:schema202,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema202.required,parentSchema:schema202,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema202,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema202.properties.type.type,parentSchema:schema202.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("application-load-balancer-unhealthy-targets" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "application-load-balancer-unhealthy-targets"},message:"must be equal to constant",schema:"application-load-balancer-unhealthy-targets",parentSchema:schema202.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate205(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate205.errors : vErrors.concat(validate205.errors);errors = vErrors.length;}}}else {const err5 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema202.type,parentSchema:schema202,data};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}validate204.errors = vErrors;return errors === 0;}function validate195(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;const _errs0 = errors;let valid0 = false;const _errs1 = errors;if(!(validate196(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate196.errors : vErrors.concat(validate196.errors);errors = vErrors.length;}var _valid0 = _errs1 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs2 = errors;if(!(validate200(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate200.errors : vErrors.concat(validate200.errors);errors = vErrors.length;}var _valid0 = _errs2 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs3 = errors;if(!(validate204(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate204.errors : vErrors.concat(validate204.errors);errors = vErrors.length;}var _valid0 = _errs3 === errors;valid0 = valid0 || _valid0;}}if(!valid0){const err0 = {instancePath,schemaPath:"#/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:schema193.anyOf,parentSchema:schema193,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}else {errors = _errs0;if(vErrors !== null){if(_errs0){vErrors.length = _errs0;}else {vErrors = null;}}}validate195.errors = vErrors;return errors === 0;}const schema206 = {"anyOf":[{"$ref":"#/definitions/MsTeamsIntegration"},{"$ref":"#/definitions/SlackIntegration"},{"$ref":"#/definitions/EmailIntegration"}]};const schema207 = {"type":"object","properties":{"type":{"type":"string","const":"ms-teams"},"properties":{"$ref":"#/definitions/MsTeamsIntegrationProps"}},"additionalProperties":false,"required":["type"]};const schema208 = {"type":"object","properties":{"webhookUrl":{"description":"#### The URL that allows Stacktape to send a notification to the associated channel.\n\n---\n\nYou can get this URL by following [this guide](https://docs.microsoft.com/en-us/microsoftteams/platform/webhooks-and-connectors/how-to/add-incoming-webhook#create-incoming-webhook-1).","type":"string"}},"additionalProperties":false,"required":["webhookUrl"]};function validate210(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.type === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema207.required,parentSchema:schema207,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema207,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err2 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema207.properties.type.type,parentSchema:schema207.properties.type,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}if("ms-teams" !== data0){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "ms-teams"},message:"must be equal to constant",schema:"ms-teams",parentSchema:schema207.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.properties !== undefined){let data1 = data.properties;if(data1 && typeof data1 == "object" && !Array.isArray(data1)){if(data1.webhookUrl === undefined){const err4 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/MsTeamsIntegrationProps/required",keyword:"required",params:{missingProperty: "webhookUrl"},message:"must have required property '"+"webhookUrl"+"'",schema:schema208.required,parentSchema:schema208,data:data1};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}for(const key1 in data1){if(!(key1 === "webhookUrl")){const err5 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/MsTeamsIntegrationProps/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema208,data:data1};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data1.webhookUrl !== undefined){let data2 = data1.webhookUrl;if(typeof data2 !== "string"){const err6 = {instancePath:instancePath+"/properties/webhookUrl",schemaPath:"#/definitions/MsTeamsIntegrationProps/properties/webhookUrl/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema208.properties.webhookUrl.type,parentSchema:schema208.properties.webhookUrl,data:data2};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}}else {const err7 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/MsTeamsIntegrationProps/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema208.type,parentSchema:schema208,data:data1};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}}else {const err8 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema207.type,parentSchema:schema207,data};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}validate210.errors = vErrors;return errors === 0;}const schema209 = {"type":"object","properties":{"type":{"type":"string","const":"slack"},"properties":{"$ref":"#/definitions/SlackIntegrationProps"}},"additionalProperties":false,"required":["type"]};const schema210 = {"type":"object","properties":{"conversationId":{"description":"#### The ID of the channel, direct message, multi-person direct message, or group.\n\n---\n\nTo get the conversation ID for a channel, navigate to the channel and click on its name.\nThe ID is located at the bottom of the **About** tab.","type":"string"},"accessToken":{"description":"#### The Bot User OAuth Token.\n\n---\n\nYou can get an access token by following the first two steps in [this Slack guide](https://slack.dev/node-slack-sdk/getting-started).","type":"string"}},"additionalProperties":false,"required":["accessToken","conversationId"]};function validate212(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.type === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema209.required,parentSchema:schema209,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema209,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err2 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema209.properties.type.type,parentSchema:schema209.properties.type,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}if("slack" !== data0){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "slack"},message:"must be equal to constant",schema:"slack",parentSchema:schema209.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.properties !== undefined){let data1 = data.properties;if(data1 && typeof data1 == "object" && !Array.isArray(data1)){if(data1.accessToken === undefined){const err4 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/SlackIntegrationProps/required",keyword:"required",params:{missingProperty: "accessToken"},message:"must have required property '"+"accessToken"+"'",schema:schema210.required,parentSchema:schema210,data:data1};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}if(data1.conversationId === undefined){const err5 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/SlackIntegrationProps/required",keyword:"required",params:{missingProperty: "conversationId"},message:"must have required property '"+"conversationId"+"'",schema:schema210.required,parentSchema:schema210,data:data1};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}for(const key1 in data1){if(!((key1 === "conversationId") || (key1 === "accessToken"))){const err6 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/SlackIntegrationProps/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema210,data:data1};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data1.conversationId !== undefined){let data2 = data1.conversationId;if(typeof data2 !== "string"){const err7 = {instancePath:instancePath+"/properties/conversationId",schemaPath:"#/definitions/SlackIntegrationProps/properties/conversationId/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema210.properties.conversationId.type,parentSchema:schema210.properties.conversationId,data:data2};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data1.accessToken !== undefined){let data3 = data1.accessToken;if(typeof data3 !== "string"){const err8 = {instancePath:instancePath+"/properties/accessToken",schemaPath:"#/definitions/SlackIntegrationProps/properties/accessToken/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema210.properties.accessToken.type,parentSchema:schema210.properties.accessToken,data:data3};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}}else {const err9 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/SlackIntegrationProps/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema210.type,parentSchema:schema210,data:data1};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}}else {const err10 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema209.type,parentSchema:schema209,data};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}validate212.errors = vErrors;return errors === 0;}const schema211 = {"type":"object","properties":{"type":{"type":"string","const":"email"},"properties":{"$ref":"#/definitions/EmailIntegrationProps"}},"additionalProperties":false,"required":["properties","type"]};const schema212 = {"type":"object","properties":{"sender":{"description":"#### The email address of the sender.","type":"string"},"recipient":{"description":"#### The email address of the recipient.","type":"string"}},"additionalProperties":false,"required":["recipient","sender"]};function validate214(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema211.required,parentSchema:schema211,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema211.required,parentSchema:schema211,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema211,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema211.properties.type.type,parentSchema:schema211.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("email" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "email"},message:"must be equal to constant",schema:"email",parentSchema:schema211.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){let data1 = data.properties;if(data1 && typeof data1 == "object" && !Array.isArray(data1)){if(data1.recipient === undefined){const err5 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/EmailIntegrationProps/required",keyword:"required",params:{missingProperty: "recipient"},message:"must have required property '"+"recipient"+"'",schema:schema212.required,parentSchema:schema212,data:data1};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}if(data1.sender === undefined){const err6 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/EmailIntegrationProps/required",keyword:"required",params:{missingProperty: "sender"},message:"must have required property '"+"sender"+"'",schema:schema212.required,parentSchema:schema212,data:data1};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}for(const key1 in data1){if(!((key1 === "sender") || (key1 === "recipient"))){const err7 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/EmailIntegrationProps/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema212,data:data1};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data1.sender !== undefined){let data2 = data1.sender;if(typeof data2 !== "string"){const err8 = {instancePath:instancePath+"/properties/sender",schemaPath:"#/definitions/EmailIntegrationProps/properties/sender/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema212.properties.sender.type,parentSchema:schema212.properties.sender,data:data2};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}if(data1.recipient !== undefined){let data3 = data1.recipient;if(typeof data3 !== "string"){const err9 = {instancePath:instancePath+"/properties/recipient",schemaPath:"#/definitions/EmailIntegrationProps/properties/recipient/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema212.properties.recipient.type,parentSchema:schema212.properties.recipient,data:data3};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}}else {const err10 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/EmailIntegrationProps/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema212.type,parentSchema:schema212,data:data1};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}}else {const err11 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema211.type,parentSchema:schema211,data};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}validate214.errors = vErrors;return errors === 0;}function validate209(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;const _errs0 = errors;let valid0 = false;const _errs1 = errors;if(!(validate210(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate210.errors : vErrors.concat(validate210.errors);errors = vErrors.length;}var _valid0 = _errs1 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs2 = errors;if(!(validate212(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate212.errors : vErrors.concat(validate212.errors);errors = vErrors.length;}var _valid0 = _errs2 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs3 = errors;if(!(validate214(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate214.errors : vErrors.concat(validate214.errors);errors = vErrors.length;}var _valid0 = _errs3 === errors;valid0 = valid0 || _valid0;}}if(!valid0){const err0 = {instancePath,schemaPath:"#/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:schema206.anyOf,parentSchema:schema206,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}else {errors = _errs0;if(vErrors !== null){if(_errs0){vErrors.length = _errs0;}else {vErrors = null;}}}validate209.errors = vErrors;return errors === 0;}function validate194(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.trigger === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "trigger"},message:"must have required property '"+"trigger"+"'",schema:schema192.required,parentSchema:schema192,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!((((key0 === "trigger") || (key0 === "evaluation")) || (key0 === "notificationTargets")) || (key0 === "description"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema192,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.trigger !== undefined){if(!(validate195(data.trigger, {instancePath:instancePath+"/trigger",parentData:data,parentDataProperty:"trigger",rootData}))){vErrors = vErrors === null ? validate195.errors : vErrors.concat(validate195.errors);errors = vErrors.length;}}if(data.evaluation !== undefined){let data1 = data.evaluation;if(data1 && typeof data1 == "object" && !Array.isArray(data1)){for(const key1 in data1){if(!(((key1 === "period") || (key1 === "evaluationPeriods")) || (key1 === "breachedPeriods"))){const err2 = {instancePath:instancePath+"/evaluation",schemaPath:"#/definitions/AlarmEvaluation/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema205,data:data1};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data1.period !== undefined){let data2 = data1.period;if(!(typeof data2 == "number")){const err3 = {instancePath:instancePath+"/evaluation/period",schemaPath:"#/definitions/AlarmEvaluation/properties/period/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema205.properties.period.type,parentSchema:schema205.properties.period,data:data2};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data1.evaluationPeriods !== undefined){let data3 = data1.evaluationPeriods;if(!(typeof data3 == "number")){const err4 = {instancePath:instancePath+"/evaluation/evaluationPeriods",schemaPath:"#/definitions/AlarmEvaluation/properties/evaluationPeriods/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema205.properties.evaluationPeriods.type,parentSchema:schema205.properties.evaluationPeriods,data:data3};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data1.breachedPeriods !== undefined){let data4 = data1.breachedPeriods;if(!(typeof data4 == "number")){const err5 = {instancePath:instancePath+"/evaluation/breachedPeriods",schemaPath:"#/definitions/AlarmEvaluation/properties/breachedPeriods/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema205.properties.breachedPeriods.type,parentSchema:schema205.properties.breachedPeriods,data:data4};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}}else {const err6 = {instancePath:instancePath+"/evaluation",schemaPath:"#/definitions/AlarmEvaluation/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema205.type,parentSchema:schema205,data:data1};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data.notificationTargets !== undefined){let data5 = data.notificationTargets;if(Array.isArray(data5)){const len0 = data5.length;for(let i0=0; i0<len0; i0++){if(!(validate209(data5[i0], {instancePath:instancePath+"/notificationTargets/" + i0,parentData:data5,parentDataProperty:i0,rootData}))){vErrors = vErrors === null ? validate209.errors : vErrors.concat(validate209.errors);errors = vErrors.length;}}}else {const err7 = {instancePath:instancePath+"/notificationTargets",schemaPath:"#/properties/notificationTargets/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema192.properties.notificationTargets.type,parentSchema:schema192.properties.notificationTargets,data:data5};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data.description !== undefined){let data7 = data.description;if(typeof data7 !== "string"){const err8 = {instancePath:instancePath+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema192.properties.description.type,parentSchema:schema192.properties.description,data:data7};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}}else {const err9 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema192.type,parentSchema:schema192,data};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}validate194.errors = vErrors;return errors === 0;}const schema213 = {"type":"object","properties":{"trigger":{"$ref":"#/definitions/HttpApiGatewayAlarmTrigger"},"evaluation":{"$ref":"#/definitions/AlarmEvaluation","description":"#### Specifies the time window for evaluating the metric to determine if the alarm should be triggered.\n\n---\n\nDefines the duration and frequency of metric evaluation."},"notificationTargets":{"description":"#### Defines where to send notifications when the alarm is triggered.\n\n---\n\nYou can specify a list of integrations, such as Slack, MS Teams, or email.","type":"array","items":{"$ref":"#/definitions/AlarmUserIntegration"}},"description":{"description":"#### Custom description for the alarm\n---\n- If custom description is specified, it is used in the alarm notification message\n- Custom description is also used in the alarm description in the AWS console (If not provided, Stacktape generates default description.)","type":"string"}},"additionalProperties":false,"required":["trigger"]};const schema214 = {"anyOf":[{"$ref":"#/definitions/HttpApiGatewayErrorRateTrigger"},{"$ref":"#/definitions/HttpApiGatewayLatencyTrigger"}]};const schema215 = {"type":"object","properties":{"type":{"type":"string","const":"http-api-gateway-error-rate"},"properties":{"$ref":"#/definitions/HttpApiGatewayErrorRateTriggerProps"}},"additionalProperties":false,"required":["properties","type"]};const schema216 = {"type":"object","properties":{"thresholdPercent":{"description":"#### The error rate percentage that triggers the alarm.\n\n---\n\nThe error rate is the percentage of total requests that result in a 4xx or 5xx HTTP status code.\nFor example, a value of 5 means the alarm will trigger if more than 5% of requests result in an error.","type":"number"},"comparisonOperator":{"$ref":"#/definitions/ComparisonOperator","description":"#### The arithmetic operation to use when comparing the specified statistic and threshold.\n\n---\n\nSupported operators:\n- `GreaterThanThreshold`\n- `GreaterThanOrEqualToThreshold`\n- `LessThanThreshold`\n- `LessThanOrEqualToThreshold`"}},"additionalProperties":false,"required":["thresholdPercent"]};function validate221(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.thresholdPercent === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "thresholdPercent"},message:"must have required property '"+"thresholdPercent"+"'",schema:schema216.required,parentSchema:schema216,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!((key0 === "thresholdPercent") || (key0 === "comparisonOperator"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema216,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.thresholdPercent !== undefined){let data0 = data.thresholdPercent;if(!(typeof data0 == "number")){const err2 = {instancePath:instancePath+"/thresholdPercent",schemaPath:"#/properties/thresholdPercent/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema216.properties.thresholdPercent.type,parentSchema:schema216.properties.thresholdPercent,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.comparisonOperator !== undefined){let data1 = data.comparisonOperator;if(typeof data1 !== "string"){const err3 = {instancePath:instancePath+"/comparisonOperator",schemaPath:"#/definitions/ComparisonOperator/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema198.type,parentSchema:schema198,data:data1};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if(!((((data1 === "GreaterThanOrEqualToThreshold") || (data1 === "GreaterThanThreshold")) || (data1 === "LessThanOrEqualToThreshold")) || (data1 === "LessThanThreshold"))){const err4 = {instancePath:instancePath+"/comparisonOperator",schemaPath:"#/definitions/ComparisonOperator/enum",keyword:"enum",params:{allowedValues: schema198.enum},message:"must be equal to one of the allowed values",schema:schema198.enum,parentSchema:schema198,data:data1};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}}else {const err5 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema216.type,parentSchema:schema216,data};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}validate221.errors = vErrors;return errors === 0;}function validate220(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema215.required,parentSchema:schema215,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema215.required,parentSchema:schema215,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema215,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema215.properties.type.type,parentSchema:schema215.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("http-api-gateway-error-rate" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "http-api-gateway-error-rate"},message:"must be equal to constant",schema:"http-api-gateway-error-rate",parentSchema:schema215.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate221(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate221.errors : vErrors.concat(validate221.errors);errors = vErrors.length;}}}else {const err5 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema215.type,parentSchema:schema215,data};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}validate220.errors = vErrors;return errors === 0;}const schema218 = {"type":"object","properties":{"type":{"type":"string","const":"http-api-gateway-latency"},"properties":{"$ref":"#/definitions/HttpApiGatewayLatencyTriggerProps"}},"additionalProperties":false,"required":["properties","type"]};const schema219 = {"type":"object","properties":{"thresholdMilliseconds":{"description":"#### The latency in milliseconds that triggers the alarm.\n\n---\n\nLatency is the time from when API Gateway receives a request to when it sends a response.\nBy default, the alarm triggers if the **average** latency over the evaluation period is **greater than** the `thresholdMilliseconds`.\nYou can customize the behavior using the `statistic` and `comparisonOperator` properties.","type":"number"},"comparisonOperator":{"$ref":"#/definitions/ComparisonOperator","description":"#### The arithmetic operation to use when comparing the specified statistic and threshold.\n\n---\n\nSupported operators:\n- `GreaterThanThreshold`\n- `GreaterThanOrEqualToThreshold`\n- `LessThanThreshold`\n- `LessThanOrEqualToThreshold`"},"statistic":{"$ref":"#/definitions/StatisticFunction","description":"#### The statistic to apply to the metric data points.\n\n---\n\nSupported statistics:\n- **avg**: The average of the metric values.\n- **sum**: The sum of the metric values.\n- **p90**: The 90th percentile. 90% of the data points are lower than this value.\n- **p95**: The 95th percentile. 95% of the data points are lower than this value.\n- **p99**: The 99th percentile. 99% of the data points are lower than this value.\n- **min**: The lowest value from the data points.\n- **max**: The highest value from the data points.","default":"avg"}},"additionalProperties":false,"required":["thresholdMilliseconds"]};function validate225(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.thresholdMilliseconds === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "thresholdMilliseconds"},message:"must have required property '"+"thresholdMilliseconds"+"'",schema:schema219.required,parentSchema:schema219,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!(((key0 === "thresholdMilliseconds") || (key0 === "comparisonOperator")) || (key0 === "statistic"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema219,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.thresholdMilliseconds !== undefined){let data0 = data.thresholdMilliseconds;if(!(typeof data0 == "number")){const err2 = {instancePath:instancePath+"/thresholdMilliseconds",schemaPath:"#/properties/thresholdMilliseconds/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema219.properties.thresholdMilliseconds.type,parentSchema:schema219.properties.thresholdMilliseconds,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.comparisonOperator !== undefined){let data1 = data.comparisonOperator;if(typeof data1 !== "string"){const err3 = {instancePath:instancePath+"/comparisonOperator",schemaPath:"#/definitions/ComparisonOperator/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema198.type,parentSchema:schema198,data:data1};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if(!((((data1 === "GreaterThanOrEqualToThreshold") || (data1 === "GreaterThanThreshold")) || (data1 === "LessThanOrEqualToThreshold")) || (data1 === "LessThanThreshold"))){const err4 = {instancePath:instancePath+"/comparisonOperator",schemaPath:"#/definitions/ComparisonOperator/enum",keyword:"enum",params:{allowedValues: schema198.enum},message:"must be equal to one of the allowed values",schema:schema198.enum,parentSchema:schema198,data:data1};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.statistic !== undefined){let data2 = data.statistic;if(typeof data2 !== "string"){const err5 = {instancePath:instancePath+"/statistic",schemaPath:"#/definitions/StatisticFunction/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema197.type,parentSchema:schema197,data:data2};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}if(!(((((((data2 === "avg") || (data2 === "max")) || (data2 === "min")) || (data2 === "p90")) || (data2 === "p95")) || (data2 === "p99")) || (data2 === "sum"))){const err6 = {instancePath:instancePath+"/statistic",schemaPath:"#/definitions/StatisticFunction/enum",keyword:"enum",params:{allowedValues: schema197.enum},message:"must be equal to one of the allowed values",schema:schema197.enum,parentSchema:schema197,data:data2};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}}else {const err7 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema219.type,parentSchema:schema219,data};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}validate225.errors = vErrors;return errors === 0;}function validate224(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema218.required,parentSchema:schema218,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema218.required,parentSchema:schema218,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema218,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema218.properties.type.type,parentSchema:schema218.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("http-api-gateway-latency" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "http-api-gateway-latency"},message:"must be equal to constant",schema:"http-api-gateway-latency",parentSchema:schema218.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate225(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate225.errors : vErrors.concat(validate225.errors);errors = vErrors.length;}}}else {const err5 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema218.type,parentSchema:schema218,data};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}validate224.errors = vErrors;return errors === 0;}function validate219(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;const _errs0 = errors;let valid0 = false;const _errs1 = errors;if(!(validate220(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate220.errors : vErrors.concat(validate220.errors);errors = vErrors.length;}var _valid0 = _errs1 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs2 = errors;if(!(validate224(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate224.errors : vErrors.concat(validate224.errors);errors = vErrors.length;}var _valid0 = _errs2 === errors;valid0 = valid0 || _valid0;}if(!valid0){const err0 = {instancePath,schemaPath:"#/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:schema214.anyOf,parentSchema:schema214,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}else {errors = _errs0;if(vErrors !== null){if(_errs0){vErrors.length = _errs0;}else {vErrors = null;}}}validate219.errors = vErrors;return errors === 0;}function validate218(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.trigger === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "trigger"},message:"must have required property '"+"trigger"+"'",schema:schema213.required,parentSchema:schema213,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!((((key0 === "trigger") || (key0 === "evaluation")) || (key0 === "notificationTargets")) || (key0 === "description"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema213,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.trigger !== undefined){if(!(validate219(data.trigger, {instancePath:instancePath+"/trigger",parentData:data,parentDataProperty:"trigger",rootData}))){vErrors = vErrors === null ? validate219.errors : vErrors.concat(validate219.errors);errors = vErrors.length;}}if(data.evaluation !== undefined){let data1 = data.evaluation;if(data1 && typeof data1 == "object" && !Array.isArray(data1)){for(const key1 in data1){if(!(((key1 === "period") || (key1 === "evaluationPeriods")) || (key1 === "breachedPeriods"))){const err2 = {instancePath:instancePath+"/evaluation",schemaPath:"#/definitions/AlarmEvaluation/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema205,data:data1};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data1.period !== undefined){let data2 = data1.period;if(!(typeof data2 == "number")){const err3 = {instancePath:instancePath+"/evaluation/period",schemaPath:"#/definitions/AlarmEvaluation/properties/period/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema205.properties.period.type,parentSchema:schema205.properties.period,data:data2};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data1.evaluationPeriods !== undefined){let data3 = data1.evaluationPeriods;if(!(typeof data3 == "number")){const err4 = {instancePath:instancePath+"/evaluation/evaluationPeriods",schemaPath:"#/definitions/AlarmEvaluation/properties/evaluationPeriods/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema205.properties.evaluationPeriods.type,parentSchema:schema205.properties.evaluationPeriods,data:data3};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data1.breachedPeriods !== undefined){let data4 = data1.breachedPeriods;if(!(typeof data4 == "number")){const err5 = {instancePath:instancePath+"/evaluation/breachedPeriods",schemaPath:"#/definitions/AlarmEvaluation/properties/breachedPeriods/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema205.properties.breachedPeriods.type,parentSchema:schema205.properties.breachedPeriods,data:data4};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}}else {const err6 = {instancePath:instancePath+"/evaluation",schemaPath:"#/definitions/AlarmEvaluation/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema205.type,parentSchema:schema205,data:data1};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data.notificationTargets !== undefined){let data5 = data.notificationTargets;if(Array.isArray(data5)){const len0 = data5.length;for(let i0=0; i0<len0; i0++){if(!(validate209(data5[i0], {instancePath:instancePath+"/notificationTargets/" + i0,parentData:data5,parentDataProperty:i0,rootData}))){vErrors = vErrors === null ? validate209.errors : vErrors.concat(validate209.errors);errors = vErrors.length;}}}else {const err7 = {instancePath:instancePath+"/notificationTargets",schemaPath:"#/properties/notificationTargets/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema213.properties.notificationTargets.type,parentSchema:schema213.properties.notificationTargets,data:data5};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data.description !== undefined){let data7 = data.description;if(typeof data7 !== "string"){const err8 = {instancePath:instancePath+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema213.properties.description.type,parentSchema:schema213.properties.description,data:data7};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}}else {const err9 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema213.type,parentSchema:schema213,data};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}validate218.errors = vErrors;return errors === 0;}const schema227 = {"type":"object","properties":{"containerType":{"description":"#### Container Type\n\n---\n\nThe type of the helper container.\n\n- **`run-on-init`:** Runs to completion before the main service container starts. The main container will wait for this container to exit with a code of 0. Ideal for setup tasks like database migrations.\n- **`always-running`:** Runs for the entire lifecycle of the service container. Ideal for supporting services like logging or monitoring agents.","enum":["always-running","run-on-init"],"type":"string"},"name":{"description":"#### A unique name for the container within the workload.","type":"string"},"packaging":{"$ref":"#/definitions/ContainerWorkloadContainerPackaging","description":"#### Configures the container image."},"essential":{"description":"#### Determines if this container is critical for the workload's health.\n\n---\n\nIf an essential container fails or stops, all other containers in the same workload instance are also stopped. The entire instance is then terminated and replaced.","type":"boolean"},"logging":{"$ref":"#/definitions/ContainerWorkloadContainerLogging","description":"#### Configures the logging behavior for this container.\n\n---\n\nContainer logs (`stdout` and `stderr`) are automatically sent to a CloudWatch log group.\n\nYou can view logs in two ways:\n  - Through the AWS CloudWatch console. Use the `stacktape stack-info` command to get a direct link.\n  - Using the `stacktape logs` command to stream logs directly to your terminal."},"dependsOn":{"description":"#### A list of other containers that this container depends on to start.\n\n---\n\nThis defines the startup order for containers within the workload.\nFor example, you can require a database container to be `HEALTHY` before your application container starts.","type":"array","items":{"$ref":"#/definitions/ContainerDependency"}},"environment":{"description":"#### Environment variables to inject into the container.\n\n---\n\nEnvironment variables are ideal for providing configuration details to your container, such as database connection strings, API keys, or other dynamic parameters.","type":"array","items":{"$ref":"#/definitions/EnvironmentVar"}},"internalHealthCheck":{"$ref":"#/definitions/ContainerHealthCheck","description":"#### Configures an internal health check to determine if the container is healthy.\n\n---\n\nIf this health check fails for an essential container, the entire workload instance will be terminated and replaced."},"stopTimeout":{"description":"#### The time (in seconds) to wait before forcefully killing the container if it doesn't shut down gracefully.\n\n---\n\nWhen a container is stopped, it first receives a `SIGTERM` signal. If it doesn't exit within this timeout, it will be sent a `SIGKILL` signal.\nThis allows for graceful shutdown procedures. The timeout must be between 2 and 120 seconds.","default":2,"type":"number"},"volumeMounts":{"description":"#### A list of file system volumes to mount to the container.\n\n---\n\nVolumes provide persistent storage that can be shared across multiple containers and persists even if the container is stopped or replaced.\nCurrently, only EFS (Elastic File System) volumes are supported.","type":"array","items":{"$ref":"#/definitions/ContainerEfsMount"}}},"additionalProperties":false,"required":["containerType","name","packaging"]};function validate235(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.containerType === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "containerType"},message:"must have required property '"+"containerType"+"'",schema:schema227.required,parentSchema:schema227,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.name === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "name"},message:"must have required property '"+"name"+"'",schema:schema227.required,parentSchema:schema227,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}if(data.packaging === undefined){const err2 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "packaging"},message:"must have required property '"+"packaging"+"'",schema:schema227.required,parentSchema:schema227,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}for(const key0 in data){if(!(func2.call(schema227.properties, key0))){const err3 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema227,data};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.containerType !== undefined){let data0 = data.containerType;if(typeof data0 !== "string"){const err4 = {instancePath:instancePath+"/containerType",schemaPath:"#/properties/containerType/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema227.properties.containerType.type,parentSchema:schema227.properties.containerType,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}if(!((data0 === "always-running") || (data0 === "run-on-init"))){const err5 = {instancePath:instancePath+"/containerType",schemaPath:"#/properties/containerType/enum",keyword:"enum",params:{allowedValues: schema227.properties.containerType.enum},message:"must be equal to one of the allowed values",schema:schema227.properties.containerType.enum,parentSchema:schema227.properties.containerType,data:data0};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data.name !== undefined){let data1 = data.name;if(typeof data1 !== "string"){const err6 = {instancePath:instancePath+"/name",schemaPath:"#/properties/name/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema227.properties.name.type,parentSchema:schema227.properties.name,data:data1};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data.packaging !== undefined){if(!(validate57(data.packaging, {instancePath:instancePath+"/packaging",parentData:data,parentDataProperty:"packaging",rootData}))){vErrors = vErrors === null ? validate57.errors : vErrors.concat(validate57.errors);errors = vErrors.length;}}if(data.essential !== undefined){let data3 = data.essential;if(typeof data3 !== "boolean"){const err7 = {instancePath:instancePath+"/essential",schemaPath:"#/properties/essential/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema227.properties.essential.type,parentSchema:schema227.properties.essential,data:data3};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data.logging !== undefined){if(!(validate79(data.logging, {instancePath:instancePath+"/logging",parentData:data,parentDataProperty:"logging",rootData}))){vErrors = vErrors === null ? validate79.errors : vErrors.concat(validate79.errors);errors = vErrors.length;}}if(data.dependsOn !== undefined){let data5 = data.dependsOn;if(Array.isArray(data5)){const len0 = data5.length;for(let i0=0; i0<len0; i0++){let data6 = data5[i0];if(data6 && typeof data6 == "object" && !Array.isArray(data6)){if(data6.condition === undefined){const err8 = {instancePath:instancePath+"/dependsOn/" + i0,schemaPath:"#/definitions/ContainerDependency/required",keyword:"required",params:{missingProperty: "condition"},message:"must have required property '"+"condition"+"'",schema:schema93.required,parentSchema:schema93,data:data6};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}if(data6.containerName === undefined){const err9 = {instancePath:instancePath+"/dependsOn/" + i0,schemaPath:"#/definitions/ContainerDependency/required",keyword:"required",params:{missingProperty: "containerName"},message:"must have required property '"+"containerName"+"'",schema:schema93.required,parentSchema:schema93,data:data6};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}for(const key1 in data6){if(!((key1 === "containerName") || (key1 === "condition"))){const err10 = {instancePath:instancePath+"/dependsOn/" + i0,schemaPath:"#/definitions/ContainerDependency/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema93,data:data6};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data6.containerName !== undefined){let data7 = data6.containerName;if(typeof data7 !== "string"){const err11 = {instancePath:instancePath+"/dependsOn/" + i0+"/containerName",schemaPath:"#/definitions/ContainerDependency/properties/containerName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema93.properties.containerName.type,parentSchema:schema93.properties.containerName,data:data7};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}if(data6.condition !== undefined){let data8 = data6.condition;if(typeof data8 !== "string"){const err12 = {instancePath:instancePath+"/dependsOn/" + i0+"/condition",schemaPath:"#/definitions/ContainerDependency/properties/condition/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema93.properties.condition.type,parentSchema:schema93.properties.condition,data:data8};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}if(!((((data8 === "COMPLETE") || (data8 === "HEALTHY")) || (data8 === "START")) || (data8 === "SUCCESS"))){const err13 = {instancePath:instancePath+"/dependsOn/" + i0+"/condition",schemaPath:"#/definitions/ContainerDependency/properties/condition/enum",keyword:"enum",params:{allowedValues: schema93.properties.condition.enum},message:"must be equal to one of the allowed values",schema:schema93.properties.condition.enum,parentSchema:schema93.properties.condition,data:data8};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}}else {const err14 = {instancePath:instancePath+"/dependsOn/" + i0,schemaPath:"#/definitions/ContainerDependency/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema93.type,parentSchema:schema93,data:data6};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}}}else {const err15 = {instancePath:instancePath+"/dependsOn",schemaPath:"#/properties/dependsOn/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema227.properties.dependsOn.type,parentSchema:schema227.properties.dependsOn,data:data5};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}}if(data.environment !== undefined){let data9 = data.environment;if(Array.isArray(data9)){const len1 = data9.length;for(let i1=0; i1<len1; i1++){let data10 = data9[i1];if(data10 && typeof data10 == "object" && !Array.isArray(data10)){if(data10.name === undefined){const err16 = {instancePath:instancePath+"/environment/" + i1,schemaPath:"#/definitions/EnvironmentVar/required",keyword:"required",params:{missingProperty: "name"},message:"must have required property '"+"name"+"'",schema:schema28.required,parentSchema:schema28,data:data10};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}if(data10.value === undefined){const err17 = {instancePath:instancePath+"/environment/" + i1,schemaPath:"#/definitions/EnvironmentVar/required",keyword:"required",params:{missingProperty: "value"},message:"must have required property '"+"value"+"'",schema:schema28.required,parentSchema:schema28,data:data10};if(vErrors === null){vErrors = [err17];}else {vErrors.push(err17);}errors++;}for(const key2 in data10){if(!((key2 === "name") || (key2 === "value"))){const err18 = {instancePath:instancePath+"/environment/" + i1,schemaPath:"#/definitions/EnvironmentVar/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key2},message:"must NOT have additional properties",schema:false,parentSchema:schema28,data:data10};if(vErrors === null){vErrors = [err18];}else {vErrors.push(err18);}errors++;}}if(data10.name !== undefined){let data11 = data10.name;if(typeof data11 !== "string"){const err19 = {instancePath:instancePath+"/environment/" + i1+"/name",schemaPath:"#/definitions/EnvironmentVar/properties/name/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema28.properties.name.type,parentSchema:schema28.properties.name,data:data11};if(vErrors === null){vErrors = [err19];}else {vErrors.push(err19);}errors++;}}if(data10.value !== undefined){let data12 = data10.value;if(((typeof data12 !== "string") && (!(typeof data12 == "number"))) && (typeof data12 !== "boolean")){const err20 = {instancePath:instancePath+"/environment/" + i1+"/value",schemaPath:"#/definitions/EnvironmentVar/properties/value/type",keyword:"type",params:{type: schema28.properties.value.type},message:"must be string,number,boolean",schema:schema28.properties.value.type,parentSchema:schema28.properties.value,data:data12};if(vErrors === null){vErrors = [err20];}else {vErrors.push(err20);}errors++;}}}else {const err21 = {instancePath:instancePath+"/environment/" + i1,schemaPath:"#/definitions/EnvironmentVar/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema28.type,parentSchema:schema28,data:data10};if(vErrors === null){vErrors = [err21];}else {vErrors.push(err21);}errors++;}}}else {const err22 = {instancePath:instancePath+"/environment",schemaPath:"#/properties/environment/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema227.properties.environment.type,parentSchema:schema227.properties.environment,data:data9};if(vErrors === null){vErrors = [err22];}else {vErrors.push(err22);}errors++;}}if(data.internalHealthCheck !== undefined){let data13 = data.internalHealthCheck;if(data13 && typeof data13 == "object" && !Array.isArray(data13)){if(data13.healthCheckCommand === undefined){const err23 = {instancePath:instancePath+"/internalHealthCheck",schemaPath:"#/definitions/ContainerHealthCheck/required",keyword:"required",params:{missingProperty: "healthCheckCommand"},message:"must have required property '"+"healthCheckCommand"+"'",schema:schema95.required,parentSchema:schema95,data:data13};if(vErrors === null){vErrors = [err23];}else {vErrors.push(err23);}errors++;}for(const key3 in data13){if(!(((((key3 === "healthCheckCommand") || (key3 === "intervalSeconds")) || (key3 === "timeoutSeconds")) || (key3 === "retries")) || (key3 === "startPeriodSeconds"))){const err24 = {instancePath:instancePath+"/internalHealthCheck",schemaPath:"#/definitions/ContainerHealthCheck/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key3},message:"must NOT have additional properties",schema:false,parentSchema:schema95,data:data13};if(vErrors === null){vErrors = [err24];}else {vErrors.push(err24);}errors++;}}if(data13.healthCheckCommand !== undefined){let data14 = data13.healthCheckCommand;if(Array.isArray(data14)){const len2 = data14.length;for(let i2=0; i2<len2; i2++){let data15 = data14[i2];if(typeof data15 !== "string"){const err25 = {instancePath:instancePath+"/internalHealthCheck/healthCheckCommand/" + i2,schemaPath:"#/definitions/ContainerHealthCheck/properties/healthCheckCommand/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema95.properties.healthCheckCommand.items.type,parentSchema:schema95.properties.healthCheckCommand.items,data:data15};if(vErrors === null){vErrors = [err25];}else {vErrors.push(err25);}errors++;}}}else {const err26 = {instancePath:instancePath+"/internalHealthCheck/healthCheckCommand",schemaPath:"#/definitions/ContainerHealthCheck/properties/healthCheckCommand/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema95.properties.healthCheckCommand.type,parentSchema:schema95.properties.healthCheckCommand,data:data14};if(vErrors === null){vErrors = [err26];}else {vErrors.push(err26);}errors++;}}if(data13.intervalSeconds !== undefined){let data16 = data13.intervalSeconds;if(!(typeof data16 == "number")){const err27 = {instancePath:instancePath+"/internalHealthCheck/intervalSeconds",schemaPath:"#/definitions/ContainerHealthCheck/properties/intervalSeconds/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema95.properties.intervalSeconds.type,parentSchema:schema95.properties.intervalSeconds,data:data16};if(vErrors === null){vErrors = [err27];}else {vErrors.push(err27);}errors++;}}if(data13.timeoutSeconds !== undefined){let data17 = data13.timeoutSeconds;if(!(typeof data17 == "number")){const err28 = {instancePath:instancePath+"/internalHealthCheck/timeoutSeconds",schemaPath:"#/definitions/ContainerHealthCheck/properties/timeoutSeconds/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema95.properties.timeoutSeconds.type,parentSchema:schema95.properties.timeoutSeconds,data:data17};if(vErrors === null){vErrors = [err28];}else {vErrors.push(err28);}errors++;}}if(data13.retries !== undefined){let data18 = data13.retries;if(!(typeof data18 == "number")){const err29 = {instancePath:instancePath+"/internalHealthCheck/retries",schemaPath:"#/definitions/ContainerHealthCheck/properties/retries/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema95.properties.retries.type,parentSchema:schema95.properties.retries,data:data18};if(vErrors === null){vErrors = [err29];}else {vErrors.push(err29);}errors++;}}if(data13.startPeriodSeconds !== undefined){let data19 = data13.startPeriodSeconds;if(!(typeof data19 == "number")){const err30 = {instancePath:instancePath+"/internalHealthCheck/startPeriodSeconds",schemaPath:"#/definitions/ContainerHealthCheck/properties/startPeriodSeconds/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema95.properties.startPeriodSeconds.type,parentSchema:schema95.properties.startPeriodSeconds,data:data19};if(vErrors === null){vErrors = [err30];}else {vErrors.push(err30);}errors++;}}}else {const err31 = {instancePath:instancePath+"/internalHealthCheck",schemaPath:"#/definitions/ContainerHealthCheck/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema95.type,parentSchema:schema95,data:data13};if(vErrors === null){vErrors = [err31];}else {vErrors.push(err31);}errors++;}}if(data.stopTimeout !== undefined){let data20 = data.stopTimeout;if(!(typeof data20 == "number")){const err32 = {instancePath:instancePath+"/stopTimeout",schemaPath:"#/properties/stopTimeout/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema227.properties.stopTimeout.type,parentSchema:schema227.properties.stopTimeout,data:data20};if(vErrors === null){vErrors = [err32];}else {vErrors.push(err32);}errors++;}}if(data.volumeMounts !== undefined){let data21 = data.volumeMounts;if(Array.isArray(data21)){const len3 = data21.length;for(let i3=0; i3<len3; i3++){if(!(validate87(data21[i3], {instancePath:instancePath+"/volumeMounts/" + i3,parentData:data21,parentDataProperty:i3,rootData}))){vErrors = vErrors === null ? validate87.errors : vErrors.concat(validate87.errors);errors = vErrors.length;}}}else {const err33 = {instancePath:instancePath+"/volumeMounts",schemaPath:"#/properties/volumeMounts/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema227.properties.volumeMounts.type,parentSchema:schema227.properties.volumeMounts,data:data21};if(vErrors === null){vErrors = [err33];}else {vErrors.push(err33);}errors++;}}}else {const err34 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema227.type,parentSchema:schema227,data};if(vErrors === null){vErrors = [err34];}else {vErrors.push(err34);}errors++;}validate235.errors = vErrors;return errors === 0;}function validate163(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.packaging === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "packaging"},message:"must have required property '"+"packaging"+"'",schema:schema157.required,parentSchema:schema157,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.resources === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "resources"},message:"must have required property '"+"resources"+"'",schema:schema157.required,parentSchema:schema157,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!(func2.call(schema157.properties, key0))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema157,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.cors !== undefined){if(!(validate164(data.cors, {instancePath:instancePath+"/cors",parentData:data,parentDataProperty:"cors",rootData}))){vErrors = vErrors === null ? validate164.errors : vErrors.concat(validate164.errors);errors = vErrors.length;}}if(data.customDomains !== undefined){let data1 = data.customDomains;if(Array.isArray(data1)){const len0 = data1.length;for(let i0=0; i0<len0; i0++){let data2 = data1[i0];if(data2 && typeof data2 == "object" && !Array.isArray(data2)){if(data2.domainName === undefined){const err3 = {instancePath:instancePath+"/customDomains/" + i0,schemaPath:"#/definitions/DomainConfiguration/required",keyword:"required",params:{missingProperty: "domainName"},message:"must have required property '"+"domainName"+"'",schema:schema160.required,parentSchema:schema160,data:data2};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}for(const key1 in data2){if(!(((key1 === "domainName") || (key1 === "customCertificateArn")) || (key1 === "disableDnsRecordCreation"))){const err4 = {instancePath:instancePath+"/customDomains/" + i0,schemaPath:"#/definitions/DomainConfiguration/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema160,data:data2};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data2.domainName !== undefined){let data3 = data2.domainName;if(typeof data3 !== "string"){const err5 = {instancePath:instancePath+"/customDomains/" + i0+"/domainName",schemaPath:"#/definitions/DomainConfiguration/properties/domainName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema160.properties.domainName.type,parentSchema:schema160.properties.domainName,data:data3};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data2.customCertificateArn !== undefined){let data4 = data2.customCertificateArn;if(typeof data4 !== "string"){const err6 = {instancePath:instancePath+"/customDomains/" + i0+"/customCertificateArn",schemaPath:"#/definitions/DomainConfiguration/properties/customCertificateArn/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema160.properties.customCertificateArn.type,parentSchema:schema160.properties.customCertificateArn,data:data4};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data2.disableDnsRecordCreation !== undefined){let data5 = data2.disableDnsRecordCreation;if(typeof data5 !== "boolean"){const err7 = {instancePath:instancePath+"/customDomains/" + i0+"/disableDnsRecordCreation",schemaPath:"#/definitions/DomainConfiguration/properties/disableDnsRecordCreation/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema160.properties.disableDnsRecordCreation.type,parentSchema:schema160.properties.disableDnsRecordCreation,data:data5};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}}else {const err8 = {instancePath:instancePath+"/customDomains/" + i0,schemaPath:"#/definitions/DomainConfiguration/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema160.type,parentSchema:schema160,data:data2};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}}else {const err9 = {instancePath:instancePath+"/customDomains",schemaPath:"#/properties/customDomains/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema157.properties.customDomains.type,parentSchema:schema157.properties.customDomains,data:data1};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(data.loadBalancing !== undefined){let data6 = data.loadBalancing;const _errs16 = errors;let valid5 = false;const _errs17 = errors;if(data6 && typeof data6 == "object" && !Array.isArray(data6)){if(data6.type === undefined){const err10 = {instancePath:instancePath+"/loadBalancing",schemaPath:"#/definitions/WebServiceHttpApiGatewayLoadBalancing/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema161.required,parentSchema:schema161,data:data6};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}for(const key2 in data6){if(!(key2 === "type")){const err11 = {instancePath:instancePath+"/loadBalancing",schemaPath:"#/definitions/WebServiceHttpApiGatewayLoadBalancing/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key2},message:"must NOT have additional properties",schema:false,parentSchema:schema161,data:data6};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}if(data6.type !== undefined){let data7 = data6.type;if(typeof data7 !== "string"){const err12 = {instancePath:instancePath+"/loadBalancing/type",schemaPath:"#/definitions/WebServiceHttpApiGatewayLoadBalancing/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema161.properties.type.type,parentSchema:schema161.properties.type,data:data7};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}if("http-api-gateway" !== data7){const err13 = {instancePath:instancePath+"/loadBalancing/type",schemaPath:"#/definitions/WebServiceHttpApiGatewayLoadBalancing/properties/type/const",keyword:"const",params:{allowedValue: "http-api-gateway"},message:"must be equal to constant",schema:"http-api-gateway",parentSchema:schema161.properties.type,data:data7};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}}else {const err14 = {instancePath:instancePath+"/loadBalancing",schemaPath:"#/definitions/WebServiceHttpApiGatewayLoadBalancing/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema161.type,parentSchema:schema161,data:data6};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}var _valid0 = _errs17 === errors;valid5 = valid5 || _valid0;if(!valid5){const _errs23 = errors;if(!(validate166(data6, {instancePath:instancePath+"/loadBalancing",parentData:data,parentDataProperty:"loadBalancing",rootData}))){vErrors = vErrors === null ? validate166.errors : vErrors.concat(validate166.errors);errors = vErrors.length;}var _valid0 = _errs23 === errors;valid5 = valid5 || _valid0;if(!valid5){const _errs24 = errors;if(!(validate168(data6, {instancePath:instancePath+"/loadBalancing",parentData:data,parentDataProperty:"loadBalancing",rootData}))){vErrors = vErrors === null ? validate168.errors : vErrors.concat(validate168.errors);errors = vErrors.length;}var _valid0 = _errs24 === errors;valid5 = valid5 || _valid0;}}if(!valid5){const err15 = {instancePath:instancePath+"/loadBalancing",schemaPath:"#/properties/loadBalancing/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:schema157.properties.loadBalancing.anyOf,parentSchema:schema157.properties.loadBalancing,data:data6};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}else {errors = _errs16;if(vErrors !== null){if(_errs16){vErrors.length = _errs16;}else {vErrors = null;}}}}if(data.cdn !== undefined){if(!(validate172(data.cdn, {instancePath:instancePath+"/cdn",parentData:data,parentDataProperty:"cdn",rootData}))){vErrors = vErrors === null ? validate172.errors : vErrors.concat(validate172.errors);errors = vErrors.length;}}if(data.alarms !== undefined){let data9 = data.alarms;if(Array.isArray(data9)){const len1 = data9.length;for(let i1=0; i1<len1; i1++){let data10 = data9[i1];const _errs29 = errors;let valid10 = false;const _errs30 = errors;if(!(validate194(data10, {instancePath:instancePath+"/alarms/" + i1,parentData:data9,parentDataProperty:i1,rootData}))){vErrors = vErrors === null ? validate194.errors : vErrors.concat(validate194.errors);errors = vErrors.length;}var _valid1 = _errs30 === errors;valid10 = valid10 || _valid1;if(!valid10){const _errs31 = errors;if(!(validate218(data10, {instancePath:instancePath+"/alarms/" + i1,parentData:data9,parentDataProperty:i1,rootData}))){vErrors = vErrors === null ? validate218.errors : vErrors.concat(validate218.errors);errors = vErrors.length;}var _valid1 = _errs31 === errors;valid10 = valid10 || _valid1;}if(!valid10){const err16 = {instancePath:instancePath+"/alarms/" + i1,schemaPath:"#/properties/alarms/items/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:schema157.properties.alarms.items.anyOf,parentSchema:schema157.properties.alarms.items,data:data10};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}else {errors = _errs29;if(vErrors !== null){if(_errs29){vErrors.length = _errs29;}else {vErrors = null;}}}}}else {const err17 = {instancePath:instancePath+"/alarms",schemaPath:"#/properties/alarms/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema157.properties.alarms.type,parentSchema:schema157.properties.alarms,data:data9};if(vErrors === null){vErrors = [err17];}else {vErrors.push(err17);}errors++;}}if(data.disabledGlobalAlarms !== undefined){let data11 = data.disabledGlobalAlarms;if(Array.isArray(data11)){const len2 = data11.length;for(let i2=0; i2<len2; i2++){let data12 = data11[i2];if(typeof data12 !== "string"){const err18 = {instancePath:instancePath+"/disabledGlobalAlarms/" + i2,schemaPath:"#/properties/disabledGlobalAlarms/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema157.properties.disabledGlobalAlarms.items.type,parentSchema:schema157.properties.disabledGlobalAlarms.items,data:data12};if(vErrors === null){vErrors = [err18];}else {vErrors.push(err18);}errors++;}}}else {const err19 = {instancePath:instancePath+"/disabledGlobalAlarms",schemaPath:"#/properties/disabledGlobalAlarms/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema157.properties.disabledGlobalAlarms.type,parentSchema:schema157.properties.disabledGlobalAlarms,data:data11};if(vErrors === null){vErrors = [err19];}else {vErrors.push(err19);}errors++;}}if(data.deployment !== undefined){let data13 = data.deployment;if(data13 && typeof data13 == "object" && !Array.isArray(data13)){if(data13.strategy === undefined){const err20 = {instancePath:instancePath+"/deployment",schemaPath:"#/definitions/ContainerWorkloadDeploymentConfig/required",keyword:"required",params:{missingProperty: "strategy"},message:"must have required property '"+"strategy"+"'",schema:schema101.required,parentSchema:schema101,data:data13};if(vErrors === null){vErrors = [err20];}else {vErrors.push(err20);}errors++;}for(const key3 in data13){if(!((((key3 === "strategy") || (key3 === "beforeAllowTrafficFunction")) || (key3 === "afterTrafficShiftFunction")) || (key3 === "testListenerPort"))){const err21 = {instancePath:instancePath+"/deployment",schemaPath:"#/definitions/ContainerWorkloadDeploymentConfig/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key3},message:"must NOT have additional properties",schema:false,parentSchema:schema101,data:data13};if(vErrors === null){vErrors = [err21];}else {vErrors.push(err21);}errors++;}}if(data13.strategy !== undefined){let data14 = data13.strategy;if(typeof data14 !== "string"){const err22 = {instancePath:instancePath+"/deployment/strategy",schemaPath:"#/definitions/ContainerWorkloadDeploymentConfig/properties/strategy/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema101.properties.strategy.type,parentSchema:schema101.properties.strategy,data:data14};if(vErrors === null){vErrors = [err22];}else {vErrors.push(err22);}errors++;}if(!(((((data14 === "AllAtOnce") || (data14 === "Canary10Percent15Minutes")) || (data14 === "Canary10Percent5Minutes")) || (data14 === "Linear10PercentEvery1Minutes")) || (data14 === "Linear10PercentEvery3Minutes"))){const err23 = {instancePath:instancePath+"/deployment/strategy",schemaPath:"#/definitions/ContainerWorkloadDeploymentConfig/properties/strategy/enum",keyword:"enum",params:{allowedValues: schema101.properties.strategy.enum},message:"must be equal to one of the allowed values",schema:schema101.properties.strategy.enum,parentSchema:schema101.properties.strategy,data:data14};if(vErrors === null){vErrors = [err23];}else {vErrors.push(err23);}errors++;}}if(data13.beforeAllowTrafficFunction !== undefined){let data15 = data13.beforeAllowTrafficFunction;if(typeof data15 !== "string"){const err24 = {instancePath:instancePath+"/deployment/beforeAllowTrafficFunction",schemaPath:"#/definitions/ContainerWorkloadDeploymentConfig/properties/beforeAllowTrafficFunction/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema101.properties.beforeAllowTrafficFunction.type,parentSchema:schema101.properties.beforeAllowTrafficFunction,data:data15};if(vErrors === null){vErrors = [err24];}else {vErrors.push(err24);}errors++;}}if(data13.afterTrafficShiftFunction !== undefined){let data16 = data13.afterTrafficShiftFunction;if(typeof data16 !== "string"){const err25 = {instancePath:instancePath+"/deployment/afterTrafficShiftFunction",schemaPath:"#/definitions/ContainerWorkloadDeploymentConfig/properties/afterTrafficShiftFunction/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema101.properties.afterTrafficShiftFunction.type,parentSchema:schema101.properties.afterTrafficShiftFunction,data:data16};if(vErrors === null){vErrors = [err25];}else {vErrors.push(err25);}errors++;}}if(data13.testListenerPort !== undefined){let data17 = data13.testListenerPort;if(!(typeof data17 == "number")){const err26 = {instancePath:instancePath+"/deployment/testListenerPort",schemaPath:"#/definitions/ContainerWorkloadDeploymentConfig/properties/testListenerPort/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema101.properties.testListenerPort.type,parentSchema:schema101.properties.testListenerPort,data:data17};if(vErrors === null){vErrors = [err26];}else {vErrors.push(err26);}errors++;}}}else {const err27 = {instancePath:instancePath+"/deployment",schemaPath:"#/definitions/ContainerWorkloadDeploymentConfig/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema101.type,parentSchema:schema101,data:data13};if(vErrors === null){vErrors = [err27];}else {vErrors.push(err27);}errors++;}}if(data.useFirewall !== undefined){let data18 = data.useFirewall;if(typeof data18 !== "string"){const err28 = {instancePath:instancePath+"/useFirewall",schemaPath:"#/properties/useFirewall/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema157.properties.useFirewall.type,parentSchema:schema157.properties.useFirewall,data:data18};if(vErrors === null){vErrors = [err28];}else {vErrors.push(err28);}errors++;}}if(data.packaging !== undefined){if(!(validate57(data.packaging, {instancePath:instancePath+"/packaging",parentData:data,parentDataProperty:"packaging",rootData}))){vErrors = vErrors === null ? validate57.errors : vErrors.concat(validate57.errors);errors = vErrors.length;}}if(data.environment !== undefined){let data20 = data.environment;if(Array.isArray(data20)){const len3 = data20.length;for(let i3=0; i3<len3; i3++){let data21 = data20[i3];if(data21 && typeof data21 == "object" && !Array.isArray(data21)){if(data21.name === undefined){const err29 = {instancePath:instancePath+"/environment/" + i3,schemaPath:"#/definitions/EnvironmentVar/required",keyword:"required",params:{missingProperty: "name"},message:"must have required property '"+"name"+"'",schema:schema28.required,parentSchema:schema28,data:data21};if(vErrors === null){vErrors = [err29];}else {vErrors.push(err29);}errors++;}if(data21.value === undefined){const err30 = {instancePath:instancePath+"/environment/" + i3,schemaPath:"#/definitions/EnvironmentVar/required",keyword:"required",params:{missingProperty: "value"},message:"must have required property '"+"value"+"'",schema:schema28.required,parentSchema:schema28,data:data21};if(vErrors === null){vErrors = [err30];}else {vErrors.push(err30);}errors++;}for(const key4 in data21){if(!((key4 === "name") || (key4 === "value"))){const err31 = {instancePath:instancePath+"/environment/" + i3,schemaPath:"#/definitions/EnvironmentVar/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key4},message:"must NOT have additional properties",schema:false,parentSchema:schema28,data:data21};if(vErrors === null){vErrors = [err31];}else {vErrors.push(err31);}errors++;}}if(data21.name !== undefined){let data22 = data21.name;if(typeof data22 !== "string"){const err32 = {instancePath:instancePath+"/environment/" + i3+"/name",schemaPath:"#/definitions/EnvironmentVar/properties/name/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema28.properties.name.type,parentSchema:schema28.properties.name,data:data22};if(vErrors === null){vErrors = [err32];}else {vErrors.push(err32);}errors++;}}if(data21.value !== undefined){let data23 = data21.value;if(((typeof data23 !== "string") && (!(typeof data23 == "number"))) && (typeof data23 !== "boolean")){const err33 = {instancePath:instancePath+"/environment/" + i3+"/value",schemaPath:"#/definitions/EnvironmentVar/properties/value/type",keyword:"type",params:{type: schema28.properties.value.type},message:"must be string,number,boolean",schema:schema28.properties.value.type,parentSchema:schema28.properties.value,data:data23};if(vErrors === null){vErrors = [err33];}else {vErrors.push(err33);}errors++;}}}else {const err34 = {instancePath:instancePath+"/environment/" + i3,schemaPath:"#/definitions/EnvironmentVar/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema28.type,parentSchema:schema28,data:data21};if(vErrors === null){vErrors = [err34];}else {vErrors.push(err34);}errors++;}}}else {const err35 = {instancePath:instancePath+"/environment",schemaPath:"#/properties/environment/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema157.properties.environment.type,parentSchema:schema157.properties.environment,data:data20};if(vErrors === null){vErrors = [err35];}else {vErrors.push(err35);}errors++;}}if(data.logging !== undefined){if(!(validate79(data.logging, {instancePath:instancePath+"/logging",parentData:data,parentDataProperty:"logging",rootData}))){vErrors = vErrors === null ? validate79.errors : vErrors.concat(validate79.errors);errors = vErrors.length;}}if(data.resources !== undefined){let data25 = data.resources;if(data25 && typeof data25 == "object" && !Array.isArray(data25)){for(const key5 in data25){if(!(((((key5 === "cpu") || (key5 === "memory")) || (key5 === "instanceTypes")) || (key5 === "enableWarmPool")) || (key5 === "architecture"))){const err36 = {instancePath:instancePath+"/resources",schemaPath:"#/definitions/ContainerWorkloadResourcesConfig/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key5},message:"must NOT have additional properties",schema:false,parentSchema:schema98,data:data25};if(vErrors === null){vErrors = [err36];}else {vErrors.push(err36);}errors++;}}if(data25.cpu !== undefined){let data26 = data25.cpu;if(!(typeof data26 == "number")){const err37 = {instancePath:instancePath+"/resources/cpu",schemaPath:"#/definitions/ContainerWorkloadResourcesConfig/properties/cpu/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema98.properties.cpu.type,parentSchema:schema98.properties.cpu,data:data26};if(vErrors === null){vErrors = [err37];}else {vErrors.push(err37);}errors++;}if(!(((((((data26 === 0.25) || (data26 === 0.5)) || (data26 === 1)) || (data26 === 16)) || (data26 === 2)) || (data26 === 4)) || (data26 === 8))){const err38 = {instancePath:instancePath+"/resources/cpu",schemaPath:"#/definitions/ContainerWorkloadResourcesConfig/properties/cpu/enum",keyword:"enum",params:{allowedValues: schema98.properties.cpu.enum},message:"must be equal to one of the allowed values",schema:schema98.properties.cpu.enum,parentSchema:schema98.properties.cpu,data:data26};if(vErrors === null){vErrors = [err38];}else {vErrors.push(err38);}errors++;}}if(data25.memory !== undefined){let data27 = data25.memory;if(!(typeof data27 == "number")){const err39 = {instancePath:instancePath+"/resources/memory",schemaPath:"#/definitions/ContainerWorkloadResourcesConfig/properties/memory/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema98.properties.memory.type,parentSchema:schema98.properties.memory,data:data27};if(vErrors === null){vErrors = [err39];}else {vErrors.push(err39);}errors++;}}if(data25.instanceTypes !== undefined){let data28 = data25.instanceTypes;if(Array.isArray(data28)){const len4 = data28.length;for(let i4=0; i4<len4; i4++){let data29 = data28[i4];if(typeof data29 !== "string"){const err40 = {instancePath:instancePath+"/resources/instanceTypes/" + i4,schemaPath:"#/definitions/ContainerWorkloadResourcesConfig/properties/instanceTypes/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema98.properties.instanceTypes.items.type,parentSchema:schema98.properties.instanceTypes.items,data:data29};if(vErrors === null){vErrors = [err40];}else {vErrors.push(err40);}errors++;}}}else {const err41 = {instancePath:instancePath+"/resources/instanceTypes",schemaPath:"#/definitions/ContainerWorkloadResourcesConfig/properties/instanceTypes/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema98.properties.instanceTypes.type,parentSchema:schema98.properties.instanceTypes,data:data28};if(vErrors === null){vErrors = [err41];}else {vErrors.push(err41);}errors++;}}if(data25.enableWarmPool !== undefined){let data30 = data25.enableWarmPool;if(typeof data30 !== "boolean"){const err42 = {instancePath:instancePath+"/resources/enableWarmPool",schemaPath:"#/definitions/ContainerWorkloadResourcesConfig/properties/enableWarmPool/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema98.properties.enableWarmPool.type,parentSchema:schema98.properties.enableWarmPool,data:data30};if(vErrors === null){vErrors = [err42];}else {vErrors.push(err42);}errors++;}}if(data25.architecture !== undefined){let data31 = data25.architecture;if(typeof data31 !== "string"){const err43 = {instancePath:instancePath+"/resources/architecture",schemaPath:"#/definitions/ContainerWorkloadResourcesConfig/properties/architecture/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema98.properties.architecture.type,parentSchema:schema98.properties.architecture,data:data31};if(vErrors === null){vErrors = [err43];}else {vErrors.push(err43);}errors++;}if(!((data31 === "arm64") || (data31 === "x86_64"))){const err44 = {instancePath:instancePath+"/resources/architecture",schemaPath:"#/definitions/ContainerWorkloadResourcesConfig/properties/architecture/enum",keyword:"enum",params:{allowedValues: schema98.properties.architecture.enum},message:"must be equal to one of the allowed values",schema:schema98.properties.architecture.enum,parentSchema:schema98.properties.architecture,data:data31};if(vErrors === null){vErrors = [err44];}else {vErrors.push(err44);}errors++;}}}else {const err45 = {instancePath:instancePath+"/resources",schemaPath:"#/definitions/ContainerWorkloadResourcesConfig/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema98.type,parentSchema:schema98,data:data25};if(vErrors === null){vErrors = [err45];}else {vErrors.push(err45);}errors++;}}if(data.scaling !== undefined){if(!(validate90(data.scaling, {instancePath:instancePath+"/scaling",parentData:data,parentDataProperty:"scaling",rootData}))){vErrors = vErrors === null ? validate90.errors : vErrors.concat(validate90.errors);errors = vErrors.length;}}if(data.internalHealthCheck !== undefined){let data33 = data.internalHealthCheck;if(data33 && typeof data33 == "object" && !Array.isArray(data33)){if(data33.healthCheckCommand === undefined){const err46 = {instancePath:instancePath+"/internalHealthCheck",schemaPath:"#/definitions/ContainerHealthCheck/required",keyword:"required",params:{missingProperty: "healthCheckCommand"},message:"must have required property '"+"healthCheckCommand"+"'",schema:schema95.required,parentSchema:schema95,data:data33};if(vErrors === null){vErrors = [err46];}else {vErrors.push(err46);}errors++;}for(const key6 in data33){if(!(((((key6 === "healthCheckCommand") || (key6 === "intervalSeconds")) || (key6 === "timeoutSeconds")) || (key6 === "retries")) || (key6 === "startPeriodSeconds"))){const err47 = {instancePath:instancePath+"/internalHealthCheck",schemaPath:"#/definitions/ContainerHealthCheck/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key6},message:"must NOT have additional properties",schema:false,parentSchema:schema95,data:data33};if(vErrors === null){vErrors = [err47];}else {vErrors.push(err47);}errors++;}}if(data33.healthCheckCommand !== undefined){let data34 = data33.healthCheckCommand;if(Array.isArray(data34)){const len5 = data34.length;for(let i5=0; i5<len5; i5++){let data35 = data34[i5];if(typeof data35 !== "string"){const err48 = {instancePath:instancePath+"/internalHealthCheck/healthCheckCommand/" + i5,schemaPath:"#/definitions/ContainerHealthCheck/properties/healthCheckCommand/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema95.properties.healthCheckCommand.items.type,parentSchema:schema95.properties.healthCheckCommand.items,data:data35};if(vErrors === null){vErrors = [err48];}else {vErrors.push(err48);}errors++;}}}else {const err49 = {instancePath:instancePath+"/internalHealthCheck/healthCheckCommand",schemaPath:"#/definitions/ContainerHealthCheck/properties/healthCheckCommand/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema95.properties.healthCheckCommand.type,parentSchema:schema95.properties.healthCheckCommand,data:data34};if(vErrors === null){vErrors = [err49];}else {vErrors.push(err49);}errors++;}}if(data33.intervalSeconds !== undefined){let data36 = data33.intervalSeconds;if(!(typeof data36 == "number")){const err50 = {instancePath:instancePath+"/internalHealthCheck/intervalSeconds",schemaPath:"#/definitions/ContainerHealthCheck/properties/intervalSeconds/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema95.properties.intervalSeconds.type,parentSchema:schema95.properties.intervalSeconds,data:data36};if(vErrors === null){vErrors = [err50];}else {vErrors.push(err50);}errors++;}}if(data33.timeoutSeconds !== undefined){let data37 = data33.timeoutSeconds;if(!(typeof data37 == "number")){const err51 = {instancePath:instancePath+"/internalHealthCheck/timeoutSeconds",schemaPath:"#/definitions/ContainerHealthCheck/properties/timeoutSeconds/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema95.properties.timeoutSeconds.type,parentSchema:schema95.properties.timeoutSeconds,data:data37};if(vErrors === null){vErrors = [err51];}else {vErrors.push(err51);}errors++;}}if(data33.retries !== undefined){let data38 = data33.retries;if(!(typeof data38 == "number")){const err52 = {instancePath:instancePath+"/internalHealthCheck/retries",schemaPath:"#/definitions/ContainerHealthCheck/properties/retries/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema95.properties.retries.type,parentSchema:schema95.properties.retries,data:data38};if(vErrors === null){vErrors = [err52];}else {vErrors.push(err52);}errors++;}}if(data33.startPeriodSeconds !== undefined){let data39 = data33.startPeriodSeconds;if(!(typeof data39 == "number")){const err53 = {instancePath:instancePath+"/internalHealthCheck/startPeriodSeconds",schemaPath:"#/definitions/ContainerHealthCheck/properties/startPeriodSeconds/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema95.properties.startPeriodSeconds.type,parentSchema:schema95.properties.startPeriodSeconds,data:data39};if(vErrors === null){vErrors = [err53];}else {vErrors.push(err53);}errors++;}}}else {const err54 = {instancePath:instancePath+"/internalHealthCheck",schemaPath:"#/definitions/ContainerHealthCheck/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema95.type,parentSchema:schema95,data:data33};if(vErrors === null){vErrors = [err54];}else {vErrors.push(err54);}errors++;}}if(data.stopTimeout !== undefined){let data40 = data.stopTimeout;if(!(typeof data40 == "number")){const err55 = {instancePath:instancePath+"/stopTimeout",schemaPath:"#/properties/stopTimeout/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema157.properties.stopTimeout.type,parentSchema:schema157.properties.stopTimeout,data:data40};if(vErrors === null){vErrors = [err55];}else {vErrors.push(err55);}errors++;}}if(data.enableRemoteSessions !== undefined){let data41 = data.enableRemoteSessions;if(typeof data41 !== "boolean"){const err56 = {instancePath:instancePath+"/enableRemoteSessions",schemaPath:"#/properties/enableRemoteSessions/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema157.properties.enableRemoteSessions.type,parentSchema:schema157.properties.enableRemoteSessions,data:data41};if(vErrors === null){vErrors = [err56];}else {vErrors.push(err56);}errors++;}}if(data.volumeMounts !== undefined){let data42 = data.volumeMounts;if(Array.isArray(data42)){const len6 = data42.length;for(let i6=0; i6<len6; i6++){if(!(validate87(data42[i6], {instancePath:instancePath+"/volumeMounts/" + i6,parentData:data42,parentDataProperty:i6,rootData}))){vErrors = vErrors === null ? validate87.errors : vErrors.concat(validate87.errors);errors = vErrors.length;}}}else {const err57 = {instancePath:instancePath+"/volumeMounts",schemaPath:"#/properties/volumeMounts/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema157.properties.volumeMounts.type,parentSchema:schema157.properties.volumeMounts,data:data42};if(vErrors === null){vErrors = [err57];}else {vErrors.push(err57);}errors++;}}if(data.sideContainers !== undefined){let data44 = data.sideContainers;if(Array.isArray(data44)){const len7 = data44.length;for(let i7=0; i7<len7; i7++){if(!(validate235(data44[i7], {instancePath:instancePath+"/sideContainers/" + i7,parentData:data44,parentDataProperty:i7,rootData}))){vErrors = vErrors === null ? validate235.errors : vErrors.concat(validate235.errors);errors = vErrors.length;}}}else {const err58 = {instancePath:instancePath+"/sideContainers",schemaPath:"#/properties/sideContainers/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema157.properties.sideContainers.type,parentSchema:schema157.properties.sideContainers,data:data44};if(vErrors === null){vErrors = [err58];}else {vErrors.push(err58);}errors++;}}if(data.usePrivateSubnetsWithNAT !== undefined){let data46 = data.usePrivateSubnetsWithNAT;if(typeof data46 !== "boolean"){const err59 = {instancePath:instancePath+"/usePrivateSubnetsWithNAT",schemaPath:"#/properties/usePrivateSubnetsWithNAT/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema157.properties.usePrivateSubnetsWithNAT.type,parentSchema:schema157.properties.usePrivateSubnetsWithNAT,data:data46};if(vErrors === null){vErrors = [err59];}else {vErrors.push(err59);}errors++;}}if(data.connectTo !== undefined){let data47 = data.connectTo;if(Array.isArray(data47)){const len8 = data47.length;for(let i8=0; i8<len8; i8++){let data48 = data47[i8];if(typeof data48 !== "string"){const err60 = {instancePath:instancePath+"/connectTo/" + i8,schemaPath:"#/properties/connectTo/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema157.properties.connectTo.items.type,parentSchema:schema157.properties.connectTo.items,data:data48};if(vErrors === null){vErrors = [err60];}else {vErrors.push(err60);}errors++;}}}else {const err61 = {instancePath:instancePath+"/connectTo",schemaPath:"#/properties/connectTo/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema157.properties.connectTo.type,parentSchema:schema157.properties.connectTo,data:data47};if(vErrors === null){vErrors = [err61];}else {vErrors.push(err61);}errors++;}}if(data.iamRoleStatements !== undefined){let data49 = data.iamRoleStatements;if(Array.isArray(data49)){const len9 = data49.length;for(let i9=0; i9<len9; i9++){let data50 = data49[i9];if(data50 && typeof data50 == "object" && !Array.isArray(data50)){if(data50.Resource === undefined){const err62 = {instancePath:instancePath+"/iamRoleStatements/" + i9,schemaPath:"#/definitions/StpIamRoleStatement/required",keyword:"required",params:{missingProperty: "Resource"},message:"must have required property '"+"Resource"+"'",schema:schema102.required,parentSchema:schema102,data:data50};if(vErrors === null){vErrors = [err62];}else {vErrors.push(err62);}errors++;}for(const key7 in data50){if(!(((((key7 === "Sid") || (key7 === "Effect")) || (key7 === "Action")) || (key7 === "Condition")) || (key7 === "Resource"))){const err63 = {instancePath:instancePath+"/iamRoleStatements/" + i9,schemaPath:"#/definitions/StpIamRoleStatement/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key7},message:"must NOT have additional properties",schema:false,parentSchema:schema102,data:data50};if(vErrors === null){vErrors = [err63];}else {vErrors.push(err63);}errors++;}}if(data50.Sid !== undefined){let data51 = data50.Sid;if(typeof data51 !== "string"){const err64 = {instancePath:instancePath+"/iamRoleStatements/" + i9+"/Sid",schemaPath:"#/definitions/StpIamRoleStatement/properties/Sid/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema102.properties.Sid.type,parentSchema:schema102.properties.Sid,data:data51};if(vErrors === null){vErrors = [err64];}else {vErrors.push(err64);}errors++;}}if(data50.Effect !== undefined){let data52 = data50.Effect;if(typeof data52 !== "string"){const err65 = {instancePath:instancePath+"/iamRoleStatements/" + i9+"/Effect",schemaPath:"#/definitions/StpIamRoleStatement/properties/Effect/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema102.properties.Effect.type,parentSchema:schema102.properties.Effect,data:data52};if(vErrors === null){vErrors = [err65];}else {vErrors.push(err65);}errors++;}}if(data50.Action !== undefined){let data53 = data50.Action;if(Array.isArray(data53)){const len10 = data53.length;for(let i10=0; i10<len10; i10++){let data54 = data53[i10];if(typeof data54 !== "string"){const err66 = {instancePath:instancePath+"/iamRoleStatements/" + i9+"/Action/" + i10,schemaPath:"#/definitions/StpIamRoleStatement/properties/Action/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema102.properties.Action.items.type,parentSchema:schema102.properties.Action.items,data:data54};if(vErrors === null){vErrors = [err66];}else {vErrors.push(err66);}errors++;}}}else {const err67 = {instancePath:instancePath+"/iamRoleStatements/" + i9+"/Action",schemaPath:"#/definitions/StpIamRoleStatement/properties/Action/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema102.properties.Action.type,parentSchema:schema102.properties.Action,data:data53};if(vErrors === null){vErrors = [err67];}else {vErrors.push(err67);}errors++;}}if(data50.Resource !== undefined){let data55 = data50.Resource;if(Array.isArray(data55)){const len11 = data55.length;for(let i11=0; i11<len11; i11++){let data56 = data55[i11];if(typeof data56 !== "string"){const err68 = {instancePath:instancePath+"/iamRoleStatements/" + i9+"/Resource/" + i11,schemaPath:"#/definitions/StpIamRoleStatement/properties/Resource/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema102.properties.Resource.items.type,parentSchema:schema102.properties.Resource.items,data:data56};if(vErrors === null){vErrors = [err68];}else {vErrors.push(err68);}errors++;}}}else {const err69 = {instancePath:instancePath+"/iamRoleStatements/" + i9+"/Resource",schemaPath:"#/definitions/StpIamRoleStatement/properties/Resource/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema102.properties.Resource.type,parentSchema:schema102.properties.Resource,data:data55};if(vErrors === null){vErrors = [err69];}else {vErrors.push(err69);}errors++;}}}else {const err70 = {instancePath:instancePath+"/iamRoleStatements/" + i9,schemaPath:"#/definitions/StpIamRoleStatement/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema102.type,parentSchema:schema102,data:data50};if(vErrors === null){vErrors = [err70];}else {vErrors.push(err70);}errors++;}}}else {const err71 = {instancePath:instancePath+"/iamRoleStatements",schemaPath:"#/properties/iamRoleStatements/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema157.properties.iamRoleStatements.type,parentSchema:schema157.properties.iamRoleStatements,data:data49};if(vErrors === null){vErrors = [err71];}else {vErrors.push(err71);}errors++;}}}else {const err72 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema157.type,parentSchema:schema157,data};if(vErrors === null){vErrors = [err72];}else {vErrors.push(err72);}errors++;}validate163.errors = vErrors;return errors === 0;}function validate162(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema156.required,parentSchema:schema156,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema156.required,parentSchema:schema156,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!(((key0 === "type") || (key0 === "properties")) || (key0 === "overrides"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema156,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema156.properties.type.type,parentSchema:schema156.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("web-service" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "web-service"},message:"must be equal to constant",schema:"web-service",parentSchema:schema156.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate163(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate163.errors : vErrors.concat(validate163.errors);errors = vErrors.length;}}if(data.overrides !== undefined){let data2 = data.overrides;if(data2 && typeof data2 == "object" && !Array.isArray(data2)){for(const key1 in data2){let data3 = data2[key1];if(data3 && typeof data3 == "object" && !Array.isArray(data3)){}else {const err5 = {instancePath:instancePath+"/overrides/" + key1.replace(/~/g, "~0").replace(/\//g, "~1"),schemaPath:"#/properties/overrides/additionalProperties/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema156.properties.overrides.additionalProperties.type,parentSchema:schema156.properties.overrides.additionalProperties,data:data3};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}}else {const err6 = {instancePath:instancePath+"/overrides",schemaPath:"#/properties/overrides/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema156.properties.overrides.type,parentSchema:schema156.properties.overrides,data:data2};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}}else {const err7 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema156.type,parentSchema:schema156,data};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}validate162.errors = vErrors;return errors === 0;}const schema232 = {"description":"#### Private Service\n\n---\n\nA continuously running container with a private endpoint that is only accessible from within your private network (VPC).\nIt provides an easy setup for scaling, health checks, and other properties.","type":"object","properties":{"type":{"type":"string","const":"private-service"},"properties":{"$ref":"#/definitions/PrivateServiceProps"},"overrides":{"description":"#### Resource Overrides\n\n---\n\nOverrides properties of the underlying CloudFormation resources that Stacktape creates.\n\nChild resources are identified by their CloudFormation logical ID (e.g., `MyBucketBucket`). You can find these IDs by running `stacktape stack:info --detailed`.\n\nFor a list of properties that can be overridden, refer to the [AWS CloudFormation documentation](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html).","type":"object","additionalProperties":{"type":"object","additionalProperties":{}}}},"additionalProperties":false,"required":["properties","type"]};const schema233 = {"type":"object","properties":{"port":{"description":"#### The port on which the service is available to other resources in the stack.\n\n---\n\nThe port is injected into the container's runtime as the `PORT` environment variable.\n\n> If `loadBalancing` is set to `service-connect` (the default), connections are only possible from other container-based resources (e.g., web services, worker services, multi-container workloads).","default":3000,"type":"number"},"protocol":{"description":"#### The Service Connect protocol type.\n\n---\n\nIf you specify this parameter, AWS is able to capture protocol-specific metrics for the service (e.g., HTTP 5xx responses).","enum":["grpc","http","http2"],"type":"string"},"loadBalancing":{"$ref":"#/definitions/PrivateServiceLoadBalancing","description":"#### Configures the load balancing mechanism to use.\n\n---\n\nSupported types are `service-connect` and `application-load-balancer`.\n\n- **`service-connect`**:\n  - Distributes traffic evenly to available containers.\n  - Connections are only possible from other container-based resources in the stack.\n  - Supports any TCP protocol.\n  - This option is significantly cheaper, costing only ~$0.50 per month for a private Cloud Map DNS namespace.\n\n- **`application-load-balancer`**:\n  - Distributes traffic to available containers in a round-robin fashion.\n  - Supports the HTTP protocol only.\n  - Uses a pricing model that combines a flat hourly charge (~$0.0252/hour) with usage-based charges for LCUs (Load Balancer Capacity Units) (~$0.08/hour).\n  - Eligible for the AWS Free Tier. For more details, see the [AWS pricing documentation](https://aws.amazon.com/elasticloadbalancing/pricing/).","default":"service-connect"},"packaging":{"$ref":"#/definitions/ContainerWorkloadContainerPackaging","description":"#### Container Packaging\n\n---\n\nConfigures the container image for the service."},"environment":{"description":"#### Environment Variables\n\n---\n\nA list of environment variables to inject into the container at runtime. This is often used to provide configuration details, such as database URLs or secrets.","type":"array","items":{"$ref":"#/definitions/EnvironmentVar"}},"logging":{"$ref":"#/definitions/ContainerWorkloadContainerLogging","description":"#### Logging Configuration\n\n---\n\nConfigures the logging behavior for the service container.\n\nContainer logs (from `stdout` and `stderr`) are automatically sent to a CloudWatch log group and retained for 180 days by default. You can view logs in the AWS CloudWatch console or by using the [`stacktape logs` command](https://docs.stacktape.com/cli/commands/logs/)."},"resources":{"$ref":"#/definitions/ContainerWorkloadResourcesConfig","description":"#### Resource Allocation\n\n---\n\nConfigures the CPU, memory, and underlying compute engine for the service container.\n\nYou can choose between two compute engines:\n- **Fargate:** A serverless engine that abstracts away server management. To use Fargate, specify `cpu` and `memory` without `instanceTypes`.\n- **EC2:** Provides direct control over the underlying virtual servers. To use EC2, specify the desired `instanceTypes`."},"scaling":{"$ref":"#/definitions/ContainerWorkloadScaling","description":"#### Scaling Configuration\n\n---\n\nConfigures horizontal scaling by adding or removing container instances based on demand. Incoming requests are automatically distributed across all available containers."},"internalHealthCheck":{"$ref":"#/definitions/ContainerHealthCheck","description":"#### Internal Health Check\n\n---\n\nConfigures an internal health check to monitor the container's status. If a container fails the health check, it is automatically terminated and replaced with a new one."},"stopTimeout":{"description":"#### Stop Timeout\n\n---\n\nThe amount of time (in seconds) to wait before a container is forcefully killed if it does not exit gracefully.\n\nWhen a container is stopped, it receives a `SIGTERM` signal. If it doesn't exit within the timeout period, it receives a `SIGKILL` signal. This allows for graceful shutdown and cleanup. The timeout must be between 2 and 120 seconds.","default":2,"type":"number"},"enableRemoteSessions":{"description":"#### Enable Remote Sessions\n\n---\n\nIf `true`, allows you to start an interactive shell session inside a running container using the `stacktape container:session` command.\n\nThis uses AWS ECS Exec and SSM Session Manager for secure connections. It runs a small agent alongside your application, which consumes a minimal amount of CPU and memory. This is useful for debugging and inspecting deployed containers.","default":false,"type":"boolean"},"volumeMounts":{"description":"#### Volume Mounts\n\n---\n\nA list of volumes to attach to the container for persistent storage.\n\nCurrently, only EFS (Elastic File System) volumes are supported. Volumes can be shared across multiple containers and persist even if the container is stopped or replaced.","type":"array","items":{"$ref":"#/definitions/ContainerEfsMount"}},"sideContainers":{"description":"#### Sidecar Containers\n\n---\n\nA list of helper containers that run alongside the main service container to provide additional functionality.\n\n- **`run-on-init`:** Runs to completion before the main service container starts. Ideal for setup tasks like database migrations.\n- **`always-running`:** Runs for the entire lifecycle of the service container. Ideal for supporting services like logging, monitoring, or debugging agents.\n\n`always-running` containers can communicate with the main container via `localhost` on its exposed ports.","type":"array","items":{"$ref":"#/definitions/ServiceHelperContainer"}},"usePrivateSubnetsWithNAT":{"description":"#### Deploys the service in private subnets with internet access through NAT Gateway.\n\n---\n\nWhen the service is in a private subnet, it does not have public IP and direct internet access.\nInstead, all outbound internet traffic is routed through a NAT Gateway.\n\nYou can assign a static public IP address to the NAT Gateway and configure high availability using `stackConfig.vpcSettings`.\nThis allows you to whitelist your service's IP address in external services (e.g., third-party APIs, databases, payment gateways).\n\n**Cost considerations:**\n- NAT Gateways incur additional AWS charges for both the gateway itself and data processing","default":false,"type":"boolean"},"connectTo":{"description":"#### Connect To\n\n---\n\nConfigures access to other resources in your stack and AWS services. By specifying resources here, Stacktape automatically:\n- Configures IAM role permissions.\n- Sets up security group rules to allow network traffic.\n- Injects environment variables with connection details into the compute resource.\n\nEnvironment variables are named `STP_[RESOURCE_NAME]_[VARIABLE_NAME]` (e.g., `STP_MY_DATABASE_CONNECTION_STRING`).\n\n---\n\n#### Granted Permissions and Injected Variables:\n\n**`Bucket`**\n- **Permissions:** List, create, get, delete, and tag objects.\n- **Variables:** `NAME`, `ARN`\n\n**`DynamoDbTable`**\n- **Permissions:** Get, put, update, delete, scan, and query items; describe table stream.\n- **Variables:** `NAME`, `ARN`, `STREAM_ARN`\n\n**`MongoDbAtlasCluster`**\n- **Permissions:** Allows connection to clusters with `accessibilityMode` set to `scoping-workloads-in-vpc`. Creates a temporary user for secure, credential-less access.\n- **Variables:** `CONNECTION_STRING`\n\n**`RelationalDatabase`**\n- **Permissions:** Allows connection to databases with `accessibilityMode` set to `scoping-workloads-in-vpc`.\n- **Variables:** `CONNECTION_STRING`, `JDBC_CONNECTION_STRING`, `HOST`, `PORT`. For Aurora clusters, `READER_CONNECTION_STRING`, `READER_JDBC_CONNECTION_STRING`, and `READER_HOST` are also included.\n\n**`RedisCluster`**\n- **Permissions:** Allows connection to clusters with `accessibilityMode` set to `scoping-workloads-in-vpc`.\n- **Variables:** `HOST`, `READER_HOST`, `PORT`\n\n**`EventBus`**\n- **Permissions:** Publish events.\n- **Variables:** `ARN`\n\n**`Function`**\n- **Permissions:** Invoke the function, including via its URL if enabled.\n- **Variables:** `ARN`\n\n**`BatchJob`**\n- **Permissions:** Submit, list, describe, and terminate jobs; manage state machine executions.\n- **Variables:** `JOB_DEFINITION_ARN`, `STATE_MACHINE_ARN`\n\n**`UserAuthPool`**\n- **Permissions:** Full control over the user pool (`cognito-idp:*`).\n- **Variables:** `ID`, `CLIENT_ID`, `ARN`\n\n**`SnsTopic`**\n- **Permissions:** Confirm, list, publish, and manage subscriptions.\n- **Variables:** `ARN`, `NAME`\n\n**`SqsQueue`**\n- **Permissions:** Send, receive, delete, and purge messages.\n- **Variables:** `ARN`, `NAME`, `URL`\n\n**`UpstashKafkaTopic`**\n- **Variables:** `TOPIC_NAME`, `TOPIC_ID`, `USERNAME`, `PASSWORD`, `TCP_ENDPOINT`, `REST_URL`\n\n**`UpstashRedis`**\n- **Variables:** `HOST`, `PORT`, `PASSWORD`, `REST_TOKEN`, `REST_URL`, `REDIS_URL`\n\n**`PrivateService`**\n- **Variables:** `ADDRESS`\n\n**`aws:ses` (Macro)**\n- **Permissions:** Full permissions for AWS SES (`ses:*`).","type":"array","items":{"type":"string"}},"iamRoleStatements":{"description":"#### Custom IAM Role Statements\n\n---\n\nA list of raw AWS IAM role statements to append to the resource's role, allowing for fine-grained permission control.","type":"array","items":{"$ref":"#/definitions/StpIamRoleStatement"}}},"additionalProperties":false,"required":["packaging","resources"]};const schema234 = {"type":"object","properties":{"type":{"enum":["application-load-balancer","service-connect"],"type":"string"}},"additionalProperties":false,"required":["type"]};function validate243(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.packaging === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "packaging"},message:"must have required property '"+"packaging"+"'",schema:schema233.required,parentSchema:schema233,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.resources === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "resources"},message:"must have required property '"+"resources"+"'",schema:schema233.required,parentSchema:schema233,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!(func2.call(schema233.properties, key0))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema233,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.port !== undefined){let data0 = data.port;if(!(typeof data0 == "number")){const err3 = {instancePath:instancePath+"/port",schemaPath:"#/properties/port/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema233.properties.port.type,parentSchema:schema233.properties.port,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.protocol !== undefined){let data1 = data.protocol;if(typeof data1 !== "string"){const err4 = {instancePath:instancePath+"/protocol",schemaPath:"#/properties/protocol/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema233.properties.protocol.type,parentSchema:schema233.properties.protocol,data:data1};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}if(!(((data1 === "grpc") || (data1 === "http")) || (data1 === "http2"))){const err5 = {instancePath:instancePath+"/protocol",schemaPath:"#/properties/protocol/enum",keyword:"enum",params:{allowedValues: schema233.properties.protocol.enum},message:"must be equal to one of the allowed values",schema:schema233.properties.protocol.enum,parentSchema:schema233.properties.protocol,data:data1};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data.loadBalancing !== undefined){let data2 = data.loadBalancing;if(data2 && typeof data2 == "object" && !Array.isArray(data2)){if(data2.type === undefined){const err6 = {instancePath:instancePath+"/loadBalancing",schemaPath:"#/definitions/PrivateServiceLoadBalancing/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema234.required,parentSchema:schema234,data:data2};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}for(const key1 in data2){if(!(key1 === "type")){const err7 = {instancePath:instancePath+"/loadBalancing",schemaPath:"#/definitions/PrivateServiceLoadBalancing/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema234,data:data2};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data2.type !== undefined){let data3 = data2.type;if(typeof data3 !== "string"){const err8 = {instancePath:instancePath+"/loadBalancing/type",schemaPath:"#/definitions/PrivateServiceLoadBalancing/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema234.properties.type.type,parentSchema:schema234.properties.type,data:data3};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}if(!((data3 === "application-load-balancer") || (data3 === "service-connect"))){const err9 = {instancePath:instancePath+"/loadBalancing/type",schemaPath:"#/definitions/PrivateServiceLoadBalancing/properties/type/enum",keyword:"enum",params:{allowedValues: schema234.properties.type.enum},message:"must be equal to one of the allowed values",schema:schema234.properties.type.enum,parentSchema:schema234.properties.type,data:data3};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}}else {const err10 = {instancePath:instancePath+"/loadBalancing",schemaPath:"#/definitions/PrivateServiceLoadBalancing/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema234.type,parentSchema:schema234,data:data2};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data.packaging !== undefined){if(!(validate57(data.packaging, {instancePath:instancePath+"/packaging",parentData:data,parentDataProperty:"packaging",rootData}))){vErrors = vErrors === null ? validate57.errors : vErrors.concat(validate57.errors);errors = vErrors.length;}}if(data.environment !== undefined){let data5 = data.environment;if(Array.isArray(data5)){const len0 = data5.length;for(let i0=0; i0<len0; i0++){let data6 = data5[i0];if(data6 && typeof data6 == "object" && !Array.isArray(data6)){if(data6.name === undefined){const err11 = {instancePath:instancePath+"/environment/" + i0,schemaPath:"#/definitions/EnvironmentVar/required",keyword:"required",params:{missingProperty: "name"},message:"must have required property '"+"name"+"'",schema:schema28.required,parentSchema:schema28,data:data6};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}if(data6.value === undefined){const err12 = {instancePath:instancePath+"/environment/" + i0,schemaPath:"#/definitions/EnvironmentVar/required",keyword:"required",params:{missingProperty: "value"},message:"must have required property '"+"value"+"'",schema:schema28.required,parentSchema:schema28,data:data6};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}for(const key2 in data6){if(!((key2 === "name") || (key2 === "value"))){const err13 = {instancePath:instancePath+"/environment/" + i0,schemaPath:"#/definitions/EnvironmentVar/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key2},message:"must NOT have additional properties",schema:false,parentSchema:schema28,data:data6};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}if(data6.name !== undefined){let data7 = data6.name;if(typeof data7 !== "string"){const err14 = {instancePath:instancePath+"/environment/" + i0+"/name",schemaPath:"#/definitions/EnvironmentVar/properties/name/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema28.properties.name.type,parentSchema:schema28.properties.name,data:data7};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}}if(data6.value !== undefined){let data8 = data6.value;if(((typeof data8 !== "string") && (!(typeof data8 == "number"))) && (typeof data8 !== "boolean")){const err15 = {instancePath:instancePath+"/environment/" + i0+"/value",schemaPath:"#/definitions/EnvironmentVar/properties/value/type",keyword:"type",params:{type: schema28.properties.value.type},message:"must be string,number,boolean",schema:schema28.properties.value.type,parentSchema:schema28.properties.value,data:data8};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}}}else {const err16 = {instancePath:instancePath+"/environment/" + i0,schemaPath:"#/definitions/EnvironmentVar/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema28.type,parentSchema:schema28,data:data6};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}}}else {const err17 = {instancePath:instancePath+"/environment",schemaPath:"#/properties/environment/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema233.properties.environment.type,parentSchema:schema233.properties.environment,data:data5};if(vErrors === null){vErrors = [err17];}else {vErrors.push(err17);}errors++;}}if(data.logging !== undefined){if(!(validate79(data.logging, {instancePath:instancePath+"/logging",parentData:data,parentDataProperty:"logging",rootData}))){vErrors = vErrors === null ? validate79.errors : vErrors.concat(validate79.errors);errors = vErrors.length;}}if(data.resources !== undefined){let data10 = data.resources;if(data10 && typeof data10 == "object" && !Array.isArray(data10)){for(const key3 in data10){if(!(((((key3 === "cpu") || (key3 === "memory")) || (key3 === "instanceTypes")) || (key3 === "enableWarmPool")) || (key3 === "architecture"))){const err18 = {instancePath:instancePath+"/resources",schemaPath:"#/definitions/ContainerWorkloadResourcesConfig/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key3},message:"must NOT have additional properties",schema:false,parentSchema:schema98,data:data10};if(vErrors === null){vErrors = [err18];}else {vErrors.push(err18);}errors++;}}if(data10.cpu !== undefined){let data11 = data10.cpu;if(!(typeof data11 == "number")){const err19 = {instancePath:instancePath+"/resources/cpu",schemaPath:"#/definitions/ContainerWorkloadResourcesConfig/properties/cpu/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema98.properties.cpu.type,parentSchema:schema98.properties.cpu,data:data11};if(vErrors === null){vErrors = [err19];}else {vErrors.push(err19);}errors++;}if(!(((((((data11 === 0.25) || (data11 === 0.5)) || (data11 === 1)) || (data11 === 16)) || (data11 === 2)) || (data11 === 4)) || (data11 === 8))){const err20 = {instancePath:instancePath+"/resources/cpu",schemaPath:"#/definitions/ContainerWorkloadResourcesConfig/properties/cpu/enum",keyword:"enum",params:{allowedValues: schema98.properties.cpu.enum},message:"must be equal to one of the allowed values",schema:schema98.properties.cpu.enum,parentSchema:schema98.properties.cpu,data:data11};if(vErrors === null){vErrors = [err20];}else {vErrors.push(err20);}errors++;}}if(data10.memory !== undefined){let data12 = data10.memory;if(!(typeof data12 == "number")){const err21 = {instancePath:instancePath+"/resources/memory",schemaPath:"#/definitions/ContainerWorkloadResourcesConfig/properties/memory/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema98.properties.memory.type,parentSchema:schema98.properties.memory,data:data12};if(vErrors === null){vErrors = [err21];}else {vErrors.push(err21);}errors++;}}if(data10.instanceTypes !== undefined){let data13 = data10.instanceTypes;if(Array.isArray(data13)){const len1 = data13.length;for(let i1=0; i1<len1; i1++){let data14 = data13[i1];if(typeof data14 !== "string"){const err22 = {instancePath:instancePath+"/resources/instanceTypes/" + i1,schemaPath:"#/definitions/ContainerWorkloadResourcesConfig/properties/instanceTypes/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema98.properties.instanceTypes.items.type,parentSchema:schema98.properties.instanceTypes.items,data:data14};if(vErrors === null){vErrors = [err22];}else {vErrors.push(err22);}errors++;}}}else {const err23 = {instancePath:instancePath+"/resources/instanceTypes",schemaPath:"#/definitions/ContainerWorkloadResourcesConfig/properties/instanceTypes/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema98.properties.instanceTypes.type,parentSchema:schema98.properties.instanceTypes,data:data13};if(vErrors === null){vErrors = [err23];}else {vErrors.push(err23);}errors++;}}if(data10.enableWarmPool !== undefined){let data15 = data10.enableWarmPool;if(typeof data15 !== "boolean"){const err24 = {instancePath:instancePath+"/resources/enableWarmPool",schemaPath:"#/definitions/ContainerWorkloadResourcesConfig/properties/enableWarmPool/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema98.properties.enableWarmPool.type,parentSchema:schema98.properties.enableWarmPool,data:data15};if(vErrors === null){vErrors = [err24];}else {vErrors.push(err24);}errors++;}}if(data10.architecture !== undefined){let data16 = data10.architecture;if(typeof data16 !== "string"){const err25 = {instancePath:instancePath+"/resources/architecture",schemaPath:"#/definitions/ContainerWorkloadResourcesConfig/properties/architecture/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema98.properties.architecture.type,parentSchema:schema98.properties.architecture,data:data16};if(vErrors === null){vErrors = [err25];}else {vErrors.push(err25);}errors++;}if(!((data16 === "arm64") || (data16 === "x86_64"))){const err26 = {instancePath:instancePath+"/resources/architecture",schemaPath:"#/definitions/ContainerWorkloadResourcesConfig/properties/architecture/enum",keyword:"enum",params:{allowedValues: schema98.properties.architecture.enum},message:"must be equal to one of the allowed values",schema:schema98.properties.architecture.enum,parentSchema:schema98.properties.architecture,data:data16};if(vErrors === null){vErrors = [err26];}else {vErrors.push(err26);}errors++;}}}else {const err27 = {instancePath:instancePath+"/resources",schemaPath:"#/definitions/ContainerWorkloadResourcesConfig/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema98.type,parentSchema:schema98,data:data10};if(vErrors === null){vErrors = [err27];}else {vErrors.push(err27);}errors++;}}if(data.scaling !== undefined){if(!(validate90(data.scaling, {instancePath:instancePath+"/scaling",parentData:data,parentDataProperty:"scaling",rootData}))){vErrors = vErrors === null ? validate90.errors : vErrors.concat(validate90.errors);errors = vErrors.length;}}if(data.internalHealthCheck !== undefined){let data18 = data.internalHealthCheck;if(data18 && typeof data18 == "object" && !Array.isArray(data18)){if(data18.healthCheckCommand === undefined){const err28 = {instancePath:instancePath+"/internalHealthCheck",schemaPath:"#/definitions/ContainerHealthCheck/required",keyword:"required",params:{missingProperty: "healthCheckCommand"},message:"must have required property '"+"healthCheckCommand"+"'",schema:schema95.required,parentSchema:schema95,data:data18};if(vErrors === null){vErrors = [err28];}else {vErrors.push(err28);}errors++;}for(const key4 in data18){if(!(((((key4 === "healthCheckCommand") || (key4 === "intervalSeconds")) || (key4 === "timeoutSeconds")) || (key4 === "retries")) || (key4 === "startPeriodSeconds"))){const err29 = {instancePath:instancePath+"/internalHealthCheck",schemaPath:"#/definitions/ContainerHealthCheck/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key4},message:"must NOT have additional properties",schema:false,parentSchema:schema95,data:data18};if(vErrors === null){vErrors = [err29];}else {vErrors.push(err29);}errors++;}}if(data18.healthCheckCommand !== undefined){let data19 = data18.healthCheckCommand;if(Array.isArray(data19)){const len2 = data19.length;for(let i2=0; i2<len2; i2++){let data20 = data19[i2];if(typeof data20 !== "string"){const err30 = {instancePath:instancePath+"/internalHealthCheck/healthCheckCommand/" + i2,schemaPath:"#/definitions/ContainerHealthCheck/properties/healthCheckCommand/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema95.properties.healthCheckCommand.items.type,parentSchema:schema95.properties.healthCheckCommand.items,data:data20};if(vErrors === null){vErrors = [err30];}else {vErrors.push(err30);}errors++;}}}else {const err31 = {instancePath:instancePath+"/internalHealthCheck/healthCheckCommand",schemaPath:"#/definitions/ContainerHealthCheck/properties/healthCheckCommand/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema95.properties.healthCheckCommand.type,parentSchema:schema95.properties.healthCheckCommand,data:data19};if(vErrors === null){vErrors = [err31];}else {vErrors.push(err31);}errors++;}}if(data18.intervalSeconds !== undefined){let data21 = data18.intervalSeconds;if(!(typeof data21 == "number")){const err32 = {instancePath:instancePath+"/internalHealthCheck/intervalSeconds",schemaPath:"#/definitions/ContainerHealthCheck/properties/intervalSeconds/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema95.properties.intervalSeconds.type,parentSchema:schema95.properties.intervalSeconds,data:data21};if(vErrors === null){vErrors = [err32];}else {vErrors.push(err32);}errors++;}}if(data18.timeoutSeconds !== undefined){let data22 = data18.timeoutSeconds;if(!(typeof data22 == "number")){const err33 = {instancePath:instancePath+"/internalHealthCheck/timeoutSeconds",schemaPath:"#/definitions/ContainerHealthCheck/properties/timeoutSeconds/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema95.properties.timeoutSeconds.type,parentSchema:schema95.properties.timeoutSeconds,data:data22};if(vErrors === null){vErrors = [err33];}else {vErrors.push(err33);}errors++;}}if(data18.retries !== undefined){let data23 = data18.retries;if(!(typeof data23 == "number")){const err34 = {instancePath:instancePath+"/internalHealthCheck/retries",schemaPath:"#/definitions/ContainerHealthCheck/properties/retries/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema95.properties.retries.type,parentSchema:schema95.properties.retries,data:data23};if(vErrors === null){vErrors = [err34];}else {vErrors.push(err34);}errors++;}}if(data18.startPeriodSeconds !== undefined){let data24 = data18.startPeriodSeconds;if(!(typeof data24 == "number")){const err35 = {instancePath:instancePath+"/internalHealthCheck/startPeriodSeconds",schemaPath:"#/definitions/ContainerHealthCheck/properties/startPeriodSeconds/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema95.properties.startPeriodSeconds.type,parentSchema:schema95.properties.startPeriodSeconds,data:data24};if(vErrors === null){vErrors = [err35];}else {vErrors.push(err35);}errors++;}}}else {const err36 = {instancePath:instancePath+"/internalHealthCheck",schemaPath:"#/definitions/ContainerHealthCheck/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema95.type,parentSchema:schema95,data:data18};if(vErrors === null){vErrors = [err36];}else {vErrors.push(err36);}errors++;}}if(data.stopTimeout !== undefined){let data25 = data.stopTimeout;if(!(typeof data25 == "number")){const err37 = {instancePath:instancePath+"/stopTimeout",schemaPath:"#/properties/stopTimeout/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema233.properties.stopTimeout.type,parentSchema:schema233.properties.stopTimeout,data:data25};if(vErrors === null){vErrors = [err37];}else {vErrors.push(err37);}errors++;}}if(data.enableRemoteSessions !== undefined){let data26 = data.enableRemoteSessions;if(typeof data26 !== "boolean"){const err38 = {instancePath:instancePath+"/enableRemoteSessions",schemaPath:"#/properties/enableRemoteSessions/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema233.properties.enableRemoteSessions.type,parentSchema:schema233.properties.enableRemoteSessions,data:data26};if(vErrors === null){vErrors = [err38];}else {vErrors.push(err38);}errors++;}}if(data.volumeMounts !== undefined){let data27 = data.volumeMounts;if(Array.isArray(data27)){const len3 = data27.length;for(let i3=0; i3<len3; i3++){if(!(validate87(data27[i3], {instancePath:instancePath+"/volumeMounts/" + i3,parentData:data27,parentDataProperty:i3,rootData}))){vErrors = vErrors === null ? validate87.errors : vErrors.concat(validate87.errors);errors = vErrors.length;}}}else {const err39 = {instancePath:instancePath+"/volumeMounts",schemaPath:"#/properties/volumeMounts/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema233.properties.volumeMounts.type,parentSchema:schema233.properties.volumeMounts,data:data27};if(vErrors === null){vErrors = [err39];}else {vErrors.push(err39);}errors++;}}if(data.sideContainers !== undefined){let data29 = data.sideContainers;if(Array.isArray(data29)){const len4 = data29.length;for(let i4=0; i4<len4; i4++){if(!(validate235(data29[i4], {instancePath:instancePath+"/sideContainers/" + i4,parentData:data29,parentDataProperty:i4,rootData}))){vErrors = vErrors === null ? validate235.errors : vErrors.concat(validate235.errors);errors = vErrors.length;}}}else {const err40 = {instancePath:instancePath+"/sideContainers",schemaPath:"#/properties/sideContainers/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema233.properties.sideContainers.type,parentSchema:schema233.properties.sideContainers,data:data29};if(vErrors === null){vErrors = [err40];}else {vErrors.push(err40);}errors++;}}if(data.usePrivateSubnetsWithNAT !== undefined){let data31 = data.usePrivateSubnetsWithNAT;if(typeof data31 !== "boolean"){const err41 = {instancePath:instancePath+"/usePrivateSubnetsWithNAT",schemaPath:"#/properties/usePrivateSubnetsWithNAT/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema233.properties.usePrivateSubnetsWithNAT.type,parentSchema:schema233.properties.usePrivateSubnetsWithNAT,data:data31};if(vErrors === null){vErrors = [err41];}else {vErrors.push(err41);}errors++;}}if(data.connectTo !== undefined){let data32 = data.connectTo;if(Array.isArray(data32)){const len5 = data32.length;for(let i5=0; i5<len5; i5++){let data33 = data32[i5];if(typeof data33 !== "string"){const err42 = {instancePath:instancePath+"/connectTo/" + i5,schemaPath:"#/properties/connectTo/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema233.properties.connectTo.items.type,parentSchema:schema233.properties.connectTo.items,data:data33};if(vErrors === null){vErrors = [err42];}else {vErrors.push(err42);}errors++;}}}else {const err43 = {instancePath:instancePath+"/connectTo",schemaPath:"#/properties/connectTo/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema233.properties.connectTo.type,parentSchema:schema233.properties.connectTo,data:data32};if(vErrors === null){vErrors = [err43];}else {vErrors.push(err43);}errors++;}}if(data.iamRoleStatements !== undefined){let data34 = data.iamRoleStatements;if(Array.isArray(data34)){const len6 = data34.length;for(let i6=0; i6<len6; i6++){let data35 = data34[i6];if(data35 && typeof data35 == "object" && !Array.isArray(data35)){if(data35.Resource === undefined){const err44 = {instancePath:instancePath+"/iamRoleStatements/" + i6,schemaPath:"#/definitions/StpIamRoleStatement/required",keyword:"required",params:{missingProperty: "Resource"},message:"must have required property '"+"Resource"+"'",schema:schema102.required,parentSchema:schema102,data:data35};if(vErrors === null){vErrors = [err44];}else {vErrors.push(err44);}errors++;}for(const key5 in data35){if(!(((((key5 === "Sid") || (key5 === "Effect")) || (key5 === "Action")) || (key5 === "Condition")) || (key5 === "Resource"))){const err45 = {instancePath:instancePath+"/iamRoleStatements/" + i6,schemaPath:"#/definitions/StpIamRoleStatement/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key5},message:"must NOT have additional properties",schema:false,parentSchema:schema102,data:data35};if(vErrors === null){vErrors = [err45];}else {vErrors.push(err45);}errors++;}}if(data35.Sid !== undefined){let data36 = data35.Sid;if(typeof data36 !== "string"){const err46 = {instancePath:instancePath+"/iamRoleStatements/" + i6+"/Sid",schemaPath:"#/definitions/StpIamRoleStatement/properties/Sid/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema102.properties.Sid.type,parentSchema:schema102.properties.Sid,data:data36};if(vErrors === null){vErrors = [err46];}else {vErrors.push(err46);}errors++;}}if(data35.Effect !== undefined){let data37 = data35.Effect;if(typeof data37 !== "string"){const err47 = {instancePath:instancePath+"/iamRoleStatements/" + i6+"/Effect",schemaPath:"#/definitions/StpIamRoleStatement/properties/Effect/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema102.properties.Effect.type,parentSchema:schema102.properties.Effect,data:data37};if(vErrors === null){vErrors = [err47];}else {vErrors.push(err47);}errors++;}}if(data35.Action !== undefined){let data38 = data35.Action;if(Array.isArray(data38)){const len7 = data38.length;for(let i7=0; i7<len7; i7++){let data39 = data38[i7];if(typeof data39 !== "string"){const err48 = {instancePath:instancePath+"/iamRoleStatements/" + i6+"/Action/" + i7,schemaPath:"#/definitions/StpIamRoleStatement/properties/Action/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema102.properties.Action.items.type,parentSchema:schema102.properties.Action.items,data:data39};if(vErrors === null){vErrors = [err48];}else {vErrors.push(err48);}errors++;}}}else {const err49 = {instancePath:instancePath+"/iamRoleStatements/" + i6+"/Action",schemaPath:"#/definitions/StpIamRoleStatement/properties/Action/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema102.properties.Action.type,parentSchema:schema102.properties.Action,data:data38};if(vErrors === null){vErrors = [err49];}else {vErrors.push(err49);}errors++;}}if(data35.Resource !== undefined){let data40 = data35.Resource;if(Array.isArray(data40)){const len8 = data40.length;for(let i8=0; i8<len8; i8++){let data41 = data40[i8];if(typeof data41 !== "string"){const err50 = {instancePath:instancePath+"/iamRoleStatements/" + i6+"/Resource/" + i8,schemaPath:"#/definitions/StpIamRoleStatement/properties/Resource/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema102.properties.Resource.items.type,parentSchema:schema102.properties.Resource.items,data:data41};if(vErrors === null){vErrors = [err50];}else {vErrors.push(err50);}errors++;}}}else {const err51 = {instancePath:instancePath+"/iamRoleStatements/" + i6+"/Resource",schemaPath:"#/definitions/StpIamRoleStatement/properties/Resource/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema102.properties.Resource.type,parentSchema:schema102.properties.Resource,data:data40};if(vErrors === null){vErrors = [err51];}else {vErrors.push(err51);}errors++;}}}else {const err52 = {instancePath:instancePath+"/iamRoleStatements/" + i6,schemaPath:"#/definitions/StpIamRoleStatement/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema102.type,parentSchema:schema102,data:data35};if(vErrors === null){vErrors = [err52];}else {vErrors.push(err52);}errors++;}}}else {const err53 = {instancePath:instancePath+"/iamRoleStatements",schemaPath:"#/properties/iamRoleStatements/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema233.properties.iamRoleStatements.type,parentSchema:schema233.properties.iamRoleStatements,data:data34};if(vErrors === null){vErrors = [err53];}else {vErrors.push(err53);}errors++;}}}else {const err54 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema233.type,parentSchema:schema233,data};if(vErrors === null){vErrors = [err54];}else {vErrors.push(err54);}errors++;}validate243.errors = vErrors;return errors === 0;}function validate242(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema232.required,parentSchema:schema232,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema232.required,parentSchema:schema232,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!(((key0 === "type") || (key0 === "properties")) || (key0 === "overrides"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema232,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema232.properties.type.type,parentSchema:schema232.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("private-service" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "private-service"},message:"must be equal to constant",schema:"private-service",parentSchema:schema232.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate243(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate243.errors : vErrors.concat(validate243.errors);errors = vErrors.length;}}if(data.overrides !== undefined){let data2 = data.overrides;if(data2 && typeof data2 == "object" && !Array.isArray(data2)){for(const key1 in data2){let data3 = data2[key1];if(data3 && typeof data3 == "object" && !Array.isArray(data3)){}else {const err5 = {instancePath:instancePath+"/overrides/" + key1.replace(/~/g, "~0").replace(/\//g, "~1"),schemaPath:"#/properties/overrides/additionalProperties/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema232.properties.overrides.additionalProperties.type,parentSchema:schema232.properties.overrides.additionalProperties,data:data3};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}}else {const err6 = {instancePath:instancePath+"/overrides",schemaPath:"#/properties/overrides/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema232.properties.overrides.type,parentSchema:schema232.properties.overrides,data:data2};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}}else {const err7 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema232.type,parentSchema:schema232,data};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}validate242.errors = vErrors;return errors === 0;}const schema239 = {"description":"#### Worker Service\n\n---\n\nA continuously running container that is inaccessible from the internet.\nIdeal for background jobs and processing tasks.","type":"object","properties":{"type":{"type":"string","const":"worker-service"},"properties":{"$ref":"#/definitions/WorkerServiceProps"},"overrides":{"description":"#### Resource Overrides\n\n---\n\nOverrides properties of the underlying CloudFormation resources that Stacktape creates.\n\nChild resources are identified by their CloudFormation logical ID (e.g., `MyBucketBucket`). You can find these IDs by running `stacktape stack:info --detailed`.\n\nFor a list of properties that can be overridden, refer to the [AWS CloudFormation documentation](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html).","type":"object","additionalProperties":{"type":"object","additionalProperties":{}}}},"additionalProperties":false,"required":["properties","type"]};const schema240 = {"type":"object","properties":{"packaging":{"$ref":"#/definitions/ContainerWorkloadContainerPackaging","description":"#### Container Packaging\n\n---\n\nConfigures the container image for the service."},"environment":{"description":"#### Environment Variables\n\n---\n\nA list of environment variables to inject into the container at runtime. This is often used to provide configuration details, such as database URLs or secrets.","type":"array","items":{"$ref":"#/definitions/EnvironmentVar"}},"logging":{"$ref":"#/definitions/ContainerWorkloadContainerLogging","description":"#### Logging Configuration\n\n---\n\nConfigures the logging behavior for the service container.\n\nContainer logs (from `stdout` and `stderr`) are automatically sent to a CloudWatch log group and retained for 180 days by default. You can view logs in the AWS CloudWatch console or by using the [`stacktape logs` command](https://docs.stacktape.com/cli/commands/logs/)."},"resources":{"$ref":"#/definitions/ContainerWorkloadResourcesConfig","description":"#### Resource Allocation\n\n---\n\nConfigures the CPU, memory, and underlying compute engine for the service container.\n\nYou can choose between two compute engines:\n- **Fargate:** A serverless engine that abstracts away server management. To use Fargate, specify `cpu` and `memory` without `instanceTypes`.\n- **EC2:** Provides direct control over the underlying virtual servers. To use EC2, specify the desired `instanceTypes`."},"scaling":{"$ref":"#/definitions/ContainerWorkloadScaling","description":"#### Scaling Configuration\n\n---\n\nConfigures horizontal scaling by adding or removing container instances based on demand. Incoming requests are automatically distributed across all available containers."},"internalHealthCheck":{"$ref":"#/definitions/ContainerHealthCheck","description":"#### Internal Health Check\n\n---\n\nConfigures an internal health check to monitor the container's status. If a container fails the health check, it is automatically terminated and replaced with a new one."},"stopTimeout":{"description":"#### Stop Timeout\n\n---\n\nThe amount of time (in seconds) to wait before a container is forcefully killed if it does not exit gracefully.\n\nWhen a container is stopped, it receives a `SIGTERM` signal. If it doesn't exit within the timeout period, it receives a `SIGKILL` signal. This allows for graceful shutdown and cleanup. The timeout must be between 2 and 120 seconds.","default":2,"type":"number"},"enableRemoteSessions":{"description":"#### Enable Remote Sessions\n\n---\n\nIf `true`, allows you to start an interactive shell session inside a running container using the `stacktape container:session` command.\n\nThis uses AWS ECS Exec and SSM Session Manager for secure connections. It runs a small agent alongside your application, which consumes a minimal amount of CPU and memory. This is useful for debugging and inspecting deployed containers.","default":false,"type":"boolean"},"volumeMounts":{"description":"#### Volume Mounts\n\n---\n\nA list of volumes to attach to the container for persistent storage.\n\nCurrently, only EFS (Elastic File System) volumes are supported. Volumes can be shared across multiple containers and persist even if the container is stopped or replaced.","type":"array","items":{"$ref":"#/definitions/ContainerEfsMount"}},"sideContainers":{"description":"#### Sidecar Containers\n\n---\n\nA list of helper containers that run alongside the main service container to provide additional functionality.\n\n- **`run-on-init`:** Runs to completion before the main service container starts. Ideal for setup tasks like database migrations.\n- **`always-running`:** Runs for the entire lifecycle of the service container. Ideal for supporting services like logging, monitoring, or debugging agents.\n\n`always-running` containers can communicate with the main container via `localhost` on its exposed ports.","type":"array","items":{"$ref":"#/definitions/ServiceHelperContainer"}},"usePrivateSubnetsWithNAT":{"description":"#### Deploys the service in private subnets with internet access through NAT Gateway.\n\n---\n\nWhen the service is in a private subnet, it does not have public IP and direct internet access.\nInstead, all outbound internet traffic is routed through a NAT Gateway.\n\nYou can assign a static public IP address to the NAT Gateway and configure high availability using `stackConfig.vpcSettings`.\nThis allows you to whitelist your service's IP address in external services (e.g., third-party APIs, databases, payment gateways).\n\n**Cost considerations:**\n- NAT Gateways incur additional AWS charges for both the gateway itself and data processing","default":false,"type":"boolean"},"connectTo":{"description":"#### Connect To\n\n---\n\nConfigures access to other resources in your stack and AWS services. By specifying resources here, Stacktape automatically:\n- Configures IAM role permissions.\n- Sets up security group rules to allow network traffic.\n- Injects environment variables with connection details into the compute resource.\n\nEnvironment variables are named `STP_[RESOURCE_NAME]_[VARIABLE_NAME]` (e.g., `STP_MY_DATABASE_CONNECTION_STRING`).\n\n---\n\n#### Granted Permissions and Injected Variables:\n\n**`Bucket`**\n- **Permissions:** List, create, get, delete, and tag objects.\n- **Variables:** `NAME`, `ARN`\n\n**`DynamoDbTable`**\n- **Permissions:** Get, put, update, delete, scan, and query items; describe table stream.\n- **Variables:** `NAME`, `ARN`, `STREAM_ARN`\n\n**`MongoDbAtlasCluster`**\n- **Permissions:** Allows connection to clusters with `accessibilityMode` set to `scoping-workloads-in-vpc`. Creates a temporary user for secure, credential-less access.\n- **Variables:** `CONNECTION_STRING`\n\n**`RelationalDatabase`**\n- **Permissions:** Allows connection to databases with `accessibilityMode` set to `scoping-workloads-in-vpc`.\n- **Variables:** `CONNECTION_STRING`, `JDBC_CONNECTION_STRING`, `HOST`, `PORT`. For Aurora clusters, `READER_CONNECTION_STRING`, `READER_JDBC_CONNECTION_STRING`, and `READER_HOST` are also included.\n\n**`RedisCluster`**\n- **Permissions:** Allows connection to clusters with `accessibilityMode` set to `scoping-workloads-in-vpc`.\n- **Variables:** `HOST`, `READER_HOST`, `PORT`\n\n**`EventBus`**\n- **Permissions:** Publish events.\n- **Variables:** `ARN`\n\n**`Function`**\n- **Permissions:** Invoke the function, including via its URL if enabled.\n- **Variables:** `ARN`\n\n**`BatchJob`**\n- **Permissions:** Submit, list, describe, and terminate jobs; manage state machine executions.\n- **Variables:** `JOB_DEFINITION_ARN`, `STATE_MACHINE_ARN`\n\n**`UserAuthPool`**\n- **Permissions:** Full control over the user pool (`cognito-idp:*`).\n- **Variables:** `ID`, `CLIENT_ID`, `ARN`\n\n**`SnsTopic`**\n- **Permissions:** Confirm, list, publish, and manage subscriptions.\n- **Variables:** `ARN`, `NAME`\n\n**`SqsQueue`**\n- **Permissions:** Send, receive, delete, and purge messages.\n- **Variables:** `ARN`, `NAME`, `URL`\n\n**`UpstashKafkaTopic`**\n- **Variables:** `TOPIC_NAME`, `TOPIC_ID`, `USERNAME`, `PASSWORD`, `TCP_ENDPOINT`, `REST_URL`\n\n**`UpstashRedis`**\n- **Variables:** `HOST`, `PORT`, `PASSWORD`, `REST_TOKEN`, `REST_URL`, `REDIS_URL`\n\n**`PrivateService`**\n- **Variables:** `ADDRESS`\n\n**`aws:ses` (Macro)**\n- **Permissions:** Full permissions for AWS SES (`ses:*`).","type":"array","items":{"type":"string"}},"iamRoleStatements":{"description":"#### Custom IAM Role Statements\n\n---\n\nA list of raw AWS IAM role statements to append to the resource's role, allowing for fine-grained permission control.","type":"array","items":{"$ref":"#/definitions/StpIamRoleStatement"}}},"additionalProperties":false,"required":["packaging","resources"]};function validate252(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.packaging === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "packaging"},message:"must have required property '"+"packaging"+"'",schema:schema240.required,parentSchema:schema240,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.resources === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "resources"},message:"must have required property '"+"resources"+"'",schema:schema240.required,parentSchema:schema240,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!(func2.call(schema240.properties, key0))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema240,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.packaging !== undefined){if(!(validate57(data.packaging, {instancePath:instancePath+"/packaging",parentData:data,parentDataProperty:"packaging",rootData}))){vErrors = vErrors === null ? validate57.errors : vErrors.concat(validate57.errors);errors = vErrors.length;}}if(data.environment !== undefined){let data1 = data.environment;if(Array.isArray(data1)){const len0 = data1.length;for(let i0=0; i0<len0; i0++){let data2 = data1[i0];if(data2 && typeof data2 == "object" && !Array.isArray(data2)){if(data2.name === undefined){const err3 = {instancePath:instancePath+"/environment/" + i0,schemaPath:"#/definitions/EnvironmentVar/required",keyword:"required",params:{missingProperty: "name"},message:"must have required property '"+"name"+"'",schema:schema28.required,parentSchema:schema28,data:data2};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if(data2.value === undefined){const err4 = {instancePath:instancePath+"/environment/" + i0,schemaPath:"#/definitions/EnvironmentVar/required",keyword:"required",params:{missingProperty: "value"},message:"must have required property '"+"value"+"'",schema:schema28.required,parentSchema:schema28,data:data2};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}for(const key1 in data2){if(!((key1 === "name") || (key1 === "value"))){const err5 = {instancePath:instancePath+"/environment/" + i0,schemaPath:"#/definitions/EnvironmentVar/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema28,data:data2};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data2.name !== undefined){let data3 = data2.name;if(typeof data3 !== "string"){const err6 = {instancePath:instancePath+"/environment/" + i0+"/name",schemaPath:"#/definitions/EnvironmentVar/properties/name/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema28.properties.name.type,parentSchema:schema28.properties.name,data:data3};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data2.value !== undefined){let data4 = data2.value;if(((typeof data4 !== "string") && (!(typeof data4 == "number"))) && (typeof data4 !== "boolean")){const err7 = {instancePath:instancePath+"/environment/" + i0+"/value",schemaPath:"#/definitions/EnvironmentVar/properties/value/type",keyword:"type",params:{type: schema28.properties.value.type},message:"must be string,number,boolean",schema:schema28.properties.value.type,parentSchema:schema28.properties.value,data:data4};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}}else {const err8 = {instancePath:instancePath+"/environment/" + i0,schemaPath:"#/definitions/EnvironmentVar/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema28.type,parentSchema:schema28,data:data2};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}}else {const err9 = {instancePath:instancePath+"/environment",schemaPath:"#/properties/environment/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema240.properties.environment.type,parentSchema:schema240.properties.environment,data:data1};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(data.logging !== undefined){if(!(validate79(data.logging, {instancePath:instancePath+"/logging",parentData:data,parentDataProperty:"logging",rootData}))){vErrors = vErrors === null ? validate79.errors : vErrors.concat(validate79.errors);errors = vErrors.length;}}if(data.resources !== undefined){let data6 = data.resources;if(data6 && typeof data6 == "object" && !Array.isArray(data6)){for(const key2 in data6){if(!(((((key2 === "cpu") || (key2 === "memory")) || (key2 === "instanceTypes")) || (key2 === "enableWarmPool")) || (key2 === "architecture"))){const err10 = {instancePath:instancePath+"/resources",schemaPath:"#/definitions/ContainerWorkloadResourcesConfig/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key2},message:"must NOT have additional properties",schema:false,parentSchema:schema98,data:data6};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data6.cpu !== undefined){let data7 = data6.cpu;if(!(typeof data7 == "number")){const err11 = {instancePath:instancePath+"/resources/cpu",schemaPath:"#/definitions/ContainerWorkloadResourcesConfig/properties/cpu/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema98.properties.cpu.type,parentSchema:schema98.properties.cpu,data:data7};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}if(!(((((((data7 === 0.25) || (data7 === 0.5)) || (data7 === 1)) || (data7 === 16)) || (data7 === 2)) || (data7 === 4)) || (data7 === 8))){const err12 = {instancePath:instancePath+"/resources/cpu",schemaPath:"#/definitions/ContainerWorkloadResourcesConfig/properties/cpu/enum",keyword:"enum",params:{allowedValues: schema98.properties.cpu.enum},message:"must be equal to one of the allowed values",schema:schema98.properties.cpu.enum,parentSchema:schema98.properties.cpu,data:data7};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}if(data6.memory !== undefined){let data8 = data6.memory;if(!(typeof data8 == "number")){const err13 = {instancePath:instancePath+"/resources/memory",schemaPath:"#/definitions/ContainerWorkloadResourcesConfig/properties/memory/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema98.properties.memory.type,parentSchema:schema98.properties.memory,data:data8};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}if(data6.instanceTypes !== undefined){let data9 = data6.instanceTypes;if(Array.isArray(data9)){const len1 = data9.length;for(let i1=0; i1<len1; i1++){let data10 = data9[i1];if(typeof data10 !== "string"){const err14 = {instancePath:instancePath+"/resources/instanceTypes/" + i1,schemaPath:"#/definitions/ContainerWorkloadResourcesConfig/properties/instanceTypes/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema98.properties.instanceTypes.items.type,parentSchema:schema98.properties.instanceTypes.items,data:data10};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}}}else {const err15 = {instancePath:instancePath+"/resources/instanceTypes",schemaPath:"#/definitions/ContainerWorkloadResourcesConfig/properties/instanceTypes/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema98.properties.instanceTypes.type,parentSchema:schema98.properties.instanceTypes,data:data9};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}}if(data6.enableWarmPool !== undefined){let data11 = data6.enableWarmPool;if(typeof data11 !== "boolean"){const err16 = {instancePath:instancePath+"/resources/enableWarmPool",schemaPath:"#/definitions/ContainerWorkloadResourcesConfig/properties/enableWarmPool/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema98.properties.enableWarmPool.type,parentSchema:schema98.properties.enableWarmPool,data:data11};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}}if(data6.architecture !== undefined){let data12 = data6.architecture;if(typeof data12 !== "string"){const err17 = {instancePath:instancePath+"/resources/architecture",schemaPath:"#/definitions/ContainerWorkloadResourcesConfig/properties/architecture/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema98.properties.architecture.type,parentSchema:schema98.properties.architecture,data:data12};if(vErrors === null){vErrors = [err17];}else {vErrors.push(err17);}errors++;}if(!((data12 === "arm64") || (data12 === "x86_64"))){const err18 = {instancePath:instancePath+"/resources/architecture",schemaPath:"#/definitions/ContainerWorkloadResourcesConfig/properties/architecture/enum",keyword:"enum",params:{allowedValues: schema98.properties.architecture.enum},message:"must be equal to one of the allowed values",schema:schema98.properties.architecture.enum,parentSchema:schema98.properties.architecture,data:data12};if(vErrors === null){vErrors = [err18];}else {vErrors.push(err18);}errors++;}}}else {const err19 = {instancePath:instancePath+"/resources",schemaPath:"#/definitions/ContainerWorkloadResourcesConfig/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema98.type,parentSchema:schema98,data:data6};if(vErrors === null){vErrors = [err19];}else {vErrors.push(err19);}errors++;}}if(data.scaling !== undefined){if(!(validate90(data.scaling, {instancePath:instancePath+"/scaling",parentData:data,parentDataProperty:"scaling",rootData}))){vErrors = vErrors === null ? validate90.errors : vErrors.concat(validate90.errors);errors = vErrors.length;}}if(data.internalHealthCheck !== undefined){let data14 = data.internalHealthCheck;if(data14 && typeof data14 == "object" && !Array.isArray(data14)){if(data14.healthCheckCommand === undefined){const err20 = {instancePath:instancePath+"/internalHealthCheck",schemaPath:"#/definitions/ContainerHealthCheck/required",keyword:"required",params:{missingProperty: "healthCheckCommand"},message:"must have required property '"+"healthCheckCommand"+"'",schema:schema95.required,parentSchema:schema95,data:data14};if(vErrors === null){vErrors = [err20];}else {vErrors.push(err20);}errors++;}for(const key3 in data14){if(!(((((key3 === "healthCheckCommand") || (key3 === "intervalSeconds")) || (key3 === "timeoutSeconds")) || (key3 === "retries")) || (key3 === "startPeriodSeconds"))){const err21 = {instancePath:instancePath+"/internalHealthCheck",schemaPath:"#/definitions/ContainerHealthCheck/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key3},message:"must NOT have additional properties",schema:false,parentSchema:schema95,data:data14};if(vErrors === null){vErrors = [err21];}else {vErrors.push(err21);}errors++;}}if(data14.healthCheckCommand !== undefined){let data15 = data14.healthCheckCommand;if(Array.isArray(data15)){const len2 = data15.length;for(let i2=0; i2<len2; i2++){let data16 = data15[i2];if(typeof data16 !== "string"){const err22 = {instancePath:instancePath+"/internalHealthCheck/healthCheckCommand/" + i2,schemaPath:"#/definitions/ContainerHealthCheck/properties/healthCheckCommand/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema95.properties.healthCheckCommand.items.type,parentSchema:schema95.properties.healthCheckCommand.items,data:data16};if(vErrors === null){vErrors = [err22];}else {vErrors.push(err22);}errors++;}}}else {const err23 = {instancePath:instancePath+"/internalHealthCheck/healthCheckCommand",schemaPath:"#/definitions/ContainerHealthCheck/properties/healthCheckCommand/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema95.properties.healthCheckCommand.type,parentSchema:schema95.properties.healthCheckCommand,data:data15};if(vErrors === null){vErrors = [err23];}else {vErrors.push(err23);}errors++;}}if(data14.intervalSeconds !== undefined){let data17 = data14.intervalSeconds;if(!(typeof data17 == "number")){const err24 = {instancePath:instancePath+"/internalHealthCheck/intervalSeconds",schemaPath:"#/definitions/ContainerHealthCheck/properties/intervalSeconds/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema95.properties.intervalSeconds.type,parentSchema:schema95.properties.intervalSeconds,data:data17};if(vErrors === null){vErrors = [err24];}else {vErrors.push(err24);}errors++;}}if(data14.timeoutSeconds !== undefined){let data18 = data14.timeoutSeconds;if(!(typeof data18 == "number")){const err25 = {instancePath:instancePath+"/internalHealthCheck/timeoutSeconds",schemaPath:"#/definitions/ContainerHealthCheck/properties/timeoutSeconds/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema95.properties.timeoutSeconds.type,parentSchema:schema95.properties.timeoutSeconds,data:data18};if(vErrors === null){vErrors = [err25];}else {vErrors.push(err25);}errors++;}}if(data14.retries !== undefined){let data19 = data14.retries;if(!(typeof data19 == "number")){const err26 = {instancePath:instancePath+"/internalHealthCheck/retries",schemaPath:"#/definitions/ContainerHealthCheck/properties/retries/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema95.properties.retries.type,parentSchema:schema95.properties.retries,data:data19};if(vErrors === null){vErrors = [err26];}else {vErrors.push(err26);}errors++;}}if(data14.startPeriodSeconds !== undefined){let data20 = data14.startPeriodSeconds;if(!(typeof data20 == "number")){const err27 = {instancePath:instancePath+"/internalHealthCheck/startPeriodSeconds",schemaPath:"#/definitions/ContainerHealthCheck/properties/startPeriodSeconds/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema95.properties.startPeriodSeconds.type,parentSchema:schema95.properties.startPeriodSeconds,data:data20};if(vErrors === null){vErrors = [err27];}else {vErrors.push(err27);}errors++;}}}else {const err28 = {instancePath:instancePath+"/internalHealthCheck",schemaPath:"#/definitions/ContainerHealthCheck/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema95.type,parentSchema:schema95,data:data14};if(vErrors === null){vErrors = [err28];}else {vErrors.push(err28);}errors++;}}if(data.stopTimeout !== undefined){let data21 = data.stopTimeout;if(!(typeof data21 == "number")){const err29 = {instancePath:instancePath+"/stopTimeout",schemaPath:"#/properties/stopTimeout/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema240.properties.stopTimeout.type,parentSchema:schema240.properties.stopTimeout,data:data21};if(vErrors === null){vErrors = [err29];}else {vErrors.push(err29);}errors++;}}if(data.enableRemoteSessions !== undefined){let data22 = data.enableRemoteSessions;if(typeof data22 !== "boolean"){const err30 = {instancePath:instancePath+"/enableRemoteSessions",schemaPath:"#/properties/enableRemoteSessions/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema240.properties.enableRemoteSessions.type,parentSchema:schema240.properties.enableRemoteSessions,data:data22};if(vErrors === null){vErrors = [err30];}else {vErrors.push(err30);}errors++;}}if(data.volumeMounts !== undefined){let data23 = data.volumeMounts;if(Array.isArray(data23)){const len3 = data23.length;for(let i3=0; i3<len3; i3++){if(!(validate87(data23[i3], {instancePath:instancePath+"/volumeMounts/" + i3,parentData:data23,parentDataProperty:i3,rootData}))){vErrors = vErrors === null ? validate87.errors : vErrors.concat(validate87.errors);errors = vErrors.length;}}}else {const err31 = {instancePath:instancePath+"/volumeMounts",schemaPath:"#/properties/volumeMounts/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema240.properties.volumeMounts.type,parentSchema:schema240.properties.volumeMounts,data:data23};if(vErrors === null){vErrors = [err31];}else {vErrors.push(err31);}errors++;}}if(data.sideContainers !== undefined){let data25 = data.sideContainers;if(Array.isArray(data25)){const len4 = data25.length;for(let i4=0; i4<len4; i4++){if(!(validate235(data25[i4], {instancePath:instancePath+"/sideContainers/" + i4,parentData:data25,parentDataProperty:i4,rootData}))){vErrors = vErrors === null ? validate235.errors : vErrors.concat(validate235.errors);errors = vErrors.length;}}}else {const err32 = {instancePath:instancePath+"/sideContainers",schemaPath:"#/properties/sideContainers/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema240.properties.sideContainers.type,parentSchema:schema240.properties.sideContainers,data:data25};if(vErrors === null){vErrors = [err32];}else {vErrors.push(err32);}errors++;}}if(data.usePrivateSubnetsWithNAT !== undefined){let data27 = data.usePrivateSubnetsWithNAT;if(typeof data27 !== "boolean"){const err33 = {instancePath:instancePath+"/usePrivateSubnetsWithNAT",schemaPath:"#/properties/usePrivateSubnetsWithNAT/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema240.properties.usePrivateSubnetsWithNAT.type,parentSchema:schema240.properties.usePrivateSubnetsWithNAT,data:data27};if(vErrors === null){vErrors = [err33];}else {vErrors.push(err33);}errors++;}}if(data.connectTo !== undefined){let data28 = data.connectTo;if(Array.isArray(data28)){const len5 = data28.length;for(let i5=0; i5<len5; i5++){let data29 = data28[i5];if(typeof data29 !== "string"){const err34 = {instancePath:instancePath+"/connectTo/" + i5,schemaPath:"#/properties/connectTo/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema240.properties.connectTo.items.type,parentSchema:schema240.properties.connectTo.items,data:data29};if(vErrors === null){vErrors = [err34];}else {vErrors.push(err34);}errors++;}}}else {const err35 = {instancePath:instancePath+"/connectTo",schemaPath:"#/properties/connectTo/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema240.properties.connectTo.type,parentSchema:schema240.properties.connectTo,data:data28};if(vErrors === null){vErrors = [err35];}else {vErrors.push(err35);}errors++;}}if(data.iamRoleStatements !== undefined){let data30 = data.iamRoleStatements;if(Array.isArray(data30)){const len6 = data30.length;for(let i6=0; i6<len6; i6++){let data31 = data30[i6];if(data31 && typeof data31 == "object" && !Array.isArray(data31)){if(data31.Resource === undefined){const err36 = {instancePath:instancePath+"/iamRoleStatements/" + i6,schemaPath:"#/definitions/StpIamRoleStatement/required",keyword:"required",params:{missingProperty: "Resource"},message:"must have required property '"+"Resource"+"'",schema:schema102.required,parentSchema:schema102,data:data31};if(vErrors === null){vErrors = [err36];}else {vErrors.push(err36);}errors++;}for(const key4 in data31){if(!(((((key4 === "Sid") || (key4 === "Effect")) || (key4 === "Action")) || (key4 === "Condition")) || (key4 === "Resource"))){const err37 = {instancePath:instancePath+"/iamRoleStatements/" + i6,schemaPath:"#/definitions/StpIamRoleStatement/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key4},message:"must NOT have additional properties",schema:false,parentSchema:schema102,data:data31};if(vErrors === null){vErrors = [err37];}else {vErrors.push(err37);}errors++;}}if(data31.Sid !== undefined){let data32 = data31.Sid;if(typeof data32 !== "string"){const err38 = {instancePath:instancePath+"/iamRoleStatements/" + i6+"/Sid",schemaPath:"#/definitions/StpIamRoleStatement/properties/Sid/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema102.properties.Sid.type,parentSchema:schema102.properties.Sid,data:data32};if(vErrors === null){vErrors = [err38];}else {vErrors.push(err38);}errors++;}}if(data31.Effect !== undefined){let data33 = data31.Effect;if(typeof data33 !== "string"){const err39 = {instancePath:instancePath+"/iamRoleStatements/" + i6+"/Effect",schemaPath:"#/definitions/StpIamRoleStatement/properties/Effect/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema102.properties.Effect.type,parentSchema:schema102.properties.Effect,data:data33};if(vErrors === null){vErrors = [err39];}else {vErrors.push(err39);}errors++;}}if(data31.Action !== undefined){let data34 = data31.Action;if(Array.isArray(data34)){const len7 = data34.length;for(let i7=0; i7<len7; i7++){let data35 = data34[i7];if(typeof data35 !== "string"){const err40 = {instancePath:instancePath+"/iamRoleStatements/" + i6+"/Action/" + i7,schemaPath:"#/definitions/StpIamRoleStatement/properties/Action/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema102.properties.Action.items.type,parentSchema:schema102.properties.Action.items,data:data35};if(vErrors === null){vErrors = [err40];}else {vErrors.push(err40);}errors++;}}}else {const err41 = {instancePath:instancePath+"/iamRoleStatements/" + i6+"/Action",schemaPath:"#/definitions/StpIamRoleStatement/properties/Action/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema102.properties.Action.type,parentSchema:schema102.properties.Action,data:data34};if(vErrors === null){vErrors = [err41];}else {vErrors.push(err41);}errors++;}}if(data31.Resource !== undefined){let data36 = data31.Resource;if(Array.isArray(data36)){const len8 = data36.length;for(let i8=0; i8<len8; i8++){let data37 = data36[i8];if(typeof data37 !== "string"){const err42 = {instancePath:instancePath+"/iamRoleStatements/" + i6+"/Resource/" + i8,schemaPath:"#/definitions/StpIamRoleStatement/properties/Resource/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema102.properties.Resource.items.type,parentSchema:schema102.properties.Resource.items,data:data37};if(vErrors === null){vErrors = [err42];}else {vErrors.push(err42);}errors++;}}}else {const err43 = {instancePath:instancePath+"/iamRoleStatements/" + i6+"/Resource",schemaPath:"#/definitions/StpIamRoleStatement/properties/Resource/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema102.properties.Resource.type,parentSchema:schema102.properties.Resource,data:data36};if(vErrors === null){vErrors = [err43];}else {vErrors.push(err43);}errors++;}}}else {const err44 = {instancePath:instancePath+"/iamRoleStatements/" + i6,schemaPath:"#/definitions/StpIamRoleStatement/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema102.type,parentSchema:schema102,data:data31};if(vErrors === null){vErrors = [err44];}else {vErrors.push(err44);}errors++;}}}else {const err45 = {instancePath:instancePath+"/iamRoleStatements",schemaPath:"#/properties/iamRoleStatements/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema240.properties.iamRoleStatements.type,parentSchema:schema240.properties.iamRoleStatements,data:data30};if(vErrors === null){vErrors = [err45];}else {vErrors.push(err45);}errors++;}}}else {const err46 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema240.type,parentSchema:schema240,data};if(vErrors === null){vErrors = [err46];}else {vErrors.push(err46);}errors++;}validate252.errors = vErrors;return errors === 0;}function validate251(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema239.required,parentSchema:schema239,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema239.required,parentSchema:schema239,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!(((key0 === "type") || (key0 === "properties")) || (key0 === "overrides"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema239,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema239.properties.type.type,parentSchema:schema239.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("worker-service" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "worker-service"},message:"must be equal to constant",schema:"worker-service",parentSchema:schema239.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate252(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate252.errors : vErrors.concat(validate252.errors);errors = vErrors.length;}}if(data.overrides !== undefined){let data2 = data.overrides;if(data2 && typeof data2 == "object" && !Array.isArray(data2)){for(const key1 in data2){let data3 = data2[key1];if(data3 && typeof data3 == "object" && !Array.isArray(data3)){}else {const err5 = {instancePath:instancePath+"/overrides/" + key1.replace(/~/g, "~0").replace(/\//g, "~1"),schemaPath:"#/properties/overrides/additionalProperties/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema239.properties.overrides.additionalProperties.type,parentSchema:schema239.properties.overrides.additionalProperties,data:data3};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}}else {const err6 = {instancePath:instancePath+"/overrides",schemaPath:"#/properties/overrides/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema239.properties.overrides.type,parentSchema:schema239.properties.overrides,data:data2};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}}else {const err7 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema239.type,parentSchema:schema239,data};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}validate251.errors = vErrors;return errors === 0;}const schema245 = {"description":"#### A fully managed relational (SQL) database resource.\n\n---\n\nSupports various database engines like PostgreSQL, MySQL, and MariaDB, with features like clustering and high availability.","type":"object","properties":{"type":{"type":"string","const":"relational-database"},"properties":{"$ref":"#/definitions/RelationalDatabaseProps"},"overrides":{"description":"#### Resource Overrides\n\n---\n\nOverrides properties of the underlying CloudFormation resources that Stacktape creates.\n\nChild resources are identified by their CloudFormation logical ID (e.g., `MyBucketBucket`). You can find these IDs by running `stacktape stack:info --detailed`.\n\nFor a list of properties that can be overridden, refer to the [AWS CloudFormation documentation](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html).","type":"object","additionalProperties":{"type":"object","additionalProperties":{}}}},"additionalProperties":false,"required":["properties","type"]};const schema246 = {"type":"object","properties":{"credentials":{"$ref":"#/definitions/RelationalDatabaseCredentials","description":"#### Configures the credentials for the database's master user.\n\n---\n\nThese credentials are used to connect to the database and are included in the connection string."},"engine":{"description":"#### Configures the database engine.\n\n---\n\nThe engine determines the database type (e.g., PostgreSQL, MySQL), performance characteristics, and features like high availability and scaling.\n\nStacktape supports several engine types:\n\n- **RDS Engines**: Fully managed, single-node databases (e.g., `postgres`, `mysql`). Ideal for standard workloads.\n- **Aurora Engines**: High-performance, highly available clustered databases developed by AWS (e.g., `aurora-postgresql`, `aurora-mysql`).\n- **Aurora Serverless V2 Engines**: A serverless version of Aurora that automatically scales compute capacity based on demand (e.g., `aurora-postgresql-serverless-v2`). This is the recommended serverless option.\n\nFor more details on each engine, see the [AWS documentation](https://aws.amazon.com/rds/).","anyOf":[{"$ref":"#/definitions/AuroraEngine"},{"$ref":"#/definitions/AuroraServerlessEngine"},{"$ref":"#/definitions/AuroraServerlessV2Engine"},{"$ref":"#/definitions/RdsEngine"}]},"accessibility":{"$ref":"#/definitions/DatabaseAccessibility","description":"#### Configures the network accessibility of the database.\n\n---\n\nBy default, the database is accessible from the internet (but still protected by credentials).\nYou can restrict access to a VPC, specific IP addresses, or only to other resources within your stack."},"deletionProtection":{"description":"#### Protects the database from accidental deletion.\n\n---\n\nIf enabled, you must explicitly disable this protection before you can delete the database.","default":false,"type":"boolean"},"automatedBackupRetentionDays":{"description":"#### The number of days to retain automated backups.\n\n---\n\nAutomated backups are taken daily. You can retain them for up to 35 days.\nTo disable automated backups for RDS engines, set this to 0.\nThis setting does not affect manual snapshots.","default":1,"type":"number"},"preferredMaintenanceWindow":{"description":"#### The preferred time window for database maintenance.\n\n---\n\nMaintenance activities, such as OS patching or engine upgrades, will be performed during this window.\nThe database may be briefly unavailable during maintenance. To avoid downtime, use a multi-AZ deployment or an Aurora engine.\n\nThe format is `day:start_time-day:end_time` in UTC (e.g., `Sun:02:00-Sun:04:00`).\nBy default, the maintenance window is set to a region-specific time on Sundays.","type":"string"},"alarms":{"description":"#### A list of additional alarms to associate with this database.\n\n---\n\nThese alarms are merged with any globally configured alarms from the Stacktape console.","type":"array","items":{"$ref":"#/definitions/RelationalDatabaseAlarm"}},"disabledGlobalAlarms":{"description":"#### A list of global alarm names to disable for this database.\n\n---\n\nUse this to prevent specific globally-defined alarms from applying to this database.","type":"array","items":{"type":"string"}},"logging":{"$ref":"#/definitions/RelationalDatabaseLogging","description":"#### Configures logging for the database.\n\n---\n\nBy default, logs are enabled and retained for 90 days.\nThe available log types depend on the database engine. You can log connections, queries, errors, and more."},"dev":{"$ref":"#/definitions/DevModeConfig","description":"#### Dev Mode Configuration\n\n---\n\nConfigures how this database behaves during `stacktape dev` mode.\nBy default, databases run locally using Docker. Set `dev.remote: true` to connect to the deployed AWS database instead."}},"additionalProperties":false,"required":["credentials","engine"]};const schema247 = {"type":"object","properties":{"masterUserName":{"description":"#### The username for the database's master user.\n\n---\n\nThis user will have administrative privileges for the database.\nAvoid using the following characters in the username: `[]{}(),;?*=!@`.\n\n> Changing this value after the database has been created will cause the database to be replaced, resulting in data loss.","default":"db_master_user","type":"string"},"masterUserPassword":{"description":"#### The password for the database's master user.\n\n---\n\nAvoid using the following characters in the password: `[]{}(),;?*=!@`.\n\n> **Recommendation:** Store the password in a [Stacktape secret](https://docs.stacktape.com/security-resources/secrets/) and reference it using the `$Secret` directive to avoid exposing it in your configuration file.","type":"string"}},"additionalProperties":false,"required":["masterUserPassword"]};const schema260 = {"type":"object","properties":{"accessibilityMode":{"description":"#### The accessibility mode for the database.\n\n---\n\n- **internet**: The database is accessible from anywhere on the internet.\n- **vpc**: The database is only accessible from within the same VPC. You can optionally whitelist external IPs.\n- **scoping-workloads-in-vpc**: Similar to `vpc` mode, but requires explicit `connectTo` permissions for other resources in the stack to access the database.\n- **whitelisted-ips-only**: The database is only accessible from a specific list of IP addresses.\n\n> **Note:** Aurora Serverless engines do not support public accessibility. You must use `vpc` or `scoping-workloads-in-vpc` and connect via a bastion host or the Data API.\n\nFor more information on VPCs, see the [Stacktape VPCs documentation](https://docs.stacktape.com/user-guides/vpcs/).","default":"internet","enum":["internet","scoping-workloads-in-vpc","vpc","whitelisted-ips-only"],"type":"string"},"forceDisablePublicIp":{"description":"#### Disables public accessibility for the database endpoint.\n\n---\n\nThis ensures that the database can only be accessed from within its VPC, providing an additional layer of isolation.\n\n> For Aurora engines, this property can only be set when the database is created and cannot be changed later.","type":"boolean"},"whitelistedIps":{"description":"#### A list of IP addresses or CIDR ranges to allow access from.\n\n---\n\n- In `vpc` and `scoping-workloads-in-vpc` modes, this allows access from outside the VPC (e.g., an office IP).\n- In `whitelisted-ips-only` mode, only these addresses can access the database.\n- This has no effect in `internet` mode.","type":"array","items":{"type":"string"}}},"additionalProperties":false,"required":["accessibilityMode"]};const schema291 = {"description":"#### Dev Mode Configuration\n\n---\n\nConfigures how this resource behaves during `stacktape dev` mode.","type":"object","properties":{"remote":{"description":"#### Use Remote Resource\n\n---\n\nIf `true`, connects to the deployed AWS resource instead of running a local emulation during dev mode.\n\nBy default, databases (RDS, Aurora), Redis clusters, and DynamoDB tables run locally during dev mode.\nSet this to `true` to use the deployed AWS resource instead.","default":false,"type":"boolean"}},"additionalProperties":false};const schema248 = {"description":"#### A high-performance Aurora clustered database engine.\n\n---\n\nAurora is a fully managed, MySQL and PostgreSQL-compatible database developed by AWS.\nIt offers up to 5x the throughput of standard MySQL and 3x the throughput of standard PostgreSQL.\n\nAurora automatically replicates data across multiple Availability Zones for high availability\nand provides automatic failover with read replicas.","type":"object","properties":{"type":{"enum":["aurora-mysql","aurora-postgresql"],"type":"string"},"properties":{"$ref":"#/definitions/AuroraEngineProperties"}},"additionalProperties":false,"required":["properties","type"]};const schema249 = {"type":"object","properties":{"dbName":{"description":"#### The name of the initial database to create.","default":"defdb","type":"string"},"port":{"description":"#### The port on which the database will listen for connections.\n\n---\n\n- `aurora-mysql`: 3306\n- `aurora-postgresql`: 5432","type":"number"},"instances":{"description":"#### A list of database instances in the Aurora cluster.\n\n---\n\nThe first instance in the list is the primary (writer) instance. The rest are read replicas.\nRead requests are automatically load-balanced across all instances.\nIf the primary instance fails, a read replica is automatically promoted to be the new primary.","type":"array","items":{"$ref":"#/definitions/AuroraEngineInstance"}},"version":{"description":"#### The version of the database engine.\n\n---\n\nEach engine type supports a specific set of versions.\nFor a full list, see the [Stacktape documentation](https://docs.stacktape.com/database-resources/relational-databases/#engine-version).","type":"string"},"disableAutoMinorVersionUpgrade":{"description":"#### Specifies whether minor engine upgrades should be applied automatically.","default":false,"type":"boolean"}},"additionalProperties":false,"required":["instances","version"]};const schema250 = {"type":"object","properties":{"instanceSize":{"description":"#### The instance size for the database.\n\n---\n\nThis determines the CPU, memory, and networking capacity of the database instance.\nFor a list of available instance sizes, see the [AWS Aurora pricing documentation](https://aws.amazon.com/rds/aurora/pricing/#Database%20Instances).\n\n> **Note:** Not all instance sizes are available for all engines, versions, and regions.\n> Some instance families (like `t3` or `t4`) are intended for development and testing, not production workloads.","type":"string"}},"additionalProperties":false,"required":["instanceSize"]};function validate263(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.instances === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "instances"},message:"must have required property '"+"instances"+"'",schema:schema249.required,parentSchema:schema249,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.version === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "version"},message:"must have required property '"+"version"+"'",schema:schema249.required,parentSchema:schema249,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!(((((key0 === "dbName") || (key0 === "port")) || (key0 === "instances")) || (key0 === "version")) || (key0 === "disableAutoMinorVersionUpgrade"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema249,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.dbName !== undefined){let data0 = data.dbName;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/dbName",schemaPath:"#/properties/dbName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema249.properties.dbName.type,parentSchema:schema249.properties.dbName,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.port !== undefined){let data1 = data.port;if(!(typeof data1 == "number")){const err4 = {instancePath:instancePath+"/port",schemaPath:"#/properties/port/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema249.properties.port.type,parentSchema:schema249.properties.port,data:data1};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.instances !== undefined){let data2 = data.instances;if(Array.isArray(data2)){const len0 = data2.length;for(let i0=0; i0<len0; i0++){let data3 = data2[i0];if(data3 && typeof data3 == "object" && !Array.isArray(data3)){if(data3.instanceSize === undefined){const err5 = {instancePath:instancePath+"/instances/" + i0,schemaPath:"#/definitions/AuroraEngineInstance/required",keyword:"required",params:{missingProperty: "instanceSize"},message:"must have required property '"+"instanceSize"+"'",schema:schema250.required,parentSchema:schema250,data:data3};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}for(const key1 in data3){if(!(key1 === "instanceSize")){const err6 = {instancePath:instancePath+"/instances/" + i0,schemaPath:"#/definitions/AuroraEngineInstance/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema250,data:data3};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data3.instanceSize !== undefined){let data4 = data3.instanceSize;if(typeof data4 !== "string"){const err7 = {instancePath:instancePath+"/instances/" + i0+"/instanceSize",schemaPath:"#/definitions/AuroraEngineInstance/properties/instanceSize/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema250.properties.instanceSize.type,parentSchema:schema250.properties.instanceSize,data:data4};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}}else {const err8 = {instancePath:instancePath+"/instances/" + i0,schemaPath:"#/definitions/AuroraEngineInstance/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema250.type,parentSchema:schema250,data:data3};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}}else {const err9 = {instancePath:instancePath+"/instances",schemaPath:"#/properties/instances/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema249.properties.instances.type,parentSchema:schema249.properties.instances,data:data2};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(data.version !== undefined){let data5 = data.version;if(typeof data5 !== "string"){const err10 = {instancePath:instancePath+"/version",schemaPath:"#/properties/version/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema249.properties.version.type,parentSchema:schema249.properties.version,data:data5};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data.disableAutoMinorVersionUpgrade !== undefined){let data6 = data.disableAutoMinorVersionUpgrade;if(typeof data6 !== "boolean"){const err11 = {instancePath:instancePath+"/disableAutoMinorVersionUpgrade",schemaPath:"#/properties/disableAutoMinorVersionUpgrade/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema249.properties.disableAutoMinorVersionUpgrade.type,parentSchema:schema249.properties.disableAutoMinorVersionUpgrade,data:data6};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}}else {const err12 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema249.type,parentSchema:schema249,data};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}validate263.errors = vErrors;return errors === 0;}function validate262(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema248.required,parentSchema:schema248,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema248.required,parentSchema:schema248,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema248,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema248.properties.type.type,parentSchema:schema248.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if(!((data0 === "aurora-mysql") || (data0 === "aurora-postgresql"))){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/enum",keyword:"enum",params:{allowedValues: schema248.properties.type.enum},message:"must be equal to one of the allowed values",schema:schema248.properties.type.enum,parentSchema:schema248.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate263(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate263.errors : vErrors.concat(validate263.errors);errors = vErrors.length;}}}else {const err5 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema248.type,parentSchema:schema248,data};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}validate262.errors = vErrors;return errors === 0;}const schema251 = {"description":"#### An Aurora Serverless v1 database engine.\n\n---\n\nAurora Serverless v1 automatically scales compute capacity based on your application's needs.\nIt can pause during periods of inactivity and resume when traffic arrives, making it cost-effective\nfor variable or unpredictable workloads.\n\n**Note:** For new projects, consider using Aurora Serverless v2 which offers better scaling.","type":"object","properties":{"type":{"enum":["aurora-mysql-serverless","aurora-postgresql-serverless"],"type":"string"},"properties":{"$ref":"#/definitions/AuroraServerlessEngineProperties"}},"additionalProperties":false,"required":["type"]};const schema252 = {"type":"object","properties":{"version":{"description":"#### The version of the database engine.\n\n---\n\nFor serverless engines, you typically don't need to specify this, as AWS manages the version.\nFor a list of supported versions, see the [Stacktape documentation](https://docs.stacktape.com/database-resources/relational-databases/#engine-version).","type":"string"},"dbName":{"description":"#### The name of the initial database to create.","default":"defdb","type":"string"},"minCapacity":{"description":"#### The minimum number of Aurora Capacity Units (ACUs) for the database to scale down to.\n\n---\n\nEach ACU provides approximately 2 GB of memory and corresponding CPU and networking.\n\n**Allowed values:**\n- `aurora-mysql-serverless`: 1, 2, 4, 8, 16, 32, 64, 128, 256\n- `aurora-postgresql-serverless`: 2, 4, 8, 16, 32, 64, 128, 256","default":2,"type":"number"},"maxCapacity":{"description":"#### The maximum number of Aurora Capacity Units (ACUs) for the database to scale up to.\n\n---\n\n**Allowed values:**\n- `aurora-mysql-serverless`: 1, 2, 4, 8, 16, 32, 64, 128, 256\n- `aurora-postgresql-serverless`: 2, 4, 8, 16, 32, 64, 128, 256","default":4,"type":"number"},"pauseAfterSeconds":{"description":"#### The time (in seconds) of inactivity before the serverless database is paused.\n\n---\n\nThe database is considered inactive if there are no active connections.\nWhen paused, you are only charged for storage.\n\nThe value must be between 300 (5 minutes) and 86400 (24 hours). If not set, the database is never paused.","type":"number"},"disableAutoMinorVersionUpgrade":{"description":"#### Specifies whether minor engine upgrades should be applied automatically.","default":false,"type":"boolean"}},"additionalProperties":false};function validate266(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.type === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema251.required,parentSchema:schema251,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema251,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err2 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema251.properties.type.type,parentSchema:schema251.properties.type,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}if(!((data0 === "aurora-mysql-serverless") || (data0 === "aurora-postgresql-serverless"))){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/enum",keyword:"enum",params:{allowedValues: schema251.properties.type.enum},message:"must be equal to one of the allowed values",schema:schema251.properties.type.enum,parentSchema:schema251.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.properties !== undefined){let data1 = data.properties;if(data1 && typeof data1 == "object" && !Array.isArray(data1)){for(const key1 in data1){if(!((((((key1 === "version") || (key1 === "dbName")) || (key1 === "minCapacity")) || (key1 === "maxCapacity")) || (key1 === "pauseAfterSeconds")) || (key1 === "disableAutoMinorVersionUpgrade"))){const err4 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/AuroraServerlessEngineProperties/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema252,data:data1};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data1.version !== undefined){let data2 = data1.version;if(typeof data2 !== "string"){const err5 = {instancePath:instancePath+"/properties/version",schemaPath:"#/definitions/AuroraServerlessEngineProperties/properties/version/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema252.properties.version.type,parentSchema:schema252.properties.version,data:data2};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data1.dbName !== undefined){let data3 = data1.dbName;if(typeof data3 !== "string"){const err6 = {instancePath:instancePath+"/properties/dbName",schemaPath:"#/definitions/AuroraServerlessEngineProperties/properties/dbName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema252.properties.dbName.type,parentSchema:schema252.properties.dbName,data:data3};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data1.minCapacity !== undefined){let data4 = data1.minCapacity;if(!(typeof data4 == "number")){const err7 = {instancePath:instancePath+"/properties/minCapacity",schemaPath:"#/definitions/AuroraServerlessEngineProperties/properties/minCapacity/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema252.properties.minCapacity.type,parentSchema:schema252.properties.minCapacity,data:data4};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data1.maxCapacity !== undefined){let data5 = data1.maxCapacity;if(!(typeof data5 == "number")){const err8 = {instancePath:instancePath+"/properties/maxCapacity",schemaPath:"#/definitions/AuroraServerlessEngineProperties/properties/maxCapacity/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema252.properties.maxCapacity.type,parentSchema:schema252.properties.maxCapacity,data:data5};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}if(data1.pauseAfterSeconds !== undefined){let data6 = data1.pauseAfterSeconds;if(!(typeof data6 == "number")){const err9 = {instancePath:instancePath+"/properties/pauseAfterSeconds",schemaPath:"#/definitions/AuroraServerlessEngineProperties/properties/pauseAfterSeconds/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema252.properties.pauseAfterSeconds.type,parentSchema:schema252.properties.pauseAfterSeconds,data:data6};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(data1.disableAutoMinorVersionUpgrade !== undefined){let data7 = data1.disableAutoMinorVersionUpgrade;if(typeof data7 !== "boolean"){const err10 = {instancePath:instancePath+"/properties/disableAutoMinorVersionUpgrade",schemaPath:"#/definitions/AuroraServerlessEngineProperties/properties/disableAutoMinorVersionUpgrade/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema252.properties.disableAutoMinorVersionUpgrade.type,parentSchema:schema252.properties.disableAutoMinorVersionUpgrade,data:data7};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}}else {const err11 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/AuroraServerlessEngineProperties/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema252.type,parentSchema:schema252,data:data1};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}}else {const err12 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema251.type,parentSchema:schema251,data};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}validate266.errors = vErrors;return errors === 0;}const schema253 = {"description":"#### An Aurora Serverless v2 database engine (recommended serverless option).\n\n---\n\nAurora Serverless v2 provides instant, fine-grained scaling from 0.5 to 128 ACUs.\nIt scales in increments as small as 0.5 ACUs for more precise capacity matching.\n\nThis is the recommended serverless engine for most use cases, offering better performance\nand more granular scaling than v1.","type":"object","properties":{"type":{"enum":["aurora-mysql-serverless-v2","aurora-postgresql-serverless-v2"],"type":"string"},"properties":{"$ref":"#/definitions/AuroraServerlessV2EngineProperties"}},"additionalProperties":false,"required":["properties","type"]};const schema254 = {"type":"object","properties":{"dbName":{"description":"#### The name of the initial database to create.","default":"defdb","type":"string"},"minCapacity":{"description":"#### The minimum number of Aurora Capacity Units (ACUs) for the database to scale down to.\n\n---\n\nEach ACU provides approximately 2 GB of memory and corresponding CPU and networking.\n\n**Allowed values:**\n- `aurora-mysql-serverless-v2`: 0.5-128 (in 0.5 increments)\n- `aurora-postgresql-serverless-v2`: 0.5-128 (in 0.5 increments)","default":0.5,"type":"number"},"maxCapacity":{"description":"#### The maximum number of Aurora Capacity Units (ACUs) for the database to scale up to.\n\n---\n\n**Allowed values:**\n- `aurora-mysql-serverless-v2`: 0.5-128 (in 0.5 increments)\n- `aurora-postgresql-serverless-v2`: 0.5-128 (in 0.5 increments)","default":10,"type":"number"},"version":{"description":"#### The version of the database engine.\n\n---\n\nEach engine type supports a specific set of versions.\nFor a full list, see the [Stacktape documentation](https://docs.stacktape.com/database-resources/relational-databases/#engine-version).","type":"string"},"disableAutoMinorVersionUpgrade":{"description":"#### Specifies whether minor engine upgrades should be applied automatically.","default":false,"type":"boolean"}},"additionalProperties":false,"required":["version"]};function validate268(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema253.required,parentSchema:schema253,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema253.required,parentSchema:schema253,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema253,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema253.properties.type.type,parentSchema:schema253.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if(!((data0 === "aurora-mysql-serverless-v2") || (data0 === "aurora-postgresql-serverless-v2"))){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/enum",keyword:"enum",params:{allowedValues: schema253.properties.type.enum},message:"must be equal to one of the allowed values",schema:schema253.properties.type.enum,parentSchema:schema253.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){let data1 = data.properties;if(data1 && typeof data1 == "object" && !Array.isArray(data1)){if(data1.version === undefined){const err5 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/AuroraServerlessV2EngineProperties/required",keyword:"required",params:{missingProperty: "version"},message:"must have required property '"+"version"+"'",schema:schema254.required,parentSchema:schema254,data:data1};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}for(const key1 in data1){if(!(((((key1 === "dbName") || (key1 === "minCapacity")) || (key1 === "maxCapacity")) || (key1 === "version")) || (key1 === "disableAutoMinorVersionUpgrade"))){const err6 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/AuroraServerlessV2EngineProperties/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema254,data:data1};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data1.dbName !== undefined){let data2 = data1.dbName;if(typeof data2 !== "string"){const err7 = {instancePath:instancePath+"/properties/dbName",schemaPath:"#/definitions/AuroraServerlessV2EngineProperties/properties/dbName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema254.properties.dbName.type,parentSchema:schema254.properties.dbName,data:data2};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data1.minCapacity !== undefined){let data3 = data1.minCapacity;if(!(typeof data3 == "number")){const err8 = {instancePath:instancePath+"/properties/minCapacity",schemaPath:"#/definitions/AuroraServerlessV2EngineProperties/properties/minCapacity/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema254.properties.minCapacity.type,parentSchema:schema254.properties.minCapacity,data:data3};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}if(data1.maxCapacity !== undefined){let data4 = data1.maxCapacity;if(!(typeof data4 == "number")){const err9 = {instancePath:instancePath+"/properties/maxCapacity",schemaPath:"#/definitions/AuroraServerlessV2EngineProperties/properties/maxCapacity/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema254.properties.maxCapacity.type,parentSchema:schema254.properties.maxCapacity,data:data4};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(data1.version !== undefined){let data5 = data1.version;if(typeof data5 !== "string"){const err10 = {instancePath:instancePath+"/properties/version",schemaPath:"#/definitions/AuroraServerlessV2EngineProperties/properties/version/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema254.properties.version.type,parentSchema:schema254.properties.version,data:data5};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data1.disableAutoMinorVersionUpgrade !== undefined){let data6 = data1.disableAutoMinorVersionUpgrade;if(typeof data6 !== "boolean"){const err11 = {instancePath:instancePath+"/properties/disableAutoMinorVersionUpgrade",schemaPath:"#/definitions/AuroraServerlessV2EngineProperties/properties/disableAutoMinorVersionUpgrade/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema254.properties.disableAutoMinorVersionUpgrade.type,parentSchema:schema254.properties.disableAutoMinorVersionUpgrade,data:data6};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}}else {const err12 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/AuroraServerlessV2EngineProperties/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema254.type,parentSchema:schema254,data:data1};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}}else {const err13 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema253.type,parentSchema:schema253,data};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}validate268.errors = vErrors;return errors === 0;}const schema255 = {"description":"#### A standard RDS single-instance database engine.\n\n---\n\nRDS engines are fully managed, single-node databases ideal for standard workloads.\nSupported engines include PostgreSQL, MySQL, MariaDB, Oracle, and SQL Server.\n\nRDS handles routine database tasks such as provisioning, patching, backup, recovery,\nand failure detection. For high availability, enable multi-AZ deployment.","type":"object","properties":{"type":{"enum":["mariadb","mysql","oracle-ee","oracle-se2","postgres","sqlserver-ee","sqlserver-ex","sqlserver-se","sqlserver-web"],"type":"string"},"properties":{"$ref":"#/definitions/RdsEngineProperties"}},"additionalProperties":false,"required":["properties","type"]};const schema256 = {"type":"object","properties":{"dbName":{"description":"#### The name of the initial database to create in the cluster.\n\n---\n\nThe behavior of this property depends on the engine:\n- For MySQL, MariaDB, and PostgreSQL, this is the name of the database created on initialization. If not specified, a default database is created.\n- For Oracle, this is the System ID (SID) of the database instance.\n- For SQL Server, this property is not applicable.","type":"string"},"port":{"description":"#### The port on which the database server will listen for connections.\n\n---\n\nDefault ports vary by engine:\n- MySQL/MariaDB: 3306\n- PostgreSQL: 5432\n- Oracle: 1521\n- SQL Server: 1433","type":"number"},"storage":{"$ref":"#/definitions/RdsEngineStorage","description":"#### Configures storage for the database.\n\n---\n\nStorage will automatically scale up when free space is low.\nFor more details on storage autoscaling, see the [AWS documentation](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_PIOPS.StorageTypes.html#USER_PIOPS.Autoscaling)."},"primaryInstance":{"$ref":"#/definitions/RdsEnginePrimaryInstance","description":"#### Configures the primary database instance.\n\n---\n\nThe primary instance handles all write operations. You can specify its size and enable multi-AZ deployment for high availability."},"readReplicas":{"description":"#### A list of read replicas for the primary instance.\n\n---\n\nRead replicas can handle read-only traffic to reduce the load on the primary instance.\nThey are kept in sync with the primary through asynchronous replication.\nEach read replica has its own endpoint.","type":"array","items":{"$ref":"#/definitions/RdsEngineReadReplica"}},"version":{"description":"#### The version of the database engine.\n\n---\n\nEach engine type supports a specific set of versions.\nFor a full list, see the [Stacktape documentation](https://docs.stacktape.com/database-resources/relational-databases/#engine-version).","type":"string"},"disableAutoMinorVersionUpgrade":{"description":"#### Specifies whether minor engine upgrades should be applied automatically.","default":false,"type":"boolean"}},"additionalProperties":false,"required":["primaryInstance","version"]};const schema257 = {"type":"object","properties":{"initialSize":{"description":"#### The initial storage size (in GB) for the database.","default":20,"type":"number"},"maxSize":{"description":"#### The maximum storage size (in GB) that the database can scale up to.","default":200,"type":"number"}},"additionalProperties":false};const schema258 = {"type":"object","properties":{"instanceSize":{"description":"#### The instance size for the database.\n\n---\n\nThis determines the CPU, memory, and networking capacity of the database instance.\nFor a list of available instance sizes, see the [AWS RDS instance types documentation](https://aws.amazon.com/rds/instance-types/).\n\n> **Note:** Not all instance sizes are available for all engines, versions, and regions.\n> Some instance families (like `t3` or `t4`) are intended for development and testing, not production workloads.","type":"string"},"multiAz":{"description":"#### Specifies whether the database should be deployed across multiple Availability Zones (AZs) for high availability.\n\n---\n\nWhen enabled, a standby replica is created in a different AZ. If the primary instance fails, traffic is automatically failed over to the standby.\nThis also minimizes downtime during maintenance.","type":"boolean"}},"additionalProperties":false,"required":["instanceSize"]};const schema259 = {"type":"object","properties":{"instanceSize":{"description":"#### The instance size for the database.\n\n---\n\nThis determines the CPU, memory, and networking capacity of the database instance.\nFor a list of available instance sizes, see the [AWS RDS instance types documentation](https://aws.amazon.com/rds/instance-types/).\n\n> **Note:** Not all instance sizes are available for all engines, versions, and regions.\n> Some instance families (like `t3` or `t4`) are intended for development and testing, not production workloads.","type":"string"},"multiAz":{"description":"#### Specifies whether the database should be deployed across multiple Availability Zones (AZs) for high availability.\n\n---\n\nWhen enabled, a standby replica is created in a different AZ. If the primary instance fails, traffic is automatically failed over to the standby.\nThis also minimizes downtime during maintenance.","type":"boolean"}},"additionalProperties":false,"required":["instanceSize"]};function validate271(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.primaryInstance === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "primaryInstance"},message:"must have required property '"+"primaryInstance"+"'",schema:schema256.required,parentSchema:schema256,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.version === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "version"},message:"must have required property '"+"version"+"'",schema:schema256.required,parentSchema:schema256,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!(((((((key0 === "dbName") || (key0 === "port")) || (key0 === "storage")) || (key0 === "primaryInstance")) || (key0 === "readReplicas")) || (key0 === "version")) || (key0 === "disableAutoMinorVersionUpgrade"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema256,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.dbName !== undefined){let data0 = data.dbName;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/dbName",schemaPath:"#/properties/dbName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema256.properties.dbName.type,parentSchema:schema256.properties.dbName,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.port !== undefined){let data1 = data.port;if(!(typeof data1 == "number")){const err4 = {instancePath:instancePath+"/port",schemaPath:"#/properties/port/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema256.properties.port.type,parentSchema:schema256.properties.port,data:data1};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.storage !== undefined){let data2 = data.storage;if(data2 && typeof data2 == "object" && !Array.isArray(data2)){for(const key1 in data2){if(!((key1 === "initialSize") || (key1 === "maxSize"))){const err5 = {instancePath:instancePath+"/storage",schemaPath:"#/definitions/RdsEngineStorage/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema257,data:data2};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data2.initialSize !== undefined){let data3 = data2.initialSize;if(!(typeof data3 == "number")){const err6 = {instancePath:instancePath+"/storage/initialSize",schemaPath:"#/definitions/RdsEngineStorage/properties/initialSize/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema257.properties.initialSize.type,parentSchema:schema257.properties.initialSize,data:data3};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data2.maxSize !== undefined){let data4 = data2.maxSize;if(!(typeof data4 == "number")){const err7 = {instancePath:instancePath+"/storage/maxSize",schemaPath:"#/definitions/RdsEngineStorage/properties/maxSize/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema257.properties.maxSize.type,parentSchema:schema257.properties.maxSize,data:data4};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}}else {const err8 = {instancePath:instancePath+"/storage",schemaPath:"#/definitions/RdsEngineStorage/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema257.type,parentSchema:schema257,data:data2};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}if(data.primaryInstance !== undefined){let data5 = data.primaryInstance;if(data5 && typeof data5 == "object" && !Array.isArray(data5)){if(data5.instanceSize === undefined){const err9 = {instancePath:instancePath+"/primaryInstance",schemaPath:"#/definitions/RdsEnginePrimaryInstance/required",keyword:"required",params:{missingProperty: "instanceSize"},message:"must have required property '"+"instanceSize"+"'",schema:schema258.required,parentSchema:schema258,data:data5};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}for(const key2 in data5){if(!((key2 === "instanceSize") || (key2 === "multiAz"))){const err10 = {instancePath:instancePath+"/primaryInstance",schemaPath:"#/definitions/RdsEnginePrimaryInstance/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key2},message:"must NOT have additional properties",schema:false,parentSchema:schema258,data:data5};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data5.instanceSize !== undefined){let data6 = data5.instanceSize;if(typeof data6 !== "string"){const err11 = {instancePath:instancePath+"/primaryInstance/instanceSize",schemaPath:"#/definitions/RdsEnginePrimaryInstance/properties/instanceSize/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema258.properties.instanceSize.type,parentSchema:schema258.properties.instanceSize,data:data6};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}if(data5.multiAz !== undefined){let data7 = data5.multiAz;if(typeof data7 !== "boolean"){const err12 = {instancePath:instancePath+"/primaryInstance/multiAz",schemaPath:"#/definitions/RdsEnginePrimaryInstance/properties/multiAz/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema258.properties.multiAz.type,parentSchema:schema258.properties.multiAz,data:data7};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}}else {const err13 = {instancePath:instancePath+"/primaryInstance",schemaPath:"#/definitions/RdsEnginePrimaryInstance/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema258.type,parentSchema:schema258,data:data5};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}if(data.readReplicas !== undefined){let data8 = data.readReplicas;if(Array.isArray(data8)){const len0 = data8.length;for(let i0=0; i0<len0; i0++){let data9 = data8[i0];if(data9 && typeof data9 == "object" && !Array.isArray(data9)){if(data9.instanceSize === undefined){const err14 = {instancePath:instancePath+"/readReplicas/" + i0,schemaPath:"#/definitions/RdsEngineReadReplica/required",keyword:"required",params:{missingProperty: "instanceSize"},message:"must have required property '"+"instanceSize"+"'",schema:schema259.required,parentSchema:schema259,data:data9};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}for(const key3 in data9){if(!((key3 === "instanceSize") || (key3 === "multiAz"))){const err15 = {instancePath:instancePath+"/readReplicas/" + i0,schemaPath:"#/definitions/RdsEngineReadReplica/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key3},message:"must NOT have additional properties",schema:false,parentSchema:schema259,data:data9};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}}if(data9.instanceSize !== undefined){let data10 = data9.instanceSize;if(typeof data10 !== "string"){const err16 = {instancePath:instancePath+"/readReplicas/" + i0+"/instanceSize",schemaPath:"#/definitions/RdsEngineReadReplica/properties/instanceSize/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema259.properties.instanceSize.type,parentSchema:schema259.properties.instanceSize,data:data10};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}}if(data9.multiAz !== undefined){let data11 = data9.multiAz;if(typeof data11 !== "boolean"){const err17 = {instancePath:instancePath+"/readReplicas/" + i0+"/multiAz",schemaPath:"#/definitions/RdsEngineReadReplica/properties/multiAz/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema259.properties.multiAz.type,parentSchema:schema259.properties.multiAz,data:data11};if(vErrors === null){vErrors = [err17];}else {vErrors.push(err17);}errors++;}}}else {const err18 = {instancePath:instancePath+"/readReplicas/" + i0,schemaPath:"#/definitions/RdsEngineReadReplica/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema259.type,parentSchema:schema259,data:data9};if(vErrors === null){vErrors = [err18];}else {vErrors.push(err18);}errors++;}}}else {const err19 = {instancePath:instancePath+"/readReplicas",schemaPath:"#/properties/readReplicas/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema256.properties.readReplicas.type,parentSchema:schema256.properties.readReplicas,data:data8};if(vErrors === null){vErrors = [err19];}else {vErrors.push(err19);}errors++;}}if(data.version !== undefined){let data12 = data.version;if(typeof data12 !== "string"){const err20 = {instancePath:instancePath+"/version",schemaPath:"#/properties/version/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema256.properties.version.type,parentSchema:schema256.properties.version,data:data12};if(vErrors === null){vErrors = [err20];}else {vErrors.push(err20);}errors++;}}if(data.disableAutoMinorVersionUpgrade !== undefined){let data13 = data.disableAutoMinorVersionUpgrade;if(typeof data13 !== "boolean"){const err21 = {instancePath:instancePath+"/disableAutoMinorVersionUpgrade",schemaPath:"#/properties/disableAutoMinorVersionUpgrade/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema256.properties.disableAutoMinorVersionUpgrade.type,parentSchema:schema256.properties.disableAutoMinorVersionUpgrade,data:data13};if(vErrors === null){vErrors = [err21];}else {vErrors.push(err21);}errors++;}}}else {const err22 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema256.type,parentSchema:schema256,data};if(vErrors === null){vErrors = [err22];}else {vErrors.push(err22);}errors++;}validate271.errors = vErrors;return errors === 0;}function validate270(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema255.required,parentSchema:schema255,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema255.required,parentSchema:schema255,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema255,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema255.properties.type.type,parentSchema:schema255.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if(!(((((((((data0 === "mariadb") || (data0 === "mysql")) || (data0 === "oracle-ee")) || (data0 === "oracle-se2")) || (data0 === "postgres")) || (data0 === "sqlserver-ee")) || (data0 === "sqlserver-ex")) || (data0 === "sqlserver-se")) || (data0 === "sqlserver-web"))){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/enum",keyword:"enum",params:{allowedValues: schema255.properties.type.enum},message:"must be equal to one of the allowed values",schema:schema255.properties.type.enum,parentSchema:schema255.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate271(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate271.errors : vErrors.concat(validate271.errors);errors = vErrors.length;}}}else {const err5 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema255.type,parentSchema:schema255,data};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}validate270.errors = vErrors;return errors === 0;}const schema261 = {"type":"object","properties":{"trigger":{"$ref":"#/definitions/RelationalDatabaseAlarmTrigger"},"evaluation":{"$ref":"#/definitions/AlarmEvaluation","description":"#### Specifies the time window for evaluating the metric to determine if the alarm should be triggered.\n\n---\n\nDefines the duration and frequency of metric evaluation."},"notificationTargets":{"description":"#### Defines where to send notifications when the alarm is triggered.\n\n---\n\nYou can specify a list of integrations, such as Slack, MS Teams, or email.","type":"array","items":{"$ref":"#/definitions/AlarmUserIntegration"}},"description":{"description":"#### Custom description for the alarm\n---\n- If custom description is specified, it is used in the alarm notification message\n- Custom description is also used in the alarm description in the AWS console (If not provided, Stacktape generates default description.)","type":"string"}},"additionalProperties":false,"required":["trigger"]};const schema262 = {"anyOf":[{"$ref":"#/definitions/RelationalDatabaseReadLatencyTrigger"},{"$ref":"#/definitions/RelationalDatabaseWriteLatencyTrigger"},{"$ref":"#/definitions/RelationalDatabaseCPUUtilizationTrigger"},{"$ref":"#/definitions/RelationalDatabaseFreeStorageTrigger"},{"$ref":"#/definitions/RelationalDatabaseFreeMemoryTrigger"},{"$ref":"#/definitions/RelationalDatabaseConnectionCountTrigger"}]};const schema263 = {"type":"object","properties":{"type":{"type":"string","const":"database-read-latency"},"properties":{"$ref":"#/definitions/RelationalDatabaseReadLatencyTriggerProps"}},"additionalProperties":false,"required":["properties","type"]};const schema264 = {"type":"object","properties":{"thresholdSeconds":{"description":"#### The read latency in seconds that triggers the alarm.\n\n---\n\nRead latency is the average amount of time taken for a read I/O operation.\nBy default, the alarm triggers if the **average** read latency over the evaluation period is **greater than** the `thresholdSeconds`.\nYou can customize the behavior using the `statistic` and `comparisonOperator` properties.","type":"number"},"comparisonOperator":{"$ref":"#/definitions/ComparisonOperator","description":"#### The arithmetic operation to use when comparing the specified statistic and threshold.\n\n---\n\nSupported operators:\n- `GreaterThanThreshold`\n- `GreaterThanOrEqualToThreshold`\n- `LessThanThreshold`\n- `LessThanOrEqualToThreshold`"},"statistic":{"$ref":"#/definitions/StatisticFunction","description":"#### The statistic to apply to the metric data points.\n\n---\n\nSupported statistics:\n- **avg**: The average of the metric values.\n- **sum**: The sum of the metric values.\n- **p90**: The 90th percentile. 90% of the data points are lower than this value.\n- **p95**: The 95th percentile. 95% of the data points are lower than this value.\n- **p99**: The 99th percentile. 99% of the data points are lower than this value.\n- **min**: The lowest value from the data points.\n- **max**: The highest value from the data points.","default":"avg"}},"additionalProperties":false,"required":["thresholdSeconds"]};function validate277(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.thresholdSeconds === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "thresholdSeconds"},message:"must have required property '"+"thresholdSeconds"+"'",schema:schema264.required,parentSchema:schema264,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!(((key0 === "thresholdSeconds") || (key0 === "comparisonOperator")) || (key0 === "statistic"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema264,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.thresholdSeconds !== undefined){let data0 = data.thresholdSeconds;if(!(typeof data0 == "number")){const err2 = {instancePath:instancePath+"/thresholdSeconds",schemaPath:"#/properties/thresholdSeconds/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema264.properties.thresholdSeconds.type,parentSchema:schema264.properties.thresholdSeconds,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.comparisonOperator !== undefined){let data1 = data.comparisonOperator;if(typeof data1 !== "string"){const err3 = {instancePath:instancePath+"/comparisonOperator",schemaPath:"#/definitions/ComparisonOperator/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema198.type,parentSchema:schema198,data:data1};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if(!((((data1 === "GreaterThanOrEqualToThreshold") || (data1 === "GreaterThanThreshold")) || (data1 === "LessThanOrEqualToThreshold")) || (data1 === "LessThanThreshold"))){const err4 = {instancePath:instancePath+"/comparisonOperator",schemaPath:"#/definitions/ComparisonOperator/enum",keyword:"enum",params:{allowedValues: schema198.enum},message:"must be equal to one of the allowed values",schema:schema198.enum,parentSchema:schema198,data:data1};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.statistic !== undefined){let data2 = data.statistic;if(typeof data2 !== "string"){const err5 = {instancePath:instancePath+"/statistic",schemaPath:"#/definitions/StatisticFunction/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema197.type,parentSchema:schema197,data:data2};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}if(!(((((((data2 === "avg") || (data2 === "max")) || (data2 === "min")) || (data2 === "p90")) || (data2 === "p95")) || (data2 === "p99")) || (data2 === "sum"))){const err6 = {instancePath:instancePath+"/statistic",schemaPath:"#/definitions/StatisticFunction/enum",keyword:"enum",params:{allowedValues: schema197.enum},message:"must be equal to one of the allowed values",schema:schema197.enum,parentSchema:schema197,data:data2};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}}else {const err7 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema264.type,parentSchema:schema264,data};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}validate277.errors = vErrors;return errors === 0;}function validate276(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema263.required,parentSchema:schema263,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema263.required,parentSchema:schema263,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema263,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema263.properties.type.type,parentSchema:schema263.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("database-read-latency" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "database-read-latency"},message:"must be equal to constant",schema:"database-read-latency",parentSchema:schema263.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate277(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate277.errors : vErrors.concat(validate277.errors);errors = vErrors.length;}}}else {const err5 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema263.type,parentSchema:schema263,data};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}validate276.errors = vErrors;return errors === 0;}const schema267 = {"type":"object","properties":{"type":{"type":"string","const":"database-write-latency"},"properties":{"$ref":"#/definitions/RelationalDatabaseWriteLatencyTriggerProps"}},"additionalProperties":false,"required":["properties","type"]};const schema268 = {"type":"object","properties":{"thresholdSeconds":{"description":"#### The write latency in seconds that triggers the alarm.\n\n---\n\nWrite latency is the average amount of time taken for a write I/O operation.\nBy default, the alarm triggers if the **average** write latency over the evaluation period is **greater than** the `thresholdSeconds`.\nYou can customize the behavior using the `statistic` and `comparisonOperator` properties.","type":"number"},"comparisonOperator":{"$ref":"#/definitions/ComparisonOperator","description":"#### The arithmetic operation to use when comparing the specified statistic and threshold.\n\n---\n\nSupported operators:\n- `GreaterThanThreshold`\n- `GreaterThanOrEqualToThreshold`\n- `LessThanThreshold`\n- `LessThanOrEqualToThreshold`"},"statistic":{"$ref":"#/definitions/StatisticFunction","description":"#### The statistic to apply to the metric data points.\n\n---\n\nSupported statistics:\n- **avg**: The average of the metric values.\n- **sum**: The sum of the metric values.\n- **p90**: The 90th percentile. 90% of the data points are lower than this value.\n- **p95**: The 95th percentile. 95% of the data points are lower than this value.\n- **p99**: The 99th percentile. 99% of the data points are lower than this value.\n- **min**: The lowest value from the data points.\n- **max**: The highest value from the data points.","default":"avg"}},"additionalProperties":false,"required":["thresholdSeconds"]};function validate281(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.thresholdSeconds === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "thresholdSeconds"},message:"must have required property '"+"thresholdSeconds"+"'",schema:schema268.required,parentSchema:schema268,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!(((key0 === "thresholdSeconds") || (key0 === "comparisonOperator")) || (key0 === "statistic"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema268,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.thresholdSeconds !== undefined){let data0 = data.thresholdSeconds;if(!(typeof data0 == "number")){const err2 = {instancePath:instancePath+"/thresholdSeconds",schemaPath:"#/properties/thresholdSeconds/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema268.properties.thresholdSeconds.type,parentSchema:schema268.properties.thresholdSeconds,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.comparisonOperator !== undefined){let data1 = data.comparisonOperator;if(typeof data1 !== "string"){const err3 = {instancePath:instancePath+"/comparisonOperator",schemaPath:"#/definitions/ComparisonOperator/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema198.type,parentSchema:schema198,data:data1};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if(!((((data1 === "GreaterThanOrEqualToThreshold") || (data1 === "GreaterThanThreshold")) || (data1 === "LessThanOrEqualToThreshold")) || (data1 === "LessThanThreshold"))){const err4 = {instancePath:instancePath+"/comparisonOperator",schemaPath:"#/definitions/ComparisonOperator/enum",keyword:"enum",params:{allowedValues: schema198.enum},message:"must be equal to one of the allowed values",schema:schema198.enum,parentSchema:schema198,data:data1};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.statistic !== undefined){let data2 = data.statistic;if(typeof data2 !== "string"){const err5 = {instancePath:instancePath+"/statistic",schemaPath:"#/definitions/StatisticFunction/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema197.type,parentSchema:schema197,data:data2};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}if(!(((((((data2 === "avg") || (data2 === "max")) || (data2 === "min")) || (data2 === "p90")) || (data2 === "p95")) || (data2 === "p99")) || (data2 === "sum"))){const err6 = {instancePath:instancePath+"/statistic",schemaPath:"#/definitions/StatisticFunction/enum",keyword:"enum",params:{allowedValues: schema197.enum},message:"must be equal to one of the allowed values",schema:schema197.enum,parentSchema:schema197,data:data2};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}}else {const err7 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema268.type,parentSchema:schema268,data};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}validate281.errors = vErrors;return errors === 0;}function validate280(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema267.required,parentSchema:schema267,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema267.required,parentSchema:schema267,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema267,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema267.properties.type.type,parentSchema:schema267.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("database-write-latency" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "database-write-latency"},message:"must be equal to constant",schema:"database-write-latency",parentSchema:schema267.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate281(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate281.errors : vErrors.concat(validate281.errors);errors = vErrors.length;}}}else {const err5 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema267.type,parentSchema:schema267,data};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}validate280.errors = vErrors;return errors === 0;}const schema271 = {"type":"object","properties":{"type":{"type":"string","const":"database-cpu-utilization"},"properties":{"$ref":"#/definitions/RelationalDatabaseCPUUtilizationTriggerProps"}},"additionalProperties":false,"required":["properties","type"]};const schema272 = {"type":"object","properties":{"thresholdPercent":{"description":"#### The CPU utilization percentage that triggers the alarm.\n\n---\n\nBy default, the alarm triggers if the **average** CPU utilization over the evaluation period is **greater than** the `thresholdPercent`.\nYou can customize the behavior using the `statistic` and `comparisonOperator` properties.","type":"number"},"comparisonOperator":{"$ref":"#/definitions/ComparisonOperator","description":"#### The arithmetic operation to use when comparing the specified statistic and threshold.\n\n---\n\nSupported operators:\n- `GreaterThanThreshold`\n- `GreaterThanOrEqualToThreshold`\n- `LessThanThreshold`\n- `LessThanOrEqualToThreshold`"},"statistic":{"$ref":"#/definitions/StatisticFunction","description":"#### The statistic to apply to the metric data points.\n\n---\n\nSupported statistics:\n- **avg**: The average of the metric values.\n- **sum**: The sum of the metric values.\n- **p90**: The 90th percentile. 90% of the data points are lower than this value.\n- **p95**: The 95th percentile. 95% of the data points are lower than this value.\n- **p99**: The 99th percentile. 99% of the data points are lower than this value.\n- **min**: The lowest value from the data points.\n- **max**: The highest value from the data points.","default":"avg"}},"additionalProperties":false,"required":["thresholdPercent"]};function validate285(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.thresholdPercent === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "thresholdPercent"},message:"must have required property '"+"thresholdPercent"+"'",schema:schema272.required,parentSchema:schema272,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!(((key0 === "thresholdPercent") || (key0 === "comparisonOperator")) || (key0 === "statistic"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema272,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.thresholdPercent !== undefined){let data0 = data.thresholdPercent;if(!(typeof data0 == "number")){const err2 = {instancePath:instancePath+"/thresholdPercent",schemaPath:"#/properties/thresholdPercent/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema272.properties.thresholdPercent.type,parentSchema:schema272.properties.thresholdPercent,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.comparisonOperator !== undefined){let data1 = data.comparisonOperator;if(typeof data1 !== "string"){const err3 = {instancePath:instancePath+"/comparisonOperator",schemaPath:"#/definitions/ComparisonOperator/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema198.type,parentSchema:schema198,data:data1};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if(!((((data1 === "GreaterThanOrEqualToThreshold") || (data1 === "GreaterThanThreshold")) || (data1 === "LessThanOrEqualToThreshold")) || (data1 === "LessThanThreshold"))){const err4 = {instancePath:instancePath+"/comparisonOperator",schemaPath:"#/definitions/ComparisonOperator/enum",keyword:"enum",params:{allowedValues: schema198.enum},message:"must be equal to one of the allowed values",schema:schema198.enum,parentSchema:schema198,data:data1};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.statistic !== undefined){let data2 = data.statistic;if(typeof data2 !== "string"){const err5 = {instancePath:instancePath+"/statistic",schemaPath:"#/definitions/StatisticFunction/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema197.type,parentSchema:schema197,data:data2};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}if(!(((((((data2 === "avg") || (data2 === "max")) || (data2 === "min")) || (data2 === "p90")) || (data2 === "p95")) || (data2 === "p99")) || (data2 === "sum"))){const err6 = {instancePath:instancePath+"/statistic",schemaPath:"#/definitions/StatisticFunction/enum",keyword:"enum",params:{allowedValues: schema197.enum},message:"must be equal to one of the allowed values",schema:schema197.enum,parentSchema:schema197,data:data2};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}}else {const err7 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema272.type,parentSchema:schema272,data};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}validate285.errors = vErrors;return errors === 0;}function validate284(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema271.required,parentSchema:schema271,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema271.required,parentSchema:schema271,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema271,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema271.properties.type.type,parentSchema:schema271.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("database-cpu-utilization" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "database-cpu-utilization"},message:"must be equal to constant",schema:"database-cpu-utilization",parentSchema:schema271.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate285(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate285.errors : vErrors.concat(validate285.errors);errors = vErrors.length;}}}else {const err5 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema271.type,parentSchema:schema271,data};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}validate284.errors = vErrors;return errors === 0;}const schema275 = {"type":"object","properties":{"type":{"type":"string","const":"database-free-storage"},"properties":{"$ref":"#/definitions/RelationalDatabaseFreeStorageTriggerProps"}},"additionalProperties":false,"required":["properties","type"]};const schema276 = {"type":"object","properties":{"thresholdMB":{"description":"#### The minimum amount of free storage (in MB) before the alarm is triggered.\n\n---\n\nBy default, the alarm triggers if the **minimum** available storage space over the evaluation period is **lower than** the `thresholdMB`.\nYou can customize the behavior using the `statistic` and `comparisonOperator` properties.","type":"number"},"comparisonOperator":{"$ref":"#/definitions/ComparisonOperator","description":"#### The arithmetic operation to use when comparing the specified statistic and threshold.\n\n---\n\nSupported operators:\n- `GreaterThanThreshold`\n- `GreaterThanOrEqualToThreshold`\n- `LessThanThreshold`\n- `LessThanOrEqualToThreshold`"},"statistic":{"$ref":"#/definitions/StatisticFunction","description":"#### The statistic to apply to the metric data points.\n\n---\n\nSupported statistics:\n- **avg**: The average of the metric values.\n- **sum**: The sum of the metric values.\n- **p90**: The 90th percentile. 90% of the data points are lower than this value.\n- **p95**: The 95th percentile. 95% of the data points are lower than this value.\n- **p99**: The 99th percentile. 99% of the data points are lower than this value.\n- **min**: The lowest value from the data points.\n- **max**: The highest value from the data points.","default":"avg"}},"additionalProperties":false,"required":["thresholdMB"]};function validate289(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.thresholdMB === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "thresholdMB"},message:"must have required property '"+"thresholdMB"+"'",schema:schema276.required,parentSchema:schema276,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!(((key0 === "thresholdMB") || (key0 === "comparisonOperator")) || (key0 === "statistic"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema276,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.thresholdMB !== undefined){let data0 = data.thresholdMB;if(!(typeof data0 == "number")){const err2 = {instancePath:instancePath+"/thresholdMB",schemaPath:"#/properties/thresholdMB/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema276.properties.thresholdMB.type,parentSchema:schema276.properties.thresholdMB,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.comparisonOperator !== undefined){let data1 = data.comparisonOperator;if(typeof data1 !== "string"){const err3 = {instancePath:instancePath+"/comparisonOperator",schemaPath:"#/definitions/ComparisonOperator/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema198.type,parentSchema:schema198,data:data1};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if(!((((data1 === "GreaterThanOrEqualToThreshold") || (data1 === "GreaterThanThreshold")) || (data1 === "LessThanOrEqualToThreshold")) || (data1 === "LessThanThreshold"))){const err4 = {instancePath:instancePath+"/comparisonOperator",schemaPath:"#/definitions/ComparisonOperator/enum",keyword:"enum",params:{allowedValues: schema198.enum},message:"must be equal to one of the allowed values",schema:schema198.enum,parentSchema:schema198,data:data1};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.statistic !== undefined){let data2 = data.statistic;if(typeof data2 !== "string"){const err5 = {instancePath:instancePath+"/statistic",schemaPath:"#/definitions/StatisticFunction/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema197.type,parentSchema:schema197,data:data2};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}if(!(((((((data2 === "avg") || (data2 === "max")) || (data2 === "min")) || (data2 === "p90")) || (data2 === "p95")) || (data2 === "p99")) || (data2 === "sum"))){const err6 = {instancePath:instancePath+"/statistic",schemaPath:"#/definitions/StatisticFunction/enum",keyword:"enum",params:{allowedValues: schema197.enum},message:"must be equal to one of the allowed values",schema:schema197.enum,parentSchema:schema197,data:data2};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}}else {const err7 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema276.type,parentSchema:schema276,data};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}validate289.errors = vErrors;return errors === 0;}function validate288(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema275.required,parentSchema:schema275,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema275.required,parentSchema:schema275,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema275,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema275.properties.type.type,parentSchema:schema275.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("database-free-storage" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "database-free-storage"},message:"must be equal to constant",schema:"database-free-storage",parentSchema:schema275.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate289(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate289.errors : vErrors.concat(validate289.errors);errors = vErrors.length;}}}else {const err5 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema275.type,parentSchema:schema275,data};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}validate288.errors = vErrors;return errors === 0;}const schema279 = {"type":"object","properties":{"type":{"type":"string","const":"database-free-memory"},"properties":{"$ref":"#/definitions/RelationalDatabaseFreeMemoryTriggerProps"}},"additionalProperties":false,"required":["properties","type"]};const schema280 = {"type":"object","properties":{"thresholdMB":{"description":"#### The minimum amount of free memory (in MB) before the alarm is triggered.\n\n---\n\nBy default, the alarm triggers if the **average** available free memory over the evaluation period is **lower than** the `thresholdMB`.\nYou can customize the behavior using the `statistic` and `comparisonOperator` properties.","type":"number"},"comparisonOperator":{"$ref":"#/definitions/ComparisonOperator","description":"#### The arithmetic operation to use when comparing the specified statistic and threshold.\n\n---\n\nSupported operators:\n- `GreaterThanThreshold`\n- `GreaterThanOrEqualToThreshold`\n- `LessThanThreshold`\n- `LessThanOrEqualToThreshold`"},"statistic":{"$ref":"#/definitions/StatisticFunction","description":"#### The statistic to apply to the metric data points.\n\n---\n\nSupported statistics:\n- **avg**: The average of the metric values.\n- **sum**: The sum of the metric values.\n- **p90**: The 90th percentile. 90% of the data points are lower than this value.\n- **p95**: The 95th percentile. 95% of the data points are lower than this value.\n- **p99**: The 99th percentile. 99% of the data points are lower than this value.\n- **min**: The lowest value from the data points.\n- **max**: The highest value from the data points.","default":"avg"}},"additionalProperties":false,"required":["thresholdMB"]};function validate293(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.thresholdMB === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "thresholdMB"},message:"must have required property '"+"thresholdMB"+"'",schema:schema280.required,parentSchema:schema280,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!(((key0 === "thresholdMB") || (key0 === "comparisonOperator")) || (key0 === "statistic"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema280,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.thresholdMB !== undefined){let data0 = data.thresholdMB;if(!(typeof data0 == "number")){const err2 = {instancePath:instancePath+"/thresholdMB",schemaPath:"#/properties/thresholdMB/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema280.properties.thresholdMB.type,parentSchema:schema280.properties.thresholdMB,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.comparisonOperator !== undefined){let data1 = data.comparisonOperator;if(typeof data1 !== "string"){const err3 = {instancePath:instancePath+"/comparisonOperator",schemaPath:"#/definitions/ComparisonOperator/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema198.type,parentSchema:schema198,data:data1};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if(!((((data1 === "GreaterThanOrEqualToThreshold") || (data1 === "GreaterThanThreshold")) || (data1 === "LessThanOrEqualToThreshold")) || (data1 === "LessThanThreshold"))){const err4 = {instancePath:instancePath+"/comparisonOperator",schemaPath:"#/definitions/ComparisonOperator/enum",keyword:"enum",params:{allowedValues: schema198.enum},message:"must be equal to one of the allowed values",schema:schema198.enum,parentSchema:schema198,data:data1};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.statistic !== undefined){let data2 = data.statistic;if(typeof data2 !== "string"){const err5 = {instancePath:instancePath+"/statistic",schemaPath:"#/definitions/StatisticFunction/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema197.type,parentSchema:schema197,data:data2};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}if(!(((((((data2 === "avg") || (data2 === "max")) || (data2 === "min")) || (data2 === "p90")) || (data2 === "p95")) || (data2 === "p99")) || (data2 === "sum"))){const err6 = {instancePath:instancePath+"/statistic",schemaPath:"#/definitions/StatisticFunction/enum",keyword:"enum",params:{allowedValues: schema197.enum},message:"must be equal to one of the allowed values",schema:schema197.enum,parentSchema:schema197,data:data2};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}}else {const err7 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema280.type,parentSchema:schema280,data};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}validate293.errors = vErrors;return errors === 0;}function validate292(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema279.required,parentSchema:schema279,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema279.required,parentSchema:schema279,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema279,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema279.properties.type.type,parentSchema:schema279.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("database-free-memory" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "database-free-memory"},message:"must be equal to constant",schema:"database-free-memory",parentSchema:schema279.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate293(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate293.errors : vErrors.concat(validate293.errors);errors = vErrors.length;}}}else {const err5 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema279.type,parentSchema:schema279,data};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}validate292.errors = vErrors;return errors === 0;}const schema283 = {"type":"object","properties":{"type":{"type":"string","const":"database-connection-count"},"properties":{"$ref":"#/definitions/RelationalDatabaseConnectionCountTriggerProps"}},"additionalProperties":false,"required":["properties","type"]};const schema284 = {"type":"object","properties":{"thresholdCount":{"description":"#### The number of database connections that triggers the alarm.\n\n---\n\nBy default, the alarm triggers if the **average** number of database connections over the evaluation period is **greater than** the `thresholdCount`.\nYou can customize the behavior using the `statistic` and `comparisonOperator` properties.","type":"number"},"comparisonOperator":{"$ref":"#/definitions/ComparisonOperator","description":"#### The arithmetic operation to use when comparing the specified statistic and threshold.\n\n---\n\nSupported operators:\n- `GreaterThanThreshold`\n- `GreaterThanOrEqualToThreshold`\n- `LessThanThreshold`\n- `LessThanOrEqualToThreshold`"},"statistic":{"$ref":"#/definitions/StatisticFunction","description":"#### The statistic to apply to the metric data points.\n\n---\n\nSupported statistics:\n- **avg**: The average of the metric values.\n- **sum**: The sum of the metric values.\n- **p90**: The 90th percentile. 90% of the data points are lower than this value.\n- **p95**: The 95th percentile. 95% of the data points are lower than this value.\n- **p99**: The 99th percentile. 99% of the data points are lower than this value.\n- **min**: The lowest value from the data points.\n- **max**: The highest value from the data points.","default":"avg"}},"additionalProperties":false,"required":["thresholdCount"]};function validate297(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.thresholdCount === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "thresholdCount"},message:"must have required property '"+"thresholdCount"+"'",schema:schema284.required,parentSchema:schema284,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!(((key0 === "thresholdCount") || (key0 === "comparisonOperator")) || (key0 === "statistic"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema284,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.thresholdCount !== undefined){let data0 = data.thresholdCount;if(!(typeof data0 == "number")){const err2 = {instancePath:instancePath+"/thresholdCount",schemaPath:"#/properties/thresholdCount/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema284.properties.thresholdCount.type,parentSchema:schema284.properties.thresholdCount,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.comparisonOperator !== undefined){let data1 = data.comparisonOperator;if(typeof data1 !== "string"){const err3 = {instancePath:instancePath+"/comparisonOperator",schemaPath:"#/definitions/ComparisonOperator/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema198.type,parentSchema:schema198,data:data1};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if(!((((data1 === "GreaterThanOrEqualToThreshold") || (data1 === "GreaterThanThreshold")) || (data1 === "LessThanOrEqualToThreshold")) || (data1 === "LessThanThreshold"))){const err4 = {instancePath:instancePath+"/comparisonOperator",schemaPath:"#/definitions/ComparisonOperator/enum",keyword:"enum",params:{allowedValues: schema198.enum},message:"must be equal to one of the allowed values",schema:schema198.enum,parentSchema:schema198,data:data1};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.statistic !== undefined){let data2 = data.statistic;if(typeof data2 !== "string"){const err5 = {instancePath:instancePath+"/statistic",schemaPath:"#/definitions/StatisticFunction/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema197.type,parentSchema:schema197,data:data2};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}if(!(((((((data2 === "avg") || (data2 === "max")) || (data2 === "min")) || (data2 === "p90")) || (data2 === "p95")) || (data2 === "p99")) || (data2 === "sum"))){const err6 = {instancePath:instancePath+"/statistic",schemaPath:"#/definitions/StatisticFunction/enum",keyword:"enum",params:{allowedValues: schema197.enum},message:"must be equal to one of the allowed values",schema:schema197.enum,parentSchema:schema197,data:data2};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}}else {const err7 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema284.type,parentSchema:schema284,data};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}validate297.errors = vErrors;return errors === 0;}function validate296(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema283.required,parentSchema:schema283,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema283.required,parentSchema:schema283,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema283,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema283.properties.type.type,parentSchema:schema283.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("database-connection-count" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "database-connection-count"},message:"must be equal to constant",schema:"database-connection-count",parentSchema:schema283.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate297(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate297.errors : vErrors.concat(validate297.errors);errors = vErrors.length;}}}else {const err5 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema283.type,parentSchema:schema283,data};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}validate296.errors = vErrors;return errors === 0;}function validate275(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;const _errs0 = errors;let valid0 = false;const _errs1 = errors;if(!(validate276(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate276.errors : vErrors.concat(validate276.errors);errors = vErrors.length;}var _valid0 = _errs1 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs2 = errors;if(!(validate280(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate280.errors : vErrors.concat(validate280.errors);errors = vErrors.length;}var _valid0 = _errs2 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs3 = errors;if(!(validate284(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate284.errors : vErrors.concat(validate284.errors);errors = vErrors.length;}var _valid0 = _errs3 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs4 = errors;if(!(validate288(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate288.errors : vErrors.concat(validate288.errors);errors = vErrors.length;}var _valid0 = _errs4 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs5 = errors;if(!(validate292(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate292.errors : vErrors.concat(validate292.errors);errors = vErrors.length;}var _valid0 = _errs5 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs6 = errors;if(!(validate296(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate296.errors : vErrors.concat(validate296.errors);errors = vErrors.length;}var _valid0 = _errs6 === errors;valid0 = valid0 || _valid0;}}}}}if(!valid0){const err0 = {instancePath,schemaPath:"#/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:schema262.anyOf,parentSchema:schema262,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}else {errors = _errs0;if(vErrors !== null){if(_errs0){vErrors.length = _errs0;}else {vErrors = null;}}}validate275.errors = vErrors;return errors === 0;}function validate274(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.trigger === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "trigger"},message:"must have required property '"+"trigger"+"'",schema:schema261.required,parentSchema:schema261,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!((((key0 === "trigger") || (key0 === "evaluation")) || (key0 === "notificationTargets")) || (key0 === "description"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema261,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.trigger !== undefined){if(!(validate275(data.trigger, {instancePath:instancePath+"/trigger",parentData:data,parentDataProperty:"trigger",rootData}))){vErrors = vErrors === null ? validate275.errors : vErrors.concat(validate275.errors);errors = vErrors.length;}}if(data.evaluation !== undefined){let data1 = data.evaluation;if(data1 && typeof data1 == "object" && !Array.isArray(data1)){for(const key1 in data1){if(!(((key1 === "period") || (key1 === "evaluationPeriods")) || (key1 === "breachedPeriods"))){const err2 = {instancePath:instancePath+"/evaluation",schemaPath:"#/definitions/AlarmEvaluation/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema205,data:data1};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data1.period !== undefined){let data2 = data1.period;if(!(typeof data2 == "number")){const err3 = {instancePath:instancePath+"/evaluation/period",schemaPath:"#/definitions/AlarmEvaluation/properties/period/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema205.properties.period.type,parentSchema:schema205.properties.period,data:data2};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data1.evaluationPeriods !== undefined){let data3 = data1.evaluationPeriods;if(!(typeof data3 == "number")){const err4 = {instancePath:instancePath+"/evaluation/evaluationPeriods",schemaPath:"#/definitions/AlarmEvaluation/properties/evaluationPeriods/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema205.properties.evaluationPeriods.type,parentSchema:schema205.properties.evaluationPeriods,data:data3};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data1.breachedPeriods !== undefined){let data4 = data1.breachedPeriods;if(!(typeof data4 == "number")){const err5 = {instancePath:instancePath+"/evaluation/breachedPeriods",schemaPath:"#/definitions/AlarmEvaluation/properties/breachedPeriods/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema205.properties.breachedPeriods.type,parentSchema:schema205.properties.breachedPeriods,data:data4};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}}else {const err6 = {instancePath:instancePath+"/evaluation",schemaPath:"#/definitions/AlarmEvaluation/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema205.type,parentSchema:schema205,data:data1};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data.notificationTargets !== undefined){let data5 = data.notificationTargets;if(Array.isArray(data5)){const len0 = data5.length;for(let i0=0; i0<len0; i0++){if(!(validate209(data5[i0], {instancePath:instancePath+"/notificationTargets/" + i0,parentData:data5,parentDataProperty:i0,rootData}))){vErrors = vErrors === null ? validate209.errors : vErrors.concat(validate209.errors);errors = vErrors.length;}}}else {const err7 = {instancePath:instancePath+"/notificationTargets",schemaPath:"#/properties/notificationTargets/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema261.properties.notificationTargets.type,parentSchema:schema261.properties.notificationTargets,data:data5};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data.description !== undefined){let data7 = data.description;if(typeof data7 !== "string"){const err8 = {instancePath:instancePath+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema261.properties.description.type,parentSchema:schema261.properties.description,data:data7};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}}else {const err9 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema261.type,parentSchema:schema261,data};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}validate274.errors = vErrors;return errors === 0;}const schema288 = {"type":"object","properties":{"disabled":{"description":"#### Disables the collection of database server logs to CloudWatch.","default":false,"type":"boolean"},"retentionDays":{"description":"#### The number of days to retain logs in CloudWatch.","default":90,"enum":[1,120,14,150,180,1827,3,30,365,3653,400,5,545,60,7,731,90],"type":"number"},"logTypes":{"description":"#### The types of logs to export to CloudWatch.\n\n---\n\nThe available log types depend on the database engine.\n\n- **PostgreSQL**: `postgresql`\n- **MySQL/MariaDB**: `audit`, `error`, `general`, `slowquery`\n- **Oracle**: `alert`, `audit`, `listener`, `trace`\n- **SQL Server**: `agent`, `error`","type":"array","items":{"type":"string"}},"engineSpecificOptions":{"description":"#### Engine-specific logging options.\n\n---\n\nThis allows for more granular control over what is logged.\nCurrently supported for PostgreSQL, MySQL, and MariaDB.","anyOf":[{"$ref":"#/definitions/PostgresLoggingOptions"},{"$ref":"#/definitions/MysqlLoggingOptions"}]},"logForwarding":{"description":"#### Log Forwarding\n\n---\n\nForwards logs to a specified destination for monitoring, analysis, or long-term storage.\n\nLog forwarding is handled by an [Amazon Kinesis Data Firehose](https://aws.amazon.com/kinesis/data-firehose/) delivery stream. You will incur costs based on the volume of data transferred (approximately $0.03 per GB). For detailed pricing, see the [AWS Kinesis Firehose Pricing](https://aws.amazon.com/kinesis/data-firehose/pricing/) page.\n\nSupported destinations:\n- `http-endpoint`: Delivers logs to any HTTP endpoint that complies with [Firehose request and response specifications](https://docs.aws.amazon.com/firehose/latest/dev/httpdeliveryrequestresponse.html). Many third-party logging services are compatible out-of-the-box.\n- `datadog`: Delivers logs to [Datadog](https://www.datadoghq.com/).\n- `highlight`: Delivers logs to a [Highlight.io](https://www.highlight.io/) project.\n\nFor more information, refer to the [Stacktape documentation on log forwarding](https://docs.stacktape.com/configuration/log-forwarding/).\n\n> If logs fail to be delivered after multiple retries, they are stored in a backup S3 bucket named `{stackName}-{resourceName}-logs-{generatedHash}`. The retry duration can be configured.","anyOf":[{"$ref":"#/definitions/HttpEndpointLogForwarding"},{"$ref":"#/definitions/HighlightLogForwarding"},{"$ref":"#/definitions/DatadogLogForwarding"}]}},"additionalProperties":false};const schema289 = {"type":"object","properties":{"log_connections":{"description":"#### Logs all new client connections.","default":false,"type":"boolean"},"log_disconnections":{"description":"#### Logs all client disconnections.","default":false,"type":"boolean"},"log_lock_waits":{"description":"#### Logs sessions that are waiting for a lock.\n\n---\n\nThis can help identify performance issues caused by lock contention.","default":false,"type":"boolean"},"log_min_duration_statement":{"description":"#### The minimum execution time (in milliseconds) for a statement to be logged.\n\n---\n\n- `-1`: Disables this feature.\n- `0`: Logs all statements.\n- `>0`: Logs statements that exceed this duration.\n\nThis is useful for identifying slow queries.","default":10000,"type":"number"},"log_statement":{"description":"#### Controls which types of SQL statements are logged.\n\n---\n\n- `none`: No statements are logged.\n- `ddl`: Logs all Data Definition Language (DDL) statements (e.g., `CREATE`, `ALTER`).\n- `mod`: Logs all DDL statements plus `INSERT`, `UPDATE`, and `DELETE`.\n- `all`: Logs all statements.","default":"ddl","enum":["all","ddl","mod","none"],"type":"string"}},"additionalProperties":false};const schema290 = {"type":"object","properties":{"server_audit_events":{"description":"#### The types of activity to record in the audit log.\n\n---\n\n- `CONNECT`: Successful and unsuccessful connections and disconnections.\n- `QUERY`: The text of all queries.\n- `QUERY_DDL`: Only Data Definition Language (DDL) queries.\n- `QUERY_DML`: Only Data Manipulation Language (DML) queries (including `SELECT`).\n- `QUERY_DML_NO_SELECT`: DML queries, excluding `SELECT`.\n- `QUERY_DCL`: Only Data Control Language (DCL) queries.","default":["QUERY_DDL"],"type":"array","items":{"enum":["CONNECT","QUERY","QUERY_DCL","QUERY_DDL","QUERY_DML","QUERY_DML_NO_SELECT"],"type":"string"}},"long_query_time":{"description":"#### The execution time (in seconds) above which a query is considered \"slow\" and logged to the slow query log.\n\n---\n\nUse `-1` to disable slow query logging.","default":10,"type":"number"}},"additionalProperties":false};function validate303(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){for(const key0 in data){if(!(((((key0 === "disabled") || (key0 === "retentionDays")) || (key0 === "logTypes")) || (key0 === "engineSpecificOptions")) || (key0 === "logForwarding"))){const err0 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema288,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}}if(data.disabled !== undefined){let data0 = data.disabled;if(typeof data0 !== "boolean"){const err1 = {instancePath:instancePath+"/disabled",schemaPath:"#/properties/disabled/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema288.properties.disabled.type,parentSchema:schema288.properties.disabled,data:data0};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.retentionDays !== undefined){let data1 = data.retentionDays;if(!(typeof data1 == "number")){const err2 = {instancePath:instancePath+"/retentionDays",schemaPath:"#/properties/retentionDays/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema288.properties.retentionDays.type,parentSchema:schema288.properties.retentionDays,data:data1};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}if(!(((((((((((((((((data1 === 1) || (data1 === 120)) || (data1 === 14)) || (data1 === 150)) || (data1 === 180)) || (data1 === 1827)) || (data1 === 3)) || (data1 === 30)) || (data1 === 365)) || (data1 === 3653)) || (data1 === 400)) || (data1 === 5)) || (data1 === 545)) || (data1 === 60)) || (data1 === 7)) || (data1 === 731)) || (data1 === 90))){const err3 = {instancePath:instancePath+"/retentionDays",schemaPath:"#/properties/retentionDays/enum",keyword:"enum",params:{allowedValues: schema288.properties.retentionDays.enum},message:"must be equal to one of the allowed values",schema:schema288.properties.retentionDays.enum,parentSchema:schema288.properties.retentionDays,data:data1};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.logTypes !== undefined){let data2 = data.logTypes;if(Array.isArray(data2)){const len0 = data2.length;for(let i0=0; i0<len0; i0++){let data3 = data2[i0];if(typeof data3 !== "string"){const err4 = {instancePath:instancePath+"/logTypes/" + i0,schemaPath:"#/properties/logTypes/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema288.properties.logTypes.items.type,parentSchema:schema288.properties.logTypes.items,data:data3};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}}else {const err5 = {instancePath:instancePath+"/logTypes",schemaPath:"#/properties/logTypes/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema288.properties.logTypes.type,parentSchema:schema288.properties.logTypes,data:data2};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data.engineSpecificOptions !== undefined){let data4 = data.engineSpecificOptions;const _errs11 = errors;let valid3 = false;const _errs12 = errors;if(data4 && typeof data4 == "object" && !Array.isArray(data4)){for(const key1 in data4){if(!(((((key1 === "log_connections") || (key1 === "log_disconnections")) || (key1 === "log_lock_waits")) || (key1 === "log_min_duration_statement")) || (key1 === "log_statement"))){const err6 = {instancePath:instancePath+"/engineSpecificOptions",schemaPath:"#/definitions/PostgresLoggingOptions/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema289,data:data4};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data4.log_connections !== undefined){let data5 = data4.log_connections;if(typeof data5 !== "boolean"){const err7 = {instancePath:instancePath+"/engineSpecificOptions/log_connections",schemaPath:"#/definitions/PostgresLoggingOptions/properties/log_connections/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema289.properties.log_connections.type,parentSchema:schema289.properties.log_connections,data:data5};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data4.log_disconnections !== undefined){let data6 = data4.log_disconnections;if(typeof data6 !== "boolean"){const err8 = {instancePath:instancePath+"/engineSpecificOptions/log_disconnections",schemaPath:"#/definitions/PostgresLoggingOptions/properties/log_disconnections/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema289.properties.log_disconnections.type,parentSchema:schema289.properties.log_disconnections,data:data6};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}if(data4.log_lock_waits !== undefined){let data7 = data4.log_lock_waits;if(typeof data7 !== "boolean"){const err9 = {instancePath:instancePath+"/engineSpecificOptions/log_lock_waits",schemaPath:"#/definitions/PostgresLoggingOptions/properties/log_lock_waits/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema289.properties.log_lock_waits.type,parentSchema:schema289.properties.log_lock_waits,data:data7};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(data4.log_min_duration_statement !== undefined){let data8 = data4.log_min_duration_statement;if(!(typeof data8 == "number")){const err10 = {instancePath:instancePath+"/engineSpecificOptions/log_min_duration_statement",schemaPath:"#/definitions/PostgresLoggingOptions/properties/log_min_duration_statement/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema289.properties.log_min_duration_statement.type,parentSchema:schema289.properties.log_min_duration_statement,data:data8};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data4.log_statement !== undefined){let data9 = data4.log_statement;if(typeof data9 !== "string"){const err11 = {instancePath:instancePath+"/engineSpecificOptions/log_statement",schemaPath:"#/definitions/PostgresLoggingOptions/properties/log_statement/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema289.properties.log_statement.type,parentSchema:schema289.properties.log_statement,data:data9};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}if(!((((data9 === "all") || (data9 === "ddl")) || (data9 === "mod")) || (data9 === "none"))){const err12 = {instancePath:instancePath+"/engineSpecificOptions/log_statement",schemaPath:"#/definitions/PostgresLoggingOptions/properties/log_statement/enum",keyword:"enum",params:{allowedValues: schema289.properties.log_statement.enum},message:"must be equal to one of the allowed values",schema:schema289.properties.log_statement.enum,parentSchema:schema289.properties.log_statement,data:data9};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}}else {const err13 = {instancePath:instancePath+"/engineSpecificOptions",schemaPath:"#/definitions/PostgresLoggingOptions/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema289.type,parentSchema:schema289,data:data4};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}var _valid0 = _errs12 === errors;valid3 = valid3 || _valid0;if(!valid3){const _errs26 = errors;if(data4 && typeof data4 == "object" && !Array.isArray(data4)){for(const key2 in data4){if(!((key2 === "server_audit_events") || (key2 === "long_query_time"))){const err14 = {instancePath:instancePath+"/engineSpecificOptions",schemaPath:"#/definitions/MysqlLoggingOptions/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key2},message:"must NOT have additional properties",schema:false,parentSchema:schema290,data:data4};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}}if(data4.server_audit_events !== undefined){let data10 = data4.server_audit_events;if(Array.isArray(data10)){const len1 = data10.length;for(let i1=0; i1<len1; i1++){let data11 = data10[i1];if(typeof data11 !== "string"){const err15 = {instancePath:instancePath+"/engineSpecificOptions/server_audit_events/" + i1,schemaPath:"#/definitions/MysqlLoggingOptions/properties/server_audit_events/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema290.properties.server_audit_events.items.type,parentSchema:schema290.properties.server_audit_events.items,data:data11};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}if(!((((((data11 === "CONNECT") || (data11 === "QUERY")) || (data11 === "QUERY_DCL")) || (data11 === "QUERY_DDL")) || (data11 === "QUERY_DML")) || (data11 === "QUERY_DML_NO_SELECT"))){const err16 = {instancePath:instancePath+"/engineSpecificOptions/server_audit_events/" + i1,schemaPath:"#/definitions/MysqlLoggingOptions/properties/server_audit_events/items/enum",keyword:"enum",params:{allowedValues: schema290.properties.server_audit_events.items.enum},message:"must be equal to one of the allowed values",schema:schema290.properties.server_audit_events.items.enum,parentSchema:schema290.properties.server_audit_events.items,data:data11};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}}}else {const err17 = {instancePath:instancePath+"/engineSpecificOptions/server_audit_events",schemaPath:"#/definitions/MysqlLoggingOptions/properties/server_audit_events/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema290.properties.server_audit_events.type,parentSchema:schema290.properties.server_audit_events,data:data10};if(vErrors === null){vErrors = [err17];}else {vErrors.push(err17);}errors++;}}if(data4.long_query_time !== undefined){let data12 = data4.long_query_time;if(!(typeof data12 == "number")){const err18 = {instancePath:instancePath+"/engineSpecificOptions/long_query_time",schemaPath:"#/definitions/MysqlLoggingOptions/properties/long_query_time/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema290.properties.long_query_time.type,parentSchema:schema290.properties.long_query_time,data:data12};if(vErrors === null){vErrors = [err18];}else {vErrors.push(err18);}errors++;}}}else {const err19 = {instancePath:instancePath+"/engineSpecificOptions",schemaPath:"#/definitions/MysqlLoggingOptions/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema290.type,parentSchema:schema290,data:data4};if(vErrors === null){vErrors = [err19];}else {vErrors.push(err19);}errors++;}var _valid0 = _errs26 === errors;valid3 = valid3 || _valid0;}if(!valid3){const err20 = {instancePath:instancePath+"/engineSpecificOptions",schemaPath:"#/properties/engineSpecificOptions/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:schema288.properties.engineSpecificOptions.anyOf,parentSchema:schema288.properties.engineSpecificOptions,data:data4};if(vErrors === null){vErrors = [err20];}else {vErrors.push(err20);}errors++;}else {errors = _errs11;if(vErrors !== null){if(_errs11){vErrors.length = _errs11;}else {vErrors = null;}}}}if(data.logForwarding !== undefined){let data13 = data.logForwarding;const _errs37 = errors;let valid10 = false;const _errs38 = errors;if(!(validate80(data13, {instancePath:instancePath+"/logForwarding",parentData:data,parentDataProperty:"logForwarding",rootData}))){vErrors = vErrors === null ? validate80.errors : vErrors.concat(validate80.errors);errors = vErrors.length;}var _valid1 = _errs38 === errors;valid10 = valid10 || _valid1;if(!valid10){const _errs39 = errors;if(!(validate82(data13, {instancePath:instancePath+"/logForwarding",parentData:data,parentDataProperty:"logForwarding",rootData}))){vErrors = vErrors === null ? validate82.errors : vErrors.concat(validate82.errors);errors = vErrors.length;}var _valid1 = _errs39 === errors;valid10 = valid10 || _valid1;if(!valid10){const _errs40 = errors;if(!(validate84(data13, {instancePath:instancePath+"/logForwarding",parentData:data,parentDataProperty:"logForwarding",rootData}))){vErrors = vErrors === null ? validate84.errors : vErrors.concat(validate84.errors);errors = vErrors.length;}var _valid1 = _errs40 === errors;valid10 = valid10 || _valid1;}}if(!valid10){const err21 = {instancePath:instancePath+"/logForwarding",schemaPath:"#/properties/logForwarding/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:schema288.properties.logForwarding.anyOf,parentSchema:schema288.properties.logForwarding,data:data13};if(vErrors === null){vErrors = [err21];}else {vErrors.push(err21);}errors++;}else {errors = _errs37;if(vErrors !== null){if(_errs37){vErrors.length = _errs37;}else {vErrors = null;}}}}}else {const err22 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema288.type,parentSchema:schema288,data};if(vErrors === null){vErrors = [err22];}else {vErrors.push(err22);}errors++;}validate303.errors = vErrors;return errors === 0;}function validate261(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.credentials === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "credentials"},message:"must have required property '"+"credentials"+"'",schema:schema246.required,parentSchema:schema246,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.engine === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "engine"},message:"must have required property '"+"engine"+"'",schema:schema246.required,parentSchema:schema246,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!(func2.call(schema246.properties, key0))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema246,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.credentials !== undefined){let data0 = data.credentials;if(data0 && typeof data0 == "object" && !Array.isArray(data0)){if(data0.masterUserPassword === undefined){const err3 = {instancePath:instancePath+"/credentials",schemaPath:"#/definitions/RelationalDatabaseCredentials/required",keyword:"required",params:{missingProperty: "masterUserPassword"},message:"must have required property '"+"masterUserPassword"+"'",schema:schema247.required,parentSchema:schema247,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}for(const key1 in data0){if(!((key1 === "masterUserName") || (key1 === "masterUserPassword"))){const err4 = {instancePath:instancePath+"/credentials",schemaPath:"#/definitions/RelationalDatabaseCredentials/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema247,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data0.masterUserName !== undefined){let data1 = data0.masterUserName;if(typeof data1 !== "string"){const err5 = {instancePath:instancePath+"/credentials/masterUserName",schemaPath:"#/definitions/RelationalDatabaseCredentials/properties/masterUserName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema247.properties.masterUserName.type,parentSchema:schema247.properties.masterUserName,data:data1};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data0.masterUserPassword !== undefined){let data2 = data0.masterUserPassword;if(typeof data2 !== "string"){const err6 = {instancePath:instancePath+"/credentials/masterUserPassword",schemaPath:"#/definitions/RelationalDatabaseCredentials/properties/masterUserPassword/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema247.properties.masterUserPassword.type,parentSchema:schema247.properties.masterUserPassword,data:data2};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}}else {const err7 = {instancePath:instancePath+"/credentials",schemaPath:"#/definitions/RelationalDatabaseCredentials/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema247.type,parentSchema:schema247,data:data0};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data.engine !== undefined){let data3 = data.engine;const _errs11 = errors;let valid3 = false;const _errs12 = errors;if(!(validate262(data3, {instancePath:instancePath+"/engine",parentData:data,parentDataProperty:"engine",rootData}))){vErrors = vErrors === null ? validate262.errors : vErrors.concat(validate262.errors);errors = vErrors.length;}var _valid0 = _errs12 === errors;valid3 = valid3 || _valid0;if(!valid3){const _errs13 = errors;if(!(validate266(data3, {instancePath:instancePath+"/engine",parentData:data,parentDataProperty:"engine",rootData}))){vErrors = vErrors === null ? validate266.errors : vErrors.concat(validate266.errors);errors = vErrors.length;}var _valid0 = _errs13 === errors;valid3 = valid3 || _valid0;if(!valid3){const _errs14 = errors;if(!(validate268(data3, {instancePath:instancePath+"/engine",parentData:data,parentDataProperty:"engine",rootData}))){vErrors = vErrors === null ? validate268.errors : vErrors.concat(validate268.errors);errors = vErrors.length;}var _valid0 = _errs14 === errors;valid3 = valid3 || _valid0;if(!valid3){const _errs15 = errors;if(!(validate270(data3, {instancePath:instancePath+"/engine",parentData:data,parentDataProperty:"engine",rootData}))){vErrors = vErrors === null ? validate270.errors : vErrors.concat(validate270.errors);errors = vErrors.length;}var _valid0 = _errs15 === errors;valid3 = valid3 || _valid0;}}}if(!valid3){const err8 = {instancePath:instancePath+"/engine",schemaPath:"#/properties/engine/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:schema246.properties.engine.anyOf,parentSchema:schema246.properties.engine,data:data3};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}else {errors = _errs11;if(vErrors !== null){if(_errs11){vErrors.length = _errs11;}else {vErrors = null;}}}}if(data.accessibility !== undefined){let data4 = data.accessibility;if(data4 && typeof data4 == "object" && !Array.isArray(data4)){if(data4.accessibilityMode === undefined){const err9 = {instancePath:instancePath+"/accessibility",schemaPath:"#/definitions/DatabaseAccessibility/required",keyword:"required",params:{missingProperty: "accessibilityMode"},message:"must have required property '"+"accessibilityMode"+"'",schema:schema260.required,parentSchema:schema260,data:data4};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}for(const key2 in data4){if(!(((key2 === "accessibilityMode") || (key2 === "forceDisablePublicIp")) || (key2 === "whitelistedIps"))){const err10 = {instancePath:instancePath+"/accessibility",schemaPath:"#/definitions/DatabaseAccessibility/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key2},message:"must NOT have additional properties",schema:false,parentSchema:schema260,data:data4};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data4.accessibilityMode !== undefined){let data5 = data4.accessibilityMode;if(typeof data5 !== "string"){const err11 = {instancePath:instancePath+"/accessibility/accessibilityMode",schemaPath:"#/definitions/DatabaseAccessibility/properties/accessibilityMode/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema260.properties.accessibilityMode.type,parentSchema:schema260.properties.accessibilityMode,data:data5};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}if(!((((data5 === "internet") || (data5 === "scoping-workloads-in-vpc")) || (data5 === "vpc")) || (data5 === "whitelisted-ips-only"))){const err12 = {instancePath:instancePath+"/accessibility/accessibilityMode",schemaPath:"#/definitions/DatabaseAccessibility/properties/accessibilityMode/enum",keyword:"enum",params:{allowedValues: schema260.properties.accessibilityMode.enum},message:"must be equal to one of the allowed values",schema:schema260.properties.accessibilityMode.enum,parentSchema:schema260.properties.accessibilityMode,data:data5};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}if(data4.forceDisablePublicIp !== undefined){let data6 = data4.forceDisablePublicIp;if(typeof data6 !== "boolean"){const err13 = {instancePath:instancePath+"/accessibility/forceDisablePublicIp",schemaPath:"#/definitions/DatabaseAccessibility/properties/forceDisablePublicIp/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema260.properties.forceDisablePublicIp.type,parentSchema:schema260.properties.forceDisablePublicIp,data:data6};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}if(data4.whitelistedIps !== undefined){let data7 = data4.whitelistedIps;if(Array.isArray(data7)){const len0 = data7.length;for(let i0=0; i0<len0; i0++){let data8 = data7[i0];if(typeof data8 !== "string"){const err14 = {instancePath:instancePath+"/accessibility/whitelistedIps/" + i0,schemaPath:"#/definitions/DatabaseAccessibility/properties/whitelistedIps/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema260.properties.whitelistedIps.items.type,parentSchema:schema260.properties.whitelistedIps.items,data:data8};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}}}else {const err15 = {instancePath:instancePath+"/accessibility/whitelistedIps",schemaPath:"#/definitions/DatabaseAccessibility/properties/whitelistedIps/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema260.properties.whitelistedIps.type,parentSchema:schema260.properties.whitelistedIps,data:data7};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}}}else {const err16 = {instancePath:instancePath+"/accessibility",schemaPath:"#/definitions/DatabaseAccessibility/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema260.type,parentSchema:schema260,data:data4};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}}if(data.deletionProtection !== undefined){let data9 = data.deletionProtection;if(typeof data9 !== "boolean"){const err17 = {instancePath:instancePath+"/deletionProtection",schemaPath:"#/properties/deletionProtection/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema246.properties.deletionProtection.type,parentSchema:schema246.properties.deletionProtection,data:data9};if(vErrors === null){vErrors = [err17];}else {vErrors.push(err17);}errors++;}}if(data.automatedBackupRetentionDays !== undefined){let data10 = data.automatedBackupRetentionDays;if(!(typeof data10 == "number")){const err18 = {instancePath:instancePath+"/automatedBackupRetentionDays",schemaPath:"#/properties/automatedBackupRetentionDays/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema246.properties.automatedBackupRetentionDays.type,parentSchema:schema246.properties.automatedBackupRetentionDays,data:data10};if(vErrors === null){vErrors = [err18];}else {vErrors.push(err18);}errors++;}}if(data.preferredMaintenanceWindow !== undefined){let data11 = data.preferredMaintenanceWindow;if(typeof data11 !== "string"){const err19 = {instancePath:instancePath+"/preferredMaintenanceWindow",schemaPath:"#/properties/preferredMaintenanceWindow/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema246.properties.preferredMaintenanceWindow.type,parentSchema:schema246.properties.preferredMaintenanceWindow,data:data11};if(vErrors === null){vErrors = [err19];}else {vErrors.push(err19);}errors++;}}if(data.alarms !== undefined){let data12 = data.alarms;if(Array.isArray(data12)){const len1 = data12.length;for(let i1=0; i1<len1; i1++){if(!(validate274(data12[i1], {instancePath:instancePath+"/alarms/" + i1,parentData:data12,parentDataProperty:i1,rootData}))){vErrors = vErrors === null ? validate274.errors : vErrors.concat(validate274.errors);errors = vErrors.length;}}}else {const err20 = {instancePath:instancePath+"/alarms",schemaPath:"#/properties/alarms/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema246.properties.alarms.type,parentSchema:schema246.properties.alarms,data:data12};if(vErrors === null){vErrors = [err20];}else {vErrors.push(err20);}errors++;}}if(data.disabledGlobalAlarms !== undefined){let data14 = data.disabledGlobalAlarms;if(Array.isArray(data14)){const len2 = data14.length;for(let i2=0; i2<len2; i2++){let data15 = data14[i2];if(typeof data15 !== "string"){const err21 = {instancePath:instancePath+"/disabledGlobalAlarms/" + i2,schemaPath:"#/properties/disabledGlobalAlarms/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema246.properties.disabledGlobalAlarms.items.type,parentSchema:schema246.properties.disabledGlobalAlarms.items,data:data15};if(vErrors === null){vErrors = [err21];}else {vErrors.push(err21);}errors++;}}}else {const err22 = {instancePath:instancePath+"/disabledGlobalAlarms",schemaPath:"#/properties/disabledGlobalAlarms/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema246.properties.disabledGlobalAlarms.type,parentSchema:schema246.properties.disabledGlobalAlarms,data:data14};if(vErrors === null){vErrors = [err22];}else {vErrors.push(err22);}errors++;}}if(data.logging !== undefined){if(!(validate303(data.logging, {instancePath:instancePath+"/logging",parentData:data,parentDataProperty:"logging",rootData}))){vErrors = vErrors === null ? validate303.errors : vErrors.concat(validate303.errors);errors = vErrors.length;}}if(data.dev !== undefined){let data17 = data.dev;if(data17 && typeof data17 == "object" && !Array.isArray(data17)){for(const key3 in data17){if(!(key3 === "remote")){const err23 = {instancePath:instancePath+"/dev",schemaPath:"#/definitions/DevModeConfig/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key3},message:"must NOT have additional properties",schema:false,parentSchema:schema291,data:data17};if(vErrors === null){vErrors = [err23];}else {vErrors.push(err23);}errors++;}}if(data17.remote !== undefined){let data18 = data17.remote;if(typeof data18 !== "boolean"){const err24 = {instancePath:instancePath+"/dev/remote",schemaPath:"#/definitions/DevModeConfig/properties/remote/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema291.properties.remote.type,parentSchema:schema291.properties.remote,data:data18};if(vErrors === null){vErrors = [err24];}else {vErrors.push(err24);}errors++;}}}else {const err25 = {instancePath:instancePath+"/dev",schemaPath:"#/definitions/DevModeConfig/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema291.type,parentSchema:schema291,data:data17};if(vErrors === null){vErrors = [err25];}else {vErrors.push(err25);}errors++;}}}else {const err26 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema246.type,parentSchema:schema246,data};if(vErrors === null){vErrors = [err26];}else {vErrors.push(err26);}errors++;}validate261.errors = vErrors;return errors === 0;}function validate260(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema245.required,parentSchema:schema245,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema245.required,parentSchema:schema245,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!(((key0 === "type") || (key0 === "properties")) || (key0 === "overrides"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema245,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema245.properties.type.type,parentSchema:schema245.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("relational-database" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "relational-database"},message:"must be equal to constant",schema:"relational-database",parentSchema:schema245.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate261(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate261.errors : vErrors.concat(validate261.errors);errors = vErrors.length;}}if(data.overrides !== undefined){let data2 = data.overrides;if(data2 && typeof data2 == "object" && !Array.isArray(data2)){for(const key1 in data2){let data3 = data2[key1];if(data3 && typeof data3 == "object" && !Array.isArray(data3)){}else {const err5 = {instancePath:instancePath+"/overrides/" + key1.replace(/~/g, "~0").replace(/\//g, "~1"),schemaPath:"#/properties/overrides/additionalProperties/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema245.properties.overrides.additionalProperties.type,parentSchema:schema245.properties.overrides.additionalProperties,data:data3};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}}else {const err6 = {instancePath:instancePath+"/overrides",schemaPath:"#/properties/overrides/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema245.properties.overrides.type,parentSchema:schema245.properties.overrides,data:data2};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}}else {const err7 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema245.type,parentSchema:schema245,data};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}validate260.errors = vErrors;return errors === 0;}const schema292 = {"description":"#### Application Load Balancer\n\n---\n\nA fully managed, Application (L7) Load Balancer that routes HTTP and HTTPS requests to other resources.","type":"object","properties":{"type":{"type":"string","const":"application-load-balancer"},"properties":{"$ref":"#/definitions/ApplicationLoadBalancerProps"},"overrides":{"description":"#### Resource Overrides\n\n---\n\nOverrides properties of the underlying CloudFormation resources that Stacktape creates.\n\nChild resources are identified by their CloudFormation logical ID (e.g., `MyBucketBucket`). You can find these IDs by running `stacktape stack:info --detailed`.\n\nFor a list of properties that can be overridden, refer to the [AWS CloudFormation documentation](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html).","type":"object","additionalProperties":{"type":"object","additionalProperties":{}}}},"additionalProperties":false,"required":["type"]};const schema293 = {"type":"object","properties":{"interface":{"description":"#### Configures the accessibility of the Load Balancer.\n\n---\n\n- `internet`: The Load Balancer is accessible from the internet.\n- `internal`: The Load Balancer is only accessible from within the same VPC network.\n\nTo learn more about VPCs, see the [Stacktape documentation](https://docs.stacktape.com/user-guides/vpcs).","default":"internet","enum":["internal","internet"],"type":"string"},"customDomains":{"description":"#### Configures custom domains for this Load Balancer.\n\n---\n\nStacktape allows you to connect your custom domain names to various resources, including Web Services, HTTP API Gateways, Application Load Balancers, and Buckets with CDNs.\n\nWhen you connect a custom domain, Stacktape automatically:\n\n- **Creates DNS records:** A DNS record is created to point your domain name to the resource.\n- **Adds TLS certificates:** If you are using HTTPS, Stacktape issues and attaches a free, AWS-managed TLS certificate to the resource, handling TLS termination for you.\n\nIf you want to use your own certificates, you can configure `customCertificateArns` on the listener.\n\n> To manage a custom domain, it must first be added to your AWS account as a [hosted zone](https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/AboutHZWorkingWith.html), and your domain registrar's name servers must point to it.\n> For more details, see the [Adding a domain guide](https://docs.stacktape.com/other-resources/domains-and-certificates/#adding-domain).","type":"array","items":{"type":"string"}},"listeners":{"description":"#### Configures custom listeners for this Load Balancer.\n\n---\n\nListeners define the port and protocol that the Load Balancer uses to accept incoming traffic.\n\nIf you do not specify any listeners, two are created by default:\n- An HTTPS listener on port 443 (all traffic is routed here).\n- An HTTP listener on port 80 (which automatically redirects to the HTTPS listener).","type":"array","items":{"$ref":"#/definitions/ApplicationLoadBalancerListener"}},"cdn":{"$ref":"#/definitions/ApplicationLoadBalancerCdnConfiguration","description":"#### Configures an AWS CloudFront CDN (Content Delivery Network) in front of your Application Load Balancer.\n\n---\n\nA CDN is a globally distributed network of edge locations that caches responses from your Application Load Balancer, bringing content closer to your users.\n\nUsing a CDN can:\n- Reduce latency and improve load times.\n- Lower bandwidth costs.\n- Decrease the amount of traffic hitting your origin.\n- Enhance security.\n\nThe \"origin\" is the resource (in this case, the Application Load Balancer) that the CDN is attached to.\nThe CDN has its own URL endpoint."},"alarms":{"description":"#### Additional alarms associated with this resource.\n\n---\n\nThese alarms will be merged with any alarms configured globally in the [console](https://console.stacktape.com/alarms).","type":"array","items":{"$ref":"#/definitions/ApplicationLoadBalancerAlarm"}},"disabledGlobalAlarms":{"description":"#### Disables globally configured alarms for this resource.\n\n---\n\nProvide a list of alarm names as configured in the [console](https://console.stacktape.com/alarms).","type":"array","items":{"type":"string"}},"useFirewall":{"description":"#### The name of the `web-app-firewall` resource to use for this Load Balancer.\n\n---\n\nA `web-app-firewall` can protect your resources from common web exploits that could affect availability, compromise security, or consume excessive resources.\nThe firewall works by filtering malicious requests before they reach your application.\n\nFor more information, see the [firewall documentation](https://docs.stacktape.com/security-resources/web-app-firewalls/).","type":"string"}},"additionalProperties":false};const schema294 = {"type":"object","properties":{"protocol":{"description":"#### The protocol for the listener.\n\n---\n\nIf you use `HTTPS`, the listener needs an SSL/TLS certificate. This can be configured in two ways:\n1.  **Automatic:** Configure `customDomains` to have Stacktape automatically generate and manage the certificate.\n2.  **Manual:** Configure `customCertificateArns` to use your own certificate, referenced by its ARN (Amazon Resource Name).","enum":["HTTP","HTTPS"],"type":"string"},"port":{"description":"#### The port number on which the listener is accessible.\n\n---\n\nBy default, `HTTPS` connections use port `443`, and `HTTP` connections use port `80`.","type":"number"},"customCertificateArns":{"description":"#### Used to configure custom SSL/TLS certificates.\n\n---\n\nThis is not necessary if you specify `customDomains` or if you are not using the `HTTPS` protocol for this listener.","type":"array","items":{"type":"string"}},"whitelistIps":{"description":"#### Limits listener accessibility to specific IP addresses.\n\n---\n\nBy default, all IP addresses are whitelisted.","type":"array","items":{"type":"string"}},"defaultAction":{"$ref":"#/definitions/LbRedirect","description":"#### Configures the listener's behavior for requests that do not match any integration.\n\n---\n\nCurrently, the only supported default action is `redirect`."}},"additionalProperties":false,"required":["port","protocol"]};const schema295 = {"type":"object","properties":{"type":{"description":"#### The type of the default action.","type":"string","const":"redirect"},"properties":{"$ref":"#/definitions/LbRedirectProperties","description":"#### Configures where to redirect the request.\n\n---\n\nA redirect changes the URI, which has the format: `protocol://hostname:port/path?query`.\nUnmodified URI components will retain their original values.\n\nTo avoid redirect loops, ensure that you sufficiently modify the URI.\nYou can reuse URI components with the following keywords: `#{protocol}`, `#{host}`, `#{port}`, `#{path}` (the leading `/` is removed), and `#{query}`.\n\nFor example, you can change the path to `/new/#{path}`, the hostname to `example.#{host}`, or the query to `#{query}&value=xyz`."}},"additionalProperties":false,"required":["properties","type"]};const schema296 = {"type":"object","properties":{"path":{"description":"#### The absolute path to redirect to.\n\n---\n\n- Must start with a leading `/`.\n- Should not be percent-encoded.","type":"string"},"query":{"description":"#### The query parameters for the redirect.\n\n---\n\n- Should be URL-encoded where necessary, but not percent-encoded.\n- Do not include the leading `?`, as it is added automatically.","type":"string"},"port":{"description":"#### The port for the redirect.\n\n---\n\nYou can specify a value from 1 to 65535 or `#{port}`.","type":"number"},"host":{"description":"#### The hostname for the redirect.\n\n---\n\nShould not be percent-encoded.","type":"string"},"protocol":{"description":"#### The protocol for the redirect.\n\n---\n\n- Must be `HTTP`, `HTTPS`, or `#{protocol}`.\n- You cannot redirect from `HTTPS` to `HTTP`.","enum":["HTTP","HTTPS"],"type":"string"},"statusCode":{"description":"#### The HTTP redirect code.\n\n---\n\n- Use `HTTP_301` for a permanent redirect.\n- Use `HTTP_302` for a temporary redirect.","enum":["HTTP_301","HTTP_302"],"type":"string"}},"additionalProperties":false,"required":["statusCode"]};function validate313(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema295.required,parentSchema:schema295,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema295.required,parentSchema:schema295,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema295,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema295.properties.type.type,parentSchema:schema295.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("redirect" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "redirect"},message:"must be equal to constant",schema:"redirect",parentSchema:schema295.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){let data1 = data.properties;if(data1 && typeof data1 == "object" && !Array.isArray(data1)){if(data1.statusCode === undefined){const err5 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/LbRedirectProperties/required",keyword:"required",params:{missingProperty: "statusCode"},message:"must have required property '"+"statusCode"+"'",schema:schema296.required,parentSchema:schema296,data:data1};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}for(const key1 in data1){if(!((((((key1 === "path") || (key1 === "query")) || (key1 === "port")) || (key1 === "host")) || (key1 === "protocol")) || (key1 === "statusCode"))){const err6 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/LbRedirectProperties/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema296,data:data1};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data1.path !== undefined){let data2 = data1.path;if(typeof data2 !== "string"){const err7 = {instancePath:instancePath+"/properties/path",schemaPath:"#/definitions/LbRedirectProperties/properties/path/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema296.properties.path.type,parentSchema:schema296.properties.path,data:data2};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data1.query !== undefined){let data3 = data1.query;if(typeof data3 !== "string"){const err8 = {instancePath:instancePath+"/properties/query",schemaPath:"#/definitions/LbRedirectProperties/properties/query/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema296.properties.query.type,parentSchema:schema296.properties.query,data:data3};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}if(data1.port !== undefined){let data4 = data1.port;if(!(typeof data4 == "number")){const err9 = {instancePath:instancePath+"/properties/port",schemaPath:"#/definitions/LbRedirectProperties/properties/port/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema296.properties.port.type,parentSchema:schema296.properties.port,data:data4};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(data1.host !== undefined){let data5 = data1.host;if(typeof data5 !== "string"){const err10 = {instancePath:instancePath+"/properties/host",schemaPath:"#/definitions/LbRedirectProperties/properties/host/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema296.properties.host.type,parentSchema:schema296.properties.host,data:data5};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data1.protocol !== undefined){let data6 = data1.protocol;if(typeof data6 !== "string"){const err11 = {instancePath:instancePath+"/properties/protocol",schemaPath:"#/definitions/LbRedirectProperties/properties/protocol/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema296.properties.protocol.type,parentSchema:schema296.properties.protocol,data:data6};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}if(!((data6 === "HTTP") || (data6 === "HTTPS"))){const err12 = {instancePath:instancePath+"/properties/protocol",schemaPath:"#/definitions/LbRedirectProperties/properties/protocol/enum",keyword:"enum",params:{allowedValues: schema296.properties.protocol.enum},message:"must be equal to one of the allowed values",schema:schema296.properties.protocol.enum,parentSchema:schema296.properties.protocol,data:data6};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}if(data1.statusCode !== undefined){let data7 = data1.statusCode;if(typeof data7 !== "string"){const err13 = {instancePath:instancePath+"/properties/statusCode",schemaPath:"#/definitions/LbRedirectProperties/properties/statusCode/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema296.properties.statusCode.type,parentSchema:schema296.properties.statusCode,data:data7};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}if(!((data7 === "HTTP_301") || (data7 === "HTTP_302"))){const err14 = {instancePath:instancePath+"/properties/statusCode",schemaPath:"#/definitions/LbRedirectProperties/properties/statusCode/enum",keyword:"enum",params:{allowedValues: schema296.properties.statusCode.enum},message:"must be equal to one of the allowed values",schema:schema296.properties.statusCode.enum,parentSchema:schema296.properties.statusCode,data:data7};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}}}else {const err15 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/LbRedirectProperties/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema296.type,parentSchema:schema296,data:data1};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}}}else {const err16 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema295.type,parentSchema:schema295,data};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}validate313.errors = vErrors;return errors === 0;}function validate312(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.port === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "port"},message:"must have required property '"+"port"+"'",schema:schema294.required,parentSchema:schema294,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.protocol === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "protocol"},message:"must have required property '"+"protocol"+"'",schema:schema294.required,parentSchema:schema294,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!(((((key0 === "protocol") || (key0 === "port")) || (key0 === "customCertificateArns")) || (key0 === "whitelistIps")) || (key0 === "defaultAction"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema294,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.protocol !== undefined){let data0 = data.protocol;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/protocol",schemaPath:"#/properties/protocol/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema294.properties.protocol.type,parentSchema:schema294.properties.protocol,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if(!((data0 === "HTTP") || (data0 === "HTTPS"))){const err4 = {instancePath:instancePath+"/protocol",schemaPath:"#/properties/protocol/enum",keyword:"enum",params:{allowedValues: schema294.properties.protocol.enum},message:"must be equal to one of the allowed values",schema:schema294.properties.protocol.enum,parentSchema:schema294.properties.protocol,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.port !== undefined){let data1 = data.port;if(!(typeof data1 == "number")){const err5 = {instancePath:instancePath+"/port",schemaPath:"#/properties/port/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema294.properties.port.type,parentSchema:schema294.properties.port,data:data1};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data.customCertificateArns !== undefined){let data2 = data.customCertificateArns;if(Array.isArray(data2)){const len0 = data2.length;for(let i0=0; i0<len0; i0++){let data3 = data2[i0];if(typeof data3 !== "string"){const err6 = {instancePath:instancePath+"/customCertificateArns/" + i0,schemaPath:"#/properties/customCertificateArns/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema294.properties.customCertificateArns.items.type,parentSchema:schema294.properties.customCertificateArns.items,data:data3};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}}else {const err7 = {instancePath:instancePath+"/customCertificateArns",schemaPath:"#/properties/customCertificateArns/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema294.properties.customCertificateArns.type,parentSchema:schema294.properties.customCertificateArns,data:data2};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data.whitelistIps !== undefined){let data4 = data.whitelistIps;if(Array.isArray(data4)){const len1 = data4.length;for(let i1=0; i1<len1; i1++){let data5 = data4[i1];if(typeof data5 !== "string"){const err8 = {instancePath:instancePath+"/whitelistIps/" + i1,schemaPath:"#/properties/whitelistIps/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema294.properties.whitelistIps.items.type,parentSchema:schema294.properties.whitelistIps.items,data:data5};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}}else {const err9 = {instancePath:instancePath+"/whitelistIps",schemaPath:"#/properties/whitelistIps/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema294.properties.whitelistIps.type,parentSchema:schema294.properties.whitelistIps,data:data4};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(data.defaultAction !== undefined){if(!(validate313(data.defaultAction, {instancePath:instancePath+"/defaultAction",parentData:data,parentDataProperty:"defaultAction",rootData}))){vErrors = vErrors === null ? validate313.errors : vErrors.concat(validate313.errors);errors = vErrors.length;}}}else {const err10 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema294.type,parentSchema:schema294,data};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}validate312.errors = vErrors;return errors === 0;}const schema297 = {"type":"object","properties":{"listenerPort":{"description":"#### The listener port to which CDN traffic will be forwarded.\n\n---\n\nYou must specify this if the Load Balancer uses custom listeners.","type":"number"},"originDomainName":{"description":"#### The origin domain name used for forwarding to the Load Balancer.\n\n---\n\nThis is only necessary if the Load Balancer has no `customDomains` attached and the listener uses `customCertificateArns`.","type":"string"},"enabled":{"description":"#### Enables the CDN.\n\n---","default":false,"type":"boolean"},"cachingOptions":{"$ref":"#/definitions/CdnCachingOptions","description":"#### Configures custom caching options.\n\n---\n\nThis property controls the caching behavior of your edge distribution, including what content is cached, for how long, and when it should be re-fetched from the origin.\n\nIf a response from the origin does not include `Cache-Control` or `Expires` headers, a default caching behavior is used:\n- **bucket**: Objects are cached for 6 months by default, or until the cache is invalidated.\n- **http-api-gateway** and **application-load-balancer**: Responses are not cached by default."},"forwardingOptions":{"$ref":"#/definitions/CdnForwardingOptions","description":"#### Configures which parts of the request are forwarded to the origin.\n\n---\n\nThis includes headers, query parameters, and cookies."},"routeRewrites":{"description":"#### Redirects specific requests to a different origin.\n\n---\n\nEach incoming request to the CDN is evaluated against a list of route rewrites. If the request path matches a rewrite's path pattern, it is sent to the configured route.\n\nRoute rewrites are evaluated in order, and the first match determines where the request will be sent.\nIf no match is found, the request is sent to the default origin (the resource the CDN is attached to).\n\n**Example Use Cases:**\n- Serving static content from a bucket while routing dynamic paths to a Lambda function.\n- Caching `.jpg` files for a longer duration than other file types.","type":"array","items":{"$ref":"#/definitions/CdnRouteRewrite"}},"customDomains":{"description":"#### Attaches custom domains to this CDN.\n\n---\n\nWhen you connect a custom domain, Stacktape automatically:\n\n- **Creates DNS records:** A DNS record is created to point your domain name to the resource.\n- **Adds TLS certificates:** If the resource uses HTTPS, Stacktape issues and attaches a free, AWS-managed TLS certificate, handling TLS termination for you.\n\n> To manage a custom domain, it first needs to be added to your AWS account.\n> This means that a [hosted zone](https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/AboutHZWorkingWith.html)\n> (collection of records managed together for a given domain)\n> for your domain exists in your AWS account and your domain registrar's name servers are pointing to it.\n> To learn more, refer to [Adding a domain guide](https://docs.stacktape.com/other-resources/domains-and-certificates/#adding-domain).","type":"array","items":{"$ref":"#/definitions/DomainConfiguration"}},"edgeFunctions":{"$ref":"#/definitions/EdgeFunctionsConfig","description":"#### Configures Edge function triggers.\n\n---\n\nYou can associate an `edge-lambda-function` with the CDN to be executed at different stages:\n\n- `onRequest`: Executed when the CDN receives a request from a client, before checking the cache.\n- `onResponse`: Executed before returning a response to the client.\n\n**Potential Use Cases:**\n- Generating an immediate HTTP response without checking the cache or forwarding to the origin.\n- Modifying the request (e.g., rewriting the URL or headers) before forwarding to the origin.\n- Inspecting cookies or validating authorization headers and tokens."},"cloudfrontPriceClass":{"description":"#### Configures the locations from which the CDN serves traffic.\n\n---\n\nA higher price class results in more edge locations serving your traffic, which can improve performance in some regions but is more costly.\n\nFor example, if your users are primarily located in the US and Europe, you can save money by using `PriceClass_100`.\n\nFor more details, see the [AWS documentation on price classes](https://aws.amazon.com/cloudfront/pricing/).","default":"PriceClass_All","enum":["PriceClass_100","PriceClass_200","PriceClass_All"],"type":"string"},"defaultRoutePrefix":{"description":"#### Prefixes requests to the origin with a specified path.\n\n---\n\nIncoming requests will be prefixed with `defaultRoutePrefix` before being forwarded to the origin.\nFor example, if the CDN receives a request for `/my/resource/url`, the request will be sent to the origin as `/your_prefix/my/resource/url`.","type":"string"},"errorDocument":{"description":"#### The custom error document URL.\n\n---\n\nThis document is requested by the CDN if the original request to the origin returns a `404` error code.\n\nExample: `/error.html`","default":"/404.html","type":"string"},"indexDocument":{"description":"#### The custom index document served for requests to the root path (`/`).\n\n---","default":"/index.html","type":"string"},"disableInvalidationAfterDeploy":{"description":"#### Disables invalidation of the CDN cache after each deployment.\n\n---\n\nBy default, the cache is invalidated after every deployment to prevent serving outdated content.\nWhen the cache is invalidated, the CDN flushes all cached content, and new requests are sent directly to the origin.","default":false,"type":"boolean"},"useFirewall":{"description":"#### The name of the `web-app-firewall` resource to use with your CDN.\n\n---\n\nA `web-app-firewall` can protect your resources from common web exploits that could affect availability, compromise security, or consume excessive resources.\nThe firewall works by filtering malicious requests before they reach your application.\n\nFor more information, see the [firewall documentation](https://docs.stacktape.com/security-resources/web-app-firewalls/).","type":"string"}},"additionalProperties":false,"required":["enabled"]};function validate316(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.enabled === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "enabled"},message:"must have required property '"+"enabled"+"'",schema:schema297.required,parentSchema:schema297,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!(func2.call(schema297.properties, key0))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema297,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.listenerPort !== undefined){let data0 = data.listenerPort;if(!(typeof data0 == "number")){const err2 = {instancePath:instancePath+"/listenerPort",schemaPath:"#/properties/listenerPort/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema297.properties.listenerPort.type,parentSchema:schema297.properties.listenerPort,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.originDomainName !== undefined){let data1 = data.originDomainName;if(typeof data1 !== "string"){const err3 = {instancePath:instancePath+"/originDomainName",schemaPath:"#/properties/originDomainName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema297.properties.originDomainName.type,parentSchema:schema297.properties.originDomainName,data:data1};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.enabled !== undefined){let data2 = data.enabled;if(typeof data2 !== "boolean"){const err4 = {instancePath:instancePath+"/enabled",schemaPath:"#/properties/enabled/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema297.properties.enabled.type,parentSchema:schema297.properties.enabled,data:data2};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.cachingOptions !== undefined){if(!(validate173(data.cachingOptions, {instancePath:instancePath+"/cachingOptions",parentData:data,parentDataProperty:"cachingOptions",rootData}))){vErrors = vErrors === null ? validate173.errors : vErrors.concat(validate173.errors);errors = vErrors.length;}}if(data.forwardingOptions !== undefined){if(!(validate177(data.forwardingOptions, {instancePath:instancePath+"/forwardingOptions",parentData:data,parentDataProperty:"forwardingOptions",rootData}))){vErrors = vErrors === null ? validate177.errors : vErrors.concat(validate177.errors);errors = vErrors.length;}}if(data.routeRewrites !== undefined){let data5 = data.routeRewrites;if(Array.isArray(data5)){const len0 = data5.length;for(let i0=0; i0<len0; i0++){if(!(validate179(data5[i0], {instancePath:instancePath+"/routeRewrites/" + i0,parentData:data5,parentDataProperty:i0,rootData}))){vErrors = vErrors === null ? validate179.errors : vErrors.concat(validate179.errors);errors = vErrors.length;}}}else {const err5 = {instancePath:instancePath+"/routeRewrites",schemaPath:"#/properties/routeRewrites/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema297.properties.routeRewrites.type,parentSchema:schema297.properties.routeRewrites,data:data5};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data.customDomains !== undefined){let data7 = data.customDomains;if(Array.isArray(data7)){const len1 = data7.length;for(let i1=0; i1<len1; i1++){let data8 = data7[i1];if(data8 && typeof data8 == "object" && !Array.isArray(data8)){if(data8.domainName === undefined){const err6 = {instancePath:instancePath+"/customDomains/" + i1,schemaPath:"#/definitions/DomainConfiguration/required",keyword:"required",params:{missingProperty: "domainName"},message:"must have required property '"+"domainName"+"'",schema:schema160.required,parentSchema:schema160,data:data8};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}for(const key1 in data8){if(!(((key1 === "domainName") || (key1 === "customCertificateArn")) || (key1 === "disableDnsRecordCreation"))){const err7 = {instancePath:instancePath+"/customDomains/" + i1,schemaPath:"#/definitions/DomainConfiguration/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema160,data:data8};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data8.domainName !== undefined){let data9 = data8.domainName;if(typeof data9 !== "string"){const err8 = {instancePath:instancePath+"/customDomains/" + i1+"/domainName",schemaPath:"#/definitions/DomainConfiguration/properties/domainName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema160.properties.domainName.type,parentSchema:schema160.properties.domainName,data:data9};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}if(data8.customCertificateArn !== undefined){let data10 = data8.customCertificateArn;if(typeof data10 !== "string"){const err9 = {instancePath:instancePath+"/customDomains/" + i1+"/customCertificateArn",schemaPath:"#/definitions/DomainConfiguration/properties/customCertificateArn/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema160.properties.customCertificateArn.type,parentSchema:schema160.properties.customCertificateArn,data:data10};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(data8.disableDnsRecordCreation !== undefined){let data11 = data8.disableDnsRecordCreation;if(typeof data11 !== "boolean"){const err10 = {instancePath:instancePath+"/customDomains/" + i1+"/disableDnsRecordCreation",schemaPath:"#/definitions/DomainConfiguration/properties/disableDnsRecordCreation/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema160.properties.disableDnsRecordCreation.type,parentSchema:schema160.properties.disableDnsRecordCreation,data:data11};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}}else {const err11 = {instancePath:instancePath+"/customDomains/" + i1,schemaPath:"#/definitions/DomainConfiguration/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema160.type,parentSchema:schema160,data:data8};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}}else {const err12 = {instancePath:instancePath+"/customDomains",schemaPath:"#/properties/customDomains/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema297.properties.customDomains.type,parentSchema:schema297.properties.customDomains,data:data7};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}if(data.edgeFunctions !== undefined){let data12 = data.edgeFunctions;if(data12 && typeof data12 == "object" && !Array.isArray(data12)){for(const key2 in data12){if(!((((key2 === "onRequest") || (key2 === "onResponse")) || (key2 === "onOriginRequest")) || (key2 === "onOriginResponse"))){const err13 = {instancePath:instancePath+"/edgeFunctions",schemaPath:"#/definitions/EdgeFunctionsConfig/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key2},message:"must NOT have additional properties",schema:false,parentSchema:schema189,data:data12};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}if(data12.onRequest !== undefined){let data13 = data12.onRequest;if(typeof data13 !== "string"){const err14 = {instancePath:instancePath+"/edgeFunctions/onRequest",schemaPath:"#/definitions/EdgeFunctionsConfig/properties/onRequest/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema189.properties.onRequest.type,parentSchema:schema189.properties.onRequest,data:data13};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}}if(data12.onResponse !== undefined){let data14 = data12.onResponse;if(typeof data14 !== "string"){const err15 = {instancePath:instancePath+"/edgeFunctions/onResponse",schemaPath:"#/definitions/EdgeFunctionsConfig/properties/onResponse/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema189.properties.onResponse.type,parentSchema:schema189.properties.onResponse,data:data14};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}}if(data12.onOriginRequest !== undefined){let data15 = data12.onOriginRequest;if(typeof data15 !== "string"){const err16 = {instancePath:instancePath+"/edgeFunctions/onOriginRequest",schemaPath:"#/definitions/EdgeFunctionsConfig/properties/onOriginRequest/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema189.properties.onOriginRequest.type,parentSchema:schema189.properties.onOriginRequest,data:data15};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}}if(data12.onOriginResponse !== undefined){let data16 = data12.onOriginResponse;if(typeof data16 !== "string"){const err17 = {instancePath:instancePath+"/edgeFunctions/onOriginResponse",schemaPath:"#/definitions/EdgeFunctionsConfig/properties/onOriginResponse/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema189.properties.onOriginResponse.type,parentSchema:schema189.properties.onOriginResponse,data:data16};if(vErrors === null){vErrors = [err17];}else {vErrors.push(err17);}errors++;}}}else {const err18 = {instancePath:instancePath+"/edgeFunctions",schemaPath:"#/definitions/EdgeFunctionsConfig/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema189.type,parentSchema:schema189,data:data12};if(vErrors === null){vErrors = [err18];}else {vErrors.push(err18);}errors++;}}if(data.cloudfrontPriceClass !== undefined){let data17 = data.cloudfrontPriceClass;if(typeof data17 !== "string"){const err19 = {instancePath:instancePath+"/cloudfrontPriceClass",schemaPath:"#/properties/cloudfrontPriceClass/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema297.properties.cloudfrontPriceClass.type,parentSchema:schema297.properties.cloudfrontPriceClass,data:data17};if(vErrors === null){vErrors = [err19];}else {vErrors.push(err19);}errors++;}if(!(((data17 === "PriceClass_100") || (data17 === "PriceClass_200")) || (data17 === "PriceClass_All"))){const err20 = {instancePath:instancePath+"/cloudfrontPriceClass",schemaPath:"#/properties/cloudfrontPriceClass/enum",keyword:"enum",params:{allowedValues: schema297.properties.cloudfrontPriceClass.enum},message:"must be equal to one of the allowed values",schema:schema297.properties.cloudfrontPriceClass.enum,parentSchema:schema297.properties.cloudfrontPriceClass,data:data17};if(vErrors === null){vErrors = [err20];}else {vErrors.push(err20);}errors++;}}if(data.defaultRoutePrefix !== undefined){let data18 = data.defaultRoutePrefix;if(typeof data18 !== "string"){const err21 = {instancePath:instancePath+"/defaultRoutePrefix",schemaPath:"#/properties/defaultRoutePrefix/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema297.properties.defaultRoutePrefix.type,parentSchema:schema297.properties.defaultRoutePrefix,data:data18};if(vErrors === null){vErrors = [err21];}else {vErrors.push(err21);}errors++;}}if(data.errorDocument !== undefined){let data19 = data.errorDocument;if(typeof data19 !== "string"){const err22 = {instancePath:instancePath+"/errorDocument",schemaPath:"#/properties/errorDocument/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema297.properties.errorDocument.type,parentSchema:schema297.properties.errorDocument,data:data19};if(vErrors === null){vErrors = [err22];}else {vErrors.push(err22);}errors++;}}if(data.indexDocument !== undefined){let data20 = data.indexDocument;if(typeof data20 !== "string"){const err23 = {instancePath:instancePath+"/indexDocument",schemaPath:"#/properties/indexDocument/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema297.properties.indexDocument.type,parentSchema:schema297.properties.indexDocument,data:data20};if(vErrors === null){vErrors = [err23];}else {vErrors.push(err23);}errors++;}}if(data.disableInvalidationAfterDeploy !== undefined){let data21 = data.disableInvalidationAfterDeploy;if(typeof data21 !== "boolean"){const err24 = {instancePath:instancePath+"/disableInvalidationAfterDeploy",schemaPath:"#/properties/disableInvalidationAfterDeploy/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema297.properties.disableInvalidationAfterDeploy.type,parentSchema:schema297.properties.disableInvalidationAfterDeploy,data:data21};if(vErrors === null){vErrors = [err24];}else {vErrors.push(err24);}errors++;}}if(data.useFirewall !== undefined){let data22 = data.useFirewall;if(typeof data22 !== "string"){const err25 = {instancePath:instancePath+"/useFirewall",schemaPath:"#/properties/useFirewall/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema297.properties.useFirewall.type,parentSchema:schema297.properties.useFirewall,data:data22};if(vErrors === null){vErrors = [err25];}else {vErrors.push(err25);}errors++;}}}else {const err26 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema297.type,parentSchema:schema297,data};if(vErrors === null){vErrors = [err26];}else {vErrors.push(err26);}errors++;}validate316.errors = vErrors;return errors === 0;}function validate311(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){for(const key0 in data){if(!(((((((key0 === "interface") || (key0 === "customDomains")) || (key0 === "listeners")) || (key0 === "cdn")) || (key0 === "alarms")) || (key0 === "disabledGlobalAlarms")) || (key0 === "useFirewall"))){const err0 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema293,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}}if(data.interface !== undefined){let data0 = data.interface;if(typeof data0 !== "string"){const err1 = {instancePath:instancePath+"/interface",schemaPath:"#/properties/interface/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema293.properties.interface.type,parentSchema:schema293.properties.interface,data:data0};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}if(!((data0 === "internal") || (data0 === "internet"))){const err2 = {instancePath:instancePath+"/interface",schemaPath:"#/properties/interface/enum",keyword:"enum",params:{allowedValues: schema293.properties.interface.enum},message:"must be equal to one of the allowed values",schema:schema293.properties.interface.enum,parentSchema:schema293.properties.interface,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.customDomains !== undefined){let data1 = data.customDomains;if(Array.isArray(data1)){const len0 = data1.length;for(let i0=0; i0<len0; i0++){let data2 = data1[i0];if(typeof data2 !== "string"){const err3 = {instancePath:instancePath+"/customDomains/" + i0,schemaPath:"#/properties/customDomains/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema293.properties.customDomains.items.type,parentSchema:schema293.properties.customDomains.items,data:data2};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}}else {const err4 = {instancePath:instancePath+"/customDomains",schemaPath:"#/properties/customDomains/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema293.properties.customDomains.type,parentSchema:schema293.properties.customDomains,data:data1};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.listeners !== undefined){let data3 = data.listeners;if(Array.isArray(data3)){const len1 = data3.length;for(let i1=0; i1<len1; i1++){if(!(validate312(data3[i1], {instancePath:instancePath+"/listeners/" + i1,parentData:data3,parentDataProperty:i1,rootData}))){vErrors = vErrors === null ? validate312.errors : vErrors.concat(validate312.errors);errors = vErrors.length;}}}else {const err5 = {instancePath:instancePath+"/listeners",schemaPath:"#/properties/listeners/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema293.properties.listeners.type,parentSchema:schema293.properties.listeners,data:data3};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data.cdn !== undefined){if(!(validate316(data.cdn, {instancePath:instancePath+"/cdn",parentData:data,parentDataProperty:"cdn",rootData}))){vErrors = vErrors === null ? validate316.errors : vErrors.concat(validate316.errors);errors = vErrors.length;}}if(data.alarms !== undefined){let data6 = data.alarms;if(Array.isArray(data6)){const len2 = data6.length;for(let i2=0; i2<len2; i2++){if(!(validate194(data6[i2], {instancePath:instancePath+"/alarms/" + i2,parentData:data6,parentDataProperty:i2,rootData}))){vErrors = vErrors === null ? validate194.errors : vErrors.concat(validate194.errors);errors = vErrors.length;}}}else {const err6 = {instancePath:instancePath+"/alarms",schemaPath:"#/properties/alarms/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema293.properties.alarms.type,parentSchema:schema293.properties.alarms,data:data6};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data.disabledGlobalAlarms !== undefined){let data8 = data.disabledGlobalAlarms;if(Array.isArray(data8)){const len3 = data8.length;for(let i3=0; i3<len3; i3++){let data9 = data8[i3];if(typeof data9 !== "string"){const err7 = {instancePath:instancePath+"/disabledGlobalAlarms/" + i3,schemaPath:"#/properties/disabledGlobalAlarms/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema293.properties.disabledGlobalAlarms.items.type,parentSchema:schema293.properties.disabledGlobalAlarms.items,data:data9};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}}else {const err8 = {instancePath:instancePath+"/disabledGlobalAlarms",schemaPath:"#/properties/disabledGlobalAlarms/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema293.properties.disabledGlobalAlarms.type,parentSchema:schema293.properties.disabledGlobalAlarms,data:data8};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}if(data.useFirewall !== undefined){let data10 = data.useFirewall;if(typeof data10 !== "string"){const err9 = {instancePath:instancePath+"/useFirewall",schemaPath:"#/properties/useFirewall/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema293.properties.useFirewall.type,parentSchema:schema293.properties.useFirewall,data:data10};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}}else {const err10 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema293.type,parentSchema:schema293,data};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}validate311.errors = vErrors;return errors === 0;}function validate310(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.type === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema292.required,parentSchema:schema292,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!(((key0 === "type") || (key0 === "properties")) || (key0 === "overrides"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema292,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err2 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema292.properties.type.type,parentSchema:schema292.properties.type,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}if("application-load-balancer" !== data0){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "application-load-balancer"},message:"must be equal to constant",schema:"application-load-balancer",parentSchema:schema292.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.properties !== undefined){if(!(validate311(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate311.errors : vErrors.concat(validate311.errors);errors = vErrors.length;}}if(data.overrides !== undefined){let data2 = data.overrides;if(data2 && typeof data2 == "object" && !Array.isArray(data2)){for(const key1 in data2){let data3 = data2[key1];if(data3 && typeof data3 == "object" && !Array.isArray(data3)){}else {const err4 = {instancePath:instancePath+"/overrides/" + key1.replace(/~/g, "~0").replace(/\//g, "~1"),schemaPath:"#/properties/overrides/additionalProperties/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema292.properties.overrides.additionalProperties.type,parentSchema:schema292.properties.overrides.additionalProperties,data:data3};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}}else {const err5 = {instancePath:instancePath+"/overrides",schemaPath:"#/properties/overrides/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema292.properties.overrides.type,parentSchema:schema292.properties.overrides,data:data2};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}}else {const err6 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema292.type,parentSchema:schema292,data};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}validate310.errors = vErrors;return errors === 0;}const schema300 = {"description":"#### Network Load Balancer\n\n---\n\nA fully managed, Network (L4) Load Balancer that routes TCP or UDP traffic to other resources.","type":"object","properties":{"type":{"type":"string","const":"network-load-balancer"},"properties":{"$ref":"#/definitions/NetworkLoadBalancerProps"},"overrides":{"description":"#### Resource Overrides\n\n---\n\nOverrides properties of the underlying CloudFormation resources that Stacktape creates.\n\nChild resources are identified by their CloudFormation logical ID (e.g., `MyBucketBucket`). You can find these IDs by running `stacktape stack:info --detailed`.\n\nFor a list of properties that can be overridden, refer to the [AWS CloudFormation documentation](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html).","type":"object","additionalProperties":{"type":"object","additionalProperties":{}}}},"additionalProperties":false,"required":["properties","type"]};const schema301 = {"type":"object","properties":{"interface":{"description":"#### Configures the accessibility of the Load Balancer.\n\n---\n\n- `internet`: The Load Balancer is accessible from the internet.\n- `internal`: The Load Balancer is only accessible from within the same VPC network.\n\nTo learn more about VPCs, see the [Stacktape documentation](https://docs.stacktape.com/user-guides/vpcs).","default":"internet","enum":["internal","internet"],"type":"string"},"customDomains":{"description":"#### Configures custom domains for this Load Balancer.\n\n---\n\nStacktape allows you to connect your custom domain names to various resources, including Web Services, HTTP API Gateways, Application Load Balancers, and Buckets with CDNs.\n\nWhen you connect a custom domain, Stacktape automatically:\n\n- **Creates DNS records:** A DNS record is created to point your domain name to the resource.\n- **Adds TLS certificates:** If your listeners use TLS, Stacktape issues and attaches a free, AWS-managed TLS certificate to the resource, handling TLS termination for you.\n\nIf you want to use your own certificates, you can configure `customCertificateArns` on the listener.\n\n> To manage a custom domain, it must first be added to your AWS account as a [hosted zone](https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/AboutHZWorkingWith.html), and your domain registrar's name servers must point to it.\n> For more details, see the [Adding a domain guide](https://docs.stacktape.com/other-resources/domains-and-certificates/#adding-domain).","type":"array","items":{"type":"string"}},"listeners":{"description":"#### Configures custom listeners for this Load Balancer.\n\n---\n\nListeners define the port and protocol that the Load Balancer uses to accept incoming traffic.\nTraffic routed to a listener is then forwarded to a target resource based on the integrations.","type":"array","items":{"$ref":"#/definitions/NetworkLoadBalancerListener"}}},"additionalProperties":false,"required":["listeners"]};const schema302 = {"type":"object","properties":{"protocol":{"description":"#### The protocol for the listener.\n\n---\n\nIf you use `TLS`, the listener needs an SSL/TLS certificate. This can be configured in two ways:\n1.  **Automatic:** Configure `customDomains` to have Stacktape automatically generate and manage the certificate.\n2.  **Manual:** Configure `customCertificateArns` to use your own certificate, referenced by its ARN (Amazon Resource Name).","enum":["TCP","TLS"],"type":"string"},"port":{"description":"#### The port number on which the listener is accessible.\n\n---","type":"number"},"customCertificateArns":{"description":"#### Used to configure custom SSL/TLS certificates.\n\n---\n\nThis is not necessary if you specify `customDomains` or if you are not using the `TLS` protocol for this listener.","type":"array","items":{"type":"string"}},"whitelistIps":{"description":"#### Limits listener accessibility to specific IP addresses.\n\n---\n\nBy default, all IP addresses are whitelisted.","type":"array","items":{"type":"string"}}},"additionalProperties":false,"required":["port","protocol"]};function validate325(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.listeners === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "listeners"},message:"must have required property '"+"listeners"+"'",schema:schema301.required,parentSchema:schema301,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!(((key0 === "interface") || (key0 === "customDomains")) || (key0 === "listeners"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema301,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.interface !== undefined){let data0 = data.interface;if(typeof data0 !== "string"){const err2 = {instancePath:instancePath+"/interface",schemaPath:"#/properties/interface/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema301.properties.interface.type,parentSchema:schema301.properties.interface,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}if(!((data0 === "internal") || (data0 === "internet"))){const err3 = {instancePath:instancePath+"/interface",schemaPath:"#/properties/interface/enum",keyword:"enum",params:{allowedValues: schema301.properties.interface.enum},message:"must be equal to one of the allowed values",schema:schema301.properties.interface.enum,parentSchema:schema301.properties.interface,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.customDomains !== undefined){let data1 = data.customDomains;if(Array.isArray(data1)){const len0 = data1.length;for(let i0=0; i0<len0; i0++){let data2 = data1[i0];if(typeof data2 !== "string"){const err4 = {instancePath:instancePath+"/customDomains/" + i0,schemaPath:"#/properties/customDomains/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema301.properties.customDomains.items.type,parentSchema:schema301.properties.customDomains.items,data:data2};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}}else {const err5 = {instancePath:instancePath+"/customDomains",schemaPath:"#/properties/customDomains/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema301.properties.customDomains.type,parentSchema:schema301.properties.customDomains,data:data1};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data.listeners !== undefined){let data3 = data.listeners;if(Array.isArray(data3)){const len1 = data3.length;for(let i1=0; i1<len1; i1++){let data4 = data3[i1];if(data4 && typeof data4 == "object" && !Array.isArray(data4)){if(data4.port === undefined){const err6 = {instancePath:instancePath+"/listeners/" + i1,schemaPath:"#/definitions/NetworkLoadBalancerListener/required",keyword:"required",params:{missingProperty: "port"},message:"must have required property '"+"port"+"'",schema:schema302.required,parentSchema:schema302,data:data4};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}if(data4.protocol === undefined){const err7 = {instancePath:instancePath+"/listeners/" + i1,schemaPath:"#/definitions/NetworkLoadBalancerListener/required",keyword:"required",params:{missingProperty: "protocol"},message:"must have required property '"+"protocol"+"'",schema:schema302.required,parentSchema:schema302,data:data4};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}for(const key1 in data4){if(!((((key1 === "protocol") || (key1 === "port")) || (key1 === "customCertificateArns")) || (key1 === "whitelistIps"))){const err8 = {instancePath:instancePath+"/listeners/" + i1,schemaPath:"#/definitions/NetworkLoadBalancerListener/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema302,data:data4};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}if(data4.protocol !== undefined){let data5 = data4.protocol;if(typeof data5 !== "string"){const err9 = {instancePath:instancePath+"/listeners/" + i1+"/protocol",schemaPath:"#/definitions/NetworkLoadBalancerListener/properties/protocol/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema302.properties.protocol.type,parentSchema:schema302.properties.protocol,data:data5};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}if(!((data5 === "TCP") || (data5 === "TLS"))){const err10 = {instancePath:instancePath+"/listeners/" + i1+"/protocol",schemaPath:"#/definitions/NetworkLoadBalancerListener/properties/protocol/enum",keyword:"enum",params:{allowedValues: schema302.properties.protocol.enum},message:"must be equal to one of the allowed values",schema:schema302.properties.protocol.enum,parentSchema:schema302.properties.protocol,data:data5};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data4.port !== undefined){let data6 = data4.port;if(!(typeof data6 == "number")){const err11 = {instancePath:instancePath+"/listeners/" + i1+"/port",schemaPath:"#/definitions/NetworkLoadBalancerListener/properties/port/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema302.properties.port.type,parentSchema:schema302.properties.port,data:data6};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}if(data4.customCertificateArns !== undefined){let data7 = data4.customCertificateArns;if(Array.isArray(data7)){const len2 = data7.length;for(let i2=0; i2<len2; i2++){let data8 = data7[i2];if(typeof data8 !== "string"){const err12 = {instancePath:instancePath+"/listeners/" + i1+"/customCertificateArns/" + i2,schemaPath:"#/definitions/NetworkLoadBalancerListener/properties/customCertificateArns/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema302.properties.customCertificateArns.items.type,parentSchema:schema302.properties.customCertificateArns.items,data:data8};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}}else {const err13 = {instancePath:instancePath+"/listeners/" + i1+"/customCertificateArns",schemaPath:"#/definitions/NetworkLoadBalancerListener/properties/customCertificateArns/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema302.properties.customCertificateArns.type,parentSchema:schema302.properties.customCertificateArns,data:data7};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}if(data4.whitelistIps !== undefined){let data9 = data4.whitelistIps;if(Array.isArray(data9)){const len3 = data9.length;for(let i3=0; i3<len3; i3++){let data10 = data9[i3];if(typeof data10 !== "string"){const err14 = {instancePath:instancePath+"/listeners/" + i1+"/whitelistIps/" + i3,schemaPath:"#/definitions/NetworkLoadBalancerListener/properties/whitelistIps/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema302.properties.whitelistIps.items.type,parentSchema:schema302.properties.whitelistIps.items,data:data10};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}}}else {const err15 = {instancePath:instancePath+"/listeners/" + i1+"/whitelistIps",schemaPath:"#/definitions/NetworkLoadBalancerListener/properties/whitelistIps/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema302.properties.whitelistIps.type,parentSchema:schema302.properties.whitelistIps,data:data9};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}}}else {const err16 = {instancePath:instancePath+"/listeners/" + i1,schemaPath:"#/definitions/NetworkLoadBalancerListener/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema302.type,parentSchema:schema302,data:data4};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}}}else {const err17 = {instancePath:instancePath+"/listeners",schemaPath:"#/properties/listeners/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema301.properties.listeners.type,parentSchema:schema301.properties.listeners,data:data3};if(vErrors === null){vErrors = [err17];}else {vErrors.push(err17);}errors++;}}}else {const err18 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema301.type,parentSchema:schema301,data};if(vErrors === null){vErrors = [err18];}else {vErrors.push(err18);}errors++;}validate325.errors = vErrors;return errors === 0;}function validate324(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema300.required,parentSchema:schema300,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema300.required,parentSchema:schema300,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!(((key0 === "type") || (key0 === "properties")) || (key0 === "overrides"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema300,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema300.properties.type.type,parentSchema:schema300.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("network-load-balancer" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "network-load-balancer"},message:"must be equal to constant",schema:"network-load-balancer",parentSchema:schema300.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate325(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate325.errors : vErrors.concat(validate325.errors);errors = vErrors.length;}}if(data.overrides !== undefined){let data2 = data.overrides;if(data2 && typeof data2 == "object" && !Array.isArray(data2)){for(const key1 in data2){let data3 = data2[key1];if(data3 && typeof data3 == "object" && !Array.isArray(data3)){}else {const err5 = {instancePath:instancePath+"/overrides/" + key1.replace(/~/g, "~0").replace(/\//g, "~1"),schemaPath:"#/properties/overrides/additionalProperties/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema300.properties.overrides.additionalProperties.type,parentSchema:schema300.properties.overrides.additionalProperties,data:data3};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}}else {const err6 = {instancePath:instancePath+"/overrides",schemaPath:"#/properties/overrides/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema300.properties.overrides.type,parentSchema:schema300.properties.overrides,data:data2};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}}else {const err7 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema300.type,parentSchema:schema300,data};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}validate324.errors = vErrors;return errors === 0;}const schema303 = {"description":"#### HTTP API Gateway\n\n---\n\nA fully managed, serverless HTTP API Gateway with pay-per-request pricing.","type":"object","properties":{"type":{"type":"string","const":"http-api-gateway"},"properties":{"$ref":"#/definitions/HttpApiGatewayProps"},"overrides":{"description":"#### Resource Overrides\n\n---\n\nOverrides properties of the underlying CloudFormation resources that Stacktape creates.\n\nChild resources are identified by their CloudFormation logical ID (e.g., `MyBucketBucket`). You can find these IDs by running `stacktape stack:info --detailed`.\n\nFor a list of properties that can be overridden, refer to the [AWS CloudFormation documentation](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html).","type":"object","additionalProperties":{"type":"object","additionalProperties":{}}}},"additionalProperties":false,"required":["type"]};const schema304 = {"type":"object","properties":{"payloadFormat":{"description":"#### Determines the shape of the event delivered to your integrations.\n\n---\n\nThis value is only used if the payload format is not set on the integration level.\n\nFor more details on the differences between payload formats, see the [AWS documentation](https://docs.aws.amazon.com/apigateway/latest/developerguide/http-api-develop-integrations-lambda.html#http-api-develop-integrations-lambda.proxy-format).","enum":["1.0","2.0"],"type":"string"},"cors":{"$ref":"#/definitions/HttpApiCorsConfig","description":"#### Configures CORS (Cross-Origin Resource Sharing) HTTP headers for this HTTP API Gateway.\n\n---\n\nIf CORS is configured using this property, any CORS headers returned from your application will be ignored and replaced."},"logging":{"$ref":"#/definitions/HttpApiAccessLogsConfig","description":"#### Configures access logging for requests to the HTTP API Gateway.\n\n---\n\nThe following properties are stored: `requestId`, `ip`, `requestTime`, `httpMethod`, `routeKey`, `status`, `protocol`, and `responseLength`.\nYou can configure the log format using `CLF`, `JSON`, `XML`, or `CSV`.\n\nYou can access your logs in two ways:\n1.  **AWS CloudWatch Console:** Use the `stacktape stack-info` command to get a direct link to the log group.\n2.  **Stacktape CLI:** Use the [`stacktape logs` command](https://docs.stacktape.com/cli/commands/logs/) to view logs in your terminal."},"customDomains":{"description":"#### Attaches custom domains to this HTTP API Gateway.\n\n---\n\nWhen you connect a custom domain, Stacktape automatically:\n\n- **Creates DNS records:** A DNS record is created to point your domain name to the resource.\n- **Adds TLS certificates:** If the resource uses HTTPS, Stacktape issues and attaches a free, AWS-managed TLS certificate, handling TLS termination for you.\n\n> To manage a custom domain, it must first be added to your AWS account as a [hosted zone](https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/AboutHZWorkingWith.html), and your domain registrar's name servers must point to it.\n> For more details, see the [Adding a domain guide](https://docs.stacktape.com/other-resources/domains-and-certificates/#adding-domain).","type":"array","items":{"$ref":"#/definitions/DomainConfiguration"}},"cdn":{"$ref":"#/definitions/CdnConfiguration","description":"#### Configures an AWS CloudFront CDN (Content Delivery Network) in front of your HTTP API Gateway.\n\n---\n\nA CDN is a globally distributed network of edge locations that caches responses from your HTTP API Gateway, bringing content closer to your users.\n\nUsing a CDN can:\n- Reduce latency and improve load times.\n- Lower bandwidth costs.\n- Decrease the amount of traffic hitting your origin.\n- Enhance security.\n\nThe \"origin\" is the resource (in this case, the HTTP API Gateway) that the CDN is attached to."},"alarms":{"description":"#### Additional alarms associated with this resource.\n\n---\n\nThese alarms will be merged with any alarms configured globally in the [console](https://console.stacktape.com/alarms).","type":"array","items":{"$ref":"#/definitions/HttpApiGatewayAlarm"}},"disabledGlobalAlarms":{"description":"#### Disables globally configured alarms for this resource.\n\n---\n\nProvide a list of alarm names as configured in the [console](https://console.stacktape.com/alarms).","type":"array","items":{"type":"string"}}},"additionalProperties":false};const schema305 = {"type":"object","properties":{"disabled":{"description":"#### Disables the collection of access logs to CloudWatch.","default":false,"type":"boolean"},"format":{"description":"#### The format of the stored access logs.\n\n---\n\nStored properties include: `requestId`, `ip`, `requestTime`, `httpMethod`, `routeKey`, `status`, `protocol`, and `responseLength`.","default":"JSON","enum":["CLF","CSV","JSON","XML"],"type":"string"},"retentionDays":{"description":"#### The number of days to retain logs in the CloudWatch log group.","default":30,"enum":[1,120,14,150,180,1827,3,30,365,3653,400,5,545,60,7,731,90],"type":"number"},"logForwarding":{"description":"#### Log Forwarding\n\n---\n\nForwards logs to a specified destination for monitoring, analysis, or long-term storage.\n\nLog forwarding is handled by an [Amazon Kinesis Data Firehose](https://aws.amazon.com/kinesis/data-firehose/) delivery stream. You will incur costs based on the volume of data transferred (approximately $0.03 per GB). For detailed pricing, see the [AWS Kinesis Firehose Pricing](https://aws.amazon.com/kinesis/data-firehose/pricing/) page.\n\nSupported destinations:\n- `http-endpoint`: Delivers logs to any HTTP endpoint that complies with [Firehose request and response specifications](https://docs.aws.amazon.com/firehose/latest/dev/httpdeliveryrequestresponse.html). Many third-party logging services are compatible out-of-the-box.\n- `datadog`: Delivers logs to [Datadog](https://www.datadoghq.com/).\n- `highlight`: Delivers logs to a [Highlight.io](https://www.highlight.io/) project.\n\nFor more information, refer to the [Stacktape documentation on log forwarding](https://docs.stacktape.com/configuration/log-forwarding/).\n\n> If logs fail to be delivered after multiple retries, they are stored in a backup S3 bucket named `{stackName}-{resourceName}-logs-{generatedHash}`. The retry duration can be configured.","anyOf":[{"$ref":"#/definitions/HttpEndpointLogForwarding"},{"$ref":"#/definitions/HighlightLogForwarding"},{"$ref":"#/definitions/DatadogLogForwarding"}]}},"additionalProperties":false};function validate331(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){for(const key0 in data){if(!((((key0 === "disabled") || (key0 === "format")) || (key0 === "retentionDays")) || (key0 === "logForwarding"))){const err0 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema305,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}}if(data.disabled !== undefined){let data0 = data.disabled;if(typeof data0 !== "boolean"){const err1 = {instancePath:instancePath+"/disabled",schemaPath:"#/properties/disabled/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema305.properties.disabled.type,parentSchema:schema305.properties.disabled,data:data0};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.format !== undefined){let data1 = data.format;if(typeof data1 !== "string"){const err2 = {instancePath:instancePath+"/format",schemaPath:"#/properties/format/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema305.properties.format.type,parentSchema:schema305.properties.format,data:data1};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}if(!((((data1 === "CLF") || (data1 === "CSV")) || (data1 === "JSON")) || (data1 === "XML"))){const err3 = {instancePath:instancePath+"/format",schemaPath:"#/properties/format/enum",keyword:"enum",params:{allowedValues: schema305.properties.format.enum},message:"must be equal to one of the allowed values",schema:schema305.properties.format.enum,parentSchema:schema305.properties.format,data:data1};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.retentionDays !== undefined){let data2 = data.retentionDays;if(!(typeof data2 == "number")){const err4 = {instancePath:instancePath+"/retentionDays",schemaPath:"#/properties/retentionDays/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema305.properties.retentionDays.type,parentSchema:schema305.properties.retentionDays,data:data2};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}if(!(((((((((((((((((data2 === 1) || (data2 === 120)) || (data2 === 14)) || (data2 === 150)) || (data2 === 180)) || (data2 === 1827)) || (data2 === 3)) || (data2 === 30)) || (data2 === 365)) || (data2 === 3653)) || (data2 === 400)) || (data2 === 5)) || (data2 === 545)) || (data2 === 60)) || (data2 === 7)) || (data2 === 731)) || (data2 === 90))){const err5 = {instancePath:instancePath+"/retentionDays",schemaPath:"#/properties/retentionDays/enum",keyword:"enum",params:{allowedValues: schema305.properties.retentionDays.enum},message:"must be equal to one of the allowed values",schema:schema305.properties.retentionDays.enum,parentSchema:schema305.properties.retentionDays,data:data2};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data.logForwarding !== undefined){let data3 = data.logForwarding;const _errs9 = errors;let valid1 = false;const _errs10 = errors;if(!(validate80(data3, {instancePath:instancePath+"/logForwarding",parentData:data,parentDataProperty:"logForwarding",rootData}))){vErrors = vErrors === null ? validate80.errors : vErrors.concat(validate80.errors);errors = vErrors.length;}var _valid0 = _errs10 === errors;valid1 = valid1 || _valid0;if(!valid1){const _errs11 = errors;if(!(validate82(data3, {instancePath:instancePath+"/logForwarding",parentData:data,parentDataProperty:"logForwarding",rootData}))){vErrors = vErrors === null ? validate82.errors : vErrors.concat(validate82.errors);errors = vErrors.length;}var _valid0 = _errs11 === errors;valid1 = valid1 || _valid0;if(!valid1){const _errs12 = errors;if(!(validate84(data3, {instancePath:instancePath+"/logForwarding",parentData:data,parentDataProperty:"logForwarding",rootData}))){vErrors = vErrors === null ? validate84.errors : vErrors.concat(validate84.errors);errors = vErrors.length;}var _valid0 = _errs12 === errors;valid1 = valid1 || _valid0;}}if(!valid1){const err6 = {instancePath:instancePath+"/logForwarding",schemaPath:"#/properties/logForwarding/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:schema305.properties.logForwarding.anyOf,parentSchema:schema305.properties.logForwarding,data:data3};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}else {errors = _errs9;if(vErrors !== null){if(_errs9){vErrors.length = _errs9;}else {vErrors = null;}}}}}else {const err7 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema305.type,parentSchema:schema305,data};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}validate331.errors = vErrors;return errors === 0;}function validate329(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){for(const key0 in data){if(!(((((((key0 === "payloadFormat") || (key0 === "cors")) || (key0 === "logging")) || (key0 === "customDomains")) || (key0 === "cdn")) || (key0 === "alarms")) || (key0 === "disabledGlobalAlarms"))){const err0 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema304,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}}if(data.payloadFormat !== undefined){let data0 = data.payloadFormat;if(typeof data0 !== "string"){const err1 = {instancePath:instancePath+"/payloadFormat",schemaPath:"#/properties/payloadFormat/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema304.properties.payloadFormat.type,parentSchema:schema304.properties.payloadFormat,data:data0};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}if(!((data0 === "1.0") || (data0 === "2.0"))){const err2 = {instancePath:instancePath+"/payloadFormat",schemaPath:"#/properties/payloadFormat/enum",keyword:"enum",params:{allowedValues: schema304.properties.payloadFormat.enum},message:"must be equal to one of the allowed values",schema:schema304.properties.payloadFormat.enum,parentSchema:schema304.properties.payloadFormat,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.cors !== undefined){if(!(validate164(data.cors, {instancePath:instancePath+"/cors",parentData:data,parentDataProperty:"cors",rootData}))){vErrors = vErrors === null ? validate164.errors : vErrors.concat(validate164.errors);errors = vErrors.length;}}if(data.logging !== undefined){if(!(validate331(data.logging, {instancePath:instancePath+"/logging",parentData:data,parentDataProperty:"logging",rootData}))){vErrors = vErrors === null ? validate331.errors : vErrors.concat(validate331.errors);errors = vErrors.length;}}if(data.customDomains !== undefined){let data3 = data.customDomains;if(Array.isArray(data3)){const len0 = data3.length;for(let i0=0; i0<len0; i0++){let data4 = data3[i0];if(data4 && typeof data4 == "object" && !Array.isArray(data4)){if(data4.domainName === undefined){const err3 = {instancePath:instancePath+"/customDomains/" + i0,schemaPath:"#/definitions/DomainConfiguration/required",keyword:"required",params:{missingProperty: "domainName"},message:"must have required property '"+"domainName"+"'",schema:schema160.required,parentSchema:schema160,data:data4};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}for(const key1 in data4){if(!(((key1 === "domainName") || (key1 === "customCertificateArn")) || (key1 === "disableDnsRecordCreation"))){const err4 = {instancePath:instancePath+"/customDomains/" + i0,schemaPath:"#/definitions/DomainConfiguration/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema160,data:data4};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data4.domainName !== undefined){let data5 = data4.domainName;if(typeof data5 !== "string"){const err5 = {instancePath:instancePath+"/customDomains/" + i0+"/domainName",schemaPath:"#/definitions/DomainConfiguration/properties/domainName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema160.properties.domainName.type,parentSchema:schema160.properties.domainName,data:data5};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data4.customCertificateArn !== undefined){let data6 = data4.customCertificateArn;if(typeof data6 !== "string"){const err6 = {instancePath:instancePath+"/customDomains/" + i0+"/customCertificateArn",schemaPath:"#/definitions/DomainConfiguration/properties/customCertificateArn/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema160.properties.customCertificateArn.type,parentSchema:schema160.properties.customCertificateArn,data:data6};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data4.disableDnsRecordCreation !== undefined){let data7 = data4.disableDnsRecordCreation;if(typeof data7 !== "boolean"){const err7 = {instancePath:instancePath+"/customDomains/" + i0+"/disableDnsRecordCreation",schemaPath:"#/definitions/DomainConfiguration/properties/disableDnsRecordCreation/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema160.properties.disableDnsRecordCreation.type,parentSchema:schema160.properties.disableDnsRecordCreation,data:data7};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}}else {const err8 = {instancePath:instancePath+"/customDomains/" + i0,schemaPath:"#/definitions/DomainConfiguration/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema160.type,parentSchema:schema160,data:data4};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}}else {const err9 = {instancePath:instancePath+"/customDomains",schemaPath:"#/properties/customDomains/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema304.properties.customDomains.type,parentSchema:schema304.properties.customDomains,data:data3};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(data.cdn !== undefined){if(!(validate172(data.cdn, {instancePath:instancePath+"/cdn",parentData:data,parentDataProperty:"cdn",rootData}))){vErrors = vErrors === null ? validate172.errors : vErrors.concat(validate172.errors);errors = vErrors.length;}}if(data.alarms !== undefined){let data9 = data.alarms;if(Array.isArray(data9)){const len1 = data9.length;for(let i1=0; i1<len1; i1++){if(!(validate218(data9[i1], {instancePath:instancePath+"/alarms/" + i1,parentData:data9,parentDataProperty:i1,rootData}))){vErrors = vErrors === null ? validate218.errors : vErrors.concat(validate218.errors);errors = vErrors.length;}}}else {const err10 = {instancePath:instancePath+"/alarms",schemaPath:"#/properties/alarms/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema304.properties.alarms.type,parentSchema:schema304.properties.alarms,data:data9};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data.disabledGlobalAlarms !== undefined){let data11 = data.disabledGlobalAlarms;if(Array.isArray(data11)){const len2 = data11.length;for(let i2=0; i2<len2; i2++){let data12 = data11[i2];if(typeof data12 !== "string"){const err11 = {instancePath:instancePath+"/disabledGlobalAlarms/" + i2,schemaPath:"#/properties/disabledGlobalAlarms/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema304.properties.disabledGlobalAlarms.items.type,parentSchema:schema304.properties.disabledGlobalAlarms.items,data:data12};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}}else {const err12 = {instancePath:instancePath+"/disabledGlobalAlarms",schemaPath:"#/properties/disabledGlobalAlarms/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema304.properties.disabledGlobalAlarms.type,parentSchema:schema304.properties.disabledGlobalAlarms,data:data11};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}}else {const err13 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema304.type,parentSchema:schema304,data};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}validate329.errors = vErrors;return errors === 0;}function validate328(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.type === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema303.required,parentSchema:schema303,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!(((key0 === "type") || (key0 === "properties")) || (key0 === "overrides"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema303,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err2 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema303.properties.type.type,parentSchema:schema303.properties.type,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}if("http-api-gateway" !== data0){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "http-api-gateway"},message:"must be equal to constant",schema:"http-api-gateway",parentSchema:schema303.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.properties !== undefined){if(!(validate329(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate329.errors : vErrors.concat(validate329.errors);errors = vErrors.length;}}if(data.overrides !== undefined){let data2 = data.overrides;if(data2 && typeof data2 == "object" && !Array.isArray(data2)){for(const key1 in data2){let data3 = data2[key1];if(data3 && typeof data3 == "object" && !Array.isArray(data3)){}else {const err4 = {instancePath:instancePath+"/overrides/" + key1.replace(/~/g, "~0").replace(/\//g, "~1"),schemaPath:"#/properties/overrides/additionalProperties/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema303.properties.overrides.additionalProperties.type,parentSchema:schema303.properties.overrides.additionalProperties,data:data3};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}}else {const err5 = {instancePath:instancePath+"/overrides",schemaPath:"#/properties/overrides/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema303.properties.overrides.type,parentSchema:schema303.properties.overrides,data:data2};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}}else {const err6 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema303.type,parentSchema:schema303,data};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}validate328.errors = vErrors;return errors === 0;}const schema307 = {"description":"#### Storage Bucket\n\n---\n\nA durable and highly available object storage service with pay-per-use pricing.","type":"object","properties":{"type":{"type":"string","const":"bucket"},"properties":{"$ref":"#/definitions/BucketProps"},"overrides":{"description":"#### Resource Overrides\n\n---\n\nOverrides properties of the underlying CloudFormation resources that Stacktape creates.\n\nChild resources are identified by their CloudFormation logical ID (e.g., `MyBucketBucket`). You can find these IDs by running `stacktape stack:info --detailed`.\n\nFor a list of properties that can be overridden, refer to the [AWS CloudFormation documentation](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html).","type":"object","additionalProperties":{"type":"object","additionalProperties":{}}}},"additionalProperties":false,"required":["type"]};const schema308 = {"type":"object","properties":{"directoryUpload":{"$ref":"#/definitions/DirectoryUpload","description":"#### Allows you to upload a specified directory to the bucket on every deployment.\n\n---\n\nAfter the upload is finished, the contents of your bucket will mirror the contents of the local folder.\nFiles are uploaded using parallel, multipart uploads.\n\n> **Warning:** Any existing contents of the bucket will be deleted and replaced with the contents of the local directory.\n> You should not use `directoryUpload` for buckets with application-generated or user-generated content."},"accessibility":{"$ref":"#/definitions/BucketAccessibility","description":"#### Configures the accessibility of the bucket."},"cors":{"$ref":"#/definitions/BucketCorsConfig","description":"#### Configures CORS (Cross-Origin Resource Sharing) HTTP headers for the bucket.\n\n---\n\nWeb browsers use CORS to block websites from making requests to a different origin (server) than the one they are served from."},"versioning":{"description":"#### Enables versioning of objects in the bucket.\n\n---\n\nWhen enabled, the bucket will keep multiple variants of an object.\nThis can help you recover objects from accidental deletion or overwrites.","type":"boolean"},"encryption":{"description":"#### Enables encryption of the objects stored in this bucket.\n\n---\n\nObjects are encrypted using the AES-256 algorithm.","type":"boolean"},"lifecycleRules":{"description":"#### Configures how objects are stored throughout their lifecycle.\n\n---\n\nLifecycle rules are used to transition objects to different storage classes or delete old objects.","type":"array","items":{"anyOf":[{"$ref":"#/definitions/Expiration"},{"$ref":"#/definitions/NonCurrentVersionExpiration"},{"$ref":"#/definitions/ClassTransition"},{"$ref":"#/definitions/NonCurrentVersionClassTransition"},{"$ref":"#/definitions/AbortIncompleteMultipartUpload"}]}},"enableEventBusNotifications":{"description":"#### Enables sending bucket events to the default EventBridge bus.\n\n---\n\nWhen enabled, an event is sent to the default event bus whenever certain actions occur in your bucket (e.g., an object is created or deleted).\n\nFor a full list of all bucket events, see the [AWS documentation](https://docs.aws.amazon.com/AmazonS3/latest/userguide/EventBridge.html).","default":false,"type":"boolean"},"cdn":{"$ref":"#/definitions/BucketCdnConfiguration","description":"#### Configures an AWS CloudFront CDN (Content Delivery Network) in front of your bucket.\n\n---\n\nA CDN is a globally distributed network of edge locations that caches responses from your bucket, bringing content closer to your users.\n\nUsing a CDN can:\n- Reduce latency and improve load times.\n- Lower bandwidth costs.\n- Decrease the amount of traffic hitting your origin.\n- Enhance security.\n\nThe \"origin\" is the resource (in this case, the bucket) that the CDN is attached to."}},"additionalProperties":false};const schema309 = {"type":"object","properties":{"directoryPath":{"description":"#### The path to the directory that should be uploaded to the bucket.\n\n---\n\nAfter the sync is finished, the contents of your bucket will mirror the contents of the local folder.\nThe path is relative to your current working directory.\n\n> **Warning:** Any existing contents of the bucket will be deleted and replaced with the contents of the local directory.\n> You should not use a bucket with `directoryUpload` enabled for application-generated or user-generated content.","type":"string"},"fileOptions":{"description":"#### Allows you to set properties of files (objects) during the upload.","type":"array","items":{"$ref":"#/definitions/DirectoryUploadFilter"}},"excludeFilesPatterns":{"description":"#### Glob patterns for files to be excluded from the upload.\n\n---\n\nThese patterns are relative to the `directoryPath`.","type":"array","items":{"type":"string"}},"headersPreset":{"$ref":"#/definitions/SupportedHeaderPreset","description":"#### Configures HTTP headers of uploaded files to be optimized for a selected preset.\n\n---\n\nAvailable presets:\n\n- **`static-website`**:\n  - Sets the `Cache-Control` header to `public, max-age=0, s-maxage=31536000, must-revalidate` for all uploaded files.\n  - This setup caches all content on the CDN but never in the browser.\n\n- **`gatsby-static-website`**:\n  - Optimizes headers for static websites built with [Gatsby](https://www.gatsbyjs.com/), following their [caching recommendations](https://www.gatsbyjs.com/docs/caching/).\n\n- **`single-page-app`**:\n  - Optimizes headers for [Single-Page Applications](https://en.wikipedia.org/wiki/Single-page_application).\n  - `html` files are never cached to ensure users always get the latest content after a deployment.\n  - All other assets (e.g., `.js`, `.css`) are cached indefinitely. You should **always** add a content hash to your filenames to ensure users receive new versions after updates.\n\nYou can override these presets using custom `filters`.\n\n> When `headersPreset` is used, `cdn.invalidateAfterDeploy` must also be configured."},"disableS3TransferAcceleration":{"description":"#### Disables S3 Transfer Acceleration.\n\n---\n\nS3 Transfer Acceleration improves the upload times of your directory contents by uploading objects to the nearest AWS edge location and routing them to the bucket through the AWS backbone network.\n\nThis feature incurs a small additional cost.","default":false,"type":"boolean"}},"additionalProperties":false,"required":["directoryPath"]};const schema313 = {"enum":["gatsby-static-website","single-page-app","static-website"],"type":"string"};const schema310 = {"type":"object","properties":{"includePattern":{"description":"#### A glob pattern that specifies which files should be handled by this filter.\n\n---\n\nThe pattern is relative to the `directoryPath`.","type":"string"},"excludePattern":{"description":"#### A glob pattern that specifies which files should be excluded from this filter, even if they match the `includePattern`.\n\n---\n\nThe pattern is relative to the `directoryPath`.","type":"string"},"headers":{"description":"#### Configures HTTP headers for files (objects) that match this filter.\n\n---\n\nIf you are using a CDN, these headers will be forwarded to the client.\nThis can be used to implement a custom HTTP caching strategy for your static content.","type":"array","items":{"$ref":"#/definitions/KeyValuePair"}},"tags":{"description":"#### Tags to apply to the files that match this filter.\n\n---\n\nTags help you categorize your objects and can be used to filter objects when using `lifecycleRules`.\n\nFor more details on object tagging, see the [AWS documentation](https://docs.aws.amazon.com/AmazonS3/latest/userguide/object-tagging.html).\n\n> A single file (object) can have only one tag with the same key.","type":"array","items":{"$ref":"#/definitions/KeyValuePair"}}},"additionalProperties":false,"required":["includePattern"]};const schema311 = {"type":"object","properties":{"key":{"description":"#### Key","type":"string"},"value":{"description":"#### Value","type":"string"}},"additionalProperties":false,"required":["key","value"]};function validate343(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.includePattern === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "includePattern"},message:"must have required property '"+"includePattern"+"'",schema:schema310.required,parentSchema:schema310,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!((((key0 === "includePattern") || (key0 === "excludePattern")) || (key0 === "headers")) || (key0 === "tags"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema310,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.includePattern !== undefined){let data0 = data.includePattern;if(typeof data0 !== "string"){const err2 = {instancePath:instancePath+"/includePattern",schemaPath:"#/properties/includePattern/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema310.properties.includePattern.type,parentSchema:schema310.properties.includePattern,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.excludePattern !== undefined){let data1 = data.excludePattern;if(typeof data1 !== "string"){const err3 = {instancePath:instancePath+"/excludePattern",schemaPath:"#/properties/excludePattern/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema310.properties.excludePattern.type,parentSchema:schema310.properties.excludePattern,data:data1};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.headers !== undefined){let data2 = data.headers;if(Array.isArray(data2)){const len0 = data2.length;for(let i0=0; i0<len0; i0++){let data3 = data2[i0];if(data3 && typeof data3 == "object" && !Array.isArray(data3)){if(data3.key === undefined){const err4 = {instancePath:instancePath+"/headers/" + i0,schemaPath:"#/definitions/KeyValuePair/required",keyword:"required",params:{missingProperty: "key"},message:"must have required property '"+"key"+"'",schema:schema311.required,parentSchema:schema311,data:data3};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}if(data3.value === undefined){const err5 = {instancePath:instancePath+"/headers/" + i0,schemaPath:"#/definitions/KeyValuePair/required",keyword:"required",params:{missingProperty: "value"},message:"must have required property '"+"value"+"'",schema:schema311.required,parentSchema:schema311,data:data3};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}for(const key1 in data3){if(!((key1 === "key") || (key1 === "value"))){const err6 = {instancePath:instancePath+"/headers/" + i0,schemaPath:"#/definitions/KeyValuePair/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema311,data:data3};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data3.key !== undefined){let data4 = data3.key;if(typeof data4 !== "string"){const err7 = {instancePath:instancePath+"/headers/" + i0+"/key",schemaPath:"#/definitions/KeyValuePair/properties/key/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema311.properties.key.type,parentSchema:schema311.properties.key,data:data4};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data3.value !== undefined){let data5 = data3.value;if(typeof data5 !== "string"){const err8 = {instancePath:instancePath+"/headers/" + i0+"/value",schemaPath:"#/definitions/KeyValuePair/properties/value/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema311.properties.value.type,parentSchema:schema311.properties.value,data:data5};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}}else {const err9 = {instancePath:instancePath+"/headers/" + i0,schemaPath:"#/definitions/KeyValuePair/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema311.type,parentSchema:schema311,data:data3};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}}else {const err10 = {instancePath:instancePath+"/headers",schemaPath:"#/properties/headers/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema310.properties.headers.type,parentSchema:schema310.properties.headers,data:data2};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data.tags !== undefined){let data6 = data.tags;if(Array.isArray(data6)){const len1 = data6.length;for(let i1=0; i1<len1; i1++){let data7 = data6[i1];if(data7 && typeof data7 == "object" && !Array.isArray(data7)){if(data7.key === undefined){const err11 = {instancePath:instancePath+"/tags/" + i1,schemaPath:"#/definitions/KeyValuePair/required",keyword:"required",params:{missingProperty: "key"},message:"must have required property '"+"key"+"'",schema:schema311.required,parentSchema:schema311,data:data7};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}if(data7.value === undefined){const err12 = {instancePath:instancePath+"/tags/" + i1,schemaPath:"#/definitions/KeyValuePair/required",keyword:"required",params:{missingProperty: "value"},message:"must have required property '"+"value"+"'",schema:schema311.required,parentSchema:schema311,data:data7};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}for(const key2 in data7){if(!((key2 === "key") || (key2 === "value"))){const err13 = {instancePath:instancePath+"/tags/" + i1,schemaPath:"#/definitions/KeyValuePair/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key2},message:"must NOT have additional properties",schema:false,parentSchema:schema311,data:data7};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}if(data7.key !== undefined){let data8 = data7.key;if(typeof data8 !== "string"){const err14 = {instancePath:instancePath+"/tags/" + i1+"/key",schemaPath:"#/definitions/KeyValuePair/properties/key/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema311.properties.key.type,parentSchema:schema311.properties.key,data:data8};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}}if(data7.value !== undefined){let data9 = data7.value;if(typeof data9 !== "string"){const err15 = {instancePath:instancePath+"/tags/" + i1+"/value",schemaPath:"#/definitions/KeyValuePair/properties/value/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema311.properties.value.type,parentSchema:schema311.properties.value,data:data9};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}}}else {const err16 = {instancePath:instancePath+"/tags/" + i1,schemaPath:"#/definitions/KeyValuePair/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema311.type,parentSchema:schema311,data:data7};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}}}else {const err17 = {instancePath:instancePath+"/tags",schemaPath:"#/properties/tags/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema310.properties.tags.type,parentSchema:schema310.properties.tags,data:data6};if(vErrors === null){vErrors = [err17];}else {vErrors.push(err17);}errors++;}}}else {const err18 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema310.type,parentSchema:schema310,data};if(vErrors === null){vErrors = [err18];}else {vErrors.push(err18);}errors++;}validate343.errors = vErrors;return errors === 0;}function validate342(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.directoryPath === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "directoryPath"},message:"must have required property '"+"directoryPath"+"'",schema:schema309.required,parentSchema:schema309,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!(((((key0 === "directoryPath") || (key0 === "fileOptions")) || (key0 === "excludeFilesPatterns")) || (key0 === "headersPreset")) || (key0 === "disableS3TransferAcceleration"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema309,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.directoryPath !== undefined){let data0 = data.directoryPath;if(typeof data0 !== "string"){const err2 = {instancePath:instancePath+"/directoryPath",schemaPath:"#/properties/directoryPath/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema309.properties.directoryPath.type,parentSchema:schema309.properties.directoryPath,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.fileOptions !== undefined){let data1 = data.fileOptions;if(Array.isArray(data1)){const len0 = data1.length;for(let i0=0; i0<len0; i0++){if(!(validate343(data1[i0], {instancePath:instancePath+"/fileOptions/" + i0,parentData:data1,parentDataProperty:i0,rootData}))){vErrors = vErrors === null ? validate343.errors : vErrors.concat(validate343.errors);errors = vErrors.length;}}}else {const err3 = {instancePath:instancePath+"/fileOptions",schemaPath:"#/properties/fileOptions/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema309.properties.fileOptions.type,parentSchema:schema309.properties.fileOptions,data:data1};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.excludeFilesPatterns !== undefined){let data3 = data.excludeFilesPatterns;if(Array.isArray(data3)){const len1 = data3.length;for(let i1=0; i1<len1; i1++){let data4 = data3[i1];if(typeof data4 !== "string"){const err4 = {instancePath:instancePath+"/excludeFilesPatterns/" + i1,schemaPath:"#/properties/excludeFilesPatterns/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema309.properties.excludeFilesPatterns.items.type,parentSchema:schema309.properties.excludeFilesPatterns.items,data:data4};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}}else {const err5 = {instancePath:instancePath+"/excludeFilesPatterns",schemaPath:"#/properties/excludeFilesPatterns/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema309.properties.excludeFilesPatterns.type,parentSchema:schema309.properties.excludeFilesPatterns,data:data3};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data.headersPreset !== undefined){let data5 = data.headersPreset;if(typeof data5 !== "string"){const err6 = {instancePath:instancePath+"/headersPreset",schemaPath:"#/definitions/SupportedHeaderPreset/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema313.type,parentSchema:schema313,data:data5};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}if(!(((data5 === "gatsby-static-website") || (data5 === "single-page-app")) || (data5 === "static-website"))){const err7 = {instancePath:instancePath+"/headersPreset",schemaPath:"#/definitions/SupportedHeaderPreset/enum",keyword:"enum",params:{allowedValues: schema313.enum},message:"must be equal to one of the allowed values",schema:schema313.enum,parentSchema:schema313,data:data5};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data.disableS3TransferAcceleration !== undefined){let data6 = data.disableS3TransferAcceleration;if(typeof data6 !== "boolean"){const err8 = {instancePath:instancePath+"/disableS3TransferAcceleration",schemaPath:"#/properties/disableS3TransferAcceleration/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema309.properties.disableS3TransferAcceleration.type,parentSchema:schema309.properties.disableS3TransferAcceleration,data:data6};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}}else {const err9 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema309.type,parentSchema:schema309,data};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}validate342.errors = vErrors;return errors === 0;}const schema314 = {"type":"object","properties":{"accessibilityMode":{"description":"#### Configures pre-defined accessibility modes for the bucket.\n\n---\n\nThis allows you to easily configure the most common access patterns.\n\nAvailable modes:\n- `public-read-write`: Everyone can read from and write to the bucket.\n- `public-read`: Everyone can read from the bucket. Only compute resources and entities with sufficient IAM permissions can write to it.\n- `private` (default): Only compute resources and entities with sufficient IAM permissions can read from or write to the bucket.\n\nFor functions, batch jobs, and container workloads, you can grant the required IAM permissions using the `allowsAccessTo` or `iamRoleStatements` properties in their respective configurations.","default":"private","enum":["private","public-read","public-read-write"],"type":"string"},"accessPolicyStatements":{"description":"#### Advanced access configuration that leverages IAM policy statements.\n\n---\n\nThis gives you fine-grained access control over the bucket.","type":"array","items":{"$ref":"#/definitions/BucketPolicyIamRoleStatement"}}},"additionalProperties":false,"required":["accessibilityMode"]};const schema315 = {"type":"object","properties":{"Principal":{},"Sid":{"description":"#### Statement ID (Sid)\n\n---\n\nAn optional identifier for the statement. For more information, see the [AWS documentation](https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies.html#policies-introduction).","type":"string"},"Effect":{"description":"#### Effect\n\n---\n\nSpecifies whether the statement results in an `Allow` or `Deny`. For more information, see the [AWS documentation](https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies.html#policies-introduction).","default":"Allow","type":"string"},"Action":{"description":"#### Action\n\n---\n\nA list of actions that the statement allows or denies (e.g., `s3:GetObject`). For more information, see the [AWS documentation](https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies.html#policies-introduction).","type":"array","items":{"type":"string"}},"Condition":{"description":"#### Condition\n\n---\n\nSpecifies the conditions under which the statement is in effect. For more information, see the [AWS documentation](https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies.html#policies-introduction)."},"Resource":{"description":"#### Resource\n\n---\n\nA list of resources to which the actions apply. For more information, see the [AWS documentation](https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies.html#policies-introduction).","type":"array","items":{"type":"string"}}},"additionalProperties":false,"required":["Principal","Resource"]};function validate346(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.accessibilityMode === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "accessibilityMode"},message:"must have required property '"+"accessibilityMode"+"'",schema:schema314.required,parentSchema:schema314,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!((key0 === "accessibilityMode") || (key0 === "accessPolicyStatements"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema314,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.accessibilityMode !== undefined){let data0 = data.accessibilityMode;if(typeof data0 !== "string"){const err2 = {instancePath:instancePath+"/accessibilityMode",schemaPath:"#/properties/accessibilityMode/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema314.properties.accessibilityMode.type,parentSchema:schema314.properties.accessibilityMode,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}if(!(((data0 === "private") || (data0 === "public-read")) || (data0 === "public-read-write"))){const err3 = {instancePath:instancePath+"/accessibilityMode",schemaPath:"#/properties/accessibilityMode/enum",keyword:"enum",params:{allowedValues: schema314.properties.accessibilityMode.enum},message:"must be equal to one of the allowed values",schema:schema314.properties.accessibilityMode.enum,parentSchema:schema314.properties.accessibilityMode,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.accessPolicyStatements !== undefined){let data1 = data.accessPolicyStatements;if(Array.isArray(data1)){const len0 = data1.length;for(let i0=0; i0<len0; i0++){let data2 = data1[i0];if(data2 && typeof data2 == "object" && !Array.isArray(data2)){if(data2.Principal === undefined){const err4 = {instancePath:instancePath+"/accessPolicyStatements/" + i0,schemaPath:"#/definitions/BucketPolicyIamRoleStatement/required",keyword:"required",params:{missingProperty: "Principal"},message:"must have required property '"+"Principal"+"'",schema:schema315.required,parentSchema:schema315,data:data2};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}if(data2.Resource === undefined){const err5 = {instancePath:instancePath+"/accessPolicyStatements/" + i0,schemaPath:"#/definitions/BucketPolicyIamRoleStatement/required",keyword:"required",params:{missingProperty: "Resource"},message:"must have required property '"+"Resource"+"'",schema:schema315.required,parentSchema:schema315,data:data2};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}for(const key1 in data2){if(!((((((key1 === "Principal") || (key1 === "Sid")) || (key1 === "Effect")) || (key1 === "Action")) || (key1 === "Condition")) || (key1 === "Resource"))){const err6 = {instancePath:instancePath+"/accessPolicyStatements/" + i0,schemaPath:"#/definitions/BucketPolicyIamRoleStatement/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema315,data:data2};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data2.Sid !== undefined){let data3 = data2.Sid;if(typeof data3 !== "string"){const err7 = {instancePath:instancePath+"/accessPolicyStatements/" + i0+"/Sid",schemaPath:"#/definitions/BucketPolicyIamRoleStatement/properties/Sid/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema315.properties.Sid.type,parentSchema:schema315.properties.Sid,data:data3};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data2.Effect !== undefined){let data4 = data2.Effect;if(typeof data4 !== "string"){const err8 = {instancePath:instancePath+"/accessPolicyStatements/" + i0+"/Effect",schemaPath:"#/definitions/BucketPolicyIamRoleStatement/properties/Effect/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema315.properties.Effect.type,parentSchema:schema315.properties.Effect,data:data4};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}if(data2.Action !== undefined){let data5 = data2.Action;if(Array.isArray(data5)){const len1 = data5.length;for(let i1=0; i1<len1; i1++){let data6 = data5[i1];if(typeof data6 !== "string"){const err9 = {instancePath:instancePath+"/accessPolicyStatements/" + i0+"/Action/" + i1,schemaPath:"#/definitions/BucketPolicyIamRoleStatement/properties/Action/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema315.properties.Action.items.type,parentSchema:schema315.properties.Action.items,data:data6};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}}else {const err10 = {instancePath:instancePath+"/accessPolicyStatements/" + i0+"/Action",schemaPath:"#/definitions/BucketPolicyIamRoleStatement/properties/Action/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema315.properties.Action.type,parentSchema:schema315.properties.Action,data:data5};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data2.Resource !== undefined){let data7 = data2.Resource;if(Array.isArray(data7)){const len2 = data7.length;for(let i2=0; i2<len2; i2++){let data8 = data7[i2];if(typeof data8 !== "string"){const err11 = {instancePath:instancePath+"/accessPolicyStatements/" + i0+"/Resource/" + i2,schemaPath:"#/definitions/BucketPolicyIamRoleStatement/properties/Resource/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema315.properties.Resource.items.type,parentSchema:schema315.properties.Resource.items,data:data8};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}}else {const err12 = {instancePath:instancePath+"/accessPolicyStatements/" + i0+"/Resource",schemaPath:"#/definitions/BucketPolicyIamRoleStatement/properties/Resource/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema315.properties.Resource.type,parentSchema:schema315.properties.Resource,data:data7};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}}else {const err13 = {instancePath:instancePath+"/accessPolicyStatements/" + i0,schemaPath:"#/definitions/BucketPolicyIamRoleStatement/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema315.type,parentSchema:schema315,data:data2};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}}else {const err14 = {instancePath:instancePath+"/accessPolicyStatements",schemaPath:"#/properties/accessPolicyStatements/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema314.properties.accessPolicyStatements.type,parentSchema:schema314.properties.accessPolicyStatements,data:data1};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}}}else {const err15 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema314.type,parentSchema:schema314,data};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}validate346.errors = vErrors;return errors === 0;}const schema316 = {"type":"object","properties":{"enabled":{"description":"#### Enables CORS (Cross-Origin Resource Sharing) HTTP headers for the bucket.\n\n---\n\nIf you enable CORS without specifying any rules, a default rule with the following configuration is used:\n- `allowedMethods`: `GET`, `PUT`, `HEAD`, `POST`, `DELETE`\n- `allowedOrigins`: `*`\n- `allowedHeaders`: `Authorization`, `Content-Length`, `Content-Type`, `Content-MD5`, `Date`, `Expect`, `Host`, `x-amz-content-sha256`, `x-amz-date`, `x-amz-security-token`","type":"boolean"},"corsRules":{"description":"#### A list of CORS rules.\n\n---\n\nWhen the bucket receives a preflight request from a browser, it evaluates the CORS configuration and uses the first rule that matches the request to enable a cross-origin request.\nFor a rule to match, the following conditions must be met:\n\n- The request's `Origin` header must match one of the `allowedOrigins`.\n- The request method (e.g., `GET`, `PUT`) or the `Access-Control-Request-Method` header must be one of the `allowedMethods`.\n- Every header listed in the request's `Access-Control-Request-Headers` header must match one of the `allowedHeaders`.","type":"array","items":{"$ref":"#/definitions/BucketCorsRule"}}},"additionalProperties":false,"required":["enabled"]};const schema317 = {"type":"object","properties":{"allowedOrigins":{"description":"#### The origins to accept cross-domain requests from.\n\n---\n\nAn origin is a combination of a scheme (protocol), hostname (domain), and port.","type":"array","items":{"type":"string"}},"allowedHeaders":{"description":"#### The allowed HTTP headers.\n\n---\n\nEach header name in the `Access-Control-Request-Headers` header of a preflight request must match an entry in this list.","type":"array","items":{"type":"string"}},"allowedMethods":{"description":"#### The allowed HTTP methods.","type":"array","items":{"enum":["*","DELETE","GET","HEAD","PATCH","POST","PUT"],"type":"string"}},"exposedResponseHeaders":{"description":"#### The response headers that should be made available to scripts running in the browser in response to a cross-origin request.","type":"array","items":{"type":"string"}},"maxAge":{"description":"#### The time (in seconds) that the browser can cache the response for a preflight request.","type":"number"}},"additionalProperties":false};function validate348(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.enabled === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "enabled"},message:"must have required property '"+"enabled"+"'",schema:schema316.required,parentSchema:schema316,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!((key0 === "enabled") || (key0 === "corsRules"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema316,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.enabled !== undefined){let data0 = data.enabled;if(typeof data0 !== "boolean"){const err2 = {instancePath:instancePath+"/enabled",schemaPath:"#/properties/enabled/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema316.properties.enabled.type,parentSchema:schema316.properties.enabled,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.corsRules !== undefined){let data1 = data.corsRules;if(Array.isArray(data1)){const len0 = data1.length;for(let i0=0; i0<len0; i0++){let data2 = data1[i0];if(data2 && typeof data2 == "object" && !Array.isArray(data2)){for(const key1 in data2){if(!(((((key1 === "allowedOrigins") || (key1 === "allowedHeaders")) || (key1 === "allowedMethods")) || (key1 === "exposedResponseHeaders")) || (key1 === "maxAge"))){const err3 = {instancePath:instancePath+"/corsRules/" + i0,schemaPath:"#/definitions/BucketCorsRule/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema317,data:data2};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data2.allowedOrigins !== undefined){let data3 = data2.allowedOrigins;if(Array.isArray(data3)){const len1 = data3.length;for(let i1=0; i1<len1; i1++){let data4 = data3[i1];if(typeof data4 !== "string"){const err4 = {instancePath:instancePath+"/corsRules/" + i0+"/allowedOrigins/" + i1,schemaPath:"#/definitions/BucketCorsRule/properties/allowedOrigins/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema317.properties.allowedOrigins.items.type,parentSchema:schema317.properties.allowedOrigins.items,data:data4};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}}else {const err5 = {instancePath:instancePath+"/corsRules/" + i0+"/allowedOrigins",schemaPath:"#/definitions/BucketCorsRule/properties/allowedOrigins/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema317.properties.allowedOrigins.type,parentSchema:schema317.properties.allowedOrigins,data:data3};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data2.allowedHeaders !== undefined){let data5 = data2.allowedHeaders;if(Array.isArray(data5)){const len2 = data5.length;for(let i2=0; i2<len2; i2++){let data6 = data5[i2];if(typeof data6 !== "string"){const err6 = {instancePath:instancePath+"/corsRules/" + i0+"/allowedHeaders/" + i2,schemaPath:"#/definitions/BucketCorsRule/properties/allowedHeaders/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema317.properties.allowedHeaders.items.type,parentSchema:schema317.properties.allowedHeaders.items,data:data6};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}}else {const err7 = {instancePath:instancePath+"/corsRules/" + i0+"/allowedHeaders",schemaPath:"#/definitions/BucketCorsRule/properties/allowedHeaders/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema317.properties.allowedHeaders.type,parentSchema:schema317.properties.allowedHeaders,data:data5};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data2.allowedMethods !== undefined){let data7 = data2.allowedMethods;if(Array.isArray(data7)){const len3 = data7.length;for(let i3=0; i3<len3; i3++){let data8 = data7[i3];if(typeof data8 !== "string"){const err8 = {instancePath:instancePath+"/corsRules/" + i0+"/allowedMethods/" + i3,schemaPath:"#/definitions/BucketCorsRule/properties/allowedMethods/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema317.properties.allowedMethods.items.type,parentSchema:schema317.properties.allowedMethods.items,data:data8};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}if(!(((((((data8 === "*") || (data8 === "DELETE")) || (data8 === "GET")) || (data8 === "HEAD")) || (data8 === "PATCH")) || (data8 === "POST")) || (data8 === "PUT"))){const err9 = {instancePath:instancePath+"/corsRules/" + i0+"/allowedMethods/" + i3,schemaPath:"#/definitions/BucketCorsRule/properties/allowedMethods/items/enum",keyword:"enum",params:{allowedValues: schema317.properties.allowedMethods.items.enum},message:"must be equal to one of the allowed values",schema:schema317.properties.allowedMethods.items.enum,parentSchema:schema317.properties.allowedMethods.items,data:data8};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}}else {const err10 = {instancePath:instancePath+"/corsRules/" + i0+"/allowedMethods",schemaPath:"#/definitions/BucketCorsRule/properties/allowedMethods/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema317.properties.allowedMethods.type,parentSchema:schema317.properties.allowedMethods,data:data7};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data2.exposedResponseHeaders !== undefined){let data9 = data2.exposedResponseHeaders;if(Array.isArray(data9)){const len4 = data9.length;for(let i4=0; i4<len4; i4++){let data10 = data9[i4];if(typeof data10 !== "string"){const err11 = {instancePath:instancePath+"/corsRules/" + i0+"/exposedResponseHeaders/" + i4,schemaPath:"#/definitions/BucketCorsRule/properties/exposedResponseHeaders/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema317.properties.exposedResponseHeaders.items.type,parentSchema:schema317.properties.exposedResponseHeaders.items,data:data10};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}}else {const err12 = {instancePath:instancePath+"/corsRules/" + i0+"/exposedResponseHeaders",schemaPath:"#/definitions/BucketCorsRule/properties/exposedResponseHeaders/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema317.properties.exposedResponseHeaders.type,parentSchema:schema317.properties.exposedResponseHeaders,data:data9};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}if(data2.maxAge !== undefined){let data11 = data2.maxAge;if(!(typeof data11 == "number")){const err13 = {instancePath:instancePath+"/corsRules/" + i0+"/maxAge",schemaPath:"#/definitions/BucketCorsRule/properties/maxAge/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema317.properties.maxAge.type,parentSchema:schema317.properties.maxAge,data:data11};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}}else {const err14 = {instancePath:instancePath+"/corsRules/" + i0,schemaPath:"#/definitions/BucketCorsRule/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema317.type,parentSchema:schema317,data:data2};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}}}else {const err15 = {instancePath:instancePath+"/corsRules",schemaPath:"#/properties/corsRules/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema316.properties.corsRules.type,parentSchema:schema316.properties.corsRules,data:data1};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}}}else {const err16 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema316.type,parentSchema:schema316,data};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}validate348.errors = vErrors;return errors === 0;}const schema318 = {"type":"object","properties":{"type":{"type":"string","const":"expiration"},"properties":{"$ref":"#/definitions/ExpirationProps"}},"additionalProperties":false,"required":["properties","type"]};const schema319 = {"type":"object","properties":{"daysAfterUpload":{"description":"#### The number of days after which an object is considered expired.\n\n---\n\nThis is relative to the date the object was uploaded.","type":"number"},"prefix":{"description":"#### The prefix of the objects to which the lifecycle rule is applied.","type":"string"},"tags":{"description":"#### The tags of the objects to which the lifecycle rule is applied.\n\n---\n\nFor more details on tagging objects, see the [AWS documentation](https://docs.aws.amazon.com/AmazonS3/latest/userguide/object-tagging.html).","type":"array","items":{"$ref":"#/definitions/KeyValuePair"}}},"additionalProperties":false,"required":["daysAfterUpload"]};function validate351(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.daysAfterUpload === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "daysAfterUpload"},message:"must have required property '"+"daysAfterUpload"+"'",schema:schema319.required,parentSchema:schema319,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!(((key0 === "daysAfterUpload") || (key0 === "prefix")) || (key0 === "tags"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema319,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.daysAfterUpload !== undefined){let data0 = data.daysAfterUpload;if(!(typeof data0 == "number")){const err2 = {instancePath:instancePath+"/daysAfterUpload",schemaPath:"#/properties/daysAfterUpload/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema319.properties.daysAfterUpload.type,parentSchema:schema319.properties.daysAfterUpload,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.prefix !== undefined){let data1 = data.prefix;if(typeof data1 !== "string"){const err3 = {instancePath:instancePath+"/prefix",schemaPath:"#/properties/prefix/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema319.properties.prefix.type,parentSchema:schema319.properties.prefix,data:data1};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.tags !== undefined){let data2 = data.tags;if(Array.isArray(data2)){const len0 = data2.length;for(let i0=0; i0<len0; i0++){let data3 = data2[i0];if(data3 && typeof data3 == "object" && !Array.isArray(data3)){if(data3.key === undefined){const err4 = {instancePath:instancePath+"/tags/" + i0,schemaPath:"#/definitions/KeyValuePair/required",keyword:"required",params:{missingProperty: "key"},message:"must have required property '"+"key"+"'",schema:schema311.required,parentSchema:schema311,data:data3};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}if(data3.value === undefined){const err5 = {instancePath:instancePath+"/tags/" + i0,schemaPath:"#/definitions/KeyValuePair/required",keyword:"required",params:{missingProperty: "value"},message:"must have required property '"+"value"+"'",schema:schema311.required,parentSchema:schema311,data:data3};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}for(const key1 in data3){if(!((key1 === "key") || (key1 === "value"))){const err6 = {instancePath:instancePath+"/tags/" + i0,schemaPath:"#/definitions/KeyValuePair/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema311,data:data3};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data3.key !== undefined){let data4 = data3.key;if(typeof data4 !== "string"){const err7 = {instancePath:instancePath+"/tags/" + i0+"/key",schemaPath:"#/definitions/KeyValuePair/properties/key/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema311.properties.key.type,parentSchema:schema311.properties.key,data:data4};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data3.value !== undefined){let data5 = data3.value;if(typeof data5 !== "string"){const err8 = {instancePath:instancePath+"/tags/" + i0+"/value",schemaPath:"#/definitions/KeyValuePair/properties/value/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema311.properties.value.type,parentSchema:schema311.properties.value,data:data5};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}}else {const err9 = {instancePath:instancePath+"/tags/" + i0,schemaPath:"#/definitions/KeyValuePair/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema311.type,parentSchema:schema311,data:data3};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}}else {const err10 = {instancePath:instancePath+"/tags",schemaPath:"#/properties/tags/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema319.properties.tags.type,parentSchema:schema319.properties.tags,data:data2};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}}else {const err11 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema319.type,parentSchema:schema319,data};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}validate351.errors = vErrors;return errors === 0;}function validate350(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema318.required,parentSchema:schema318,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema318.required,parentSchema:schema318,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema318,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema318.properties.type.type,parentSchema:schema318.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("expiration" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "expiration"},message:"must be equal to constant",schema:"expiration",parentSchema:schema318.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate351(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate351.errors : vErrors.concat(validate351.errors);errors = vErrors.length;}}}else {const err5 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema318.type,parentSchema:schema318,data};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}validate350.errors = vErrors;return errors === 0;}const schema321 = {"type":"object","properties":{"type":{"type":"string","const":"non-current-version-expiration"},"properties":{"$ref":"#/definitions/NonCurrentVersionExpirationProps"}},"additionalProperties":false,"required":["properties","type"]};const schema322 = {"type":"object","properties":{"daysAfterVersioned":{"description":"#### The number of days after which a non-current version of an object becomes expired.\n\n---\n\nThis is relative to the date the object became a non-current version.\nThis rule is only effective if the bucket has versioning enabled.","type":"number"},"prefix":{"description":"#### The prefix of the objects to which the lifecycle rule is applied.","type":"string"},"tags":{"description":"#### The tags of the objects to which the lifecycle rule is applied.\n\n---\n\nFor more details on tagging objects, see the [AWS documentation](https://docs.aws.amazon.com/AmazonS3/latest/userguide/object-tagging.html).","type":"array","items":{"$ref":"#/definitions/KeyValuePair"}}},"additionalProperties":false,"required":["daysAfterVersioned"]};function validate355(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.daysAfterVersioned === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "daysAfterVersioned"},message:"must have required property '"+"daysAfterVersioned"+"'",schema:schema322.required,parentSchema:schema322,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!(((key0 === "daysAfterVersioned") || (key0 === "prefix")) || (key0 === "tags"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema322,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.daysAfterVersioned !== undefined){let data0 = data.daysAfterVersioned;if(!(typeof data0 == "number")){const err2 = {instancePath:instancePath+"/daysAfterVersioned",schemaPath:"#/properties/daysAfterVersioned/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema322.properties.daysAfterVersioned.type,parentSchema:schema322.properties.daysAfterVersioned,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.prefix !== undefined){let data1 = data.prefix;if(typeof data1 !== "string"){const err3 = {instancePath:instancePath+"/prefix",schemaPath:"#/properties/prefix/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema322.properties.prefix.type,parentSchema:schema322.properties.prefix,data:data1};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.tags !== undefined){let data2 = data.tags;if(Array.isArray(data2)){const len0 = data2.length;for(let i0=0; i0<len0; i0++){let data3 = data2[i0];if(data3 && typeof data3 == "object" && !Array.isArray(data3)){if(data3.key === undefined){const err4 = {instancePath:instancePath+"/tags/" + i0,schemaPath:"#/definitions/KeyValuePair/required",keyword:"required",params:{missingProperty: "key"},message:"must have required property '"+"key"+"'",schema:schema311.required,parentSchema:schema311,data:data3};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}if(data3.value === undefined){const err5 = {instancePath:instancePath+"/tags/" + i0,schemaPath:"#/definitions/KeyValuePair/required",keyword:"required",params:{missingProperty: "value"},message:"must have required property '"+"value"+"'",schema:schema311.required,parentSchema:schema311,data:data3};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}for(const key1 in data3){if(!((key1 === "key") || (key1 === "value"))){const err6 = {instancePath:instancePath+"/tags/" + i0,schemaPath:"#/definitions/KeyValuePair/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema311,data:data3};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data3.key !== undefined){let data4 = data3.key;if(typeof data4 !== "string"){const err7 = {instancePath:instancePath+"/tags/" + i0+"/key",schemaPath:"#/definitions/KeyValuePair/properties/key/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema311.properties.key.type,parentSchema:schema311.properties.key,data:data4};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data3.value !== undefined){let data5 = data3.value;if(typeof data5 !== "string"){const err8 = {instancePath:instancePath+"/tags/" + i0+"/value",schemaPath:"#/definitions/KeyValuePair/properties/value/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema311.properties.value.type,parentSchema:schema311.properties.value,data:data5};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}}else {const err9 = {instancePath:instancePath+"/tags/" + i0,schemaPath:"#/definitions/KeyValuePair/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema311.type,parentSchema:schema311,data:data3};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}}else {const err10 = {instancePath:instancePath+"/tags",schemaPath:"#/properties/tags/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema322.properties.tags.type,parentSchema:schema322.properties.tags,data:data2};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}}else {const err11 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema322.type,parentSchema:schema322,data};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}validate355.errors = vErrors;return errors === 0;}function validate354(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema321.required,parentSchema:schema321,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema321.required,parentSchema:schema321,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema321,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema321.properties.type.type,parentSchema:schema321.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("non-current-version-expiration" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "non-current-version-expiration"},message:"must be equal to constant",schema:"non-current-version-expiration",parentSchema:schema321.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate355(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate355.errors : vErrors.concat(validate355.errors);errors = vErrors.length;}}}else {const err5 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema321.type,parentSchema:schema321,data};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}validate354.errors = vErrors;return errors === 0;}const schema324 = {"type":"object","properties":{"type":{"type":"string","const":"class-transition"},"properties":{"$ref":"#/definitions/ClassTransitionProps"}},"additionalProperties":false,"required":["properties","type"]};const schema325 = {"type":"object","properties":{"daysAfterUpload":{"description":"#### The number of days after which an object is transitioned to another storage class.\n\n---\n\nThis is relative to the date the object was uploaded.\nDepending on how often you need to access your objects, transitioning them to another storage class can lead to significant cost savings.","type":"number"},"storageClass":{"description":"#### The storage class to which to transition the object.\n\n---\n\nBy default, all objects are in the `STANDARD` (general purpose) class.\nDepending on your access patterns, you can transition objects to a different storage class to save costs.\n\nFor more details on storage classes, see the [AWS documentation](https://aws.amazon.com/s3/storage-classes/).","enum":["DEEP_ARCHIVE","GLACIER","INTELLIGENT_TIERING","ONEZONE_IA","STANDARD_IA"],"type":"string"},"prefix":{"description":"#### The prefix of the objects to which the lifecycle rule is applied.","type":"string"},"tags":{"description":"#### The tags of the objects to which the lifecycle rule is applied.\n\n---\n\nFor more details on tagging objects, see the [AWS documentation](https://docs.aws.amazon.com/AmazonS3/latest/userguide/object-tagging.html).","type":"array","items":{"$ref":"#/definitions/KeyValuePair"}}},"additionalProperties":false,"required":["daysAfterUpload","storageClass"]};function validate359(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.daysAfterUpload === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "daysAfterUpload"},message:"must have required property '"+"daysAfterUpload"+"'",schema:schema325.required,parentSchema:schema325,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.storageClass === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "storageClass"},message:"must have required property '"+"storageClass"+"'",schema:schema325.required,parentSchema:schema325,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((((key0 === "daysAfterUpload") || (key0 === "storageClass")) || (key0 === "prefix")) || (key0 === "tags"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema325,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.daysAfterUpload !== undefined){let data0 = data.daysAfterUpload;if(!(typeof data0 == "number")){const err3 = {instancePath:instancePath+"/daysAfterUpload",schemaPath:"#/properties/daysAfterUpload/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema325.properties.daysAfterUpload.type,parentSchema:schema325.properties.daysAfterUpload,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.storageClass !== undefined){let data1 = data.storageClass;if(typeof data1 !== "string"){const err4 = {instancePath:instancePath+"/storageClass",schemaPath:"#/properties/storageClass/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema325.properties.storageClass.type,parentSchema:schema325.properties.storageClass,data:data1};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}if(!(((((data1 === "DEEP_ARCHIVE") || (data1 === "GLACIER")) || (data1 === "INTELLIGENT_TIERING")) || (data1 === "ONEZONE_IA")) || (data1 === "STANDARD_IA"))){const err5 = {instancePath:instancePath+"/storageClass",schemaPath:"#/properties/storageClass/enum",keyword:"enum",params:{allowedValues: schema325.properties.storageClass.enum},message:"must be equal to one of the allowed values",schema:schema325.properties.storageClass.enum,parentSchema:schema325.properties.storageClass,data:data1};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data.prefix !== undefined){let data2 = data.prefix;if(typeof data2 !== "string"){const err6 = {instancePath:instancePath+"/prefix",schemaPath:"#/properties/prefix/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema325.properties.prefix.type,parentSchema:schema325.properties.prefix,data:data2};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data.tags !== undefined){let data3 = data.tags;if(Array.isArray(data3)){const len0 = data3.length;for(let i0=0; i0<len0; i0++){let data4 = data3[i0];if(data4 && typeof data4 == "object" && !Array.isArray(data4)){if(data4.key === undefined){const err7 = {instancePath:instancePath+"/tags/" + i0,schemaPath:"#/definitions/KeyValuePair/required",keyword:"required",params:{missingProperty: "key"},message:"must have required property '"+"key"+"'",schema:schema311.required,parentSchema:schema311,data:data4};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}if(data4.value === undefined){const err8 = {instancePath:instancePath+"/tags/" + i0,schemaPath:"#/definitions/KeyValuePair/required",keyword:"required",params:{missingProperty: "value"},message:"must have required property '"+"value"+"'",schema:schema311.required,parentSchema:schema311,data:data4};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}for(const key1 in data4){if(!((key1 === "key") || (key1 === "value"))){const err9 = {instancePath:instancePath+"/tags/" + i0,schemaPath:"#/definitions/KeyValuePair/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema311,data:data4};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(data4.key !== undefined){let data5 = data4.key;if(typeof data5 !== "string"){const err10 = {instancePath:instancePath+"/tags/" + i0+"/key",schemaPath:"#/definitions/KeyValuePair/properties/key/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema311.properties.key.type,parentSchema:schema311.properties.key,data:data5};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data4.value !== undefined){let data6 = data4.value;if(typeof data6 !== "string"){const err11 = {instancePath:instancePath+"/tags/" + i0+"/value",schemaPath:"#/definitions/KeyValuePair/properties/value/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema311.properties.value.type,parentSchema:schema311.properties.value,data:data6};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}}else {const err12 = {instancePath:instancePath+"/tags/" + i0,schemaPath:"#/definitions/KeyValuePair/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema311.type,parentSchema:schema311,data:data4};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}}else {const err13 = {instancePath:instancePath+"/tags",schemaPath:"#/properties/tags/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema325.properties.tags.type,parentSchema:schema325.properties.tags,data:data3};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}}else {const err14 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema325.type,parentSchema:schema325,data};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}validate359.errors = vErrors;return errors === 0;}function validate358(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema324.required,parentSchema:schema324,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema324.required,parentSchema:schema324,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema324,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema324.properties.type.type,parentSchema:schema324.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("class-transition" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "class-transition"},message:"must be equal to constant",schema:"class-transition",parentSchema:schema324.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate359(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate359.errors : vErrors.concat(validate359.errors);errors = vErrors.length;}}}else {const err5 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema324.type,parentSchema:schema324,data};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}validate358.errors = vErrors;return errors === 0;}const schema327 = {"type":"object","properties":{"type":{"type":"string","const":"non-current-version-class-transition"},"properties":{"$ref":"#/definitions/NonCurrentVersionClassTransitionProps"}},"additionalProperties":false,"required":["properties","type"]};const schema328 = {"type":"object","properties":{"daysAfterVersioned":{"description":"#### The number of days after which a non-current version of an object is transitioned to another storage class.\n\n---\n\nThis is relative to the date the object became a non-current version.\nDepending on how often you need to access your objects, transitioning them to another storage class can lead to significant cost savings.","type":"number"},"storageClass":{"description":"#### The storage class to which to transition the object.\n\n---\n\nFor more details on storage classes and transitions, see the [AWS documentation](https://docs.aws.amazon.com/AmazonS3/latest/userguide/lifecycle-transition-general-considerations.html).","enum":["DEEP_ARCHIVE","GLACIER","INTELLIGENT_TIERING","ONEZONE_IA","STANDARD_IA"],"type":"string"},"prefix":{"description":"#### The prefix of the objects to which the lifecycle rule is applied.","type":"string"},"tags":{"description":"#### The tags of the objects to which the lifecycle rule is applied.\n\n---\n\nFor more details on tagging objects, see the [AWS documentation](https://docs.aws.amazon.com/AmazonS3/latest/userguide/object-tagging.html).","type":"array","items":{"$ref":"#/definitions/KeyValuePair"}}},"additionalProperties":false,"required":["daysAfterVersioned","storageClass"]};function validate363(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.daysAfterVersioned === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "daysAfterVersioned"},message:"must have required property '"+"daysAfterVersioned"+"'",schema:schema328.required,parentSchema:schema328,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.storageClass === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "storageClass"},message:"must have required property '"+"storageClass"+"'",schema:schema328.required,parentSchema:schema328,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((((key0 === "daysAfterVersioned") || (key0 === "storageClass")) || (key0 === "prefix")) || (key0 === "tags"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema328,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.daysAfterVersioned !== undefined){let data0 = data.daysAfterVersioned;if(!(typeof data0 == "number")){const err3 = {instancePath:instancePath+"/daysAfterVersioned",schemaPath:"#/properties/daysAfterVersioned/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema328.properties.daysAfterVersioned.type,parentSchema:schema328.properties.daysAfterVersioned,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.storageClass !== undefined){let data1 = data.storageClass;if(typeof data1 !== "string"){const err4 = {instancePath:instancePath+"/storageClass",schemaPath:"#/properties/storageClass/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema328.properties.storageClass.type,parentSchema:schema328.properties.storageClass,data:data1};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}if(!(((((data1 === "DEEP_ARCHIVE") || (data1 === "GLACIER")) || (data1 === "INTELLIGENT_TIERING")) || (data1 === "ONEZONE_IA")) || (data1 === "STANDARD_IA"))){const err5 = {instancePath:instancePath+"/storageClass",schemaPath:"#/properties/storageClass/enum",keyword:"enum",params:{allowedValues: schema328.properties.storageClass.enum},message:"must be equal to one of the allowed values",schema:schema328.properties.storageClass.enum,parentSchema:schema328.properties.storageClass,data:data1};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data.prefix !== undefined){let data2 = data.prefix;if(typeof data2 !== "string"){const err6 = {instancePath:instancePath+"/prefix",schemaPath:"#/properties/prefix/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema328.properties.prefix.type,parentSchema:schema328.properties.prefix,data:data2};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data.tags !== undefined){let data3 = data.tags;if(Array.isArray(data3)){const len0 = data3.length;for(let i0=0; i0<len0; i0++){let data4 = data3[i0];if(data4 && typeof data4 == "object" && !Array.isArray(data4)){if(data4.key === undefined){const err7 = {instancePath:instancePath+"/tags/" + i0,schemaPath:"#/definitions/KeyValuePair/required",keyword:"required",params:{missingProperty: "key"},message:"must have required property '"+"key"+"'",schema:schema311.required,parentSchema:schema311,data:data4};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}if(data4.value === undefined){const err8 = {instancePath:instancePath+"/tags/" + i0,schemaPath:"#/definitions/KeyValuePair/required",keyword:"required",params:{missingProperty: "value"},message:"must have required property '"+"value"+"'",schema:schema311.required,parentSchema:schema311,data:data4};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}for(const key1 in data4){if(!((key1 === "key") || (key1 === "value"))){const err9 = {instancePath:instancePath+"/tags/" + i0,schemaPath:"#/definitions/KeyValuePair/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema311,data:data4};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(data4.key !== undefined){let data5 = data4.key;if(typeof data5 !== "string"){const err10 = {instancePath:instancePath+"/tags/" + i0+"/key",schemaPath:"#/definitions/KeyValuePair/properties/key/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema311.properties.key.type,parentSchema:schema311.properties.key,data:data5};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data4.value !== undefined){let data6 = data4.value;if(typeof data6 !== "string"){const err11 = {instancePath:instancePath+"/tags/" + i0+"/value",schemaPath:"#/definitions/KeyValuePair/properties/value/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema311.properties.value.type,parentSchema:schema311.properties.value,data:data6};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}}else {const err12 = {instancePath:instancePath+"/tags/" + i0,schemaPath:"#/definitions/KeyValuePair/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema311.type,parentSchema:schema311,data:data4};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}}else {const err13 = {instancePath:instancePath+"/tags",schemaPath:"#/properties/tags/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema328.properties.tags.type,parentSchema:schema328.properties.tags,data:data3};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}}else {const err14 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema328.type,parentSchema:schema328,data};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}validate363.errors = vErrors;return errors === 0;}function validate362(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema327.required,parentSchema:schema327,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema327.required,parentSchema:schema327,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema327,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema327.properties.type.type,parentSchema:schema327.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("non-current-version-class-transition" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "non-current-version-class-transition"},message:"must be equal to constant",schema:"non-current-version-class-transition",parentSchema:schema327.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate363(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate363.errors : vErrors.concat(validate363.errors);errors = vErrors.length;}}}else {const err5 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema327.type,parentSchema:schema327,data};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}validate362.errors = vErrors;return errors === 0;}const schema330 = {"type":"object","properties":{"type":{"type":"string","const":"abort-incomplete-multipart-upload"},"properties":{"$ref":"#/definitions/AbortIncompleteMultipartUploadProps"}},"additionalProperties":false,"required":["properties","type"]};const schema331 = {"type":"object","properties":{"daysAfterInitiation":{"description":"#### The number of days after which an incomplete multipart upload is aborted and its parts are deleted.\n\n---\n\nThis is relative to the start of the multipart upload.","type":"number"},"prefix":{"description":"#### The prefix of the objects to which the lifecycle rule is applied.","type":"string"},"tags":{"description":"#### The tags of the objects to which the lifecycle rule is applied.\n\n---\n\nFor more details on tagging objects, see the [AWS documentation](https://docs.aws.amazon.com/AmazonS3/latest/userguide/object-tagging.html).","type":"array","items":{"$ref":"#/definitions/KeyValuePair"}}},"additionalProperties":false,"required":["daysAfterInitiation"]};function validate367(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.daysAfterInitiation === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "daysAfterInitiation"},message:"must have required property '"+"daysAfterInitiation"+"'",schema:schema331.required,parentSchema:schema331,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!(((key0 === "daysAfterInitiation") || (key0 === "prefix")) || (key0 === "tags"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema331,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.daysAfterInitiation !== undefined){let data0 = data.daysAfterInitiation;if(!(typeof data0 == "number")){const err2 = {instancePath:instancePath+"/daysAfterInitiation",schemaPath:"#/properties/daysAfterInitiation/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema331.properties.daysAfterInitiation.type,parentSchema:schema331.properties.daysAfterInitiation,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.prefix !== undefined){let data1 = data.prefix;if(typeof data1 !== "string"){const err3 = {instancePath:instancePath+"/prefix",schemaPath:"#/properties/prefix/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema331.properties.prefix.type,parentSchema:schema331.properties.prefix,data:data1};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.tags !== undefined){let data2 = data.tags;if(Array.isArray(data2)){const len0 = data2.length;for(let i0=0; i0<len0; i0++){let data3 = data2[i0];if(data3 && typeof data3 == "object" && !Array.isArray(data3)){if(data3.key === undefined){const err4 = {instancePath:instancePath+"/tags/" + i0,schemaPath:"#/definitions/KeyValuePair/required",keyword:"required",params:{missingProperty: "key"},message:"must have required property '"+"key"+"'",schema:schema311.required,parentSchema:schema311,data:data3};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}if(data3.value === undefined){const err5 = {instancePath:instancePath+"/tags/" + i0,schemaPath:"#/definitions/KeyValuePair/required",keyword:"required",params:{missingProperty: "value"},message:"must have required property '"+"value"+"'",schema:schema311.required,parentSchema:schema311,data:data3};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}for(const key1 in data3){if(!((key1 === "key") || (key1 === "value"))){const err6 = {instancePath:instancePath+"/tags/" + i0,schemaPath:"#/definitions/KeyValuePair/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema311,data:data3};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data3.key !== undefined){let data4 = data3.key;if(typeof data4 !== "string"){const err7 = {instancePath:instancePath+"/tags/" + i0+"/key",schemaPath:"#/definitions/KeyValuePair/properties/key/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema311.properties.key.type,parentSchema:schema311.properties.key,data:data4};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data3.value !== undefined){let data5 = data3.value;if(typeof data5 !== "string"){const err8 = {instancePath:instancePath+"/tags/" + i0+"/value",schemaPath:"#/definitions/KeyValuePair/properties/value/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema311.properties.value.type,parentSchema:schema311.properties.value,data:data5};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}}else {const err9 = {instancePath:instancePath+"/tags/" + i0,schemaPath:"#/definitions/KeyValuePair/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema311.type,parentSchema:schema311,data:data3};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}}else {const err10 = {instancePath:instancePath+"/tags",schemaPath:"#/properties/tags/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema331.properties.tags.type,parentSchema:schema331.properties.tags,data:data2};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}}else {const err11 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema331.type,parentSchema:schema331,data};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}validate367.errors = vErrors;return errors === 0;}function validate366(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema330.required,parentSchema:schema330,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema330.required,parentSchema:schema330,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema330,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema330.properties.type.type,parentSchema:schema330.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("abort-incomplete-multipart-upload" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "abort-incomplete-multipart-upload"},message:"must be equal to constant",schema:"abort-incomplete-multipart-upload",parentSchema:schema330.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate367(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate367.errors : vErrors.concat(validate367.errors);errors = vErrors.length;}}}else {const err5 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema330.type,parentSchema:schema330,data};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}validate366.errors = vErrors;return errors === 0;}const schema333 = {"type":"object","properties":{"rewriteRoutesForSinglePageApp":{"description":"#### Rewrites incoming requests to work for a single-page application.\n\n---\n\nThe routing works as follows:\n- If the path has an extension (e.g., `.css`, `.js`, `.png`), the request is not rewritten, and the appropriate file is returned.\n- If the path does not have an extension, the request is routed to `index.html`.\n\nThis allows single-page applications to handle routing on the client side.","type":"boolean"},"disableUrlNormalization":{"description":"#### Disables URL normalization.\n\n---\n\nURL normalization is enabled by default and is useful for serving HTML files from the bucket with clean URLs.","default":false,"type":"boolean"},"enabled":{"description":"#### Enables the CDN.\n\n---","default":false,"type":"boolean"},"cachingOptions":{"$ref":"#/definitions/CdnCachingOptions","description":"#### Configures custom caching options.\n\n---\n\nThis property controls the caching behavior of your edge distribution, including what content is cached, for how long, and when it should be re-fetched from the origin.\n\nIf a response from the origin does not include `Cache-Control` or `Expires` headers, a default caching behavior is used:\n- **bucket**: Objects are cached for 6 months by default, or until the cache is invalidated.\n- **http-api-gateway** and **application-load-balancer**: Responses are not cached by default."},"forwardingOptions":{"$ref":"#/definitions/CdnForwardingOptions","description":"#### Configures which parts of the request are forwarded to the origin.\n\n---\n\nThis includes headers, query parameters, and cookies."},"routeRewrites":{"description":"#### Redirects specific requests to a different origin.\n\n---\n\nEach incoming request to the CDN is evaluated against a list of route rewrites. If the request path matches a rewrite's path pattern, it is sent to the configured route.\n\nRoute rewrites are evaluated in order, and the first match determines where the request will be sent.\nIf no match is found, the request is sent to the default origin (the resource the CDN is attached to).\n\n**Example Use Cases:**\n- Serving static content from a bucket while routing dynamic paths to a Lambda function.\n- Caching `.jpg` files for a longer duration than other file types.","type":"array","items":{"$ref":"#/definitions/CdnRouteRewrite"}},"customDomains":{"description":"#### Attaches custom domains to this CDN.\n\n---\n\nWhen you connect a custom domain, Stacktape automatically:\n\n- **Creates DNS records:** A DNS record is created to point your domain name to the resource.\n- **Adds TLS certificates:** If the resource uses HTTPS, Stacktape issues and attaches a free, AWS-managed TLS certificate, handling TLS termination for you.\n\n> To manage a custom domain, it first needs to be added to your AWS account.\n> This means that a [hosted zone](https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/AboutHZWorkingWith.html)\n> (collection of records managed together for a given domain)\n> for your domain exists in your AWS account and your domain registrar's name servers are pointing to it.\n> To learn more, refer to [Adding a domain guide](https://docs.stacktape.com/other-resources/domains-and-certificates/#adding-domain).","type":"array","items":{"$ref":"#/definitions/DomainConfiguration"}},"edgeFunctions":{"$ref":"#/definitions/EdgeFunctionsConfig","description":"#### Configures Edge function triggers.\n\n---\n\nYou can associate an `edge-lambda-function` with the CDN to be executed at different stages:\n\n- `onRequest`: Executed when the CDN receives a request from a client, before checking the cache.\n- `onResponse`: Executed before returning a response to the client.\n\n**Potential Use Cases:**\n- Generating an immediate HTTP response without checking the cache or forwarding to the origin.\n- Modifying the request (e.g., rewriting the URL or headers) before forwarding to the origin.\n- Inspecting cookies or validating authorization headers and tokens."},"cloudfrontPriceClass":{"description":"#### Configures the locations from which the CDN serves traffic.\n\n---\n\nA higher price class results in more edge locations serving your traffic, which can improve performance in some regions but is more costly.\n\nFor example, if your users are primarily located in the US and Europe, you can save money by using `PriceClass_100`.\n\nFor more details, see the [AWS documentation on price classes](https://aws.amazon.com/cloudfront/pricing/).","default":"PriceClass_All","enum":["PriceClass_100","PriceClass_200","PriceClass_All"],"type":"string"},"defaultRoutePrefix":{"description":"#### Prefixes requests to the origin with a specified path.\n\n---\n\nIncoming requests will be prefixed with `defaultRoutePrefix` before being forwarded to the origin.\nFor example, if the CDN receives a request for `/my/resource/url`, the request will be sent to the origin as `/your_prefix/my/resource/url`.","type":"string"},"errorDocument":{"description":"#### The custom error document URL.\n\n---\n\nThis document is requested by the CDN if the original request to the origin returns a `404` error code.\n\nExample: `/error.html`","default":"/404.html","type":"string"},"indexDocument":{"description":"#### The custom index document served for requests to the root path (`/`).\n\n---","default":"/index.html","type":"string"},"disableInvalidationAfterDeploy":{"description":"#### Disables invalidation of the CDN cache after each deployment.\n\n---\n\nBy default, the cache is invalidated after every deployment to prevent serving outdated content.\nWhen the cache is invalidated, the CDN flushes all cached content, and new requests are sent directly to the origin.","default":false,"type":"boolean"},"useFirewall":{"description":"#### The name of the `web-app-firewall` resource to use with your CDN.\n\n---\n\nA `web-app-firewall` can protect your resources from common web exploits that could affect availability, compromise security, or consume excessive resources.\nThe firewall works by filtering malicious requests before they reach your application.\n\nFor more information, see the [firewall documentation](https://docs.stacktape.com/security-resources/web-app-firewalls/).","type":"string"}},"additionalProperties":false,"required":["enabled"]};function validate370(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.enabled === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "enabled"},message:"must have required property '"+"enabled"+"'",schema:schema333.required,parentSchema:schema333,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!(func2.call(schema333.properties, key0))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema333,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.rewriteRoutesForSinglePageApp !== undefined){let data0 = data.rewriteRoutesForSinglePageApp;if(typeof data0 !== "boolean"){const err2 = {instancePath:instancePath+"/rewriteRoutesForSinglePageApp",schemaPath:"#/properties/rewriteRoutesForSinglePageApp/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema333.properties.rewriteRoutesForSinglePageApp.type,parentSchema:schema333.properties.rewriteRoutesForSinglePageApp,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.disableUrlNormalization !== undefined){let data1 = data.disableUrlNormalization;if(typeof data1 !== "boolean"){const err3 = {instancePath:instancePath+"/disableUrlNormalization",schemaPath:"#/properties/disableUrlNormalization/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema333.properties.disableUrlNormalization.type,parentSchema:schema333.properties.disableUrlNormalization,data:data1};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.enabled !== undefined){let data2 = data.enabled;if(typeof data2 !== "boolean"){const err4 = {instancePath:instancePath+"/enabled",schemaPath:"#/properties/enabled/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema333.properties.enabled.type,parentSchema:schema333.properties.enabled,data:data2};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.cachingOptions !== undefined){if(!(validate173(data.cachingOptions, {instancePath:instancePath+"/cachingOptions",parentData:data,parentDataProperty:"cachingOptions",rootData}))){vErrors = vErrors === null ? validate173.errors : vErrors.concat(validate173.errors);errors = vErrors.length;}}if(data.forwardingOptions !== undefined){if(!(validate177(data.forwardingOptions, {instancePath:instancePath+"/forwardingOptions",parentData:data,parentDataProperty:"forwardingOptions",rootData}))){vErrors = vErrors === null ? validate177.errors : vErrors.concat(validate177.errors);errors = vErrors.length;}}if(data.routeRewrites !== undefined){let data5 = data.routeRewrites;if(Array.isArray(data5)){const len0 = data5.length;for(let i0=0; i0<len0; i0++){if(!(validate179(data5[i0], {instancePath:instancePath+"/routeRewrites/" + i0,parentData:data5,parentDataProperty:i0,rootData}))){vErrors = vErrors === null ? validate179.errors : vErrors.concat(validate179.errors);errors = vErrors.length;}}}else {const err5 = {instancePath:instancePath+"/routeRewrites",schemaPath:"#/properties/routeRewrites/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema333.properties.routeRewrites.type,parentSchema:schema333.properties.routeRewrites,data:data5};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data.customDomains !== undefined){let data7 = data.customDomains;if(Array.isArray(data7)){const len1 = data7.length;for(let i1=0; i1<len1; i1++){let data8 = data7[i1];if(data8 && typeof data8 == "object" && !Array.isArray(data8)){if(data8.domainName === undefined){const err6 = {instancePath:instancePath+"/customDomains/" + i1,schemaPath:"#/definitions/DomainConfiguration/required",keyword:"required",params:{missingProperty: "domainName"},message:"must have required property '"+"domainName"+"'",schema:schema160.required,parentSchema:schema160,data:data8};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}for(const key1 in data8){if(!(((key1 === "domainName") || (key1 === "customCertificateArn")) || (key1 === "disableDnsRecordCreation"))){const err7 = {instancePath:instancePath+"/customDomains/" + i1,schemaPath:"#/definitions/DomainConfiguration/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema160,data:data8};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data8.domainName !== undefined){let data9 = data8.domainName;if(typeof data9 !== "string"){const err8 = {instancePath:instancePath+"/customDomains/" + i1+"/domainName",schemaPath:"#/definitions/DomainConfiguration/properties/domainName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema160.properties.domainName.type,parentSchema:schema160.properties.domainName,data:data9};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}if(data8.customCertificateArn !== undefined){let data10 = data8.customCertificateArn;if(typeof data10 !== "string"){const err9 = {instancePath:instancePath+"/customDomains/" + i1+"/customCertificateArn",schemaPath:"#/definitions/DomainConfiguration/properties/customCertificateArn/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema160.properties.customCertificateArn.type,parentSchema:schema160.properties.customCertificateArn,data:data10};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(data8.disableDnsRecordCreation !== undefined){let data11 = data8.disableDnsRecordCreation;if(typeof data11 !== "boolean"){const err10 = {instancePath:instancePath+"/customDomains/" + i1+"/disableDnsRecordCreation",schemaPath:"#/definitions/DomainConfiguration/properties/disableDnsRecordCreation/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema160.properties.disableDnsRecordCreation.type,parentSchema:schema160.properties.disableDnsRecordCreation,data:data11};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}}else {const err11 = {instancePath:instancePath+"/customDomains/" + i1,schemaPath:"#/definitions/DomainConfiguration/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema160.type,parentSchema:schema160,data:data8};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}}else {const err12 = {instancePath:instancePath+"/customDomains",schemaPath:"#/properties/customDomains/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema333.properties.customDomains.type,parentSchema:schema333.properties.customDomains,data:data7};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}if(data.edgeFunctions !== undefined){let data12 = data.edgeFunctions;if(data12 && typeof data12 == "object" && !Array.isArray(data12)){for(const key2 in data12){if(!((((key2 === "onRequest") || (key2 === "onResponse")) || (key2 === "onOriginRequest")) || (key2 === "onOriginResponse"))){const err13 = {instancePath:instancePath+"/edgeFunctions",schemaPath:"#/definitions/EdgeFunctionsConfig/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key2},message:"must NOT have additional properties",schema:false,parentSchema:schema189,data:data12};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}if(data12.onRequest !== undefined){let data13 = data12.onRequest;if(typeof data13 !== "string"){const err14 = {instancePath:instancePath+"/edgeFunctions/onRequest",schemaPath:"#/definitions/EdgeFunctionsConfig/properties/onRequest/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema189.properties.onRequest.type,parentSchema:schema189.properties.onRequest,data:data13};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}}if(data12.onResponse !== undefined){let data14 = data12.onResponse;if(typeof data14 !== "string"){const err15 = {instancePath:instancePath+"/edgeFunctions/onResponse",schemaPath:"#/definitions/EdgeFunctionsConfig/properties/onResponse/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema189.properties.onResponse.type,parentSchema:schema189.properties.onResponse,data:data14};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}}if(data12.onOriginRequest !== undefined){let data15 = data12.onOriginRequest;if(typeof data15 !== "string"){const err16 = {instancePath:instancePath+"/edgeFunctions/onOriginRequest",schemaPath:"#/definitions/EdgeFunctionsConfig/properties/onOriginRequest/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema189.properties.onOriginRequest.type,parentSchema:schema189.properties.onOriginRequest,data:data15};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}}if(data12.onOriginResponse !== undefined){let data16 = data12.onOriginResponse;if(typeof data16 !== "string"){const err17 = {instancePath:instancePath+"/edgeFunctions/onOriginResponse",schemaPath:"#/definitions/EdgeFunctionsConfig/properties/onOriginResponse/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema189.properties.onOriginResponse.type,parentSchema:schema189.properties.onOriginResponse,data:data16};if(vErrors === null){vErrors = [err17];}else {vErrors.push(err17);}errors++;}}}else {const err18 = {instancePath:instancePath+"/edgeFunctions",schemaPath:"#/definitions/EdgeFunctionsConfig/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema189.type,parentSchema:schema189,data:data12};if(vErrors === null){vErrors = [err18];}else {vErrors.push(err18);}errors++;}}if(data.cloudfrontPriceClass !== undefined){let data17 = data.cloudfrontPriceClass;if(typeof data17 !== "string"){const err19 = {instancePath:instancePath+"/cloudfrontPriceClass",schemaPath:"#/properties/cloudfrontPriceClass/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema333.properties.cloudfrontPriceClass.type,parentSchema:schema333.properties.cloudfrontPriceClass,data:data17};if(vErrors === null){vErrors = [err19];}else {vErrors.push(err19);}errors++;}if(!(((data17 === "PriceClass_100") || (data17 === "PriceClass_200")) || (data17 === "PriceClass_All"))){const err20 = {instancePath:instancePath+"/cloudfrontPriceClass",schemaPath:"#/properties/cloudfrontPriceClass/enum",keyword:"enum",params:{allowedValues: schema333.properties.cloudfrontPriceClass.enum},message:"must be equal to one of the allowed values",schema:schema333.properties.cloudfrontPriceClass.enum,parentSchema:schema333.properties.cloudfrontPriceClass,data:data17};if(vErrors === null){vErrors = [err20];}else {vErrors.push(err20);}errors++;}}if(data.defaultRoutePrefix !== undefined){let data18 = data.defaultRoutePrefix;if(typeof data18 !== "string"){const err21 = {instancePath:instancePath+"/defaultRoutePrefix",schemaPath:"#/properties/defaultRoutePrefix/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema333.properties.defaultRoutePrefix.type,parentSchema:schema333.properties.defaultRoutePrefix,data:data18};if(vErrors === null){vErrors = [err21];}else {vErrors.push(err21);}errors++;}}if(data.errorDocument !== undefined){let data19 = data.errorDocument;if(typeof data19 !== "string"){const err22 = {instancePath:instancePath+"/errorDocument",schemaPath:"#/properties/errorDocument/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema333.properties.errorDocument.type,parentSchema:schema333.properties.errorDocument,data:data19};if(vErrors === null){vErrors = [err22];}else {vErrors.push(err22);}errors++;}}if(data.indexDocument !== undefined){let data20 = data.indexDocument;if(typeof data20 !== "string"){const err23 = {instancePath:instancePath+"/indexDocument",schemaPath:"#/properties/indexDocument/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema333.properties.indexDocument.type,parentSchema:schema333.properties.indexDocument,data:data20};if(vErrors === null){vErrors = [err23];}else {vErrors.push(err23);}errors++;}}if(data.disableInvalidationAfterDeploy !== undefined){let data21 = data.disableInvalidationAfterDeploy;if(typeof data21 !== "boolean"){const err24 = {instancePath:instancePath+"/disableInvalidationAfterDeploy",schemaPath:"#/properties/disableInvalidationAfterDeploy/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema333.properties.disableInvalidationAfterDeploy.type,parentSchema:schema333.properties.disableInvalidationAfterDeploy,data:data21};if(vErrors === null){vErrors = [err24];}else {vErrors.push(err24);}errors++;}}if(data.useFirewall !== undefined){let data22 = data.useFirewall;if(typeof data22 !== "string"){const err25 = {instancePath:instancePath+"/useFirewall",schemaPath:"#/properties/useFirewall/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema333.properties.useFirewall.type,parentSchema:schema333.properties.useFirewall,data:data22};if(vErrors === null){vErrors = [err25];}else {vErrors.push(err25);}errors++;}}}else {const err26 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema333.type,parentSchema:schema333,data};if(vErrors === null){vErrors = [err26];}else {vErrors.push(err26);}errors++;}validate370.errors = vErrors;return errors === 0;}function validate341(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){for(const key0 in data){if(!((((((((key0 === "directoryUpload") || (key0 === "accessibility")) || (key0 === "cors")) || (key0 === "versioning")) || (key0 === "encryption")) || (key0 === "lifecycleRules")) || (key0 === "enableEventBusNotifications")) || (key0 === "cdn"))){const err0 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema308,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}}if(data.directoryUpload !== undefined){if(!(validate342(data.directoryUpload, {instancePath:instancePath+"/directoryUpload",parentData:data,parentDataProperty:"directoryUpload",rootData}))){vErrors = vErrors === null ? validate342.errors : vErrors.concat(validate342.errors);errors = vErrors.length;}}if(data.accessibility !== undefined){if(!(validate346(data.accessibility, {instancePath:instancePath+"/accessibility",parentData:data,parentDataProperty:"accessibility",rootData}))){vErrors = vErrors === null ? validate346.errors : vErrors.concat(validate346.errors);errors = vErrors.length;}}if(data.cors !== undefined){if(!(validate348(data.cors, {instancePath:instancePath+"/cors",parentData:data,parentDataProperty:"cors",rootData}))){vErrors = vErrors === null ? validate348.errors : vErrors.concat(validate348.errors);errors = vErrors.length;}}if(data.versioning !== undefined){let data3 = data.versioning;if(typeof data3 !== "boolean"){const err1 = {instancePath:instancePath+"/versioning",schemaPath:"#/properties/versioning/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema308.properties.versioning.type,parentSchema:schema308.properties.versioning,data:data3};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.encryption !== undefined){let data4 = data.encryption;if(typeof data4 !== "boolean"){const err2 = {instancePath:instancePath+"/encryption",schemaPath:"#/properties/encryption/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema308.properties.encryption.type,parentSchema:schema308.properties.encryption,data:data4};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.lifecycleRules !== undefined){let data5 = data.lifecycleRules;if(Array.isArray(data5)){const len0 = data5.length;for(let i0=0; i0<len0; i0++){let data6 = data5[i0];const _errs12 = errors;let valid3 = false;const _errs13 = errors;if(!(validate350(data6, {instancePath:instancePath+"/lifecycleRules/" + i0,parentData:data5,parentDataProperty:i0,rootData}))){vErrors = vErrors === null ? validate350.errors : vErrors.concat(validate350.errors);errors = vErrors.length;}var _valid0 = _errs13 === errors;valid3 = valid3 || _valid0;if(!valid3){const _errs14 = errors;if(!(validate354(data6, {instancePath:instancePath+"/lifecycleRules/" + i0,parentData:data5,parentDataProperty:i0,rootData}))){vErrors = vErrors === null ? validate354.errors : vErrors.concat(validate354.errors);errors = vErrors.length;}var _valid0 = _errs14 === errors;valid3 = valid3 || _valid0;if(!valid3){const _errs15 = errors;if(!(validate358(data6, {instancePath:instancePath+"/lifecycleRules/" + i0,parentData:data5,parentDataProperty:i0,rootData}))){vErrors = vErrors === null ? validate358.errors : vErrors.concat(validate358.errors);errors = vErrors.length;}var _valid0 = _errs15 === errors;valid3 = valid3 || _valid0;if(!valid3){const _errs16 = errors;if(!(validate362(data6, {instancePath:instancePath+"/lifecycleRules/" + i0,parentData:data5,parentDataProperty:i0,rootData}))){vErrors = vErrors === null ? validate362.errors : vErrors.concat(validate362.errors);errors = vErrors.length;}var _valid0 = _errs16 === errors;valid3 = valid3 || _valid0;if(!valid3){const _errs17 = errors;if(!(validate366(data6, {instancePath:instancePath+"/lifecycleRules/" + i0,parentData:data5,parentDataProperty:i0,rootData}))){vErrors = vErrors === null ? validate366.errors : vErrors.concat(validate366.errors);errors = vErrors.length;}var _valid0 = _errs17 === errors;valid3 = valid3 || _valid0;}}}}if(!valid3){const err3 = {instancePath:instancePath+"/lifecycleRules/" + i0,schemaPath:"#/properties/lifecycleRules/items/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:schema308.properties.lifecycleRules.items.anyOf,parentSchema:schema308.properties.lifecycleRules.items,data:data6};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}else {errors = _errs12;if(vErrors !== null){if(_errs12){vErrors.length = _errs12;}else {vErrors = null;}}}}}else {const err4 = {instancePath:instancePath+"/lifecycleRules",schemaPath:"#/properties/lifecycleRules/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema308.properties.lifecycleRules.type,parentSchema:schema308.properties.lifecycleRules,data:data5};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.enableEventBusNotifications !== undefined){let data7 = data.enableEventBusNotifications;if(typeof data7 !== "boolean"){const err5 = {instancePath:instancePath+"/enableEventBusNotifications",schemaPath:"#/properties/enableEventBusNotifications/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema308.properties.enableEventBusNotifications.type,parentSchema:schema308.properties.enableEventBusNotifications,data:data7};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data.cdn !== undefined){if(!(validate370(data.cdn, {instancePath:instancePath+"/cdn",parentData:data,parentDataProperty:"cdn",rootData}))){vErrors = vErrors === null ? validate370.errors : vErrors.concat(validate370.errors);errors = vErrors.length;}}}else {const err6 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema308.type,parentSchema:schema308,data};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}validate341.errors = vErrors;return errors === 0;}function validate340(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.type === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema307.required,parentSchema:schema307,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!(((key0 === "type") || (key0 === "properties")) || (key0 === "overrides"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema307,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err2 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema307.properties.type.type,parentSchema:schema307.properties.type,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}if("bucket" !== data0){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "bucket"},message:"must be equal to constant",schema:"bucket",parentSchema:schema307.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.properties !== undefined){if(!(validate341(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate341.errors : vErrors.concat(validate341.errors);errors = vErrors.length;}}if(data.overrides !== undefined){let data2 = data.overrides;if(data2 && typeof data2 == "object" && !Array.isArray(data2)){for(const key1 in data2){let data3 = data2[key1];if(data3 && typeof data3 == "object" && !Array.isArray(data3)){}else {const err4 = {instancePath:instancePath+"/overrides/" + key1.replace(/~/g, "~0").replace(/\//g, "~1"),schemaPath:"#/properties/overrides/additionalProperties/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema307.properties.overrides.additionalProperties.type,parentSchema:schema307.properties.overrides.additionalProperties,data:data3};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}}else {const err5 = {instancePath:instancePath+"/overrides",schemaPath:"#/properties/overrides/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema307.properties.overrides.type,parentSchema:schema307.properties.overrides,data:data2};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}}else {const err6 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema307.type,parentSchema:schema307,data};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}validate340.errors = vErrors;return errors === 0;}const schema336 = {"description":"#### A resource for managing user authentication and authorization.\n\n---\n\nA user pool is a fully managed identity provider that handles user sign-up, sign-in, and access control.\nIt provides a secure and scalable way to manage user identities for your applications.","type":"object","properties":{"type":{"type":"string","const":"user-auth-pool"},"properties":{"$ref":"#/definitions/UserAuthPoolProps"},"overrides":{"description":"#### Resource Overrides\n\n---\n\nOverrides properties of the underlying CloudFormation resources that Stacktape creates.\n\nChild resources are identified by their CloudFormation logical ID (e.g., `MyBucketBucket`). You can find these IDs by running `stacktape stack:info --detailed`.\n\nFor a list of properties that can be overridden, refer to the [AWS CloudFormation documentation](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html).","type":"object","additionalProperties":{"type":"object","additionalProperties":{}}}},"additionalProperties":false,"required":["type"]};const schema337 = {"type":"object","properties":{"allowOnlyAdminsToCreateAccount":{"description":"#### Restrict account creation to administrators\n\n---\n\nIf enabled, new users can't sign up themselves. Accounts must be created through an admin flow (for example from an internal admin tool or script),\nwhich helps prevent unwanted self-registrations.\n\nInternally this controls `AdminCreateUserConfig.AllowAdminCreateUserOnly` on the Cognito user pool\n([AWS::Cognito::UserPool](https://docs.aws.amazon.com/AWSCloudFormation/latest/TemplateReference/aws-resource-cognito-userpool)).","default":false,"type":"boolean"},"unusedAccountValidityDays":{"description":"#### Expire unused admin-created accounts\n\n---\n\nWhen an admin creates a user account, Cognito issues a temporary password. This setting controls how many days that temporary password\n(and the corresponding account) stays valid if the user never signs in.\n\nInternally this maps to `AdminCreateUserConfig.UnusedAccountValidityDays`.","default":31,"type":"number"},"requireEmailVerification":{"description":"#### (Reserved) Require verified emails\n\n---\n\nPresent for forward compatibility. Stacktape currently derives email / phone verification behavior from `userVerificationType`,\nnot from this flag directly.\n\nTo require email-based verification today, use `userVerificationType: 'email-link' | 'email-code'` instead.","type":"boolean"},"requirePhoneNumberVerification":{"description":"#### (Reserved) Require verified phone numbers\n\n---\n\nPresent for forward compatibility. Stacktape currently derives email / phone verification behavior from `userVerificationType`,\nnot from this flag directly.\n\nTo require SMS-based verification today, use `userVerificationType: 'sms'`.","type":"boolean"},"enableHostedUi":{"description":"#### Enable the Cognito Hosted UI\n\n---\n\nTurns on Cognito's Hosted UI  a pre-built, hosted login and registration page  so you don't have to build your own auth screens.\nThis is useful when you want to get started quickly or keep authentication logic outside of your main app.","default":false,"type":"boolean"},"hostedUiDomainPrefix":{"description":"#### Hosted UI domain prefix\n\n---\n\nSets the first part of your Hosted UI URL: `https://<prefix>.auth.<region>.amazoncognito.com`.\nPick something that matches your project or company name.","type":"string"},"hostedUiCSS":{"description":"#### Custom CSS for the Hosted UI\n\n---\n\nLets you override the default Cognito Hosted UI styling with your own CSS (colors, fonts, layouts, etc.),\nso the login experience matches the rest of your application.\n\nBehind the scenes this is applied using the `AWS::Cognito::UserPoolUICustomizationAttachment` resource.","type":"string"},"hooks":{"$ref":"#/definitions/UserPoolHooks","description":"#### Lambda triggers for the user pool\n\n---\n\nConnects AWS Lambda functions to Cognito \"hooks\" (triggers) such as pre-sign-up, post-confirmation, or token generation.\nYou can use these to enforce additional validation, enrich user profiles, migrate users from another system, and more.\n\nInternally this maps to the Cognito user pool `LambdaConfig`."},"emailConfiguration":{"$ref":"#/definitions/EmailConfiguration","description":"#### Email delivery settings\n\n---\n\nControls how Cognito sends emails (verification messages, password reset codes, admin invitations, etc.).\nYou can either use Cognito's built-in email service or plug in your own SES identity for full control over the sender.\n\nThis config is used to build the Cognito `EmailConfiguration` block\n([AWS docs](https://docs.aws.amazon.com/AWSCloudFormation/latest/TemplateReference/aws-resource-cognito-userpool))."},"inviteMessageConfig":{"$ref":"#/definitions/InviteMessageConfig","description":"#### Invite message overrides\n\n---\n\nCustomizes the contents of the \"invitation\" message that users receive when an administrator creates their account\n(for example, when sending a temporary password and sign-in instructions).\n\nIf you want to send custom emails through SES, you must also configure `emailConfiguration.sesAddressArn`."},"userVerificationType":{"$ref":"#/definitions/UserVerificationType","description":"#### Verification strategy\n\n---\n\nChooses how new users prove that they own their contact information:\n\n- `email-link`: Cognito emails a clickable link.\n- `email-code`: Cognito emails a short numeric code.\n- `sms`: Cognito sends a code via SMS to the user's phone number.\n- `none`: Users aren't required to verify email or phone during sign-up.\n\nStacktape uses this value to configure `AutoVerifiedAttributes` and `VerificationMessageTemplate`\non the underlying Cognito user pool."},"userVerificationMessageConfig":{"$ref":"#/definitions/UserVerificationMessageConfig","description":"#### Verification message text\n\n---\n\nLets you customize the exact email and SMS texts that Cognito sends when asking users to verify their email / phone.\nFor example, you can change subjects, body text, or the message that contains the `{####}` verification code."},"mfaConfiguration":{"$ref":"#/definitions/MfaConfiguration","description":"#### Multi-factor authentication\n\n---\n\nControls whether you use MultiFactor Authentication (MFA) and which second factors are allowed.\nMFA makes it much harder for attackers to access accounts even if they know a user's password.\n\nUnder the hood this config drives both the `MfaConfiguration` and `EnabledMfas` properties in Cognito\n(see \"MFA configuration\" in the\n[AWS::Cognito::UserPool docs](https://docs.aws.amazon.com/AWSCloudFormation/latest/TemplateReference/aws-resource-cognito-userpool))."},"passwordPolicy":{"$ref":"#/definitions/PasswordPolicy","description":"#### Password strength rules\n\n---\n\nDefines how strong user passwords must be  minimum length and whether they must include lowercase, uppercase,\nnumbers, and/or symbols  plus how long temporary passwords issued to new users remain valid.\n\nThis is applied to the Cognito `Policies.PasswordPolicy` block."},"schema":{"description":"#### Custom attributes schema\n\n---\n\nLets you define additional attributes (like `role`, `plan`, `companyId`, etc.) that are stored on each user,\nincluding their data type and validation constraints.\n\nThese translate into the Cognito user pool `Schema` entries\n([schema docs](https://docs.aws.amazon.com/AWSCloudFormation/latest/TemplateReference/aws-resource-cognito-userpool)).","type":"array","items":{"$ref":"#/definitions/AttributeSchema"}},"allowPhoneNumberAsUserName":{"description":"#### Allow phone numbers as usernames\n\n---\n\nIf enabled (the default), users can sign in using their phone number in addition to any traditional username.\nTurning this off means phone numbers can still be stored, but can't be used to log in.\n\nThis is implemented via Cognito's `UsernameAttributes` configuration.","default":true,"type":"boolean"},"allowEmailAsUserName":{"description":"#### Allow email addresses as usernames\n\n---\n\nIf enabled (the default), users can sign in using their email address instead of a dedicated username.\nTurning this off means emails can still be stored, but can't be used to log in directly.\n\nThis is also controlled through Cognito `UsernameAttributes`.","default":true,"type":"boolean"},"accessTokenValiditySeconds":{"description":"#### Access token lifetime\n\n---\n\nControls how long an access token issued by Cognito stays valid after login. Shorter lifetimes reduce the window\nin which a stolen token can be abused, at the cost of more frequent refreshes.\n\nThis value is passed to the user pool client as `AccessTokenValidity`.","type":"number"},"idTokenValiditySeconds":{"description":"#### ID token lifetime\n\n---\n\nControls how long an ID token (which contains user profile and claims) is accepted before clients must obtain a new one.\n\nThis is set on the user pool client as `IdTokenValidity`.","type":"number"},"refreshTokenValidityDays":{"description":"#### Refresh token lifetime\n\n---\n\nSets for how many days a refresh token can be used to obtain new access / ID tokens without requiring the user to sign in again.\nLonger lifetimes mean fewer re-authentications, but keep sessions alive for longer.\n\nThis value is used as `RefreshTokenValidity` on the Cognito user pool client.","type":"number"},"allowedOAuthFlows":{"description":"#### OAuth flows\n\n---\n\nSpecifies which OAuth 2.0 flows the user pool client is allowed to use:\n\n- `code`: Authorization Code flow (recommended for web apps and backends).\n- `implicit`: Implicit flow (legacy browser-only flow).\n- `client_credentials`: Servertoserver (no end user) machine credentials.\n\nThese values populate `AllowedOAuthFlows` on the Cognito user pool client\n([AWS::Cognito::UserPoolClient](https://docs.aws.amazon.com/AWSCloudFormation/latest/TemplateReference/aws-resource-cognito-userpoolclient)).","type":"array","items":{"$ref":"#/definitions/AllowedOauthFlow"}},"allowedOAuthScopes":{"description":"#### OAuth scopes\n\n---\n\nLists which scopes clients can request when using OAuth (for example `email`, `openid`, `profile`).\nScopes control which user information and permissions your app receives in tokens.\n\nThese values are passed to the user pool client as `AllowedOAuthScopes`.","type":"array","items":{"type":"string"}},"callbackURLs":{"description":"#### OAuth callback URLs\n\n---\n\nThe allowed URLs where Cognito is permitted to redirect users after successful authentication.\nThese must exactly match the URLs registered with your frontend / backend, otherwise the redirect will fail.\n\nMapped into `CallbackURLs` and `DefaultRedirectURI` on the user pool client.","type":"array","items":{"type":"string"}},"logoutURLs":{"description":"#### OAuth logout URLs\n\n---\n\nThe URLs Cognito can redirect users to after they log out of the Hosted UI or end their session.\nMust also be explicitly configured so that sign-out redirects don't fail.\n\nThese populate the `LogoutURLs` list on the user pool client.","type":"array","items":{"type":"string"}},"identityProviders":{"description":"#### External identity providers\n\n---\n\nAllows users to sign in with thirdparty identity providers like Google, Facebook, Login with Amazon, OIDC, SAML, or Sign in with Apple.\nEach entry configures one external provider (client ID/secret, attribute mapping, requested scopes, and advanced providerspecific options).\n\nUnder the hood Stacktape creates separate `AWS::Cognito::UserPoolIdentityProvider` resources and registers them\nin the user pool client's `SupportedIdentityProviders`.","type":"array","items":{"$ref":"#/definitions/IdentityProvider"}},"useFirewall":{"description":"#### Associate a WAF\n\n---\n\nLinks the user pool to a `web-app-firewall` resource, so requests to the Hosted UI and token endpoints are inspected\nby AWS WAF rules you configure in Stacktape.\n\nStacktape does this by creating a `WebACLAssociation` between the user pool and the referenced firewall.","type":"string"},"generateClientSecret":{"description":"#### Generate a client secret\n\n---\n\nAsks Cognito to generate a secret for the user pool client. Use this when you have trusted backends (like APIs or serverside apps)\nthat can safely store a client secret and use confidential OAuth flows.\n\nThis flag controls the `GenerateSecret` property on the user pool client.","default":false,"type":"boolean"},"allowOnlyExternalIdentityProviders":{"description":"#### Force external identity providers\n\n---\n\nIf `true`, users can't sign in with a username/password against the Cognito user directory at all.\nInstead, they must always use one of the configured external identity providers (Google, SAML, etc.).\n\nInternally this removes `COGNITO` from `SupportedIdentityProviders` on the user pool client.","default":false,"type":"boolean"}},"additionalProperties":false};const schema338 = {"type":"object","properties":{"customMessage":{"description":"#### Custom message hook\n\nTriggered whenever Cognito is about to send an email or SMS (signup, verification, password reset, etc.).\nLets you fully customize message contents or dynamically choose language/branding.\n\nValue must be the ARN of a Lambda function configured to handle the \"Custom Message\" trigger.","type":"string"},"postAuthentication":{"description":"#### Post-authentication hook\n\nRuns after a user has successfully authenticated. You can use this to record analytics, update lastlogin timestamps,\nor block access based on additional checks.","type":"string"},"postConfirmation":{"description":"#### Post-confirmation hook\n\nRuns right after a user confirms their account (for example via email link or admin confirmation).\nThis is often used to create user records in your own database or to provision resources.","type":"string"},"preAuthentication":{"description":"#### Pre-authentication hook\n\nInvoked just before Cognito validates a user's credentials. You can use this to block signin attempts\nbased on IP, device, or user state (for example, softdeleting an account).","type":"string"},"preSignUp":{"description":"#### Pre-sign-up hook\n\nCalled before a new user is created. Useful for validating input, autoconfirming trusted users,\nor blocking signups that don't meet your business rules.","type":"string"},"preTokenGeneration":{"description":"#### Pre-token-generation hook\n\nRuns right before Cognito issues tokens. Lets you customize token claims (for example, adding roles or flags)\nbased on external systems or additional logic.","type":"string"},"userMigration":{"description":"#### User migration hook\n\nLets you migrate users onthefly from another user store. When someone tries to sign in but doesn't exist in Cognito,\nthis trigger can look them up elsewhere, import them, and let the signin continue.","type":"string"},"createAuthChallenge":{"description":"#### Create auth challenge hook\n\nPart of Cognito's custom auth flow. This trigger is used to generate a challenge (for example sending a custom OTP)\nafter `DefineAuthChallenge` decides a challenge is needed.","type":"string"},"defineAuthChallenge":{"description":"#### Define auth challenge hook\n\nAlso part of the custom auth flow. It decides whether a user needs another challenge, has passed, or has failed,\nbased on previous challenges and responses.","type":"string"},"verifyAuthChallengeResponse":{"description":"#### Verify auth challenge response hook\n\nValidates the user's response to a custom challenge (for example, checking an OTP the user provides).","type":"string"}},"additionalProperties":false};const schema339 = {"type":"object","properties":{"sesAddressArn":{"description":"#### SES identity to send emails from\n\n---\n\nARN of an SES verified identity (email address or domain) that Cognito should use when sending emails.\nRequired when you want full control over sending (for example for MFA via `EMAIL_OTP`), because Cognito\nmust switch into `DEVELOPER` email sending mode.","type":"string"},"from":{"description":"#### From address\n\n---\n\nThe email address that appears in the \"From\" field of messages sent by Cognito (if you're using SES).\nThis address must be verified in SES if you're sending through your own identity.","type":"string"},"replyToEmailAddress":{"description":"#### Reply-to address\n\n---\n\nOptional address where replies to Cognito emails should be delivered.\nIf not set, replies go to the `from` address (or the default Cognito sender).","type":"string"}},"additionalProperties":false};const schema340 = {"type":"object","properties":{"emailMessage":{"description":"#### Invitation email body\n\n---\n\nThe text of the email sent when an administrator creates a new user.\nYou can reference placeholders like `{username}` and `{####}` (temporary password or code) in the message.","type":"string"},"emailSubject":{"description":"#### Invitation email subject","type":"string"},"smsMessage":{"description":"#### Invitation SMS body\n\n---\n\nThe content of the SMS message sent when new users are created with a phone number.\nAs with email, you can include placeholders such as `{username}` and `{####}`.","type":"string"}},"additionalProperties":false};const schema341 = {"enum":["email-code","email-link","none","sms"],"type":"string"};const schema342 = {"type":"object","properties":{"emailMessageUsingCode":{"description":"#### Email body when verifying with a code\n\nUsed when `userVerificationType` is `email-code`. The message typically contains a `{####}` placeholder\nthat Cognito replaces with a onetime verification code.","type":"string"},"emailMessageUsingLink":{"description":"#### Email body when verifying with a link\n\nUsed when `userVerificationType` is `email-link`. Cognito replaces special markers like `{##verify your email##}`\nwith a clickable URL.","type":"string"},"emailSubjectUsingCode":{"description":"#### Email subject when verifying with a code","type":"string"},"emailSubjectUsingLink":{"description":"#### Email subject when verifying with a link","type":"string"},"smsMessage":{"description":"#### SMS verification message\n\n---\n\nText of the SMS Cognito sends when verifying a phone number (for example containing `{####}`).","type":"string"}},"additionalProperties":false};const schema343 = {"type":"object","properties":{"status":{"description":"#### MFA requirement\n\n- `OFF`: MFA is completely disabled.\n- `ON`: All users must complete MFA during signin.\n- `OPTIONAL`: Users can opt in to MFA; it's recommended but not strictly required.\n\nThis value configures the Cognito `MfaConfiguration` property.","enum":["OFF","ON","OPTIONAL"],"type":"string"},"enabledTypes":{"description":"#### Enabled MFA factor types\n\n---\n\nChooses which MFA methods users can use:\n\n- `SMS`: Onetime codes are sent via text message. Requires an SNS role so Cognito can send SMS.\n- `SOFTWARE_TOKEN`: Timebased onetime codes from an authenticator app.\n- `EMAIL_OTP`: Codes are sent by email. AWS requires that you configure a developer email sending identity\n  (which Stacktape does when you provide `emailConfiguration.sesAddressArn`).\n\nThese values are mapped to Cognito's `EnabledMfas` setting (`SMS_MFA`, `SOFTWARE_TOKEN_MFA`, `EMAIL_OTP`),\nwhose behavior is described in\n[EnabledMfas in the AWS::Cognito::UserPool docs](https://docs.aws.amazon.com/AWSCloudFormation/latest/TemplateReference/aws-resource-cognito-userpool).","type":"array","items":{"enum":["EMAIL_OTP","SMS","SOFTWARE_TOKEN"],"type":"string"}}},"additionalProperties":false};const schema344 = {"type":"object","properties":{"minimumLength":{"description":"#### Minimum password length\n\nThe fewest characters a password can have. Longer passwords are generally more secure.","type":"number"},"requireLowercase":{"description":"#### Require at least one lowercase letter","type":"boolean"},"requireNumbers":{"description":"#### Require at least one number","type":"boolean"},"requireSymbols":{"description":"#### Require at least one symbol\n\nSymbols are nonalphanumeric characters such as `!`, `@`, or `#`.","type":"boolean"},"requireUppercase":{"description":"#### Require at least one uppercase letter","type":"boolean"},"temporaryPasswordValidityDays":{"description":"#### Temporary password validity (days)\n\nHow long a temporary password issued to a new user is valid before it must be changed on first signin.","type":"number"}},"additionalProperties":false};const schema345 = {"type":"object","properties":{"name":{"description":"#### Attribute name\n\nThe logical name of the attribute as it appears on the user (for example `given_name`, `plan`, or `tenantId`).","type":"string"},"attributeDataType":{"description":"#### Attribute data type\n\nThe value type stored for this attribute (`String`, `Number`, etc.).\nThis is passed to Cognito's `AttributeDataType`.","type":"string"},"developerOnlyAttribute":{"description":"#### Developer-only attribute\n\nIf true, the attribute is only readable/writable by privileged backend code and not exposed to end users directly.","type":"boolean"},"mutable":{"description":"#### Mutable after sign-up\n\nControls whether the attribute can be changed after it has been initially set.","type":"boolean"},"required":{"description":"#### Required at sign-up\n\nIf true, users must supply this attribute when creating an account.","type":"boolean"},"numberMaxValue":{"description":"#### Maximum numeric value","type":"number"},"numberMinValue":{"description":"#### Minimum numeric value","type":"number"},"stringMaxLength":{"description":"#### Maximum string length","type":"number"},"stringMinLength":{"description":"#### Minimum string length","type":"number"}},"additionalProperties":false};const schema346 = {"enum":["client_credentials","code","implicit"],"type":"string"};const schema347 = {"type":"object","properties":{"type":{"description":"#### Provider type\n\n---\n\nThe kind of external identity provider you want to integrate:\n\n- `Facebook`, `Google`, `LoginWithAmazon`, `SignInWithApple`: social identity providers.\n- `OIDC`: a generic OpenID Connect provider.\n- `SAML`: a SAML 2.0 identity provider (often used for enterprise SSO).","enum":["Facebook","Google","LoginWithAmazon","OIDC","SAML","SignInWithApple"],"type":"string"},"clientId":{"description":"#### OAuth / OIDC client ID\n\n---\n\nThe client ID (sometimes called app ID) that you obtained from the external provider's console.\nCognito presents this ID when redirecting users to the provider.","type":"string"},"clientSecret":{"description":"#### OAuth / OIDC client secret\n\n---\n\nThe client secret associated with the `clientId`, used by Cognito when exchanging authorization codes for tokens.\nThis value should be kept confidential and only configured from secure sources.","type":"string"},"attributeMapping":{"description":"#### Attribute mapping\n\n---\n\nMaps attributes from the external provider (for example `email`, `given_name`) to Cognito user pool attributes.\nKeys are Cognito attribute names, values are attribute names from the identity provider.\n\nIf not provided, Stacktape defaults to mapping `email -> email`.","type":"object","additionalProperties":{"type":"string"}},"authorizeScopes":{"description":"#### Requested scopes\n\n---\n\nAdditional OAuth scopes to request from the identity provider (for example `openid`, `email`, `profile`).\nThese control which pieces of user information and permissions your app receives in the provider's tokens.\n\nIf omitted, Stacktape uses a reasonable default per provider (see\n[AWS::Cognito::UserPoolIdentityProvider](https://docs.aws.amazon.com/AWSCloudFormation/latest/TemplateReference/aws-resource-cognito-userpoolidentityprovider)).","type":"array","items":{"type":"string"}},"providerDetails":{"$ref":"#/definitions/Record<string,any>","description":"#### Advanced provider options\n\n---\n\nLowlevel configuration passed directly into Cognito's `ProviderDetails` map.\nYou can use this to override endpoints or supply providerspecific keys as documented by AWS,\nfor example `authorize_url`, `token_url`, `attributes_request_method`, `oidc_issuer`, and others.\n\nIn most cases you don't need to set this  Stacktape configures sensible defaults for common providers."}},"additionalProperties":false,"required":["clientId","clientSecret","type"]};const schema348 = {"type":"object","additionalProperties":false};function validate379(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.clientId === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "clientId"},message:"must have required property '"+"clientId"+"'",schema:schema347.required,parentSchema:schema347,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.clientSecret === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "clientSecret"},message:"must have required property '"+"clientSecret"+"'",schema:schema347.required,parentSchema:schema347,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}if(data.type === undefined){const err2 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema347.required,parentSchema:schema347,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}for(const key0 in data){if(!((((((key0 === "type") || (key0 === "clientId")) || (key0 === "clientSecret")) || (key0 === "attributeMapping")) || (key0 === "authorizeScopes")) || (key0 === "providerDetails"))){const err3 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema347,data};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema347.properties.type.type,parentSchema:schema347.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}if(!((((((data0 === "Facebook") || (data0 === "Google")) || (data0 === "LoginWithAmazon")) || (data0 === "OIDC")) || (data0 === "SAML")) || (data0 === "SignInWithApple"))){const err5 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/enum",keyword:"enum",params:{allowedValues: schema347.properties.type.enum},message:"must be equal to one of the allowed values",schema:schema347.properties.type.enum,parentSchema:schema347.properties.type,data:data0};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data.clientId !== undefined){let data1 = data.clientId;if(typeof data1 !== "string"){const err6 = {instancePath:instancePath+"/clientId",schemaPath:"#/properties/clientId/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema347.properties.clientId.type,parentSchema:schema347.properties.clientId,data:data1};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data.clientSecret !== undefined){let data2 = data.clientSecret;if(typeof data2 !== "string"){const err7 = {instancePath:instancePath+"/clientSecret",schemaPath:"#/properties/clientSecret/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema347.properties.clientSecret.type,parentSchema:schema347.properties.clientSecret,data:data2};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data.attributeMapping !== undefined){let data3 = data.attributeMapping;if(data3 && typeof data3 == "object" && !Array.isArray(data3)){for(const key1 in data3){let data4 = data3[key1];if(typeof data4 !== "string"){const err8 = {instancePath:instancePath+"/attributeMapping/" + key1.replace(/~/g, "~0").replace(/\//g, "~1"),schemaPath:"#/properties/attributeMapping/additionalProperties/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema347.properties.attributeMapping.additionalProperties.type,parentSchema:schema347.properties.attributeMapping.additionalProperties,data:data4};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}}else {const err9 = {instancePath:instancePath+"/attributeMapping",schemaPath:"#/properties/attributeMapping/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema347.properties.attributeMapping.type,parentSchema:schema347.properties.attributeMapping,data:data3};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(data.authorizeScopes !== undefined){let data5 = data.authorizeScopes;if(Array.isArray(data5)){const len0 = data5.length;for(let i0=0; i0<len0; i0++){let data6 = data5[i0];if(typeof data6 !== "string"){const err10 = {instancePath:instancePath+"/authorizeScopes/" + i0,schemaPath:"#/properties/authorizeScopes/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema347.properties.authorizeScopes.items.type,parentSchema:schema347.properties.authorizeScopes.items,data:data6};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}}else {const err11 = {instancePath:instancePath+"/authorizeScopes",schemaPath:"#/properties/authorizeScopes/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema347.properties.authorizeScopes.type,parentSchema:schema347.properties.authorizeScopes,data:data5};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}if(data.providerDetails !== undefined){let data7 = data.providerDetails;if(data7 && typeof data7 == "object" && !Array.isArray(data7)){for(const key2 in data7){const err12 = {instancePath:instancePath+"/providerDetails",schemaPath:"#/definitions/Record<string,any>/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key2},message:"must NOT have additional properties",schema:false,parentSchema:schema348,data:data7};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}else {const err13 = {instancePath:instancePath+"/providerDetails",schemaPath:"#/definitions/Record<string,any>/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema348.type,parentSchema:schema348,data:data7};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}}else {const err14 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema347.type,parentSchema:schema347,data};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}validate379.errors = vErrors;return errors === 0;}function validate378(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){for(const key0 in data){if(!(func2.call(schema337.properties, key0))){const err0 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema337,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}}if(data.allowOnlyAdminsToCreateAccount !== undefined){let data0 = data.allowOnlyAdminsToCreateAccount;if(typeof data0 !== "boolean"){const err1 = {instancePath:instancePath+"/allowOnlyAdminsToCreateAccount",schemaPath:"#/properties/allowOnlyAdminsToCreateAccount/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema337.properties.allowOnlyAdminsToCreateAccount.type,parentSchema:schema337.properties.allowOnlyAdminsToCreateAccount,data:data0};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.unusedAccountValidityDays !== undefined){let data1 = data.unusedAccountValidityDays;if(!(typeof data1 == "number")){const err2 = {instancePath:instancePath+"/unusedAccountValidityDays",schemaPath:"#/properties/unusedAccountValidityDays/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema337.properties.unusedAccountValidityDays.type,parentSchema:schema337.properties.unusedAccountValidityDays,data:data1};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.requireEmailVerification !== undefined){let data2 = data.requireEmailVerification;if(typeof data2 !== "boolean"){const err3 = {instancePath:instancePath+"/requireEmailVerification",schemaPath:"#/properties/requireEmailVerification/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema337.properties.requireEmailVerification.type,parentSchema:schema337.properties.requireEmailVerification,data:data2};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.requirePhoneNumberVerification !== undefined){let data3 = data.requirePhoneNumberVerification;if(typeof data3 !== "boolean"){const err4 = {instancePath:instancePath+"/requirePhoneNumberVerification",schemaPath:"#/properties/requirePhoneNumberVerification/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema337.properties.requirePhoneNumberVerification.type,parentSchema:schema337.properties.requirePhoneNumberVerification,data:data3};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.enableHostedUi !== undefined){let data4 = data.enableHostedUi;if(typeof data4 !== "boolean"){const err5 = {instancePath:instancePath+"/enableHostedUi",schemaPath:"#/properties/enableHostedUi/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema337.properties.enableHostedUi.type,parentSchema:schema337.properties.enableHostedUi,data:data4};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data.hostedUiDomainPrefix !== undefined){let data5 = data.hostedUiDomainPrefix;if(typeof data5 !== "string"){const err6 = {instancePath:instancePath+"/hostedUiDomainPrefix",schemaPath:"#/properties/hostedUiDomainPrefix/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema337.properties.hostedUiDomainPrefix.type,parentSchema:schema337.properties.hostedUiDomainPrefix,data:data5};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data.hostedUiCSS !== undefined){let data6 = data.hostedUiCSS;if(typeof data6 !== "string"){const err7 = {instancePath:instancePath+"/hostedUiCSS",schemaPath:"#/properties/hostedUiCSS/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema337.properties.hostedUiCSS.type,parentSchema:schema337.properties.hostedUiCSS,data:data6};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data.hooks !== undefined){let data7 = data.hooks;if(data7 && typeof data7 == "object" && !Array.isArray(data7)){for(const key1 in data7){if(!(func2.call(schema338.properties, key1))){const err8 = {instancePath:instancePath+"/hooks",schemaPath:"#/definitions/UserPoolHooks/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema338,data:data7};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}if(data7.customMessage !== undefined){let data8 = data7.customMessage;if(typeof data8 !== "string"){const err9 = {instancePath:instancePath+"/hooks/customMessage",schemaPath:"#/definitions/UserPoolHooks/properties/customMessage/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema338.properties.customMessage.type,parentSchema:schema338.properties.customMessage,data:data8};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(data7.postAuthentication !== undefined){let data9 = data7.postAuthentication;if(typeof data9 !== "string"){const err10 = {instancePath:instancePath+"/hooks/postAuthentication",schemaPath:"#/definitions/UserPoolHooks/properties/postAuthentication/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema338.properties.postAuthentication.type,parentSchema:schema338.properties.postAuthentication,data:data9};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data7.postConfirmation !== undefined){let data10 = data7.postConfirmation;if(typeof data10 !== "string"){const err11 = {instancePath:instancePath+"/hooks/postConfirmation",schemaPath:"#/definitions/UserPoolHooks/properties/postConfirmation/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema338.properties.postConfirmation.type,parentSchema:schema338.properties.postConfirmation,data:data10};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}if(data7.preAuthentication !== undefined){let data11 = data7.preAuthentication;if(typeof data11 !== "string"){const err12 = {instancePath:instancePath+"/hooks/preAuthentication",schemaPath:"#/definitions/UserPoolHooks/properties/preAuthentication/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema338.properties.preAuthentication.type,parentSchema:schema338.properties.preAuthentication,data:data11};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}if(data7.preSignUp !== undefined){let data12 = data7.preSignUp;if(typeof data12 !== "string"){const err13 = {instancePath:instancePath+"/hooks/preSignUp",schemaPath:"#/definitions/UserPoolHooks/properties/preSignUp/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema338.properties.preSignUp.type,parentSchema:schema338.properties.preSignUp,data:data12};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}if(data7.preTokenGeneration !== undefined){let data13 = data7.preTokenGeneration;if(typeof data13 !== "string"){const err14 = {instancePath:instancePath+"/hooks/preTokenGeneration",schemaPath:"#/definitions/UserPoolHooks/properties/preTokenGeneration/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema338.properties.preTokenGeneration.type,parentSchema:schema338.properties.preTokenGeneration,data:data13};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}}if(data7.userMigration !== undefined){let data14 = data7.userMigration;if(typeof data14 !== "string"){const err15 = {instancePath:instancePath+"/hooks/userMigration",schemaPath:"#/definitions/UserPoolHooks/properties/userMigration/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema338.properties.userMigration.type,parentSchema:schema338.properties.userMigration,data:data14};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}}if(data7.createAuthChallenge !== undefined){let data15 = data7.createAuthChallenge;if(typeof data15 !== "string"){const err16 = {instancePath:instancePath+"/hooks/createAuthChallenge",schemaPath:"#/definitions/UserPoolHooks/properties/createAuthChallenge/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema338.properties.createAuthChallenge.type,parentSchema:schema338.properties.createAuthChallenge,data:data15};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}}if(data7.defineAuthChallenge !== undefined){let data16 = data7.defineAuthChallenge;if(typeof data16 !== "string"){const err17 = {instancePath:instancePath+"/hooks/defineAuthChallenge",schemaPath:"#/definitions/UserPoolHooks/properties/defineAuthChallenge/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema338.properties.defineAuthChallenge.type,parentSchema:schema338.properties.defineAuthChallenge,data:data16};if(vErrors === null){vErrors = [err17];}else {vErrors.push(err17);}errors++;}}if(data7.verifyAuthChallengeResponse !== undefined){let data17 = data7.verifyAuthChallengeResponse;if(typeof data17 !== "string"){const err18 = {instancePath:instancePath+"/hooks/verifyAuthChallengeResponse",schemaPath:"#/definitions/UserPoolHooks/properties/verifyAuthChallengeResponse/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema338.properties.verifyAuthChallengeResponse.type,parentSchema:schema338.properties.verifyAuthChallengeResponse,data:data17};if(vErrors === null){vErrors = [err18];}else {vErrors.push(err18);}errors++;}}}else {const err19 = {instancePath:instancePath+"/hooks",schemaPath:"#/definitions/UserPoolHooks/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema338.type,parentSchema:schema338,data:data7};if(vErrors === null){vErrors = [err19];}else {vErrors.push(err19);}errors++;}}if(data.emailConfiguration !== undefined){let data18 = data.emailConfiguration;if(data18 && typeof data18 == "object" && !Array.isArray(data18)){for(const key2 in data18){if(!(((key2 === "sesAddressArn") || (key2 === "from")) || (key2 === "replyToEmailAddress"))){const err20 = {instancePath:instancePath+"/emailConfiguration",schemaPath:"#/definitions/EmailConfiguration/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key2},message:"must NOT have additional properties",schema:false,parentSchema:schema339,data:data18};if(vErrors === null){vErrors = [err20];}else {vErrors.push(err20);}errors++;}}if(data18.sesAddressArn !== undefined){let data19 = data18.sesAddressArn;if(typeof data19 !== "string"){const err21 = {instancePath:instancePath+"/emailConfiguration/sesAddressArn",schemaPath:"#/definitions/EmailConfiguration/properties/sesAddressArn/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema339.properties.sesAddressArn.type,parentSchema:schema339.properties.sesAddressArn,data:data19};if(vErrors === null){vErrors = [err21];}else {vErrors.push(err21);}errors++;}}if(data18.from !== undefined){let data20 = data18.from;if(typeof data20 !== "string"){const err22 = {instancePath:instancePath+"/emailConfiguration/from",schemaPath:"#/definitions/EmailConfiguration/properties/from/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema339.properties.from.type,parentSchema:schema339.properties.from,data:data20};if(vErrors === null){vErrors = [err22];}else {vErrors.push(err22);}errors++;}}if(data18.replyToEmailAddress !== undefined){let data21 = data18.replyToEmailAddress;if(typeof data21 !== "string"){const err23 = {instancePath:instancePath+"/emailConfiguration/replyToEmailAddress",schemaPath:"#/definitions/EmailConfiguration/properties/replyToEmailAddress/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema339.properties.replyToEmailAddress.type,parentSchema:schema339.properties.replyToEmailAddress,data:data21};if(vErrors === null){vErrors = [err23];}else {vErrors.push(err23);}errors++;}}}else {const err24 = {instancePath:instancePath+"/emailConfiguration",schemaPath:"#/definitions/EmailConfiguration/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema339.type,parentSchema:schema339,data:data18};if(vErrors === null){vErrors = [err24];}else {vErrors.push(err24);}errors++;}}if(data.inviteMessageConfig !== undefined){let data22 = data.inviteMessageConfig;if(data22 && typeof data22 == "object" && !Array.isArray(data22)){for(const key3 in data22){if(!(((key3 === "emailMessage") || (key3 === "emailSubject")) || (key3 === "smsMessage"))){const err25 = {instancePath:instancePath+"/inviteMessageConfig",schemaPath:"#/definitions/InviteMessageConfig/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key3},message:"must NOT have additional properties",schema:false,parentSchema:schema340,data:data22};if(vErrors === null){vErrors = [err25];}else {vErrors.push(err25);}errors++;}}if(data22.emailMessage !== undefined){let data23 = data22.emailMessage;if(typeof data23 !== "string"){const err26 = {instancePath:instancePath+"/inviteMessageConfig/emailMessage",schemaPath:"#/definitions/InviteMessageConfig/properties/emailMessage/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema340.properties.emailMessage.type,parentSchema:schema340.properties.emailMessage,data:data23};if(vErrors === null){vErrors = [err26];}else {vErrors.push(err26);}errors++;}}if(data22.emailSubject !== undefined){let data24 = data22.emailSubject;if(typeof data24 !== "string"){const err27 = {instancePath:instancePath+"/inviteMessageConfig/emailSubject",schemaPath:"#/definitions/InviteMessageConfig/properties/emailSubject/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema340.properties.emailSubject.type,parentSchema:schema340.properties.emailSubject,data:data24};if(vErrors === null){vErrors = [err27];}else {vErrors.push(err27);}errors++;}}if(data22.smsMessage !== undefined){let data25 = data22.smsMessage;if(typeof data25 !== "string"){const err28 = {instancePath:instancePath+"/inviteMessageConfig/smsMessage",schemaPath:"#/definitions/InviteMessageConfig/properties/smsMessage/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema340.properties.smsMessage.type,parentSchema:schema340.properties.smsMessage,data:data25};if(vErrors === null){vErrors = [err28];}else {vErrors.push(err28);}errors++;}}}else {const err29 = {instancePath:instancePath+"/inviteMessageConfig",schemaPath:"#/definitions/InviteMessageConfig/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema340.type,parentSchema:schema340,data:data22};if(vErrors === null){vErrors = [err29];}else {vErrors.push(err29);}errors++;}}if(data.userVerificationType !== undefined){let data26 = data.userVerificationType;if(typeof data26 !== "string"){const err30 = {instancePath:instancePath+"/userVerificationType",schemaPath:"#/definitions/UserVerificationType/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema341.type,parentSchema:schema341,data:data26};if(vErrors === null){vErrors = [err30];}else {vErrors.push(err30);}errors++;}if(!((((data26 === "email-code") || (data26 === "email-link")) || (data26 === "none")) || (data26 === "sms"))){const err31 = {instancePath:instancePath+"/userVerificationType",schemaPath:"#/definitions/UserVerificationType/enum",keyword:"enum",params:{allowedValues: schema341.enum},message:"must be equal to one of the allowed values",schema:schema341.enum,parentSchema:schema341,data:data26};if(vErrors === null){vErrors = [err31];}else {vErrors.push(err31);}errors++;}}if(data.userVerificationMessageConfig !== undefined){let data27 = data.userVerificationMessageConfig;if(data27 && typeof data27 == "object" && !Array.isArray(data27)){for(const key4 in data27){if(!(((((key4 === "emailMessageUsingCode") || (key4 === "emailMessageUsingLink")) || (key4 === "emailSubjectUsingCode")) || (key4 === "emailSubjectUsingLink")) || (key4 === "smsMessage"))){const err32 = {instancePath:instancePath+"/userVerificationMessageConfig",schemaPath:"#/definitions/UserVerificationMessageConfig/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key4},message:"must NOT have additional properties",schema:false,parentSchema:schema342,data:data27};if(vErrors === null){vErrors = [err32];}else {vErrors.push(err32);}errors++;}}if(data27.emailMessageUsingCode !== undefined){let data28 = data27.emailMessageUsingCode;if(typeof data28 !== "string"){const err33 = {instancePath:instancePath+"/userVerificationMessageConfig/emailMessageUsingCode",schemaPath:"#/definitions/UserVerificationMessageConfig/properties/emailMessageUsingCode/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema342.properties.emailMessageUsingCode.type,parentSchema:schema342.properties.emailMessageUsingCode,data:data28};if(vErrors === null){vErrors = [err33];}else {vErrors.push(err33);}errors++;}}if(data27.emailMessageUsingLink !== undefined){let data29 = data27.emailMessageUsingLink;if(typeof data29 !== "string"){const err34 = {instancePath:instancePath+"/userVerificationMessageConfig/emailMessageUsingLink",schemaPath:"#/definitions/UserVerificationMessageConfig/properties/emailMessageUsingLink/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema342.properties.emailMessageUsingLink.type,parentSchema:schema342.properties.emailMessageUsingLink,data:data29};if(vErrors === null){vErrors = [err34];}else {vErrors.push(err34);}errors++;}}if(data27.emailSubjectUsingCode !== undefined){let data30 = data27.emailSubjectUsingCode;if(typeof data30 !== "string"){const err35 = {instancePath:instancePath+"/userVerificationMessageConfig/emailSubjectUsingCode",schemaPath:"#/definitions/UserVerificationMessageConfig/properties/emailSubjectUsingCode/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema342.properties.emailSubjectUsingCode.type,parentSchema:schema342.properties.emailSubjectUsingCode,data:data30};if(vErrors === null){vErrors = [err35];}else {vErrors.push(err35);}errors++;}}if(data27.emailSubjectUsingLink !== undefined){let data31 = data27.emailSubjectUsingLink;if(typeof data31 !== "string"){const err36 = {instancePath:instancePath+"/userVerificationMessageConfig/emailSubjectUsingLink",schemaPath:"#/definitions/UserVerificationMessageConfig/properties/emailSubjectUsingLink/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema342.properties.emailSubjectUsingLink.type,parentSchema:schema342.properties.emailSubjectUsingLink,data:data31};if(vErrors === null){vErrors = [err36];}else {vErrors.push(err36);}errors++;}}if(data27.smsMessage !== undefined){let data32 = data27.smsMessage;if(typeof data32 !== "string"){const err37 = {instancePath:instancePath+"/userVerificationMessageConfig/smsMessage",schemaPath:"#/definitions/UserVerificationMessageConfig/properties/smsMessage/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema342.properties.smsMessage.type,parentSchema:schema342.properties.smsMessage,data:data32};if(vErrors === null){vErrors = [err37];}else {vErrors.push(err37);}errors++;}}}else {const err38 = {instancePath:instancePath+"/userVerificationMessageConfig",schemaPath:"#/definitions/UserVerificationMessageConfig/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema342.type,parentSchema:schema342,data:data27};if(vErrors === null){vErrors = [err38];}else {vErrors.push(err38);}errors++;}}if(data.mfaConfiguration !== undefined){let data33 = data.mfaConfiguration;if(data33 && typeof data33 == "object" && !Array.isArray(data33)){for(const key5 in data33){if(!((key5 === "status") || (key5 === "enabledTypes"))){const err39 = {instancePath:instancePath+"/mfaConfiguration",schemaPath:"#/definitions/MfaConfiguration/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key5},message:"must NOT have additional properties",schema:false,parentSchema:schema343,data:data33};if(vErrors === null){vErrors = [err39];}else {vErrors.push(err39);}errors++;}}if(data33.status !== undefined){let data34 = data33.status;if(typeof data34 !== "string"){const err40 = {instancePath:instancePath+"/mfaConfiguration/status",schemaPath:"#/definitions/MfaConfiguration/properties/status/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema343.properties.status.type,parentSchema:schema343.properties.status,data:data34};if(vErrors === null){vErrors = [err40];}else {vErrors.push(err40);}errors++;}if(!(((data34 === "OFF") || (data34 === "ON")) || (data34 === "OPTIONAL"))){const err41 = {instancePath:instancePath+"/mfaConfiguration/status",schemaPath:"#/definitions/MfaConfiguration/properties/status/enum",keyword:"enum",params:{allowedValues: schema343.properties.status.enum},message:"must be equal to one of the allowed values",schema:schema343.properties.status.enum,parentSchema:schema343.properties.status,data:data34};if(vErrors === null){vErrors = [err41];}else {vErrors.push(err41);}errors++;}}if(data33.enabledTypes !== undefined){let data35 = data33.enabledTypes;if(Array.isArray(data35)){const len0 = data35.length;for(let i0=0; i0<len0; i0++){let data36 = data35[i0];if(typeof data36 !== "string"){const err42 = {instancePath:instancePath+"/mfaConfiguration/enabledTypes/" + i0,schemaPath:"#/definitions/MfaConfiguration/properties/enabledTypes/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema343.properties.enabledTypes.items.type,parentSchema:schema343.properties.enabledTypes.items,data:data36};if(vErrors === null){vErrors = [err42];}else {vErrors.push(err42);}errors++;}if(!(((data36 === "EMAIL_OTP") || (data36 === "SMS")) || (data36 === "SOFTWARE_TOKEN"))){const err43 = {instancePath:instancePath+"/mfaConfiguration/enabledTypes/" + i0,schemaPath:"#/definitions/MfaConfiguration/properties/enabledTypes/items/enum",keyword:"enum",params:{allowedValues: schema343.properties.enabledTypes.items.enum},message:"must be equal to one of the allowed values",schema:schema343.properties.enabledTypes.items.enum,parentSchema:schema343.properties.enabledTypes.items,data:data36};if(vErrors === null){vErrors = [err43];}else {vErrors.push(err43);}errors++;}}}else {const err44 = {instancePath:instancePath+"/mfaConfiguration/enabledTypes",schemaPath:"#/definitions/MfaConfiguration/properties/enabledTypes/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema343.properties.enabledTypes.type,parentSchema:schema343.properties.enabledTypes,data:data35};if(vErrors === null){vErrors = [err44];}else {vErrors.push(err44);}errors++;}}}else {const err45 = {instancePath:instancePath+"/mfaConfiguration",schemaPath:"#/definitions/MfaConfiguration/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema343.type,parentSchema:schema343,data:data33};if(vErrors === null){vErrors = [err45];}else {vErrors.push(err45);}errors++;}}if(data.passwordPolicy !== undefined){let data37 = data.passwordPolicy;if(data37 && typeof data37 == "object" && !Array.isArray(data37)){for(const key6 in data37){if(!((((((key6 === "minimumLength") || (key6 === "requireLowercase")) || (key6 === "requireNumbers")) || (key6 === "requireSymbols")) || (key6 === "requireUppercase")) || (key6 === "temporaryPasswordValidityDays"))){const err46 = {instancePath:instancePath+"/passwordPolicy",schemaPath:"#/definitions/PasswordPolicy/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key6},message:"must NOT have additional properties",schema:false,parentSchema:schema344,data:data37};if(vErrors === null){vErrors = [err46];}else {vErrors.push(err46);}errors++;}}if(data37.minimumLength !== undefined){let data38 = data37.minimumLength;if(!(typeof data38 == "number")){const err47 = {instancePath:instancePath+"/passwordPolicy/minimumLength",schemaPath:"#/definitions/PasswordPolicy/properties/minimumLength/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema344.properties.minimumLength.type,parentSchema:schema344.properties.minimumLength,data:data38};if(vErrors === null){vErrors = [err47];}else {vErrors.push(err47);}errors++;}}if(data37.requireLowercase !== undefined){let data39 = data37.requireLowercase;if(typeof data39 !== "boolean"){const err48 = {instancePath:instancePath+"/passwordPolicy/requireLowercase",schemaPath:"#/definitions/PasswordPolicy/properties/requireLowercase/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema344.properties.requireLowercase.type,parentSchema:schema344.properties.requireLowercase,data:data39};if(vErrors === null){vErrors = [err48];}else {vErrors.push(err48);}errors++;}}if(data37.requireNumbers !== undefined){let data40 = data37.requireNumbers;if(typeof data40 !== "boolean"){const err49 = {instancePath:instancePath+"/passwordPolicy/requireNumbers",schemaPath:"#/definitions/PasswordPolicy/properties/requireNumbers/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema344.properties.requireNumbers.type,parentSchema:schema344.properties.requireNumbers,data:data40};if(vErrors === null){vErrors = [err49];}else {vErrors.push(err49);}errors++;}}if(data37.requireSymbols !== undefined){let data41 = data37.requireSymbols;if(typeof data41 !== "boolean"){const err50 = {instancePath:instancePath+"/passwordPolicy/requireSymbols",schemaPath:"#/definitions/PasswordPolicy/properties/requireSymbols/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema344.properties.requireSymbols.type,parentSchema:schema344.properties.requireSymbols,data:data41};if(vErrors === null){vErrors = [err50];}else {vErrors.push(err50);}errors++;}}if(data37.requireUppercase !== undefined){let data42 = data37.requireUppercase;if(typeof data42 !== "boolean"){const err51 = {instancePath:instancePath+"/passwordPolicy/requireUppercase",schemaPath:"#/definitions/PasswordPolicy/properties/requireUppercase/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema344.properties.requireUppercase.type,parentSchema:schema344.properties.requireUppercase,data:data42};if(vErrors === null){vErrors = [err51];}else {vErrors.push(err51);}errors++;}}if(data37.temporaryPasswordValidityDays !== undefined){let data43 = data37.temporaryPasswordValidityDays;if(!(typeof data43 == "number")){const err52 = {instancePath:instancePath+"/passwordPolicy/temporaryPasswordValidityDays",schemaPath:"#/definitions/PasswordPolicy/properties/temporaryPasswordValidityDays/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema344.properties.temporaryPasswordValidityDays.type,parentSchema:schema344.properties.temporaryPasswordValidityDays,data:data43};if(vErrors === null){vErrors = [err52];}else {vErrors.push(err52);}errors++;}}}else {const err53 = {instancePath:instancePath+"/passwordPolicy",schemaPath:"#/definitions/PasswordPolicy/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema344.type,parentSchema:schema344,data:data37};if(vErrors === null){vErrors = [err53];}else {vErrors.push(err53);}errors++;}}if(data.schema !== undefined){let data44 = data.schema;if(Array.isArray(data44)){const len1 = data44.length;for(let i1=0; i1<len1; i1++){let data45 = data44[i1];if(data45 && typeof data45 == "object" && !Array.isArray(data45)){for(const key7 in data45){if(!(func2.call(schema345.properties, key7))){const err54 = {instancePath:instancePath+"/schema/" + i1,schemaPath:"#/definitions/AttributeSchema/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key7},message:"must NOT have additional properties",schema:false,parentSchema:schema345,data:data45};if(vErrors === null){vErrors = [err54];}else {vErrors.push(err54);}errors++;}}if(data45.name !== undefined){let data46 = data45.name;if(typeof data46 !== "string"){const err55 = {instancePath:instancePath+"/schema/" + i1+"/name",schemaPath:"#/definitions/AttributeSchema/properties/name/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema345.properties.name.type,parentSchema:schema345.properties.name,data:data46};if(vErrors === null){vErrors = [err55];}else {vErrors.push(err55);}errors++;}}if(data45.attributeDataType !== undefined){let data47 = data45.attributeDataType;if(typeof data47 !== "string"){const err56 = {instancePath:instancePath+"/schema/" + i1+"/attributeDataType",schemaPath:"#/definitions/AttributeSchema/properties/attributeDataType/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema345.properties.attributeDataType.type,parentSchema:schema345.properties.attributeDataType,data:data47};if(vErrors === null){vErrors = [err56];}else {vErrors.push(err56);}errors++;}}if(data45.developerOnlyAttribute !== undefined){let data48 = data45.developerOnlyAttribute;if(typeof data48 !== "boolean"){const err57 = {instancePath:instancePath+"/schema/" + i1+"/developerOnlyAttribute",schemaPath:"#/definitions/AttributeSchema/properties/developerOnlyAttribute/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema345.properties.developerOnlyAttribute.type,parentSchema:schema345.properties.developerOnlyAttribute,data:data48};if(vErrors === null){vErrors = [err57];}else {vErrors.push(err57);}errors++;}}if(data45.mutable !== undefined){let data49 = data45.mutable;if(typeof data49 !== "boolean"){const err58 = {instancePath:instancePath+"/schema/" + i1+"/mutable",schemaPath:"#/definitions/AttributeSchema/properties/mutable/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema345.properties.mutable.type,parentSchema:schema345.properties.mutable,data:data49};if(vErrors === null){vErrors = [err58];}else {vErrors.push(err58);}errors++;}}if(data45.required !== undefined){let data50 = data45.required;if(typeof data50 !== "boolean"){const err59 = {instancePath:instancePath+"/schema/" + i1+"/required",schemaPath:"#/definitions/AttributeSchema/properties/required/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema345.properties.required.type,parentSchema:schema345.properties.required,data:data50};if(vErrors === null){vErrors = [err59];}else {vErrors.push(err59);}errors++;}}if(data45.numberMaxValue !== undefined){let data51 = data45.numberMaxValue;if(!(typeof data51 == "number")){const err60 = {instancePath:instancePath+"/schema/" + i1+"/numberMaxValue",schemaPath:"#/definitions/AttributeSchema/properties/numberMaxValue/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema345.properties.numberMaxValue.type,parentSchema:schema345.properties.numberMaxValue,data:data51};if(vErrors === null){vErrors = [err60];}else {vErrors.push(err60);}errors++;}}if(data45.numberMinValue !== undefined){let data52 = data45.numberMinValue;if(!(typeof data52 == "number")){const err61 = {instancePath:instancePath+"/schema/" + i1+"/numberMinValue",schemaPath:"#/definitions/AttributeSchema/properties/numberMinValue/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema345.properties.numberMinValue.type,parentSchema:schema345.properties.numberMinValue,data:data52};if(vErrors === null){vErrors = [err61];}else {vErrors.push(err61);}errors++;}}if(data45.stringMaxLength !== undefined){let data53 = data45.stringMaxLength;if(!(typeof data53 == "number")){const err62 = {instancePath:instancePath+"/schema/" + i1+"/stringMaxLength",schemaPath:"#/definitions/AttributeSchema/properties/stringMaxLength/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema345.properties.stringMaxLength.type,parentSchema:schema345.properties.stringMaxLength,data:data53};if(vErrors === null){vErrors = [err62];}else {vErrors.push(err62);}errors++;}}if(data45.stringMinLength !== undefined){let data54 = data45.stringMinLength;if(!(typeof data54 == "number")){const err63 = {instancePath:instancePath+"/schema/" + i1+"/stringMinLength",schemaPath:"#/definitions/AttributeSchema/properties/stringMinLength/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema345.properties.stringMinLength.type,parentSchema:schema345.properties.stringMinLength,data:data54};if(vErrors === null){vErrors = [err63];}else {vErrors.push(err63);}errors++;}}}else {const err64 = {instancePath:instancePath+"/schema/" + i1,schemaPath:"#/definitions/AttributeSchema/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema345.type,parentSchema:schema345,data:data45};if(vErrors === null){vErrors = [err64];}else {vErrors.push(err64);}errors++;}}}else {const err65 = {instancePath:instancePath+"/schema",schemaPath:"#/properties/schema/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema337.properties.schema.type,parentSchema:schema337.properties.schema,data:data44};if(vErrors === null){vErrors = [err65];}else {vErrors.push(err65);}errors++;}}if(data.allowPhoneNumberAsUserName !== undefined){let data55 = data.allowPhoneNumberAsUserName;if(typeof data55 !== "boolean"){const err66 = {instancePath:instancePath+"/allowPhoneNumberAsUserName",schemaPath:"#/properties/allowPhoneNumberAsUserName/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema337.properties.allowPhoneNumberAsUserName.type,parentSchema:schema337.properties.allowPhoneNumberAsUserName,data:data55};if(vErrors === null){vErrors = [err66];}else {vErrors.push(err66);}errors++;}}if(data.allowEmailAsUserName !== undefined){let data56 = data.allowEmailAsUserName;if(typeof data56 !== "boolean"){const err67 = {instancePath:instancePath+"/allowEmailAsUserName",schemaPath:"#/properties/allowEmailAsUserName/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema337.properties.allowEmailAsUserName.type,parentSchema:schema337.properties.allowEmailAsUserName,data:data56};if(vErrors === null){vErrors = [err67];}else {vErrors.push(err67);}errors++;}}if(data.accessTokenValiditySeconds !== undefined){let data57 = data.accessTokenValiditySeconds;if(!(typeof data57 == "number")){const err68 = {instancePath:instancePath+"/accessTokenValiditySeconds",schemaPath:"#/properties/accessTokenValiditySeconds/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema337.properties.accessTokenValiditySeconds.type,parentSchema:schema337.properties.accessTokenValiditySeconds,data:data57};if(vErrors === null){vErrors = [err68];}else {vErrors.push(err68);}errors++;}}if(data.idTokenValiditySeconds !== undefined){let data58 = data.idTokenValiditySeconds;if(!(typeof data58 == "number")){const err69 = {instancePath:instancePath+"/idTokenValiditySeconds",schemaPath:"#/properties/idTokenValiditySeconds/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema337.properties.idTokenValiditySeconds.type,parentSchema:schema337.properties.idTokenValiditySeconds,data:data58};if(vErrors === null){vErrors = [err69];}else {vErrors.push(err69);}errors++;}}if(data.refreshTokenValidityDays !== undefined){let data59 = data.refreshTokenValidityDays;if(!(typeof data59 == "number")){const err70 = {instancePath:instancePath+"/refreshTokenValidityDays",schemaPath:"#/properties/refreshTokenValidityDays/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema337.properties.refreshTokenValidityDays.type,parentSchema:schema337.properties.refreshTokenValidityDays,data:data59};if(vErrors === null){vErrors = [err70];}else {vErrors.push(err70);}errors++;}}if(data.allowedOAuthFlows !== undefined){let data60 = data.allowedOAuthFlows;if(Array.isArray(data60)){const len2 = data60.length;for(let i2=0; i2<len2; i2++){let data61 = data60[i2];if(typeof data61 !== "string"){const err71 = {instancePath:instancePath+"/allowedOAuthFlows/" + i2,schemaPath:"#/definitions/AllowedOauthFlow/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema346.type,parentSchema:schema346,data:data61};if(vErrors === null){vErrors = [err71];}else {vErrors.push(err71);}errors++;}if(!(((data61 === "client_credentials") || (data61 === "code")) || (data61 === "implicit"))){const err72 = {instancePath:instancePath+"/allowedOAuthFlows/" + i2,schemaPath:"#/definitions/AllowedOauthFlow/enum",keyword:"enum",params:{allowedValues: schema346.enum},message:"must be equal to one of the allowed values",schema:schema346.enum,parentSchema:schema346,data:data61};if(vErrors === null){vErrors = [err72];}else {vErrors.push(err72);}errors++;}}}else {const err73 = {instancePath:instancePath+"/allowedOAuthFlows",schemaPath:"#/properties/allowedOAuthFlows/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema337.properties.allowedOAuthFlows.type,parentSchema:schema337.properties.allowedOAuthFlows,data:data60};if(vErrors === null){vErrors = [err73];}else {vErrors.push(err73);}errors++;}}if(data.allowedOAuthScopes !== undefined){let data62 = data.allowedOAuthScopes;if(Array.isArray(data62)){const len3 = data62.length;for(let i3=0; i3<len3; i3++){let data63 = data62[i3];if(typeof data63 !== "string"){const err74 = {instancePath:instancePath+"/allowedOAuthScopes/" + i3,schemaPath:"#/properties/allowedOAuthScopes/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema337.properties.allowedOAuthScopes.items.type,parentSchema:schema337.properties.allowedOAuthScopes.items,data:data63};if(vErrors === null){vErrors = [err74];}else {vErrors.push(err74);}errors++;}}}else {const err75 = {instancePath:instancePath+"/allowedOAuthScopes",schemaPath:"#/properties/allowedOAuthScopes/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema337.properties.allowedOAuthScopes.type,parentSchema:schema337.properties.allowedOAuthScopes,data:data62};if(vErrors === null){vErrors = [err75];}else {vErrors.push(err75);}errors++;}}if(data.callbackURLs !== undefined){let data64 = data.callbackURLs;if(Array.isArray(data64)){const len4 = data64.length;for(let i4=0; i4<len4; i4++){let data65 = data64[i4];if(typeof data65 !== "string"){const err76 = {instancePath:instancePath+"/callbackURLs/" + i4,schemaPath:"#/properties/callbackURLs/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema337.properties.callbackURLs.items.type,parentSchema:schema337.properties.callbackURLs.items,data:data65};if(vErrors === null){vErrors = [err76];}else {vErrors.push(err76);}errors++;}}}else {const err77 = {instancePath:instancePath+"/callbackURLs",schemaPath:"#/properties/callbackURLs/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema337.properties.callbackURLs.type,parentSchema:schema337.properties.callbackURLs,data:data64};if(vErrors === null){vErrors = [err77];}else {vErrors.push(err77);}errors++;}}if(data.logoutURLs !== undefined){let data66 = data.logoutURLs;if(Array.isArray(data66)){const len5 = data66.length;for(let i5=0; i5<len5; i5++){let data67 = data66[i5];if(typeof data67 !== "string"){const err78 = {instancePath:instancePath+"/logoutURLs/" + i5,schemaPath:"#/properties/logoutURLs/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema337.properties.logoutURLs.items.type,parentSchema:schema337.properties.logoutURLs.items,data:data67};if(vErrors === null){vErrors = [err78];}else {vErrors.push(err78);}errors++;}}}else {const err79 = {instancePath:instancePath+"/logoutURLs",schemaPath:"#/properties/logoutURLs/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema337.properties.logoutURLs.type,parentSchema:schema337.properties.logoutURLs,data:data66};if(vErrors === null){vErrors = [err79];}else {vErrors.push(err79);}errors++;}}if(data.identityProviders !== undefined){let data68 = data.identityProviders;if(Array.isArray(data68)){const len6 = data68.length;for(let i6=0; i6<len6; i6++){if(!(validate379(data68[i6], {instancePath:instancePath+"/identityProviders/" + i6,parentData:data68,parentDataProperty:i6,rootData}))){vErrors = vErrors === null ? validate379.errors : vErrors.concat(validate379.errors);errors = vErrors.length;}}}else {const err80 = {instancePath:instancePath+"/identityProviders",schemaPath:"#/properties/identityProviders/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema337.properties.identityProviders.type,parentSchema:schema337.properties.identityProviders,data:data68};if(vErrors === null){vErrors = [err80];}else {vErrors.push(err80);}errors++;}}if(data.useFirewall !== undefined){let data70 = data.useFirewall;if(typeof data70 !== "string"){const err81 = {instancePath:instancePath+"/useFirewall",schemaPath:"#/properties/useFirewall/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema337.properties.useFirewall.type,parentSchema:schema337.properties.useFirewall,data:data70};if(vErrors === null){vErrors = [err81];}else {vErrors.push(err81);}errors++;}}if(data.generateClientSecret !== undefined){let data71 = data.generateClientSecret;if(typeof data71 !== "boolean"){const err82 = {instancePath:instancePath+"/generateClientSecret",schemaPath:"#/properties/generateClientSecret/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema337.properties.generateClientSecret.type,parentSchema:schema337.properties.generateClientSecret,data:data71};if(vErrors === null){vErrors = [err82];}else {vErrors.push(err82);}errors++;}}if(data.allowOnlyExternalIdentityProviders !== undefined){let data72 = data.allowOnlyExternalIdentityProviders;if(typeof data72 !== "boolean"){const err83 = {instancePath:instancePath+"/allowOnlyExternalIdentityProviders",schemaPath:"#/properties/allowOnlyExternalIdentityProviders/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema337.properties.allowOnlyExternalIdentityProviders.type,parentSchema:schema337.properties.allowOnlyExternalIdentityProviders,data:data72};if(vErrors === null){vErrors = [err83];}else {vErrors.push(err83);}errors++;}}}else {const err84 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema337.type,parentSchema:schema337,data};if(vErrors === null){vErrors = [err84];}else {vErrors.push(err84);}errors++;}validate378.errors = vErrors;return errors === 0;}function validate377(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.type === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema336.required,parentSchema:schema336,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!(((key0 === "type") || (key0 === "properties")) || (key0 === "overrides"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema336,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err2 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema336.properties.type.type,parentSchema:schema336.properties.type,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}if("user-auth-pool" !== data0){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "user-auth-pool"},message:"must be equal to constant",schema:"user-auth-pool",parentSchema:schema336.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.properties !== undefined){if(!(validate378(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate378.errors : vErrors.concat(validate378.errors);errors = vErrors.length;}}if(data.overrides !== undefined){let data2 = data.overrides;if(data2 && typeof data2 == "object" && !Array.isArray(data2)){for(const key1 in data2){let data3 = data2[key1];if(data3 && typeof data3 == "object" && !Array.isArray(data3)){}else {const err4 = {instancePath:instancePath+"/overrides/" + key1.replace(/~/g, "~0").replace(/\//g, "~1"),schemaPath:"#/properties/overrides/additionalProperties/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema336.properties.overrides.additionalProperties.type,parentSchema:schema336.properties.overrides.additionalProperties,data:data3};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}}else {const err5 = {instancePath:instancePath+"/overrides",schemaPath:"#/properties/overrides/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema336.properties.overrides.type,parentSchema:schema336.properties.overrides,data:data2};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}}else {const err6 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema336.type,parentSchema:schema336,data};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}validate377.errors = vErrors;return errors === 0;}const schema349 = {"description":"#### Event Bus\n\n---\n\nAn event bus that receives events from your applications. Other services can be configured to react to events on the bus. It simplifies building event-driven architectures by decoupling event producers and consumers.\n\nFor more information, see the [AWS documentation on Amazon EventBridge](https://docs.aws.amazon.com/eventbridge/latest/userguide/eb-event-buses.html).","type":"object","properties":{"type":{"type":"string","const":"event-bus"},"properties":{"$ref":"#/definitions/EventBusProps"},"overrides":{"description":"#### Resource Overrides\n\n---\n\nOverrides properties of the underlying CloudFormation resources that Stacktape creates.\n\nChild resources are identified by their CloudFormation logical ID (e.g., `MyBucketBucket`). You can find these IDs by running `stacktape stack:info --detailed`.\n\nFor a list of properties that can be overridden, refer to the [AWS CloudFormation documentation](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html).","type":"object","additionalProperties":{"type":"object","additionalProperties":{}}}},"additionalProperties":false,"required":["type"]};const schema350 = {"type":"object","properties":{"eventSourceName":{"description":"#### Partner Event Source\n\n---\n\nThe name of the partner event source to associate with this event bus. This is only required if you are creating a partner event bus to receive events from a third-party SaaS partner.\n\nFor more details, refer to the [AWS documentation on partner event buses](https://docs.aws.amazon.com/eventbridge/latest/userguide/eb-partner-event-buses.html).","type":"string"},"archivation":{"$ref":"#/definitions/EventBusArchivation","description":"#### Event Archiving\n\n---\n\nConfigures event archiving, allowing you to store and replay past events. This is useful for testing, debugging, or recovering from errors."}},"additionalProperties":false};const schema351 = {"type":"object","properties":{"enabled":{"description":"#### Enable Archiving\n\n---\n\nIf `true`, events sent to this event bus will be archived.\n\nNote: Disabling the archive will result in its deletion.","default":false,"type":"boolean"},"retentionDays":{"description":"#### Retention Period\n\n---\n\nThe number of days to retain archived events. Default is indefinitely.","type":"number"}},"additionalProperties":false,"required":["enabled"]};function validate384(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){for(const key0 in data){if(!((key0 === "eventSourceName") || (key0 === "archivation"))){const err0 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema350,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}}if(data.eventSourceName !== undefined){let data0 = data.eventSourceName;if(typeof data0 !== "string"){const err1 = {instancePath:instancePath+"/eventSourceName",schemaPath:"#/properties/eventSourceName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema350.properties.eventSourceName.type,parentSchema:schema350.properties.eventSourceName,data:data0};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.archivation !== undefined){let data1 = data.archivation;if(data1 && typeof data1 == "object" && !Array.isArray(data1)){if(data1.enabled === undefined){const err2 = {instancePath:instancePath+"/archivation",schemaPath:"#/definitions/EventBusArchivation/required",keyword:"required",params:{missingProperty: "enabled"},message:"must have required property '"+"enabled"+"'",schema:schema351.required,parentSchema:schema351,data:data1};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}for(const key1 in data1){if(!((key1 === "enabled") || (key1 === "retentionDays"))){const err3 = {instancePath:instancePath+"/archivation",schemaPath:"#/definitions/EventBusArchivation/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema351,data:data1};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data1.enabled !== undefined){let data2 = data1.enabled;if(typeof data2 !== "boolean"){const err4 = {instancePath:instancePath+"/archivation/enabled",schemaPath:"#/definitions/EventBusArchivation/properties/enabled/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema351.properties.enabled.type,parentSchema:schema351.properties.enabled,data:data2};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data1.retentionDays !== undefined){let data3 = data1.retentionDays;if(!(typeof data3 == "number")){const err5 = {instancePath:instancePath+"/archivation/retentionDays",schemaPath:"#/definitions/EventBusArchivation/properties/retentionDays/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema351.properties.retentionDays.type,parentSchema:schema351.properties.retentionDays,data:data3};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}}else {const err6 = {instancePath:instancePath+"/archivation",schemaPath:"#/definitions/EventBusArchivation/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema351.type,parentSchema:schema351,data:data1};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}}else {const err7 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema350.type,parentSchema:schema350,data};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}validate384.errors = vErrors;return errors === 0;}function validate383(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.type === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema349.required,parentSchema:schema349,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!(((key0 === "type") || (key0 === "properties")) || (key0 === "overrides"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema349,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err2 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema349.properties.type.type,parentSchema:schema349.properties.type,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}if("event-bus" !== data0){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "event-bus"},message:"must be equal to constant",schema:"event-bus",parentSchema:schema349.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.properties !== undefined){if(!(validate384(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate384.errors : vErrors.concat(validate384.errors);errors = vErrors.length;}}if(data.overrides !== undefined){let data2 = data.overrides;if(data2 && typeof data2 == "object" && !Array.isArray(data2)){for(const key1 in data2){let data3 = data2[key1];if(data3 && typeof data3 == "object" && !Array.isArray(data3)){}else {const err4 = {instancePath:instancePath+"/overrides/" + key1.replace(/~/g, "~0").replace(/\//g, "~1"),schemaPath:"#/properties/overrides/additionalProperties/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema349.properties.overrides.additionalProperties.type,parentSchema:schema349.properties.overrides.additionalProperties,data:data3};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}}else {const err5 = {instancePath:instancePath+"/overrides",schemaPath:"#/properties/overrides/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema349.properties.overrides.type,parentSchema:schema349.properties.overrides,data:data2};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}}else {const err6 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema349.type,parentSchema:schema349,data};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}validate383.errors = vErrors;return errors === 0;}const schema352 = {"description":"#### Bastion Host\n\n---\n\nA bastion host instance that helps you access resources in your stack that are protected within a private network.\nIt leverages keyless SSH connections and tunnels for maximum security.","type":"object","properties":{"type":{"type":"string","const":"bastion"},"properties":{"$ref":"#/definitions/BastionProps"},"overrides":{"description":"#### Resource Overrides\n\n---\n\nOverrides properties of the underlying CloudFormation resources that Stacktape creates.\n\nChild resources are identified by their CloudFormation logical ID (e.g., `MyBucketBucket`). You can find these IDs by running `stacktape stack:info --detailed`.\n\nFor a list of properties that can be overridden, refer to the [AWS CloudFormation documentation](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html).","type":"object","additionalProperties":{"type":"object","additionalProperties":{}}}},"additionalProperties":false,"required":["type"]};const schema353 = {"type":"object","properties":{"instanceSize":{"description":"#### The instance size for the bastion host.\n\n---","default":"t3.micro","type":"string"},"runCommandsAtLaunch":{"description":"#### Commands to be run on the launch of the bastion instance.\n\n---\n\n- Commands are run as the `root` user (do not use `sudo`).\n- Modifying this list after the bastion host has been created will force a replacement of the instance, meaning any manually created data on the old instance will be lost.\n- Use this to install dependencies and packages that may be required for your bastion scripts.","type":"array","items":{"type":"string"}},"logging":{"$ref":"#/definitions/BastionLoggingConfig","description":"#### Configures logging for the bastion host.\n\n---\n\nMultiple log types are collected from the bastion host, and you can specify the logging behavior for each type."}},"additionalProperties":false};const schema354 = {"type":"object","properties":{"messages":{"$ref":"#/definitions/BastionLogging","description":"#### Configures logging for `/var/log/messages`.\n\n---\n\nThis log group collects global system messages, including those logged during system startup.\nBy default, these logs are retained for 30 days."},"secure":{"$ref":"#/definitions/BastionLogging","description":"#### Configures logging for `/var/log/secure`.\n\n---\n\nThis log group collects information related to authentication and authorization, such as SSH login attempts.\nBy default, these logs are retained for 180 days."},"audit":{"$ref":"#/definitions/BastionLogging","description":"#### Configures logging for `/var/log/audit/audit.log`.\n\n---\n\nThis log group contains a detailed record of security-related events generated by the Linux audit system.\nBy default, these logs are retained for 365 days."}},"additionalProperties":false};const schema355 = {"type":"object","properties":{"disabled":{"description":"#### Disables the collection of logs to CloudWatch.\n\n---","default":false,"type":"boolean"},"retentionDays":{"description":"#### The number of days to retain logs in the CloudWatch log group.","enum":[1,120,14,150,180,1827,3,30,365,3653,400,5,545,60,7,731,90],"type":"number"},"logForwarding":{"description":"#### Log Forwarding\n\n---\n\nForwards logs to a specified destination for monitoring, analysis, or long-term storage.\n\nLog forwarding is handled by an [Amazon Kinesis Data Firehose](https://aws.amazon.com/kinesis/data-firehose/) delivery stream. You will incur costs based on the volume of data transferred (approximately $0.03 per GB). For detailed pricing, see the [AWS Kinesis Firehose Pricing](https://aws.amazon.com/kinesis/data-firehose/pricing/) page.\n\nSupported destinations:\n- `http-endpoint`: Delivers logs to any HTTP endpoint that complies with [Firehose request and response specifications](https://docs.aws.amazon.com/firehose/latest/dev/httpdeliveryrequestresponse.html). Many third-party logging services are compatible out-of-the-box.\n- `datadog`: Delivers logs to [Datadog](https://www.datadoghq.com/).\n- `highlight`: Delivers logs to a [Highlight.io](https://www.highlight.io/) project.\n\nFor more information, refer to the [Stacktape documentation on log forwarding](https://docs.stacktape.com/configuration/log-forwarding/).\n\n> If logs fail to be delivered after multiple retries, they are stored in a backup S3 bucket named `{stackName}-{resourceName}-logs-{generatedHash}`. The retry duration can be configured.","anyOf":[{"$ref":"#/definitions/HttpEndpointLogForwarding"},{"$ref":"#/definitions/HighlightLogForwarding"},{"$ref":"#/definitions/DatadogLogForwarding"}]}},"additionalProperties":false};function validate390(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){for(const key0 in data){if(!(((key0 === "disabled") || (key0 === "retentionDays")) || (key0 === "logForwarding"))){const err0 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema355,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}}if(data.disabled !== undefined){let data0 = data.disabled;if(typeof data0 !== "boolean"){const err1 = {instancePath:instancePath+"/disabled",schemaPath:"#/properties/disabled/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema355.properties.disabled.type,parentSchema:schema355.properties.disabled,data:data0};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.retentionDays !== undefined){let data1 = data.retentionDays;if(!(typeof data1 == "number")){const err2 = {instancePath:instancePath+"/retentionDays",schemaPath:"#/properties/retentionDays/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema355.properties.retentionDays.type,parentSchema:schema355.properties.retentionDays,data:data1};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}if(!(((((((((((((((((data1 === 1) || (data1 === 120)) || (data1 === 14)) || (data1 === 150)) || (data1 === 180)) || (data1 === 1827)) || (data1 === 3)) || (data1 === 30)) || (data1 === 365)) || (data1 === 3653)) || (data1 === 400)) || (data1 === 5)) || (data1 === 545)) || (data1 === 60)) || (data1 === 7)) || (data1 === 731)) || (data1 === 90))){const err3 = {instancePath:instancePath+"/retentionDays",schemaPath:"#/properties/retentionDays/enum",keyword:"enum",params:{allowedValues: schema355.properties.retentionDays.enum},message:"must be equal to one of the allowed values",schema:schema355.properties.retentionDays.enum,parentSchema:schema355.properties.retentionDays,data:data1};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.logForwarding !== undefined){let data2 = data.logForwarding;const _errs7 = errors;let valid1 = false;const _errs8 = errors;if(!(validate80(data2, {instancePath:instancePath+"/logForwarding",parentData:data,parentDataProperty:"logForwarding",rootData}))){vErrors = vErrors === null ? validate80.errors : vErrors.concat(validate80.errors);errors = vErrors.length;}var _valid0 = _errs8 === errors;valid1 = valid1 || _valid0;if(!valid1){const _errs9 = errors;if(!(validate82(data2, {instancePath:instancePath+"/logForwarding",parentData:data,parentDataProperty:"logForwarding",rootData}))){vErrors = vErrors === null ? validate82.errors : vErrors.concat(validate82.errors);errors = vErrors.length;}var _valid0 = _errs9 === errors;valid1 = valid1 || _valid0;if(!valid1){const _errs10 = errors;if(!(validate84(data2, {instancePath:instancePath+"/logForwarding",parentData:data,parentDataProperty:"logForwarding",rootData}))){vErrors = vErrors === null ? validate84.errors : vErrors.concat(validate84.errors);errors = vErrors.length;}var _valid0 = _errs10 === errors;valid1 = valid1 || _valid0;}}if(!valid1){const err4 = {instancePath:instancePath+"/logForwarding",schemaPath:"#/properties/logForwarding/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:schema355.properties.logForwarding.anyOf,parentSchema:schema355.properties.logForwarding,data:data2};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}else {errors = _errs7;if(vErrors !== null){if(_errs7){vErrors.length = _errs7;}else {vErrors = null;}}}}}else {const err5 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema355.type,parentSchema:schema355,data};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}validate390.errors = vErrors;return errors === 0;}function validate389(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){for(const key0 in data){if(!(((key0 === "messages") || (key0 === "secure")) || (key0 === "audit"))){const err0 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema354,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}}if(data.messages !== undefined){if(!(validate390(data.messages, {instancePath:instancePath+"/messages",parentData:data,parentDataProperty:"messages",rootData}))){vErrors = vErrors === null ? validate390.errors : vErrors.concat(validate390.errors);errors = vErrors.length;}}if(data.secure !== undefined){if(!(validate390(data.secure, {instancePath:instancePath+"/secure",parentData:data,parentDataProperty:"secure",rootData}))){vErrors = vErrors === null ? validate390.errors : vErrors.concat(validate390.errors);errors = vErrors.length;}}if(data.audit !== undefined){if(!(validate390(data.audit, {instancePath:instancePath+"/audit",parentData:data,parentDataProperty:"audit",rootData}))){vErrors = vErrors === null ? validate390.errors : vErrors.concat(validate390.errors);errors = vErrors.length;}}}else {const err1 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema354.type,parentSchema:schema354,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}validate389.errors = vErrors;return errors === 0;}function validate388(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){for(const key0 in data){if(!(((key0 === "instanceSize") || (key0 === "runCommandsAtLaunch")) || (key0 === "logging"))){const err0 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema353,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}}if(data.instanceSize !== undefined){let data0 = data.instanceSize;if(typeof data0 !== "string"){const err1 = {instancePath:instancePath+"/instanceSize",schemaPath:"#/properties/instanceSize/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema353.properties.instanceSize.type,parentSchema:schema353.properties.instanceSize,data:data0};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.runCommandsAtLaunch !== undefined){let data1 = data.runCommandsAtLaunch;if(Array.isArray(data1)){const len0 = data1.length;for(let i0=0; i0<len0; i0++){let data2 = data1[i0];if(typeof data2 !== "string"){const err2 = {instancePath:instancePath+"/runCommandsAtLaunch/" + i0,schemaPath:"#/properties/runCommandsAtLaunch/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema353.properties.runCommandsAtLaunch.items.type,parentSchema:schema353.properties.runCommandsAtLaunch.items,data:data2};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}}else {const err3 = {instancePath:instancePath+"/runCommandsAtLaunch",schemaPath:"#/properties/runCommandsAtLaunch/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema353.properties.runCommandsAtLaunch.type,parentSchema:schema353.properties.runCommandsAtLaunch,data:data1};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.logging !== undefined){if(!(validate389(data.logging, {instancePath:instancePath+"/logging",parentData:data,parentDataProperty:"logging",rootData}))){vErrors = vErrors === null ? validate389.errors : vErrors.concat(validate389.errors);errors = vErrors.length;}}}else {const err4 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema353.type,parentSchema:schema353,data};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}validate388.errors = vErrors;return errors === 0;}function validate387(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.type === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema352.required,parentSchema:schema352,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!(((key0 === "type") || (key0 === "properties")) || (key0 === "overrides"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema352,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err2 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema352.properties.type.type,parentSchema:schema352.properties.type,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}if("bastion" !== data0){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "bastion"},message:"must be equal to constant",schema:"bastion",parentSchema:schema352.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.properties !== undefined){if(!(validate388(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate388.errors : vErrors.concat(validate388.errors);errors = vErrors.length;}}if(data.overrides !== undefined){let data2 = data.overrides;if(data2 && typeof data2 == "object" && !Array.isArray(data2)){for(const key1 in data2){let data3 = data2[key1];if(data3 && typeof data3 == "object" && !Array.isArray(data3)){}else {const err4 = {instancePath:instancePath+"/overrides/" + key1.replace(/~/g, "~0").replace(/\//g, "~1"),schemaPath:"#/properties/overrides/additionalProperties/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema352.properties.overrides.additionalProperties.type,parentSchema:schema352.properties.overrides.additionalProperties,data:data3};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}}else {const err5 = {instancePath:instancePath+"/overrides",schemaPath:"#/properties/overrides/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema352.properties.overrides.type,parentSchema:schema352.properties.overrides,data:data2};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}}else {const err6 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema352.type,parentSchema:schema352,data};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}validate387.errors = vErrors;return errors === 0;}const schema356 = {"description":"#### DynamoDB Table\n\n---\n\nA fully managed, serverless, and highly available key-value and document database that delivers single-digit millisecond performance at any scale.","type":"object","properties":{"type":{"type":"string","const":"dynamo-db-table"},"properties":{"$ref":"#/definitions/DynamoDbTableProps"},"overrides":{"description":"#### Resource Overrides\n\n---\n\nOverrides properties of the underlying CloudFormation resources that Stacktape creates.\n\nChild resources are identified by their CloudFormation logical ID (e.g., `MyBucketBucket`). You can find these IDs by running `stacktape stack:info --detailed`.\n\nFor a list of properties that can be overridden, refer to the [AWS CloudFormation documentation](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html).","type":"object","additionalProperties":{"type":"object","additionalProperties":{}}}},"additionalProperties":false,"required":["properties","type"]};const schema357 = {"type":"object","properties":{"primaryKey":{"$ref":"#/definitions/DynamoDbTablePrimaryKey","description":"#### Configures the primary key for the table.\n\n---\n\nThe primary key uniquely identifies each item in the table. Two types of primary keys are supported:\n\n- **Simple primary key**: Composed of one attribute, the `partitionKey`.\n- **Composite primary key**: Composed of two attributes, the `partitionKey` and the `sortKey`.\n\nThe primary key cannot be modified after the table is created, and each item in the table must include the primary key attribute(s).\n\nFor more details, see the [AWS documentation on primary keys](https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/HowItWorks.CoreComponents.html#HowItWorks.CoreComponents.PrimaryKey)."},"provisionedThroughput":{"$ref":"#/definitions/DynamoDbProvisionedThroughput","description":"#### Configures the read and write throughput capabilities of the table.\n\n---\n\n- **Provisioned mode**: If you specify `provisionedThroughput`, you must set the read and write capacity for your table. This can provide cost predictability but may not handle unpredictable loads.\n- **On-demand mode**: If `provisionedThroughput` is not configured, the table runs in on-demand mode, and you pay only for what you use.\n\nFor more details on the differences between these modes, see the [AWS documentation](https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/HowItWorks.ReadWriteCapacityMode.html)."},"enablePointInTimeRecovery":{"description":"#### Enables continuous backups with point-in-time recovery.\n\n---\n\nPoint-in-time recovery allows you to restore a table to any point in time within the last 35 days.\nThe recovery process always restores the data to a new table.\n\nEnabling this feature may result in additional charges. For more details, see the [AWS DynamoDB pricing page](https://aws.amazon.com/dynamodb/pricing/on-demand/#DynamoDB_detailed_feature_pricing).","type":"boolean"},"streamType":{"description":"#### Enables streaming of item changes and configures the stream type.\n\n---\n\nThe stream type determines what information is written to the stream when an item in the table is modified.\nStreams can be consumed by [functions](https://docs.stacktape.com/compute-resources/lambda-functions/#dynamo-db-stream-event) and [batch jobs](https://docs.stacktape.com/compute-resources/batch-jobs/#dynamo-db-event).\n\nAllowed values are:\n- `KEYS_ONLY`: Only the key attributes of the modified item are written to the stream.\n- `NEW_IMAGE`: The entire item, as it appears after it was modified, is written to the stream.\n- `OLD_IMAGE`: The entire item, as it appeared before it was modified, is written to the stream.\n- `NEW_AND_OLD_IMAGES`: Both the new and old images of the item are written to the stream.","enum":["KEYS_ONLY","NEW_AND_OLD_IMAGES","NEW_IMAGE","OLD_IMAGE"],"type":"string"},"secondaryIndexes":{"description":"#### A list of global secondary indexes for this table.\n\n---\n\nBy default, you can only query items in a DynamoDB table based on primary key attributes.\nGlobal secondary indexes allow you to perform queries using a variety of different attributes.\n\nFor more details, see the [AWS documentation on secondary indexes](https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/GSI.html).","type":"array","items":{"$ref":"#/definitions/DynamoDbTableGlobalSecondaryIndex"}},"dev":{"$ref":"#/definitions/DevModeConfig","description":"#### Dev Mode Configuration\n\n---\n\nConfigures how this DynamoDB table behaves during `stacktape dev` mode.\nBy default, DynamoDB runs locally using Docker. Set `dev.remote: true` to connect to the deployed AWS DynamoDB table instead."}},"additionalProperties":false,"required":["primaryKey"]};const schema358 = {"type":"object","properties":{"partitionKey":{"$ref":"#/definitions/DynamoDbAttribute","description":"#### Specifies the partition key for the table.\n\n---\n\nIf a table has only a `partitionKey` and no `sortKey`, no two items can have the same partition key.\nDynamoDB uses the partition key's value as input to an internal hash function, which determines the partition (physical storage) where the item is stored."},"sortKey":{"$ref":"#/definitions/DynamoDbAttribute","description":"#### Specifies the sort key for the table.\n\n---\n\nUsing a `sortKey` provides additional flexibility when querying data.\nIn a table with a `partitionKey` and a `sortKey`, multiple items can have the same partition key, but they must have different sort key values.\nAll items with the same partition key are stored together, sorted by the sort key value."}},"additionalProperties":false,"required":["partitionKey"]};const schema359 = {"type":"object","properties":{"name":{"description":"#### The name of the attribute that will be used as a key.","type":"string"},"type":{"description":"#### The type of the attribute that will be used as a key.","enum":["binary","number","string"],"type":"string"}},"additionalProperties":false,"required":["name","type"]};function validate402(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.partitionKey === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "partitionKey"},message:"must have required property '"+"partitionKey"+"'",schema:schema358.required,parentSchema:schema358,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!((key0 === "partitionKey") || (key0 === "sortKey"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema358,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.partitionKey !== undefined){let data0 = data.partitionKey;if(data0 && typeof data0 == "object" && !Array.isArray(data0)){if(data0.name === undefined){const err2 = {instancePath:instancePath+"/partitionKey",schemaPath:"#/definitions/DynamoDbAttribute/required",keyword:"required",params:{missingProperty: "name"},message:"must have required property '"+"name"+"'",schema:schema359.required,parentSchema:schema359,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}if(data0.type === undefined){const err3 = {instancePath:instancePath+"/partitionKey",schemaPath:"#/definitions/DynamoDbAttribute/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema359.required,parentSchema:schema359,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}for(const key1 in data0){if(!((key1 === "name") || (key1 === "type"))){const err4 = {instancePath:instancePath+"/partitionKey",schemaPath:"#/definitions/DynamoDbAttribute/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema359,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data0.name !== undefined){let data1 = data0.name;if(typeof data1 !== "string"){const err5 = {instancePath:instancePath+"/partitionKey/name",schemaPath:"#/definitions/DynamoDbAttribute/properties/name/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema359.properties.name.type,parentSchema:schema359.properties.name,data:data1};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data0.type !== undefined){let data2 = data0.type;if(typeof data2 !== "string"){const err6 = {instancePath:instancePath+"/partitionKey/type",schemaPath:"#/definitions/DynamoDbAttribute/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema359.properties.type.type,parentSchema:schema359.properties.type,data:data2};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}if(!(((data2 === "binary") || (data2 === "number")) || (data2 === "string"))){const err7 = {instancePath:instancePath+"/partitionKey/type",schemaPath:"#/definitions/DynamoDbAttribute/properties/type/enum",keyword:"enum",params:{allowedValues: schema359.properties.type.enum},message:"must be equal to one of the allowed values",schema:schema359.properties.type.enum,parentSchema:schema359.properties.type,data:data2};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}}else {const err8 = {instancePath:instancePath+"/partitionKey",schemaPath:"#/definitions/DynamoDbAttribute/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema359.type,parentSchema:schema359,data:data0};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}if(data.sortKey !== undefined){let data3 = data.sortKey;if(data3 && typeof data3 == "object" && !Array.isArray(data3)){if(data3.name === undefined){const err9 = {instancePath:instancePath+"/sortKey",schemaPath:"#/definitions/DynamoDbAttribute/required",keyword:"required",params:{missingProperty: "name"},message:"must have required property '"+"name"+"'",schema:schema359.required,parentSchema:schema359,data:data3};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}if(data3.type === undefined){const err10 = {instancePath:instancePath+"/sortKey",schemaPath:"#/definitions/DynamoDbAttribute/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema359.required,parentSchema:schema359,data:data3};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}for(const key2 in data3){if(!((key2 === "name") || (key2 === "type"))){const err11 = {instancePath:instancePath+"/sortKey",schemaPath:"#/definitions/DynamoDbAttribute/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key2},message:"must NOT have additional properties",schema:false,parentSchema:schema359,data:data3};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}if(data3.name !== undefined){let data4 = data3.name;if(typeof data4 !== "string"){const err12 = {instancePath:instancePath+"/sortKey/name",schemaPath:"#/definitions/DynamoDbAttribute/properties/name/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema359.properties.name.type,parentSchema:schema359.properties.name,data:data4};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}if(data3.type !== undefined){let data5 = data3.type;if(typeof data5 !== "string"){const err13 = {instancePath:instancePath+"/sortKey/type",schemaPath:"#/definitions/DynamoDbAttribute/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema359.properties.type.type,parentSchema:schema359.properties.type,data:data5};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}if(!(((data5 === "binary") || (data5 === "number")) || (data5 === "string"))){const err14 = {instancePath:instancePath+"/sortKey/type",schemaPath:"#/definitions/DynamoDbAttribute/properties/type/enum",keyword:"enum",params:{allowedValues: schema359.properties.type.enum},message:"must be equal to one of the allowed values",schema:schema359.properties.type.enum,parentSchema:schema359.properties.type,data:data5};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}}}else {const err15 = {instancePath:instancePath+"/sortKey",schemaPath:"#/definitions/DynamoDbAttribute/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema359.type,parentSchema:schema359,data:data3};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}}}else {const err16 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema358.type,parentSchema:schema358,data};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}validate402.errors = vErrors;return errors === 0;}const schema361 = {"type":"object","properties":{"readUnits":{"description":"#### The number of read units available per second.\n\n---\n\nEach read unit represents either:\n- One strongly consistent read\n- Two eventually consistent reads\n\nThis applies to items up to 4 KB in size. Reading larger items will consume additional read capacity units.\nIf you exceed the provisioned read capacity, you will receive a `ThrottlingException`.","type":"number"},"writeUnits":{"description":"#### The number of write units available per second.\n\n---\n\nOne write unit represents one write per second for an item up to 1 KB in size.\nWriting larger items will consume additional write capacity units.\nIf you exceed the provisioned write capacity, you will receive a `ThrottlingException`.","type":"number"},"writeScaling":{"$ref":"#/definitions/DynamoDbWriteScaling","description":"#### Auto-scaling configuration for write units.\n\n---\n\nEven in provisioned mode, you can configure throughput to scale based on load.\nThe table throughput scales up or down once the specified thresholds are met.\n\nFor more details, see [this detailed AWS article](https://aws.amazon.com/blogs/database/amazon-dynamodb-auto-scaling-performance-and-cost-optimization-at-any-scale/)."},"readScaling":{"$ref":"#/definitions/DynamoDbReadScaling","description":"#### Auto-scaling configuration for read units.\n\n---\n\nEven in provisioned mode, you can configure throughput to scale based on load.\nThe table throughput scales up or down once the specified thresholds are met.\n\nFor more details, see [this detailed AWS article](https://aws.amazon.com/blogs/database/amazon-dynamodb-auto-scaling-performance-and-cost-optimization-at-any-scale/)."}},"additionalProperties":false,"required":["readUnits","writeUnits"]};const schema362 = {"type":"object","properties":{"minUnits":{"description":"#### The minimum number of provisioned write units per second.\n\n---\n\nThe available write units will never scale down below this threshold.","type":"number"},"maxUnits":{"description":"#### The maximum number of provisioned write units per second that the table can scale up to.\n\n---\n\nThe available write units will never scale up above this threshold.","type":"number"},"keepUtilizationUnder":{"description":"#### The target utilization percentage for scaling.\n\n---\n\nIf the table's consumed write capacity exceeds (or falls below) your target utilization for a sustained period, the provisioned capacity will be increased (or decreased).","type":"number"}},"additionalProperties":false,"required":["keepUtilizationUnder","maxUnits","minUnits"]};const schema363 = {"type":"object","properties":{"minUnits":{"description":"#### The minimum number of provisioned read units per second.\n\n---\n\nThe available read units will never scale down below this threshold.","type":"number"},"maxUnits":{"description":"#### The maximum number of provisioned read units per second that the table can scale up to.\n\n---\n\nThe available read units will never scale up above this threshold.","type":"number"},"keepUtilizationUnder":{"description":"#### The target utilization percentage for scaling.\n\n---\n\nIf the table's consumed read capacity exceeds (or falls below) your target utilization for a sustained period, the provisioned capacity will be increased (or decreased).","type":"number"}},"additionalProperties":false,"required":["keepUtilizationUnder","maxUnits","minUnits"]};function validate404(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.readUnits === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "readUnits"},message:"must have required property '"+"readUnits"+"'",schema:schema361.required,parentSchema:schema361,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.writeUnits === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "writeUnits"},message:"must have required property '"+"writeUnits"+"'",schema:schema361.required,parentSchema:schema361,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((((key0 === "readUnits") || (key0 === "writeUnits")) || (key0 === "writeScaling")) || (key0 === "readScaling"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema361,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.readUnits !== undefined){let data0 = data.readUnits;if(!(typeof data0 == "number")){const err3 = {instancePath:instancePath+"/readUnits",schemaPath:"#/properties/readUnits/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema361.properties.readUnits.type,parentSchema:schema361.properties.readUnits,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.writeUnits !== undefined){let data1 = data.writeUnits;if(!(typeof data1 == "number")){const err4 = {instancePath:instancePath+"/writeUnits",schemaPath:"#/properties/writeUnits/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema361.properties.writeUnits.type,parentSchema:schema361.properties.writeUnits,data:data1};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.writeScaling !== undefined){let data2 = data.writeScaling;if(data2 && typeof data2 == "object" && !Array.isArray(data2)){if(data2.keepUtilizationUnder === undefined){const err5 = {instancePath:instancePath+"/writeScaling",schemaPath:"#/definitions/DynamoDbWriteScaling/required",keyword:"required",params:{missingProperty: "keepUtilizationUnder"},message:"must have required property '"+"keepUtilizationUnder"+"'",schema:schema362.required,parentSchema:schema362,data:data2};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}if(data2.maxUnits === undefined){const err6 = {instancePath:instancePath+"/writeScaling",schemaPath:"#/definitions/DynamoDbWriteScaling/required",keyword:"required",params:{missingProperty: "maxUnits"},message:"must have required property '"+"maxUnits"+"'",schema:schema362.required,parentSchema:schema362,data:data2};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}if(data2.minUnits === undefined){const err7 = {instancePath:instancePath+"/writeScaling",schemaPath:"#/definitions/DynamoDbWriteScaling/required",keyword:"required",params:{missingProperty: "minUnits"},message:"must have required property '"+"minUnits"+"'",schema:schema362.required,parentSchema:schema362,data:data2};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}for(const key1 in data2){if(!(((key1 === "minUnits") || (key1 === "maxUnits")) || (key1 === "keepUtilizationUnder"))){const err8 = {instancePath:instancePath+"/writeScaling",schemaPath:"#/definitions/DynamoDbWriteScaling/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema362,data:data2};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}if(data2.minUnits !== undefined){let data3 = data2.minUnits;if(!(typeof data3 == "number")){const err9 = {instancePath:instancePath+"/writeScaling/minUnits",schemaPath:"#/definitions/DynamoDbWriteScaling/properties/minUnits/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema362.properties.minUnits.type,parentSchema:schema362.properties.minUnits,data:data3};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(data2.maxUnits !== undefined){let data4 = data2.maxUnits;if(!(typeof data4 == "number")){const err10 = {instancePath:instancePath+"/writeScaling/maxUnits",schemaPath:"#/definitions/DynamoDbWriteScaling/properties/maxUnits/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema362.properties.maxUnits.type,parentSchema:schema362.properties.maxUnits,data:data4};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data2.keepUtilizationUnder !== undefined){let data5 = data2.keepUtilizationUnder;if(!(typeof data5 == "number")){const err11 = {instancePath:instancePath+"/writeScaling/keepUtilizationUnder",schemaPath:"#/definitions/DynamoDbWriteScaling/properties/keepUtilizationUnder/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema362.properties.keepUtilizationUnder.type,parentSchema:schema362.properties.keepUtilizationUnder,data:data5};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}}else {const err12 = {instancePath:instancePath+"/writeScaling",schemaPath:"#/definitions/DynamoDbWriteScaling/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema362.type,parentSchema:schema362,data:data2};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}if(data.readScaling !== undefined){let data6 = data.readScaling;if(data6 && typeof data6 == "object" && !Array.isArray(data6)){if(data6.keepUtilizationUnder === undefined){const err13 = {instancePath:instancePath+"/readScaling",schemaPath:"#/definitions/DynamoDbReadScaling/required",keyword:"required",params:{missingProperty: "keepUtilizationUnder"},message:"must have required property '"+"keepUtilizationUnder"+"'",schema:schema363.required,parentSchema:schema363,data:data6};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}if(data6.maxUnits === undefined){const err14 = {instancePath:instancePath+"/readScaling",schemaPath:"#/definitions/DynamoDbReadScaling/required",keyword:"required",params:{missingProperty: "maxUnits"},message:"must have required property '"+"maxUnits"+"'",schema:schema363.required,parentSchema:schema363,data:data6};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}if(data6.minUnits === undefined){const err15 = {instancePath:instancePath+"/readScaling",schemaPath:"#/definitions/DynamoDbReadScaling/required",keyword:"required",params:{missingProperty: "minUnits"},message:"must have required property '"+"minUnits"+"'",schema:schema363.required,parentSchema:schema363,data:data6};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}for(const key2 in data6){if(!(((key2 === "minUnits") || (key2 === "maxUnits")) || (key2 === "keepUtilizationUnder"))){const err16 = {instancePath:instancePath+"/readScaling",schemaPath:"#/definitions/DynamoDbReadScaling/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key2},message:"must NOT have additional properties",schema:false,parentSchema:schema363,data:data6};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}}if(data6.minUnits !== undefined){let data7 = data6.minUnits;if(!(typeof data7 == "number")){const err17 = {instancePath:instancePath+"/readScaling/minUnits",schemaPath:"#/definitions/DynamoDbReadScaling/properties/minUnits/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema363.properties.minUnits.type,parentSchema:schema363.properties.minUnits,data:data7};if(vErrors === null){vErrors = [err17];}else {vErrors.push(err17);}errors++;}}if(data6.maxUnits !== undefined){let data8 = data6.maxUnits;if(!(typeof data8 == "number")){const err18 = {instancePath:instancePath+"/readScaling/maxUnits",schemaPath:"#/definitions/DynamoDbReadScaling/properties/maxUnits/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema363.properties.maxUnits.type,parentSchema:schema363.properties.maxUnits,data:data8};if(vErrors === null){vErrors = [err18];}else {vErrors.push(err18);}errors++;}}if(data6.keepUtilizationUnder !== undefined){let data9 = data6.keepUtilizationUnder;if(!(typeof data9 == "number")){const err19 = {instancePath:instancePath+"/readScaling/keepUtilizationUnder",schemaPath:"#/definitions/DynamoDbReadScaling/properties/keepUtilizationUnder/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema363.properties.keepUtilizationUnder.type,parentSchema:schema363.properties.keepUtilizationUnder,data:data9};if(vErrors === null){vErrors = [err19];}else {vErrors.push(err19);}errors++;}}}else {const err20 = {instancePath:instancePath+"/readScaling",schemaPath:"#/definitions/DynamoDbReadScaling/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema363.type,parentSchema:schema363,data:data6};if(vErrors === null){vErrors = [err20];}else {vErrors.push(err20);}errors++;}}}else {const err21 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema361.type,parentSchema:schema361,data};if(vErrors === null){vErrors = [err21];}else {vErrors.push(err21);}errors++;}validate404.errors = vErrors;return errors === 0;}const schema364 = {"type":"object","properties":{"name":{"description":"#### The name of the index.","type":"string"},"partitionKey":{"$ref":"#/definitions/DynamoDbAttribute","description":"#### Specifies the partition key for the index.\n\n---\n\nDynamoDB uses the partition key's value as input to an internal hash function, which determines the partition where the item is stored."},"sortKey":{"$ref":"#/definitions/DynamoDbAttribute","description":"#### Specifies the sort key for the index.\n\n---\n\nUsing a `sortKey` provides additional flexibility when querying data.\nIn an index with a `partitionKey` and a `sortKey`, multiple items can have the same partition key, but they must have different sort key values."},"projections":{"description":"#### A list of attributes that are copied from the table into the global secondary index.\n\n---\n\nWhen querying a secondary index, you can only access attributes that are projected into it.\nBy default, the table's primary key (partition key and sort key) is projected into the index.","type":"array","items":{"type":"string"}}},"additionalProperties":false,"required":["name","partitionKey"]};function validate406(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.name === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "name"},message:"must have required property '"+"name"+"'",schema:schema364.required,parentSchema:schema364,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.partitionKey === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "partitionKey"},message:"must have required property '"+"partitionKey"+"'",schema:schema364.required,parentSchema:schema364,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((((key0 === "name") || (key0 === "partitionKey")) || (key0 === "sortKey")) || (key0 === "projections"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema364,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.name !== undefined){let data0 = data.name;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/name",schemaPath:"#/properties/name/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema364.properties.name.type,parentSchema:schema364.properties.name,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.partitionKey !== undefined){let data1 = data.partitionKey;if(data1 && typeof data1 == "object" && !Array.isArray(data1)){if(data1.name === undefined){const err4 = {instancePath:instancePath+"/partitionKey",schemaPath:"#/definitions/DynamoDbAttribute/required",keyword:"required",params:{missingProperty: "name"},message:"must have required property '"+"name"+"'",schema:schema359.required,parentSchema:schema359,data:data1};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}if(data1.type === undefined){const err5 = {instancePath:instancePath+"/partitionKey",schemaPath:"#/definitions/DynamoDbAttribute/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema359.required,parentSchema:schema359,data:data1};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}for(const key1 in data1){if(!((key1 === "name") || (key1 === "type"))){const err6 = {instancePath:instancePath+"/partitionKey",schemaPath:"#/definitions/DynamoDbAttribute/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema359,data:data1};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data1.name !== undefined){let data2 = data1.name;if(typeof data2 !== "string"){const err7 = {instancePath:instancePath+"/partitionKey/name",schemaPath:"#/definitions/DynamoDbAttribute/properties/name/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema359.properties.name.type,parentSchema:schema359.properties.name,data:data2};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data1.type !== undefined){let data3 = data1.type;if(typeof data3 !== "string"){const err8 = {instancePath:instancePath+"/partitionKey/type",schemaPath:"#/definitions/DynamoDbAttribute/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema359.properties.type.type,parentSchema:schema359.properties.type,data:data3};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}if(!(((data3 === "binary") || (data3 === "number")) || (data3 === "string"))){const err9 = {instancePath:instancePath+"/partitionKey/type",schemaPath:"#/definitions/DynamoDbAttribute/properties/type/enum",keyword:"enum",params:{allowedValues: schema359.properties.type.enum},message:"must be equal to one of the allowed values",schema:schema359.properties.type.enum,parentSchema:schema359.properties.type,data:data3};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}}else {const err10 = {instancePath:instancePath+"/partitionKey",schemaPath:"#/definitions/DynamoDbAttribute/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema359.type,parentSchema:schema359,data:data1};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data.sortKey !== undefined){let data4 = data.sortKey;if(data4 && typeof data4 == "object" && !Array.isArray(data4)){if(data4.name === undefined){const err11 = {instancePath:instancePath+"/sortKey",schemaPath:"#/definitions/DynamoDbAttribute/required",keyword:"required",params:{missingProperty: "name"},message:"must have required property '"+"name"+"'",schema:schema359.required,parentSchema:schema359,data:data4};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}if(data4.type === undefined){const err12 = {instancePath:instancePath+"/sortKey",schemaPath:"#/definitions/DynamoDbAttribute/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema359.required,parentSchema:schema359,data:data4};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}for(const key2 in data4){if(!((key2 === "name") || (key2 === "type"))){const err13 = {instancePath:instancePath+"/sortKey",schemaPath:"#/definitions/DynamoDbAttribute/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key2},message:"must NOT have additional properties",schema:false,parentSchema:schema359,data:data4};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}if(data4.name !== undefined){let data5 = data4.name;if(typeof data5 !== "string"){const err14 = {instancePath:instancePath+"/sortKey/name",schemaPath:"#/definitions/DynamoDbAttribute/properties/name/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema359.properties.name.type,parentSchema:schema359.properties.name,data:data5};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}}if(data4.type !== undefined){let data6 = data4.type;if(typeof data6 !== "string"){const err15 = {instancePath:instancePath+"/sortKey/type",schemaPath:"#/definitions/DynamoDbAttribute/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema359.properties.type.type,parentSchema:schema359.properties.type,data:data6};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}if(!(((data6 === "binary") || (data6 === "number")) || (data6 === "string"))){const err16 = {instancePath:instancePath+"/sortKey/type",schemaPath:"#/definitions/DynamoDbAttribute/properties/type/enum",keyword:"enum",params:{allowedValues: schema359.properties.type.enum},message:"must be equal to one of the allowed values",schema:schema359.properties.type.enum,parentSchema:schema359.properties.type,data:data6};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}}}else {const err17 = {instancePath:instancePath+"/sortKey",schemaPath:"#/definitions/DynamoDbAttribute/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema359.type,parentSchema:schema359,data:data4};if(vErrors === null){vErrors = [err17];}else {vErrors.push(err17);}errors++;}}if(data.projections !== undefined){let data7 = data.projections;if(Array.isArray(data7)){const len0 = data7.length;for(let i0=0; i0<len0; i0++){let data8 = data7[i0];if(typeof data8 !== "string"){const err18 = {instancePath:instancePath+"/projections/" + i0,schemaPath:"#/properties/projections/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema364.properties.projections.items.type,parentSchema:schema364.properties.projections.items,data:data8};if(vErrors === null){vErrors = [err18];}else {vErrors.push(err18);}errors++;}}}else {const err19 = {instancePath:instancePath+"/projections",schemaPath:"#/properties/projections/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema364.properties.projections.type,parentSchema:schema364.properties.projections,data:data7};if(vErrors === null){vErrors = [err19];}else {vErrors.push(err19);}errors++;}}}else {const err20 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema364.type,parentSchema:schema364,data};if(vErrors === null){vErrors = [err20];}else {vErrors.push(err20);}errors++;}validate406.errors = vErrors;return errors === 0;}function validate401(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.primaryKey === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "primaryKey"},message:"must have required property '"+"primaryKey"+"'",schema:schema357.required,parentSchema:schema357,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!((((((key0 === "primaryKey") || (key0 === "provisionedThroughput")) || (key0 === "enablePointInTimeRecovery")) || (key0 === "streamType")) || (key0 === "secondaryIndexes")) || (key0 === "dev"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema357,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.primaryKey !== undefined){if(!(validate402(data.primaryKey, {instancePath:instancePath+"/primaryKey",parentData:data,parentDataProperty:"primaryKey",rootData}))){vErrors = vErrors === null ? validate402.errors : vErrors.concat(validate402.errors);errors = vErrors.length;}}if(data.provisionedThroughput !== undefined){if(!(validate404(data.provisionedThroughput, {instancePath:instancePath+"/provisionedThroughput",parentData:data,parentDataProperty:"provisionedThroughput",rootData}))){vErrors = vErrors === null ? validate404.errors : vErrors.concat(validate404.errors);errors = vErrors.length;}}if(data.enablePointInTimeRecovery !== undefined){let data2 = data.enablePointInTimeRecovery;if(typeof data2 !== "boolean"){const err2 = {instancePath:instancePath+"/enablePointInTimeRecovery",schemaPath:"#/properties/enablePointInTimeRecovery/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema357.properties.enablePointInTimeRecovery.type,parentSchema:schema357.properties.enablePointInTimeRecovery,data:data2};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.streamType !== undefined){let data3 = data.streamType;if(typeof data3 !== "string"){const err3 = {instancePath:instancePath+"/streamType",schemaPath:"#/properties/streamType/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema357.properties.streamType.type,parentSchema:schema357.properties.streamType,data:data3};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if(!((((data3 === "KEYS_ONLY") || (data3 === "NEW_AND_OLD_IMAGES")) || (data3 === "NEW_IMAGE")) || (data3 === "OLD_IMAGE"))){const err4 = {instancePath:instancePath+"/streamType",schemaPath:"#/properties/streamType/enum",keyword:"enum",params:{allowedValues: schema357.properties.streamType.enum},message:"must be equal to one of the allowed values",schema:schema357.properties.streamType.enum,parentSchema:schema357.properties.streamType,data:data3};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.secondaryIndexes !== undefined){let data4 = data.secondaryIndexes;if(Array.isArray(data4)){const len0 = data4.length;for(let i0=0; i0<len0; i0++){if(!(validate406(data4[i0], {instancePath:instancePath+"/secondaryIndexes/" + i0,parentData:data4,parentDataProperty:i0,rootData}))){vErrors = vErrors === null ? validate406.errors : vErrors.concat(validate406.errors);errors = vErrors.length;}}}else {const err5 = {instancePath:instancePath+"/secondaryIndexes",schemaPath:"#/properties/secondaryIndexes/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema357.properties.secondaryIndexes.type,parentSchema:schema357.properties.secondaryIndexes,data:data4};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data.dev !== undefined){let data6 = data.dev;if(data6 && typeof data6 == "object" && !Array.isArray(data6)){for(const key1 in data6){if(!(key1 === "remote")){const err6 = {instancePath:instancePath+"/dev",schemaPath:"#/definitions/DevModeConfig/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema291,data:data6};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data6.remote !== undefined){let data7 = data6.remote;if(typeof data7 !== "boolean"){const err7 = {instancePath:instancePath+"/dev/remote",schemaPath:"#/definitions/DevModeConfig/properties/remote/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema291.properties.remote.type,parentSchema:schema291.properties.remote,data:data7};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}}else {const err8 = {instancePath:instancePath+"/dev",schemaPath:"#/definitions/DevModeConfig/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema291.type,parentSchema:schema291,data:data6};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}}else {const err9 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema357.type,parentSchema:schema357,data};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}validate401.errors = vErrors;return errors === 0;}function validate400(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema356.required,parentSchema:schema356,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema356.required,parentSchema:schema356,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!(((key0 === "type") || (key0 === "properties")) || (key0 === "overrides"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema356,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema356.properties.type.type,parentSchema:schema356.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("dynamo-db-table" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "dynamo-db-table"},message:"must be equal to constant",schema:"dynamo-db-table",parentSchema:schema356.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate401(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate401.errors : vErrors.concat(validate401.errors);errors = vErrors.length;}}if(data.overrides !== undefined){let data2 = data.overrides;if(data2 && typeof data2 == "object" && !Array.isArray(data2)){for(const key1 in data2){let data3 = data2[key1];if(data3 && typeof data3 == "object" && !Array.isArray(data3)){}else {const err5 = {instancePath:instancePath+"/overrides/" + key1.replace(/~/g, "~0").replace(/\//g, "~1"),schemaPath:"#/properties/overrides/additionalProperties/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema356.properties.overrides.additionalProperties.type,parentSchema:schema356.properties.overrides.additionalProperties,data:data3};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}}else {const err6 = {instancePath:instancePath+"/overrides",schemaPath:"#/properties/overrides/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema356.properties.overrides.type,parentSchema:schema356.properties.overrides,data:data2};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}}else {const err7 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema356.type,parentSchema:schema356,data};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}validate400.errors = vErrors;return errors === 0;}const schema368 = {"description":"#### State Machine\n\n---\n\nA state machine allows you to orchestrate and coordinate multiple compute resources to create complex workflows.\nIt is defined using the [Amazon States Language](https://states-language.net/spec.html).","type":"object","properties":{"type":{"type":"string","const":"state-machine"},"properties":{"$ref":"#/definitions/StateMachineProps"},"overrides":{"description":"#### Resource Overrides\n\n---\n\nOverrides properties of the underlying CloudFormation resources that Stacktape creates.\n\nChild resources are identified by their CloudFormation logical ID (e.g., `MyBucketBucket`). You can find these IDs by running `stacktape stack:info --detailed`.\n\nFor a list of properties that can be overridden, refer to the [AWS CloudFormation documentation](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html).","type":"object","additionalProperties":{"type":"object","additionalProperties":{}}}},"additionalProperties":false,"required":["properties","type"]};const schema369 = {"type":"object","properties":{"definition":{"$ref":"#/definitions/StateMachineDefinition","description":"#### The definition of the state machine.\n\n---\n\nThis is written in the [Amazon States Language](https://states-language.net/spec.html)."}},"additionalProperties":false,"required":["definition"]};const schema370 = {"type":"object","properties":{"Comment":{"description":"#### A human-readable description of the state machine.","type":"string"},"StartAt":{"description":"#### The name of the state to start the execution at.","type":"string"},"States":{"description":"#### An object containing the states of the state machine.","type":"object","additionalProperties":{"$ref":"#/definitions/State"}},"Version":{"description":"#### The version of the Amazon States Language.","type":"string"},"TimeoutSeconds":{"description":"#### The maximum time, in seconds, that a state machine can run.","type":"number"}},"additionalProperties":false,"required":["StartAt","States"]};const schema371 = {"anyOf":[{"$ref":"#/definitions/Choice"},{"$ref":"#/definitions/Fail"},{"$ref":"#/definitions/StateMachineMap"},{"$ref":"#/definitions/Parallel"},{"$ref":"#/definitions/Pass"},{"$ref":"#/definitions/Succeed"},{"$ref":"#/definitions/Task"},{"$ref":"#/definitions/Wait"}]};const schema374 = {"type":"object","properties":{"Type":{"type":"string"},"Comment":{"type":"string"},"OutputPath":{"type":"string"},"InputPath":{"type":"string"},"Cause":{"type":"string"},"Error":{"type":"string"}},"additionalProperties":false,"required":["Type"]};const schema379 = {"type":"object","properties":{"Type":{"type":"string"},"Next":{"type":"string"},"End":{"type":"boolean","const":true},"Comment":{"type":"string"},"OutputPath":{"type":"string"},"InputPath":{"type":"string"},"ResultPath":{"type":"string"},"Parameters":{"type":"object","additionalProperties":{}},"Result":{}},"additionalProperties":false,"required":["Type"]};const schema380 = {"type":"object","properties":{"Type":{"type":"string"},"Comment":{"type":"string"}},"additionalProperties":false,"required":["Type"]};const schema381 = {"type":"object","properties":{"Type":{"type":"string"},"Next":{"type":"string"},"End":{"type":"boolean","const":true},"Comment":{"type":"string"},"OutputPath":{"type":"string"},"InputPath":{"type":"string"},"Resource":{"anyOf":[{"type":"object","additionalProperties":{}},{"type":"string"}]},"ResultPath":{"type":"string"},"Retry":{"type":"array","items":{"type":"object","additionalProperties":{},"properties":{"ErrorEquals":{"type":"array","items":{"type":"string"}},"IntervalSeconds":{"type":"number"},"MaxAttempts":{"type":"number"},"BackoffRate":{"type":"number"}},"required":["ErrorEquals"]}},"Catch":{"type":"array","items":{"type":"object","additionalProperties":{},"properties":{"ErrorEquals":{"type":"array","items":{"type":"string"}},"Next":{"type":"string"}},"required":["ErrorEquals","Next"]}},"TimeoutSeconds":{"type":"number"},"HeartbeatSeconds":{"type":"number"},"Parameters":{"type":"object","additionalProperties":{}}},"additionalProperties":false,"required":["Resource","Type"]};const schema382 = {"type":"object","properties":{"Type":{"type":"string"},"Next":{"type":"string"},"End":{"type":"boolean","const":true},"Comment":{"type":"string"},"OutputPath":{"type":"string"},"InputPath":{"type":"string"},"Seconds":{"type":"number"},"Timestamp":{"type":"string"},"SecondsPath":{"type":"string"},"TimestampPath":{"type":"string"}},"additionalProperties":false,"required":["Type"]};const schema372 = {"type":"object","properties":{"Type":{"type":"string"},"Next":{"type":"string"},"End":{"type":"boolean","const":true},"Comment":{"type":"string"},"OutputPath":{"type":"string"},"InputPath":{"type":"string"},"Choices":{"type":"array","items":{"$ref":"#/definitions/Operator"}},"Default":{"type":"string"}},"additionalProperties":false,"required":["Choices","Type"]};const schema373 = {"type":"object","additionalProperties":{},"properties":{"Variable":{"type":"string"},"Next":{"type":"string"},"And":{"type":"array","items":{"$ref":"#/definitions/Operator"}},"Or":{"type":"array","items":{"$ref":"#/definitions/Operator"}},"Not":{"$ref":"#/definitions/Operator"},"BooleanEquals":{"type":"boolean"},"NumericEquals":{"type":"number"},"NumericGreaterThan":{"type":"number"},"NumericGreaterThanEquals":{"type":"number"},"NumericLessThan":{"type":"number"},"NumericLessThanEquals":{"type":"number"},"StringEquals":{"type":"string"},"StringGreaterThan":{"type":"string"},"StringGreaterThanEquals":{"type":"string"},"StringLessThan":{"type":"string"},"StringLessThanEquals":{"type":"string"},"TimestampEquals":{"type":"string"},"TimestampGreaterThan":{"type":"string"},"TimestampGreaterThanEquals":{"type":"string"},"TimestampLessThan":{"type":"string"},"TimestampLessThanEquals":{"type":"string"}}};const wrapper0 = {validate: validate415};function validate415(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.Variable !== undefined){let data0 = data.Variable;if(typeof data0 !== "string"){const err0 = {instancePath:instancePath+"/Variable",schemaPath:"#/properties/Variable/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema373.properties.Variable.type,parentSchema:schema373.properties.Variable,data:data0};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}}if(data.Next !== undefined){let data1 = data.Next;if(typeof data1 !== "string"){const err1 = {instancePath:instancePath+"/Next",schemaPath:"#/properties/Next/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema373.properties.Next.type,parentSchema:schema373.properties.Next,data:data1};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.And !== undefined){let data2 = data.And;if(Array.isArray(data2)){const len0 = data2.length;for(let i0=0; i0<len0; i0++){if(!(wrapper0.validate(data2[i0], {instancePath:instancePath+"/And/" + i0,parentData:data2,parentDataProperty:i0,rootData}))){vErrors = vErrors === null ? wrapper0.validate.errors : vErrors.concat(wrapper0.validate.errors);errors = vErrors.length;}}}else {const err2 = {instancePath:instancePath+"/And",schemaPath:"#/properties/And/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema373.properties.And.type,parentSchema:schema373.properties.And,data:data2};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.Or !== undefined){let data4 = data.Or;if(Array.isArray(data4)){const len1 = data4.length;for(let i1=0; i1<len1; i1++){if(!(wrapper0.validate(data4[i1], {instancePath:instancePath+"/Or/" + i1,parentData:data4,parentDataProperty:i1,rootData}))){vErrors = vErrors === null ? wrapper0.validate.errors : vErrors.concat(wrapper0.validate.errors);errors = vErrors.length;}}}else {const err3 = {instancePath:instancePath+"/Or",schemaPath:"#/properties/Or/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema373.properties.Or.type,parentSchema:schema373.properties.Or,data:data4};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.Not !== undefined){if(!(wrapper0.validate(data.Not, {instancePath:instancePath+"/Not",parentData:data,parentDataProperty:"Not",rootData}))){vErrors = vErrors === null ? wrapper0.validate.errors : vErrors.concat(wrapper0.validate.errors);errors = vErrors.length;}}if(data.BooleanEquals !== undefined){let data7 = data.BooleanEquals;if(typeof data7 !== "boolean"){const err4 = {instancePath:instancePath+"/BooleanEquals",schemaPath:"#/properties/BooleanEquals/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema373.properties.BooleanEquals.type,parentSchema:schema373.properties.BooleanEquals,data:data7};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.NumericEquals !== undefined){let data8 = data.NumericEquals;if(!(typeof data8 == "number")){const err5 = {instancePath:instancePath+"/NumericEquals",schemaPath:"#/properties/NumericEquals/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema373.properties.NumericEquals.type,parentSchema:schema373.properties.NumericEquals,data:data8};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data.NumericGreaterThan !== undefined){let data9 = data.NumericGreaterThan;if(!(typeof data9 == "number")){const err6 = {instancePath:instancePath+"/NumericGreaterThan",schemaPath:"#/properties/NumericGreaterThan/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema373.properties.NumericGreaterThan.type,parentSchema:schema373.properties.NumericGreaterThan,data:data9};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data.NumericGreaterThanEquals !== undefined){let data10 = data.NumericGreaterThanEquals;if(!(typeof data10 == "number")){const err7 = {instancePath:instancePath+"/NumericGreaterThanEquals",schemaPath:"#/properties/NumericGreaterThanEquals/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema373.properties.NumericGreaterThanEquals.type,parentSchema:schema373.properties.NumericGreaterThanEquals,data:data10};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data.NumericLessThan !== undefined){let data11 = data.NumericLessThan;if(!(typeof data11 == "number")){const err8 = {instancePath:instancePath+"/NumericLessThan",schemaPath:"#/properties/NumericLessThan/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema373.properties.NumericLessThan.type,parentSchema:schema373.properties.NumericLessThan,data:data11};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}if(data.NumericLessThanEquals !== undefined){let data12 = data.NumericLessThanEquals;if(!(typeof data12 == "number")){const err9 = {instancePath:instancePath+"/NumericLessThanEquals",schemaPath:"#/properties/NumericLessThanEquals/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema373.properties.NumericLessThanEquals.type,parentSchema:schema373.properties.NumericLessThanEquals,data:data12};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(data.StringEquals !== undefined){let data13 = data.StringEquals;if(typeof data13 !== "string"){const err10 = {instancePath:instancePath+"/StringEquals",schemaPath:"#/properties/StringEquals/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema373.properties.StringEquals.type,parentSchema:schema373.properties.StringEquals,data:data13};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data.StringGreaterThan !== undefined){let data14 = data.StringGreaterThan;if(typeof data14 !== "string"){const err11 = {instancePath:instancePath+"/StringGreaterThan",schemaPath:"#/properties/StringGreaterThan/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema373.properties.StringGreaterThan.type,parentSchema:schema373.properties.StringGreaterThan,data:data14};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}if(data.StringGreaterThanEquals !== undefined){let data15 = data.StringGreaterThanEquals;if(typeof data15 !== "string"){const err12 = {instancePath:instancePath+"/StringGreaterThanEquals",schemaPath:"#/properties/StringGreaterThanEquals/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema373.properties.StringGreaterThanEquals.type,parentSchema:schema373.properties.StringGreaterThanEquals,data:data15};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}if(data.StringLessThan !== undefined){let data16 = data.StringLessThan;if(typeof data16 !== "string"){const err13 = {instancePath:instancePath+"/StringLessThan",schemaPath:"#/properties/StringLessThan/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema373.properties.StringLessThan.type,parentSchema:schema373.properties.StringLessThan,data:data16};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}if(data.StringLessThanEquals !== undefined){let data17 = data.StringLessThanEquals;if(typeof data17 !== "string"){const err14 = {instancePath:instancePath+"/StringLessThanEquals",schemaPath:"#/properties/StringLessThanEquals/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema373.properties.StringLessThanEquals.type,parentSchema:schema373.properties.StringLessThanEquals,data:data17};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}}if(data.TimestampEquals !== undefined){let data18 = data.TimestampEquals;if(typeof data18 !== "string"){const err15 = {instancePath:instancePath+"/TimestampEquals",schemaPath:"#/properties/TimestampEquals/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema373.properties.TimestampEquals.type,parentSchema:schema373.properties.TimestampEquals,data:data18};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}}if(data.TimestampGreaterThan !== undefined){let data19 = data.TimestampGreaterThan;if(typeof data19 !== "string"){const err16 = {instancePath:instancePath+"/TimestampGreaterThan",schemaPath:"#/properties/TimestampGreaterThan/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema373.properties.TimestampGreaterThan.type,parentSchema:schema373.properties.TimestampGreaterThan,data:data19};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}}if(data.TimestampGreaterThanEquals !== undefined){let data20 = data.TimestampGreaterThanEquals;if(typeof data20 !== "string"){const err17 = {instancePath:instancePath+"/TimestampGreaterThanEquals",schemaPath:"#/properties/TimestampGreaterThanEquals/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema373.properties.TimestampGreaterThanEquals.type,parentSchema:schema373.properties.TimestampGreaterThanEquals,data:data20};if(vErrors === null){vErrors = [err17];}else {vErrors.push(err17);}errors++;}}if(data.TimestampLessThan !== undefined){let data21 = data.TimestampLessThan;if(typeof data21 !== "string"){const err18 = {instancePath:instancePath+"/TimestampLessThan",schemaPath:"#/properties/TimestampLessThan/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema373.properties.TimestampLessThan.type,parentSchema:schema373.properties.TimestampLessThan,data:data21};if(vErrors === null){vErrors = [err18];}else {vErrors.push(err18);}errors++;}}if(data.TimestampLessThanEquals !== undefined){let data22 = data.TimestampLessThanEquals;if(typeof data22 !== "string"){const err19 = {instancePath:instancePath+"/TimestampLessThanEquals",schemaPath:"#/properties/TimestampLessThanEquals/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema373.properties.TimestampLessThanEquals.type,parentSchema:schema373.properties.TimestampLessThanEquals,data:data22};if(vErrors === null){vErrors = [err19];}else {vErrors.push(err19);}errors++;}}}else {const err20 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema373.type,parentSchema:schema373,data};if(vErrors === null){vErrors = [err20];}else {vErrors.push(err20);}errors++;}validate415.errors = vErrors;return errors === 0;}function validate414(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.Choices === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "Choices"},message:"must have required property '"+"Choices"+"'",schema:schema372.required,parentSchema:schema372,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.Type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "Type"},message:"must have required property '"+"Type"+"'",schema:schema372.required,parentSchema:schema372,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((((((((key0 === "Type") || (key0 === "Next")) || (key0 === "End")) || (key0 === "Comment")) || (key0 === "OutputPath")) || (key0 === "InputPath")) || (key0 === "Choices")) || (key0 === "Default"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema372,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.Type !== undefined){let data0 = data.Type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/Type",schemaPath:"#/properties/Type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema372.properties.Type.type,parentSchema:schema372.properties.Type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.Next !== undefined){let data1 = data.Next;if(typeof data1 !== "string"){const err4 = {instancePath:instancePath+"/Next",schemaPath:"#/properties/Next/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema372.properties.Next.type,parentSchema:schema372.properties.Next,data:data1};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.End !== undefined){let data2 = data.End;if(typeof data2 !== "boolean"){const err5 = {instancePath:instancePath+"/End",schemaPath:"#/properties/End/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema372.properties.End.type,parentSchema:schema372.properties.End,data:data2};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}if(true !== data2){const err6 = {instancePath:instancePath+"/End",schemaPath:"#/properties/End/const",keyword:"const",params:{allowedValue: true},message:"must be equal to constant",schema:true,parentSchema:schema372.properties.End,data:data2};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data.Comment !== undefined){let data3 = data.Comment;if(typeof data3 !== "string"){const err7 = {instancePath:instancePath+"/Comment",schemaPath:"#/properties/Comment/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema372.properties.Comment.type,parentSchema:schema372.properties.Comment,data:data3};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data.OutputPath !== undefined){let data4 = data.OutputPath;if(typeof data4 !== "string"){const err8 = {instancePath:instancePath+"/OutputPath",schemaPath:"#/properties/OutputPath/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema372.properties.OutputPath.type,parentSchema:schema372.properties.OutputPath,data:data4};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}if(data.InputPath !== undefined){let data5 = data.InputPath;if(typeof data5 !== "string"){const err9 = {instancePath:instancePath+"/InputPath",schemaPath:"#/properties/InputPath/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema372.properties.InputPath.type,parentSchema:schema372.properties.InputPath,data:data5};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(data.Choices !== undefined){let data6 = data.Choices;if(Array.isArray(data6)){const len0 = data6.length;for(let i0=0; i0<len0; i0++){if(!(validate415(data6[i0], {instancePath:instancePath+"/Choices/" + i0,parentData:data6,parentDataProperty:i0,rootData}))){vErrors = vErrors === null ? validate415.errors : vErrors.concat(validate415.errors);errors = vErrors.length;}}}else {const err10 = {instancePath:instancePath+"/Choices",schemaPath:"#/properties/Choices/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema372.properties.Choices.type,parentSchema:schema372.properties.Choices,data:data6};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data.Default !== undefined){let data8 = data.Default;if(typeof data8 !== "string"){const err11 = {instancePath:instancePath+"/Default",schemaPath:"#/properties/Default/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema372.properties.Default.type,parentSchema:schema372.properties.Default,data:data8};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}}else {const err12 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema372.type,parentSchema:schema372,data};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}validate414.errors = vErrors;return errors === 0;}const schema375 = {"type":"object","properties":{"Type":{"type":"string"},"Next":{"type":"string"},"End":{"type":"boolean","const":true},"Comment":{"type":"string"},"OutputPath":{"type":"string"},"InputPath":{"type":"string"},"ResultPath":{"type":"string"},"ItemsPath":{"type":"string"},"MaxConcurrency":{"type":"number"},"Iterator":{"$ref":"#/definitions/StpStateMachine"},"Parameters":{"type":"object","additionalProperties":{}},"Retry":{"type":"array","items":{"type":"object","additionalProperties":{},"properties":{"ErrorEquals":{"type":"array","items":{"type":"string"}},"IntervalSeconds":{"type":"number"},"MaxAttempts":{"type":"number"},"BackoffRate":{"type":"number"}},"required":["ErrorEquals"]}},"Catch":{"type":"array","items":{"type":"object","additionalProperties":{},"properties":{"ErrorEquals":{"type":"array","items":{"type":"string"}},"Next":{"type":"string"}},"required":["ErrorEquals","Next"]}}},"additionalProperties":false,"required":["Iterator","Type"]};const schema376 = {"additionalProperties":false,"type":"object","properties":{"name":{"type":"string"},"type":{"type":"string","const":"state-machine"},"configParentResourceType":{"type":"string","const":"state-machine"},"nameChain":{"type":"array","items":{"type":"string"}}},"required":["configParentResourceType","name","nameChain","type"]};function validate418(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.Iterator === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "Iterator"},message:"must have required property '"+"Iterator"+"'",schema:schema375.required,parentSchema:schema375,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.Type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "Type"},message:"must have required property '"+"Type"+"'",schema:schema375.required,parentSchema:schema375,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!(func2.call(schema375.properties, key0))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema375,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.Type !== undefined){let data0 = data.Type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/Type",schemaPath:"#/properties/Type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema375.properties.Type.type,parentSchema:schema375.properties.Type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.Next !== undefined){let data1 = data.Next;if(typeof data1 !== "string"){const err4 = {instancePath:instancePath+"/Next",schemaPath:"#/properties/Next/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema375.properties.Next.type,parentSchema:schema375.properties.Next,data:data1};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.End !== undefined){let data2 = data.End;if(typeof data2 !== "boolean"){const err5 = {instancePath:instancePath+"/End",schemaPath:"#/properties/End/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema375.properties.End.type,parentSchema:schema375.properties.End,data:data2};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}if(true !== data2){const err6 = {instancePath:instancePath+"/End",schemaPath:"#/properties/End/const",keyword:"const",params:{allowedValue: true},message:"must be equal to constant",schema:true,parentSchema:schema375.properties.End,data:data2};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data.Comment !== undefined){let data3 = data.Comment;if(typeof data3 !== "string"){const err7 = {instancePath:instancePath+"/Comment",schemaPath:"#/properties/Comment/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema375.properties.Comment.type,parentSchema:schema375.properties.Comment,data:data3};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data.OutputPath !== undefined){let data4 = data.OutputPath;if(typeof data4 !== "string"){const err8 = {instancePath:instancePath+"/OutputPath",schemaPath:"#/properties/OutputPath/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema375.properties.OutputPath.type,parentSchema:schema375.properties.OutputPath,data:data4};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}if(data.InputPath !== undefined){let data5 = data.InputPath;if(typeof data5 !== "string"){const err9 = {instancePath:instancePath+"/InputPath",schemaPath:"#/properties/InputPath/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema375.properties.InputPath.type,parentSchema:schema375.properties.InputPath,data:data5};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(data.ResultPath !== undefined){let data6 = data.ResultPath;if(typeof data6 !== "string"){const err10 = {instancePath:instancePath+"/ResultPath",schemaPath:"#/properties/ResultPath/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema375.properties.ResultPath.type,parentSchema:schema375.properties.ResultPath,data:data6};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data.ItemsPath !== undefined){let data7 = data.ItemsPath;if(typeof data7 !== "string"){const err11 = {instancePath:instancePath+"/ItemsPath",schemaPath:"#/properties/ItemsPath/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema375.properties.ItemsPath.type,parentSchema:schema375.properties.ItemsPath,data:data7};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}if(data.MaxConcurrency !== undefined){let data8 = data.MaxConcurrency;if(!(typeof data8 == "number")){const err12 = {instancePath:instancePath+"/MaxConcurrency",schemaPath:"#/properties/MaxConcurrency/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema375.properties.MaxConcurrency.type,parentSchema:schema375.properties.MaxConcurrency,data:data8};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}if(data.Iterator !== undefined){let data9 = data.Iterator;if(data9 && typeof data9 == "object" && !Array.isArray(data9)){if(data9.configParentResourceType === undefined){const err13 = {instancePath:instancePath+"/Iterator",schemaPath:"#/definitions/StpStateMachine/required",keyword:"required",params:{missingProperty: "configParentResourceType"},message:"must have required property '"+"configParentResourceType"+"'",schema:schema376.required,parentSchema:schema376,data:data9};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}if(data9.name === undefined){const err14 = {instancePath:instancePath+"/Iterator",schemaPath:"#/definitions/StpStateMachine/required",keyword:"required",params:{missingProperty: "name"},message:"must have required property '"+"name"+"'",schema:schema376.required,parentSchema:schema376,data:data9};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}if(data9.nameChain === undefined){const err15 = {instancePath:instancePath+"/Iterator",schemaPath:"#/definitions/StpStateMachine/required",keyword:"required",params:{missingProperty: "nameChain"},message:"must have required property '"+"nameChain"+"'",schema:schema376.required,parentSchema:schema376,data:data9};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}if(data9.type === undefined){const err16 = {instancePath:instancePath+"/Iterator",schemaPath:"#/definitions/StpStateMachine/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema376.required,parentSchema:schema376,data:data9};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}for(const key1 in data9){if(!((((key1 === "name") || (key1 === "type")) || (key1 === "configParentResourceType")) || (key1 === "nameChain"))){const err17 = {instancePath:instancePath+"/Iterator",schemaPath:"#/definitions/StpStateMachine/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema376,data:data9};if(vErrors === null){vErrors = [err17];}else {vErrors.push(err17);}errors++;}}if(data9.name !== undefined){let data10 = data9.name;if(typeof data10 !== "string"){const err18 = {instancePath:instancePath+"/Iterator/name",schemaPath:"#/definitions/StpStateMachine/properties/name/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema376.properties.name.type,parentSchema:schema376.properties.name,data:data10};if(vErrors === null){vErrors = [err18];}else {vErrors.push(err18);}errors++;}}if(data9.type !== undefined){let data11 = data9.type;if(typeof data11 !== "string"){const err19 = {instancePath:instancePath+"/Iterator/type",schemaPath:"#/definitions/StpStateMachine/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema376.properties.type.type,parentSchema:schema376.properties.type,data:data11};if(vErrors === null){vErrors = [err19];}else {vErrors.push(err19);}errors++;}if("state-machine" !== data11){const err20 = {instancePath:instancePath+"/Iterator/type",schemaPath:"#/definitions/StpStateMachine/properties/type/const",keyword:"const",params:{allowedValue: "state-machine"},message:"must be equal to constant",schema:"state-machine",parentSchema:schema376.properties.type,data:data11};if(vErrors === null){vErrors = [err20];}else {vErrors.push(err20);}errors++;}}if(data9.configParentResourceType !== undefined){let data12 = data9.configParentResourceType;if(typeof data12 !== "string"){const err21 = {instancePath:instancePath+"/Iterator/configParentResourceType",schemaPath:"#/definitions/StpStateMachine/properties/configParentResourceType/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema376.properties.configParentResourceType.type,parentSchema:schema376.properties.configParentResourceType,data:data12};if(vErrors === null){vErrors = [err21];}else {vErrors.push(err21);}errors++;}if("state-machine" !== data12){const err22 = {instancePath:instancePath+"/Iterator/configParentResourceType",schemaPath:"#/definitions/StpStateMachine/properties/configParentResourceType/const",keyword:"const",params:{allowedValue: "state-machine"},message:"must be equal to constant",schema:"state-machine",parentSchema:schema376.properties.configParentResourceType,data:data12};if(vErrors === null){vErrors = [err22];}else {vErrors.push(err22);}errors++;}}if(data9.nameChain !== undefined){let data13 = data9.nameChain;if(Array.isArray(data13)){const len0 = data13.length;for(let i0=0; i0<len0; i0++){let data14 = data13[i0];if(typeof data14 !== "string"){const err23 = {instancePath:instancePath+"/Iterator/nameChain/" + i0,schemaPath:"#/definitions/StpStateMachine/properties/nameChain/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema376.properties.nameChain.items.type,parentSchema:schema376.properties.nameChain.items,data:data14};if(vErrors === null){vErrors = [err23];}else {vErrors.push(err23);}errors++;}}}else {const err24 = {instancePath:instancePath+"/Iterator/nameChain",schemaPath:"#/definitions/StpStateMachine/properties/nameChain/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema376.properties.nameChain.type,parentSchema:schema376.properties.nameChain,data:data13};if(vErrors === null){vErrors = [err24];}else {vErrors.push(err24);}errors++;}}}else {const err25 = {instancePath:instancePath+"/Iterator",schemaPath:"#/definitions/StpStateMachine/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema376.type,parentSchema:schema376,data:data9};if(vErrors === null){vErrors = [err25];}else {vErrors.push(err25);}errors++;}}if(data.Parameters !== undefined){let data15 = data.Parameters;if(data15 && typeof data15 == "object" && !Array.isArray(data15)){}else {const err26 = {instancePath:instancePath+"/Parameters",schemaPath:"#/properties/Parameters/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema375.properties.Parameters.type,parentSchema:schema375.properties.Parameters,data:data15};if(vErrors === null){vErrors = [err26];}else {vErrors.push(err26);}errors++;}}if(data.Retry !== undefined){let data16 = data.Retry;if(Array.isArray(data16)){const len1 = data16.length;for(let i1=0; i1<len1; i1++){let data17 = data16[i1];if(data17 && typeof data17 == "object" && !Array.isArray(data17)){if(data17.ErrorEquals === undefined){const err27 = {instancePath:instancePath+"/Retry/" + i1,schemaPath:"#/properties/Retry/items/required",keyword:"required",params:{missingProperty: "ErrorEquals"},message:"must have required property '"+"ErrorEquals"+"'",schema:schema375.properties.Retry.items.required,parentSchema:schema375.properties.Retry.items,data:data17};if(vErrors === null){vErrors = [err27];}else {vErrors.push(err27);}errors++;}if(data17.ErrorEquals !== undefined){let data18 = data17.ErrorEquals;if(Array.isArray(data18)){const len2 = data18.length;for(let i2=0; i2<len2; i2++){let data19 = data18[i2];if(typeof data19 !== "string"){const err28 = {instancePath:instancePath+"/Retry/" + i1+"/ErrorEquals/" + i2,schemaPath:"#/properties/Retry/items/properties/ErrorEquals/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema375.properties.Retry.items.properties.ErrorEquals.items.type,parentSchema:schema375.properties.Retry.items.properties.ErrorEquals.items,data:data19};if(vErrors === null){vErrors = [err28];}else {vErrors.push(err28);}errors++;}}}else {const err29 = {instancePath:instancePath+"/Retry/" + i1+"/ErrorEquals",schemaPath:"#/properties/Retry/items/properties/ErrorEquals/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema375.properties.Retry.items.properties.ErrorEquals.type,parentSchema:schema375.properties.Retry.items.properties.ErrorEquals,data:data18};if(vErrors === null){vErrors = [err29];}else {vErrors.push(err29);}errors++;}}if(data17.IntervalSeconds !== undefined){let data20 = data17.IntervalSeconds;if(!(typeof data20 == "number")){const err30 = {instancePath:instancePath+"/Retry/" + i1+"/IntervalSeconds",schemaPath:"#/properties/Retry/items/properties/IntervalSeconds/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema375.properties.Retry.items.properties.IntervalSeconds.type,parentSchema:schema375.properties.Retry.items.properties.IntervalSeconds,data:data20};if(vErrors === null){vErrors = [err30];}else {vErrors.push(err30);}errors++;}}if(data17.MaxAttempts !== undefined){let data21 = data17.MaxAttempts;if(!(typeof data21 == "number")){const err31 = {instancePath:instancePath+"/Retry/" + i1+"/MaxAttempts",schemaPath:"#/properties/Retry/items/properties/MaxAttempts/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema375.properties.Retry.items.properties.MaxAttempts.type,parentSchema:schema375.properties.Retry.items.properties.MaxAttempts,data:data21};if(vErrors === null){vErrors = [err31];}else {vErrors.push(err31);}errors++;}}if(data17.BackoffRate !== undefined){let data22 = data17.BackoffRate;if(!(typeof data22 == "number")){const err32 = {instancePath:instancePath+"/Retry/" + i1+"/BackoffRate",schemaPath:"#/properties/Retry/items/properties/BackoffRate/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema375.properties.Retry.items.properties.BackoffRate.type,parentSchema:schema375.properties.Retry.items.properties.BackoffRate,data:data22};if(vErrors === null){vErrors = [err32];}else {vErrors.push(err32);}errors++;}}}else {const err33 = {instancePath:instancePath+"/Retry/" + i1,schemaPath:"#/properties/Retry/items/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema375.properties.Retry.items.type,parentSchema:schema375.properties.Retry.items,data:data17};if(vErrors === null){vErrors = [err33];}else {vErrors.push(err33);}errors++;}}}else {const err34 = {instancePath:instancePath+"/Retry",schemaPath:"#/properties/Retry/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema375.properties.Retry.type,parentSchema:schema375.properties.Retry,data:data16};if(vErrors === null){vErrors = [err34];}else {vErrors.push(err34);}errors++;}}if(data.Catch !== undefined){let data23 = data.Catch;if(Array.isArray(data23)){const len3 = data23.length;for(let i3=0; i3<len3; i3++){let data24 = data23[i3];if(data24 && typeof data24 == "object" && !Array.isArray(data24)){if(data24.ErrorEquals === undefined){const err35 = {instancePath:instancePath+"/Catch/" + i3,schemaPath:"#/properties/Catch/items/required",keyword:"required",params:{missingProperty: "ErrorEquals"},message:"must have required property '"+"ErrorEquals"+"'",schema:schema375.properties.Catch.items.required,parentSchema:schema375.properties.Catch.items,data:data24};if(vErrors === null){vErrors = [err35];}else {vErrors.push(err35);}errors++;}if(data24.Next === undefined){const err36 = {instancePath:instancePath+"/Catch/" + i3,schemaPath:"#/properties/Catch/items/required",keyword:"required",params:{missingProperty: "Next"},message:"must have required property '"+"Next"+"'",schema:schema375.properties.Catch.items.required,parentSchema:schema375.properties.Catch.items,data:data24};if(vErrors === null){vErrors = [err36];}else {vErrors.push(err36);}errors++;}if(data24.ErrorEquals !== undefined){let data25 = data24.ErrorEquals;if(Array.isArray(data25)){const len4 = data25.length;for(let i4=0; i4<len4; i4++){let data26 = data25[i4];if(typeof data26 !== "string"){const err37 = {instancePath:instancePath+"/Catch/" + i3+"/ErrorEquals/" + i4,schemaPath:"#/properties/Catch/items/properties/ErrorEquals/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema375.properties.Catch.items.properties.ErrorEquals.items.type,parentSchema:schema375.properties.Catch.items.properties.ErrorEquals.items,data:data26};if(vErrors === null){vErrors = [err37];}else {vErrors.push(err37);}errors++;}}}else {const err38 = {instancePath:instancePath+"/Catch/" + i3+"/ErrorEquals",schemaPath:"#/properties/Catch/items/properties/ErrorEquals/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema375.properties.Catch.items.properties.ErrorEquals.type,parentSchema:schema375.properties.Catch.items.properties.ErrorEquals,data:data25};if(vErrors === null){vErrors = [err38];}else {vErrors.push(err38);}errors++;}}if(data24.Next !== undefined){let data27 = data24.Next;if(typeof data27 !== "string"){const err39 = {instancePath:instancePath+"/Catch/" + i3+"/Next",schemaPath:"#/properties/Catch/items/properties/Next/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema375.properties.Catch.items.properties.Next.type,parentSchema:schema375.properties.Catch.items.properties.Next,data:data27};if(vErrors === null){vErrors = [err39];}else {vErrors.push(err39);}errors++;}}}else {const err40 = {instancePath:instancePath+"/Catch/" + i3,schemaPath:"#/properties/Catch/items/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema375.properties.Catch.items.type,parentSchema:schema375.properties.Catch.items,data:data24};if(vErrors === null){vErrors = [err40];}else {vErrors.push(err40);}errors++;}}}else {const err41 = {instancePath:instancePath+"/Catch",schemaPath:"#/properties/Catch/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema375.properties.Catch.type,parentSchema:schema375.properties.Catch,data:data23};if(vErrors === null){vErrors = [err41];}else {vErrors.push(err41);}errors++;}}}else {const err42 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema375.type,parentSchema:schema375,data};if(vErrors === null){vErrors = [err42];}else {vErrors.push(err42);}errors++;}validate418.errors = vErrors;return errors === 0;}const schema377 = {"type":"object","properties":{"Type":{"type":"string"},"Next":{"type":"string"},"End":{"type":"boolean","const":true},"Comment":{"type":"string"},"OutputPath":{"type":"string"},"InputPath":{"type":"string"},"ResultPath":{"type":"string"},"Branches":{"type":"array","items":{"$ref":"#/definitions/StpStateMachine"}},"Retry":{"type":"array","items":{"type":"object","additionalProperties":{},"properties":{"ErrorEquals":{"type":"array","items":{"type":"string"}},"IntervalSeconds":{"type":"number"},"MaxAttempts":{"type":"number"},"BackoffRate":{"type":"number"}},"required":["ErrorEquals"]}},"Catch":{"type":"array","items":{"type":"object","additionalProperties":{},"properties":{"ErrorEquals":{"type":"array","items":{"type":"string"}},"Next":{"type":"string"}},"required":["ErrorEquals","Next"]}}},"additionalProperties":false,"required":["Branches","Type"]};function validate420(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.Branches === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "Branches"},message:"must have required property '"+"Branches"+"'",schema:schema377.required,parentSchema:schema377,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.Type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "Type"},message:"must have required property '"+"Type"+"'",schema:schema377.required,parentSchema:schema377,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!(func2.call(schema377.properties, key0))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema377,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.Type !== undefined){let data0 = data.Type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/Type",schemaPath:"#/properties/Type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema377.properties.Type.type,parentSchema:schema377.properties.Type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.Next !== undefined){let data1 = data.Next;if(typeof data1 !== "string"){const err4 = {instancePath:instancePath+"/Next",schemaPath:"#/properties/Next/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema377.properties.Next.type,parentSchema:schema377.properties.Next,data:data1};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.End !== undefined){let data2 = data.End;if(typeof data2 !== "boolean"){const err5 = {instancePath:instancePath+"/End",schemaPath:"#/properties/End/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema377.properties.End.type,parentSchema:schema377.properties.End,data:data2};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}if(true !== data2){const err6 = {instancePath:instancePath+"/End",schemaPath:"#/properties/End/const",keyword:"const",params:{allowedValue: true},message:"must be equal to constant",schema:true,parentSchema:schema377.properties.End,data:data2};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data.Comment !== undefined){let data3 = data.Comment;if(typeof data3 !== "string"){const err7 = {instancePath:instancePath+"/Comment",schemaPath:"#/properties/Comment/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema377.properties.Comment.type,parentSchema:schema377.properties.Comment,data:data3};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data.OutputPath !== undefined){let data4 = data.OutputPath;if(typeof data4 !== "string"){const err8 = {instancePath:instancePath+"/OutputPath",schemaPath:"#/properties/OutputPath/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema377.properties.OutputPath.type,parentSchema:schema377.properties.OutputPath,data:data4};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}if(data.InputPath !== undefined){let data5 = data.InputPath;if(typeof data5 !== "string"){const err9 = {instancePath:instancePath+"/InputPath",schemaPath:"#/properties/InputPath/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema377.properties.InputPath.type,parentSchema:schema377.properties.InputPath,data:data5};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(data.ResultPath !== undefined){let data6 = data.ResultPath;if(typeof data6 !== "string"){const err10 = {instancePath:instancePath+"/ResultPath",schemaPath:"#/properties/ResultPath/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema377.properties.ResultPath.type,parentSchema:schema377.properties.ResultPath,data:data6};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data.Branches !== undefined){let data7 = data.Branches;if(Array.isArray(data7)){const len0 = data7.length;for(let i0=0; i0<len0; i0++){let data8 = data7[i0];if(data8 && typeof data8 == "object" && !Array.isArray(data8)){if(data8.configParentResourceType === undefined){const err11 = {instancePath:instancePath+"/Branches/" + i0,schemaPath:"#/definitions/StpStateMachine/required",keyword:"required",params:{missingProperty: "configParentResourceType"},message:"must have required property '"+"configParentResourceType"+"'",schema:schema376.required,parentSchema:schema376,data:data8};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}if(data8.name === undefined){const err12 = {instancePath:instancePath+"/Branches/" + i0,schemaPath:"#/definitions/StpStateMachine/required",keyword:"required",params:{missingProperty: "name"},message:"must have required property '"+"name"+"'",schema:schema376.required,parentSchema:schema376,data:data8};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}if(data8.nameChain === undefined){const err13 = {instancePath:instancePath+"/Branches/" + i0,schemaPath:"#/definitions/StpStateMachine/required",keyword:"required",params:{missingProperty: "nameChain"},message:"must have required property '"+"nameChain"+"'",schema:schema376.required,parentSchema:schema376,data:data8};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}if(data8.type === undefined){const err14 = {instancePath:instancePath+"/Branches/" + i0,schemaPath:"#/definitions/StpStateMachine/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema376.required,parentSchema:schema376,data:data8};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}for(const key1 in data8){if(!((((key1 === "name") || (key1 === "type")) || (key1 === "configParentResourceType")) || (key1 === "nameChain"))){const err15 = {instancePath:instancePath+"/Branches/" + i0,schemaPath:"#/definitions/StpStateMachine/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema376,data:data8};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}}if(data8.name !== undefined){let data9 = data8.name;if(typeof data9 !== "string"){const err16 = {instancePath:instancePath+"/Branches/" + i0+"/name",schemaPath:"#/definitions/StpStateMachine/properties/name/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema376.properties.name.type,parentSchema:schema376.properties.name,data:data9};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}}if(data8.type !== undefined){let data10 = data8.type;if(typeof data10 !== "string"){const err17 = {instancePath:instancePath+"/Branches/" + i0+"/type",schemaPath:"#/definitions/StpStateMachine/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema376.properties.type.type,parentSchema:schema376.properties.type,data:data10};if(vErrors === null){vErrors = [err17];}else {vErrors.push(err17);}errors++;}if("state-machine" !== data10){const err18 = {instancePath:instancePath+"/Branches/" + i0+"/type",schemaPath:"#/definitions/StpStateMachine/properties/type/const",keyword:"const",params:{allowedValue: "state-machine"},message:"must be equal to constant",schema:"state-machine",parentSchema:schema376.properties.type,data:data10};if(vErrors === null){vErrors = [err18];}else {vErrors.push(err18);}errors++;}}if(data8.configParentResourceType !== undefined){let data11 = data8.configParentResourceType;if(typeof data11 !== "string"){const err19 = {instancePath:instancePath+"/Branches/" + i0+"/configParentResourceType",schemaPath:"#/definitions/StpStateMachine/properties/configParentResourceType/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema376.properties.configParentResourceType.type,parentSchema:schema376.properties.configParentResourceType,data:data11};if(vErrors === null){vErrors = [err19];}else {vErrors.push(err19);}errors++;}if("state-machine" !== data11){const err20 = {instancePath:instancePath+"/Branches/" + i0+"/configParentResourceType",schemaPath:"#/definitions/StpStateMachine/properties/configParentResourceType/const",keyword:"const",params:{allowedValue: "state-machine"},message:"must be equal to constant",schema:"state-machine",parentSchema:schema376.properties.configParentResourceType,data:data11};if(vErrors === null){vErrors = [err20];}else {vErrors.push(err20);}errors++;}}if(data8.nameChain !== undefined){let data12 = data8.nameChain;if(Array.isArray(data12)){const len1 = data12.length;for(let i1=0; i1<len1; i1++){let data13 = data12[i1];if(typeof data13 !== "string"){const err21 = {instancePath:instancePath+"/Branches/" + i0+"/nameChain/" + i1,schemaPath:"#/definitions/StpStateMachine/properties/nameChain/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema376.properties.nameChain.items.type,parentSchema:schema376.properties.nameChain.items,data:data13};if(vErrors === null){vErrors = [err21];}else {vErrors.push(err21);}errors++;}}}else {const err22 = {instancePath:instancePath+"/Branches/" + i0+"/nameChain",schemaPath:"#/definitions/StpStateMachine/properties/nameChain/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema376.properties.nameChain.type,parentSchema:schema376.properties.nameChain,data:data12};if(vErrors === null){vErrors = [err22];}else {vErrors.push(err22);}errors++;}}}else {const err23 = {instancePath:instancePath+"/Branches/" + i0,schemaPath:"#/definitions/StpStateMachine/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema376.type,parentSchema:schema376,data:data8};if(vErrors === null){vErrors = [err23];}else {vErrors.push(err23);}errors++;}}}else {const err24 = {instancePath:instancePath+"/Branches",schemaPath:"#/properties/Branches/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema377.properties.Branches.type,parentSchema:schema377.properties.Branches,data:data7};if(vErrors === null){vErrors = [err24];}else {vErrors.push(err24);}errors++;}}if(data.Retry !== undefined){let data14 = data.Retry;if(Array.isArray(data14)){const len2 = data14.length;for(let i2=0; i2<len2; i2++){let data15 = data14[i2];if(data15 && typeof data15 == "object" && !Array.isArray(data15)){if(data15.ErrorEquals === undefined){const err25 = {instancePath:instancePath+"/Retry/" + i2,schemaPath:"#/properties/Retry/items/required",keyword:"required",params:{missingProperty: "ErrorEquals"},message:"must have required property '"+"ErrorEquals"+"'",schema:schema377.properties.Retry.items.required,parentSchema:schema377.properties.Retry.items,data:data15};if(vErrors === null){vErrors = [err25];}else {vErrors.push(err25);}errors++;}if(data15.ErrorEquals !== undefined){let data16 = data15.ErrorEquals;if(Array.isArray(data16)){const len3 = data16.length;for(let i3=0; i3<len3; i3++){let data17 = data16[i3];if(typeof data17 !== "string"){const err26 = {instancePath:instancePath+"/Retry/" + i2+"/ErrorEquals/" + i3,schemaPath:"#/properties/Retry/items/properties/ErrorEquals/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema377.properties.Retry.items.properties.ErrorEquals.items.type,parentSchema:schema377.properties.Retry.items.properties.ErrorEquals.items,data:data17};if(vErrors === null){vErrors = [err26];}else {vErrors.push(err26);}errors++;}}}else {const err27 = {instancePath:instancePath+"/Retry/" + i2+"/ErrorEquals",schemaPath:"#/properties/Retry/items/properties/ErrorEquals/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema377.properties.Retry.items.properties.ErrorEquals.type,parentSchema:schema377.properties.Retry.items.properties.ErrorEquals,data:data16};if(vErrors === null){vErrors = [err27];}else {vErrors.push(err27);}errors++;}}if(data15.IntervalSeconds !== undefined){let data18 = data15.IntervalSeconds;if(!(typeof data18 == "number")){const err28 = {instancePath:instancePath+"/Retry/" + i2+"/IntervalSeconds",schemaPath:"#/properties/Retry/items/properties/IntervalSeconds/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema377.properties.Retry.items.properties.IntervalSeconds.type,parentSchema:schema377.properties.Retry.items.properties.IntervalSeconds,data:data18};if(vErrors === null){vErrors = [err28];}else {vErrors.push(err28);}errors++;}}if(data15.MaxAttempts !== undefined){let data19 = data15.MaxAttempts;if(!(typeof data19 == "number")){const err29 = {instancePath:instancePath+"/Retry/" + i2+"/MaxAttempts",schemaPath:"#/properties/Retry/items/properties/MaxAttempts/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema377.properties.Retry.items.properties.MaxAttempts.type,parentSchema:schema377.properties.Retry.items.properties.MaxAttempts,data:data19};if(vErrors === null){vErrors = [err29];}else {vErrors.push(err29);}errors++;}}if(data15.BackoffRate !== undefined){let data20 = data15.BackoffRate;if(!(typeof data20 == "number")){const err30 = {instancePath:instancePath+"/Retry/" + i2+"/BackoffRate",schemaPath:"#/properties/Retry/items/properties/BackoffRate/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema377.properties.Retry.items.properties.BackoffRate.type,parentSchema:schema377.properties.Retry.items.properties.BackoffRate,data:data20};if(vErrors === null){vErrors = [err30];}else {vErrors.push(err30);}errors++;}}}else {const err31 = {instancePath:instancePath+"/Retry/" + i2,schemaPath:"#/properties/Retry/items/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema377.properties.Retry.items.type,parentSchema:schema377.properties.Retry.items,data:data15};if(vErrors === null){vErrors = [err31];}else {vErrors.push(err31);}errors++;}}}else {const err32 = {instancePath:instancePath+"/Retry",schemaPath:"#/properties/Retry/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema377.properties.Retry.type,parentSchema:schema377.properties.Retry,data:data14};if(vErrors === null){vErrors = [err32];}else {vErrors.push(err32);}errors++;}}if(data.Catch !== undefined){let data21 = data.Catch;if(Array.isArray(data21)){const len4 = data21.length;for(let i4=0; i4<len4; i4++){let data22 = data21[i4];if(data22 && typeof data22 == "object" && !Array.isArray(data22)){if(data22.ErrorEquals === undefined){const err33 = {instancePath:instancePath+"/Catch/" + i4,schemaPath:"#/properties/Catch/items/required",keyword:"required",params:{missingProperty: "ErrorEquals"},message:"must have required property '"+"ErrorEquals"+"'",schema:schema377.properties.Catch.items.required,parentSchema:schema377.properties.Catch.items,data:data22};if(vErrors === null){vErrors = [err33];}else {vErrors.push(err33);}errors++;}if(data22.Next === undefined){const err34 = {instancePath:instancePath+"/Catch/" + i4,schemaPath:"#/properties/Catch/items/required",keyword:"required",params:{missingProperty: "Next"},message:"must have required property '"+"Next"+"'",schema:schema377.properties.Catch.items.required,parentSchema:schema377.properties.Catch.items,data:data22};if(vErrors === null){vErrors = [err34];}else {vErrors.push(err34);}errors++;}if(data22.ErrorEquals !== undefined){let data23 = data22.ErrorEquals;if(Array.isArray(data23)){const len5 = data23.length;for(let i5=0; i5<len5; i5++){let data24 = data23[i5];if(typeof data24 !== "string"){const err35 = {instancePath:instancePath+"/Catch/" + i4+"/ErrorEquals/" + i5,schemaPath:"#/properties/Catch/items/properties/ErrorEquals/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema377.properties.Catch.items.properties.ErrorEquals.items.type,parentSchema:schema377.properties.Catch.items.properties.ErrorEquals.items,data:data24};if(vErrors === null){vErrors = [err35];}else {vErrors.push(err35);}errors++;}}}else {const err36 = {instancePath:instancePath+"/Catch/" + i4+"/ErrorEquals",schemaPath:"#/properties/Catch/items/properties/ErrorEquals/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema377.properties.Catch.items.properties.ErrorEquals.type,parentSchema:schema377.properties.Catch.items.properties.ErrorEquals,data:data23};if(vErrors === null){vErrors = [err36];}else {vErrors.push(err36);}errors++;}}if(data22.Next !== undefined){let data25 = data22.Next;if(typeof data25 !== "string"){const err37 = {instancePath:instancePath+"/Catch/" + i4+"/Next",schemaPath:"#/properties/Catch/items/properties/Next/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema377.properties.Catch.items.properties.Next.type,parentSchema:schema377.properties.Catch.items.properties.Next,data:data25};if(vErrors === null){vErrors = [err37];}else {vErrors.push(err37);}errors++;}}}else {const err38 = {instancePath:instancePath+"/Catch/" + i4,schemaPath:"#/properties/Catch/items/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema377.properties.Catch.items.type,parentSchema:schema377.properties.Catch.items,data:data22};if(vErrors === null){vErrors = [err38];}else {vErrors.push(err38);}errors++;}}}else {const err39 = {instancePath:instancePath+"/Catch",schemaPath:"#/properties/Catch/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema377.properties.Catch.type,parentSchema:schema377.properties.Catch,data:data21};if(vErrors === null){vErrors = [err39];}else {vErrors.push(err39);}errors++;}}}else {const err40 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema377.type,parentSchema:schema377,data};if(vErrors === null){vErrors = [err40];}else {vErrors.push(err40);}errors++;}validate420.errors = vErrors;return errors === 0;}function validate413(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;const _errs0 = errors;let valid0 = false;const _errs1 = errors;if(!(validate414(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate414.errors : vErrors.concat(validate414.errors);errors = vErrors.length;}var _valid0 = _errs1 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs2 = errors;if(data && typeof data == "object" && !Array.isArray(data)){if(data.Type === undefined){const err0 = {instancePath,schemaPath:"#/definitions/Fail/required",keyword:"required",params:{missingProperty: "Type"},message:"must have required property '"+"Type"+"'",schema:schema374.required,parentSchema:schema374,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!((((((key0 === "Type") || (key0 === "Comment")) || (key0 === "OutputPath")) || (key0 === "InputPath")) || (key0 === "Cause")) || (key0 === "Error"))){const err1 = {instancePath,schemaPath:"#/definitions/Fail/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema374,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.Type !== undefined){let data0 = data.Type;if(typeof data0 !== "string"){const err2 = {instancePath:instancePath+"/Type",schemaPath:"#/definitions/Fail/properties/Type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema374.properties.Type.type,parentSchema:schema374.properties.Type,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.Comment !== undefined){let data1 = data.Comment;if(typeof data1 !== "string"){const err3 = {instancePath:instancePath+"/Comment",schemaPath:"#/definitions/Fail/properties/Comment/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema374.properties.Comment.type,parentSchema:schema374.properties.Comment,data:data1};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.OutputPath !== undefined){let data2 = data.OutputPath;if(typeof data2 !== "string"){const err4 = {instancePath:instancePath+"/OutputPath",schemaPath:"#/definitions/Fail/properties/OutputPath/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema374.properties.OutputPath.type,parentSchema:schema374.properties.OutputPath,data:data2};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.InputPath !== undefined){let data3 = data.InputPath;if(typeof data3 !== "string"){const err5 = {instancePath:instancePath+"/InputPath",schemaPath:"#/definitions/Fail/properties/InputPath/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema374.properties.InputPath.type,parentSchema:schema374.properties.InputPath,data:data3};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data.Cause !== undefined){let data4 = data.Cause;if(typeof data4 !== "string"){const err6 = {instancePath:instancePath+"/Cause",schemaPath:"#/definitions/Fail/properties/Cause/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema374.properties.Cause.type,parentSchema:schema374.properties.Cause,data:data4};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data.Error !== undefined){let data5 = data.Error;if(typeof data5 !== "string"){const err7 = {instancePath:instancePath+"/Error",schemaPath:"#/definitions/Fail/properties/Error/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema374.properties.Error.type,parentSchema:schema374.properties.Error,data:data5};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}}else {const err8 = {instancePath,schemaPath:"#/definitions/Fail/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema374.type,parentSchema:schema374,data};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}var _valid0 = _errs2 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs18 = errors;if(!(validate418(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate418.errors : vErrors.concat(validate418.errors);errors = vErrors.length;}var _valid0 = _errs18 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs19 = errors;if(!(validate420(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate420.errors : vErrors.concat(validate420.errors);errors = vErrors.length;}var _valid0 = _errs19 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs20 = errors;if(data && typeof data == "object" && !Array.isArray(data)){if(data.Type === undefined){const err9 = {instancePath,schemaPath:"#/definitions/Pass/required",keyword:"required",params:{missingProperty: "Type"},message:"must have required property '"+"Type"+"'",schema:schema379.required,parentSchema:schema379,data};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}for(const key1 in data){if(!(func2.call(schema379.properties, key1))){const err10 = {instancePath,schemaPath:"#/definitions/Pass/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema379,data};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data.Type !== undefined){let data6 = data.Type;if(typeof data6 !== "string"){const err11 = {instancePath:instancePath+"/Type",schemaPath:"#/definitions/Pass/properties/Type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema379.properties.Type.type,parentSchema:schema379.properties.Type,data:data6};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}if(data.Next !== undefined){let data7 = data.Next;if(typeof data7 !== "string"){const err12 = {instancePath:instancePath+"/Next",schemaPath:"#/definitions/Pass/properties/Next/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema379.properties.Next.type,parentSchema:schema379.properties.Next,data:data7};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}if(data.End !== undefined){let data8 = data.End;if(typeof data8 !== "boolean"){const err13 = {instancePath:instancePath+"/End",schemaPath:"#/definitions/Pass/properties/End/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema379.properties.End.type,parentSchema:schema379.properties.End,data:data8};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}if(true !== data8){const err14 = {instancePath:instancePath+"/End",schemaPath:"#/definitions/Pass/properties/End/const",keyword:"const",params:{allowedValue: true},message:"must be equal to constant",schema:true,parentSchema:schema379.properties.End,data:data8};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}}if(data.Comment !== undefined){let data9 = data.Comment;if(typeof data9 !== "string"){const err15 = {instancePath:instancePath+"/Comment",schemaPath:"#/definitions/Pass/properties/Comment/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema379.properties.Comment.type,parentSchema:schema379.properties.Comment,data:data9};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}}if(data.OutputPath !== undefined){let data10 = data.OutputPath;if(typeof data10 !== "string"){const err16 = {instancePath:instancePath+"/OutputPath",schemaPath:"#/definitions/Pass/properties/OutputPath/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema379.properties.OutputPath.type,parentSchema:schema379.properties.OutputPath,data:data10};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}}if(data.InputPath !== undefined){let data11 = data.InputPath;if(typeof data11 !== "string"){const err17 = {instancePath:instancePath+"/InputPath",schemaPath:"#/definitions/Pass/properties/InputPath/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema379.properties.InputPath.type,parentSchema:schema379.properties.InputPath,data:data11};if(vErrors === null){vErrors = [err17];}else {vErrors.push(err17);}errors++;}}if(data.ResultPath !== undefined){let data12 = data.ResultPath;if(typeof data12 !== "string"){const err18 = {instancePath:instancePath+"/ResultPath",schemaPath:"#/definitions/Pass/properties/ResultPath/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema379.properties.ResultPath.type,parentSchema:schema379.properties.ResultPath,data:data12};if(vErrors === null){vErrors = [err18];}else {vErrors.push(err18);}errors++;}}if(data.Parameters !== undefined){let data13 = data.Parameters;if(data13 && typeof data13 == "object" && !Array.isArray(data13)){}else {const err19 = {instancePath:instancePath+"/Parameters",schemaPath:"#/definitions/Pass/properties/Parameters/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema379.properties.Parameters.type,parentSchema:schema379.properties.Parameters,data:data13};if(vErrors === null){vErrors = [err19];}else {vErrors.push(err19);}errors++;}}}else {const err20 = {instancePath,schemaPath:"#/definitions/Pass/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema379.type,parentSchema:schema379,data};if(vErrors === null){vErrors = [err20];}else {vErrors.push(err20);}errors++;}var _valid0 = _errs20 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs41 = errors;if(data && typeof data == "object" && !Array.isArray(data)){if(data.Type === undefined){const err21 = {instancePath,schemaPath:"#/definitions/Succeed/required",keyword:"required",params:{missingProperty: "Type"},message:"must have required property '"+"Type"+"'",schema:schema380.required,parentSchema:schema380,data};if(vErrors === null){vErrors = [err21];}else {vErrors.push(err21);}errors++;}for(const key2 in data){if(!((key2 === "Type") || (key2 === "Comment"))){const err22 = {instancePath,schemaPath:"#/definitions/Succeed/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key2},message:"must NOT have additional properties",schema:false,parentSchema:schema380,data};if(vErrors === null){vErrors = [err22];}else {vErrors.push(err22);}errors++;}}if(data.Type !== undefined){let data14 = data.Type;if(typeof data14 !== "string"){const err23 = {instancePath:instancePath+"/Type",schemaPath:"#/definitions/Succeed/properties/Type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema380.properties.Type.type,parentSchema:schema380.properties.Type,data:data14};if(vErrors === null){vErrors = [err23];}else {vErrors.push(err23);}errors++;}}if(data.Comment !== undefined){let data15 = data.Comment;if(typeof data15 !== "string"){const err24 = {instancePath:instancePath+"/Comment",schemaPath:"#/definitions/Succeed/properties/Comment/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema380.properties.Comment.type,parentSchema:schema380.properties.Comment,data:data15};if(vErrors === null){vErrors = [err24];}else {vErrors.push(err24);}errors++;}}}else {const err25 = {instancePath,schemaPath:"#/definitions/Succeed/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema380.type,parentSchema:schema380,data};if(vErrors === null){vErrors = [err25];}else {vErrors.push(err25);}errors++;}var _valid0 = _errs41 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs49 = errors;if(data && typeof data == "object" && !Array.isArray(data)){if(data.Resource === undefined){const err26 = {instancePath,schemaPath:"#/definitions/Task/required",keyword:"required",params:{missingProperty: "Resource"},message:"must have required property '"+"Resource"+"'",schema:schema381.required,parentSchema:schema381,data};if(vErrors === null){vErrors = [err26];}else {vErrors.push(err26);}errors++;}if(data.Type === undefined){const err27 = {instancePath,schemaPath:"#/definitions/Task/required",keyword:"required",params:{missingProperty: "Type"},message:"must have required property '"+"Type"+"'",schema:schema381.required,parentSchema:schema381,data};if(vErrors === null){vErrors = [err27];}else {vErrors.push(err27);}errors++;}for(const key3 in data){if(!(func2.call(schema381.properties, key3))){const err28 = {instancePath,schemaPath:"#/definitions/Task/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key3},message:"must NOT have additional properties",schema:false,parentSchema:schema381,data};if(vErrors === null){vErrors = [err28];}else {vErrors.push(err28);}errors++;}}if(data.Type !== undefined){let data16 = data.Type;if(typeof data16 !== "string"){const err29 = {instancePath:instancePath+"/Type",schemaPath:"#/definitions/Task/properties/Type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema381.properties.Type.type,parentSchema:schema381.properties.Type,data:data16};if(vErrors === null){vErrors = [err29];}else {vErrors.push(err29);}errors++;}}if(data.Next !== undefined){let data17 = data.Next;if(typeof data17 !== "string"){const err30 = {instancePath:instancePath+"/Next",schemaPath:"#/definitions/Task/properties/Next/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema381.properties.Next.type,parentSchema:schema381.properties.Next,data:data17};if(vErrors === null){vErrors = [err30];}else {vErrors.push(err30);}errors++;}}if(data.End !== undefined){let data18 = data.End;if(typeof data18 !== "boolean"){const err31 = {instancePath:instancePath+"/End",schemaPath:"#/definitions/Task/properties/End/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema381.properties.End.type,parentSchema:schema381.properties.End,data:data18};if(vErrors === null){vErrors = [err31];}else {vErrors.push(err31);}errors++;}if(true !== data18){const err32 = {instancePath:instancePath+"/End",schemaPath:"#/definitions/Task/properties/End/const",keyword:"const",params:{allowedValue: true},message:"must be equal to constant",schema:true,parentSchema:schema381.properties.End,data:data18};if(vErrors === null){vErrors = [err32];}else {vErrors.push(err32);}errors++;}}if(data.Comment !== undefined){let data19 = data.Comment;if(typeof data19 !== "string"){const err33 = {instancePath:instancePath+"/Comment",schemaPath:"#/definitions/Task/properties/Comment/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema381.properties.Comment.type,parentSchema:schema381.properties.Comment,data:data19};if(vErrors === null){vErrors = [err33];}else {vErrors.push(err33);}errors++;}}if(data.OutputPath !== undefined){let data20 = data.OutputPath;if(typeof data20 !== "string"){const err34 = {instancePath:instancePath+"/OutputPath",schemaPath:"#/definitions/Task/properties/OutputPath/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema381.properties.OutputPath.type,parentSchema:schema381.properties.OutputPath,data:data20};if(vErrors === null){vErrors = [err34];}else {vErrors.push(err34);}errors++;}}if(data.InputPath !== undefined){let data21 = data.InputPath;if(typeof data21 !== "string"){const err35 = {instancePath:instancePath+"/InputPath",schemaPath:"#/definitions/Task/properties/InputPath/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema381.properties.InputPath.type,parentSchema:schema381.properties.InputPath,data:data21};if(vErrors === null){vErrors = [err35];}else {vErrors.push(err35);}errors++;}}if(data.Resource !== undefined){let data22 = data.Resource;const _errs66 = errors;let valid9 = false;const _errs67 = errors;if(data22 && typeof data22 == "object" && !Array.isArray(data22)){}else {const err36 = {instancePath:instancePath+"/Resource",schemaPath:"#/definitions/Task/properties/Resource/anyOf/0/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema381.properties.Resource.anyOf[0].type,parentSchema:schema381.properties.Resource.anyOf[0],data:data22};if(vErrors === null){vErrors = [err36];}else {vErrors.push(err36);}errors++;}var _valid1 = _errs67 === errors;valid9 = valid9 || _valid1;if(!valid9){const _errs70 = errors;if(typeof data22 !== "string"){const err37 = {instancePath:instancePath+"/Resource",schemaPath:"#/definitions/Task/properties/Resource/anyOf/1/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema381.properties.Resource.anyOf[1].type,parentSchema:schema381.properties.Resource.anyOf[1],data:data22};if(vErrors === null){vErrors = [err37];}else {vErrors.push(err37);}errors++;}var _valid1 = _errs70 === errors;valid9 = valid9 || _valid1;}if(!valid9){const err38 = {instancePath:instancePath+"/Resource",schemaPath:"#/definitions/Task/properties/Resource/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:schema381.properties.Resource.anyOf,parentSchema:schema381.properties.Resource,data:data22};if(vErrors === null){vErrors = [err38];}else {vErrors.push(err38);}errors++;}else {errors = _errs66;if(vErrors !== null){if(_errs66){vErrors.length = _errs66;}else {vErrors = null;}}}}if(data.ResultPath !== undefined){let data23 = data.ResultPath;if(typeof data23 !== "string"){const err39 = {instancePath:instancePath+"/ResultPath",schemaPath:"#/definitions/Task/properties/ResultPath/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema381.properties.ResultPath.type,parentSchema:schema381.properties.ResultPath,data:data23};if(vErrors === null){vErrors = [err39];}else {vErrors.push(err39);}errors++;}}if(data.Retry !== undefined){let data24 = data.Retry;if(Array.isArray(data24)){const len0 = data24.length;for(let i0=0; i0<len0; i0++){let data25 = data24[i0];if(data25 && typeof data25 == "object" && !Array.isArray(data25)){if(data25.ErrorEquals === undefined){const err40 = {instancePath:instancePath+"/Retry/" + i0,schemaPath:"#/definitions/Task/properties/Retry/items/required",keyword:"required",params:{missingProperty: "ErrorEquals"},message:"must have required property '"+"ErrorEquals"+"'",schema:schema381.properties.Retry.items.required,parentSchema:schema381.properties.Retry.items,data:data25};if(vErrors === null){vErrors = [err40];}else {vErrors.push(err40);}errors++;}if(data25.ErrorEquals !== undefined){let data26 = data25.ErrorEquals;if(Array.isArray(data26)){const len1 = data26.length;for(let i1=0; i1<len1; i1++){let data27 = data26[i1];if(typeof data27 !== "string"){const err41 = {instancePath:instancePath+"/Retry/" + i0+"/ErrorEquals/" + i1,schemaPath:"#/definitions/Task/properties/Retry/items/properties/ErrorEquals/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema381.properties.Retry.items.properties.ErrorEquals.items.type,parentSchema:schema381.properties.Retry.items.properties.ErrorEquals.items,data:data27};if(vErrors === null){vErrors = [err41];}else {vErrors.push(err41);}errors++;}}}else {const err42 = {instancePath:instancePath+"/Retry/" + i0+"/ErrorEquals",schemaPath:"#/definitions/Task/properties/Retry/items/properties/ErrorEquals/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema381.properties.Retry.items.properties.ErrorEquals.type,parentSchema:schema381.properties.Retry.items.properties.ErrorEquals,data:data26};if(vErrors === null){vErrors = [err42];}else {vErrors.push(err42);}errors++;}}if(data25.IntervalSeconds !== undefined){let data28 = data25.IntervalSeconds;if(!(typeof data28 == "number")){const err43 = {instancePath:instancePath+"/Retry/" + i0+"/IntervalSeconds",schemaPath:"#/definitions/Task/properties/Retry/items/properties/IntervalSeconds/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema381.properties.Retry.items.properties.IntervalSeconds.type,parentSchema:schema381.properties.Retry.items.properties.IntervalSeconds,data:data28};if(vErrors === null){vErrors = [err43];}else {vErrors.push(err43);}errors++;}}if(data25.MaxAttempts !== undefined){let data29 = data25.MaxAttempts;if(!(typeof data29 == "number")){const err44 = {instancePath:instancePath+"/Retry/" + i0+"/MaxAttempts",schemaPath:"#/definitions/Task/properties/Retry/items/properties/MaxAttempts/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema381.properties.Retry.items.properties.MaxAttempts.type,parentSchema:schema381.properties.Retry.items.properties.MaxAttempts,data:data29};if(vErrors === null){vErrors = [err44];}else {vErrors.push(err44);}errors++;}}if(data25.BackoffRate !== undefined){let data30 = data25.BackoffRate;if(!(typeof data30 == "number")){const err45 = {instancePath:instancePath+"/Retry/" + i0+"/BackoffRate",schemaPath:"#/definitions/Task/properties/Retry/items/properties/BackoffRate/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema381.properties.Retry.items.properties.BackoffRate.type,parentSchema:schema381.properties.Retry.items.properties.BackoffRate,data:data30};if(vErrors === null){vErrors = [err45];}else {vErrors.push(err45);}errors++;}}}else {const err46 = {instancePath:instancePath+"/Retry/" + i0,schemaPath:"#/definitions/Task/properties/Retry/items/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema381.properties.Retry.items.type,parentSchema:schema381.properties.Retry.items,data:data25};if(vErrors === null){vErrors = [err46];}else {vErrors.push(err46);}errors++;}}}else {const err47 = {instancePath:instancePath+"/Retry",schemaPath:"#/definitions/Task/properties/Retry/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema381.properties.Retry.type,parentSchema:schema381.properties.Retry,data:data24};if(vErrors === null){vErrors = [err47];}else {vErrors.push(err47);}errors++;}}if(data.Catch !== undefined){let data31 = data.Catch;if(Array.isArray(data31)){const len2 = data31.length;for(let i2=0; i2<len2; i2++){let data32 = data31[i2];if(data32 && typeof data32 == "object" && !Array.isArray(data32)){if(data32.ErrorEquals === undefined){const err48 = {instancePath:instancePath+"/Catch/" + i2,schemaPath:"#/definitions/Task/properties/Catch/items/required",keyword:"required",params:{missingProperty: "ErrorEquals"},message:"must have required property '"+"ErrorEquals"+"'",schema:schema381.properties.Catch.items.required,parentSchema:schema381.properties.Catch.items,data:data32};if(vErrors === null){vErrors = [err48];}else {vErrors.push(err48);}errors++;}if(data32.Next === undefined){const err49 = {instancePath:instancePath+"/Catch/" + i2,schemaPath:"#/definitions/Task/properties/Catch/items/required",keyword:"required",params:{missingProperty: "Next"},message:"must have required property '"+"Next"+"'",schema:schema381.properties.Catch.items.required,parentSchema:schema381.properties.Catch.items,data:data32};if(vErrors === null){vErrors = [err49];}else {vErrors.push(err49);}errors++;}if(data32.ErrorEquals !== undefined){let data33 = data32.ErrorEquals;if(Array.isArray(data33)){const len3 = data33.length;for(let i3=0; i3<len3; i3++){let data34 = data33[i3];if(typeof data34 !== "string"){const err50 = {instancePath:instancePath+"/Catch/" + i2+"/ErrorEquals/" + i3,schemaPath:"#/definitions/Task/properties/Catch/items/properties/ErrorEquals/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema381.properties.Catch.items.properties.ErrorEquals.items.type,parentSchema:schema381.properties.Catch.items.properties.ErrorEquals.items,data:data34};if(vErrors === null){vErrors = [err50];}else {vErrors.push(err50);}errors++;}}}else {const err51 = {instancePath:instancePath+"/Catch/" + i2+"/ErrorEquals",schemaPath:"#/definitions/Task/properties/Catch/items/properties/ErrorEquals/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema381.properties.Catch.items.properties.ErrorEquals.type,parentSchema:schema381.properties.Catch.items.properties.ErrorEquals,data:data33};if(vErrors === null){vErrors = [err51];}else {vErrors.push(err51);}errors++;}}if(data32.Next !== undefined){let data35 = data32.Next;if(typeof data35 !== "string"){const err52 = {instancePath:instancePath+"/Catch/" + i2+"/Next",schemaPath:"#/definitions/Task/properties/Catch/items/properties/Next/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema381.properties.Catch.items.properties.Next.type,parentSchema:schema381.properties.Catch.items.properties.Next,data:data35};if(vErrors === null){vErrors = [err52];}else {vErrors.push(err52);}errors++;}}}else {const err53 = {instancePath:instancePath+"/Catch/" + i2,schemaPath:"#/definitions/Task/properties/Catch/items/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema381.properties.Catch.items.type,parentSchema:schema381.properties.Catch.items,data:data32};if(vErrors === null){vErrors = [err53];}else {vErrors.push(err53);}errors++;}}}else {const err54 = {instancePath:instancePath+"/Catch",schemaPath:"#/definitions/Task/properties/Catch/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema381.properties.Catch.type,parentSchema:schema381.properties.Catch,data:data31};if(vErrors === null){vErrors = [err54];}else {vErrors.push(err54);}errors++;}}if(data.TimeoutSeconds !== undefined){let data36 = data.TimeoutSeconds;if(!(typeof data36 == "number")){const err55 = {instancePath:instancePath+"/TimeoutSeconds",schemaPath:"#/definitions/Task/properties/TimeoutSeconds/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema381.properties.TimeoutSeconds.type,parentSchema:schema381.properties.TimeoutSeconds,data:data36};if(vErrors === null){vErrors = [err55];}else {vErrors.push(err55);}errors++;}}if(data.HeartbeatSeconds !== undefined){let data37 = data.HeartbeatSeconds;if(!(typeof data37 == "number")){const err56 = {instancePath:instancePath+"/HeartbeatSeconds",schemaPath:"#/definitions/Task/properties/HeartbeatSeconds/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema381.properties.HeartbeatSeconds.type,parentSchema:schema381.properties.HeartbeatSeconds,data:data37};if(vErrors === null){vErrors = [err56];}else {vErrors.push(err56);}errors++;}}if(data.Parameters !== undefined){let data38 = data.Parameters;if(data38 && typeof data38 == "object" && !Array.isArray(data38)){}else {const err57 = {instancePath:instancePath+"/Parameters",schemaPath:"#/definitions/Task/properties/Parameters/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema381.properties.Parameters.type,parentSchema:schema381.properties.Parameters,data:data38};if(vErrors === null){vErrors = [err57];}else {vErrors.push(err57);}errors++;}}}else {const err58 = {instancePath,schemaPath:"#/definitions/Task/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema381.type,parentSchema:schema381,data};if(vErrors === null){vErrors = [err58];}else {vErrors.push(err58);}errors++;}var _valid0 = _errs49 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs107 = errors;if(data && typeof data == "object" && !Array.isArray(data)){if(data.Type === undefined){const err59 = {instancePath,schemaPath:"#/definitions/Wait/required",keyword:"required",params:{missingProperty: "Type"},message:"must have required property '"+"Type"+"'",schema:schema382.required,parentSchema:schema382,data};if(vErrors === null){vErrors = [err59];}else {vErrors.push(err59);}errors++;}for(const key4 in data){if(!(func2.call(schema382.properties, key4))){const err60 = {instancePath,schemaPath:"#/definitions/Wait/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key4},message:"must NOT have additional properties",schema:false,parentSchema:schema382,data};if(vErrors === null){vErrors = [err60];}else {vErrors.push(err60);}errors++;}}if(data.Type !== undefined){let data39 = data.Type;if(typeof data39 !== "string"){const err61 = {instancePath:instancePath+"/Type",schemaPath:"#/definitions/Wait/properties/Type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema382.properties.Type.type,parentSchema:schema382.properties.Type,data:data39};if(vErrors === null){vErrors = [err61];}else {vErrors.push(err61);}errors++;}}if(data.Next !== undefined){let data40 = data.Next;if(typeof data40 !== "string"){const err62 = {instancePath:instancePath+"/Next",schemaPath:"#/definitions/Wait/properties/Next/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema382.properties.Next.type,parentSchema:schema382.properties.Next,data:data40};if(vErrors === null){vErrors = [err62];}else {vErrors.push(err62);}errors++;}}if(data.End !== undefined){let data41 = data.End;if(typeof data41 !== "boolean"){const err63 = {instancePath:instancePath+"/End",schemaPath:"#/definitions/Wait/properties/End/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema382.properties.End.type,parentSchema:schema382.properties.End,data:data41};if(vErrors === null){vErrors = [err63];}else {vErrors.push(err63);}errors++;}if(true !== data41){const err64 = {instancePath:instancePath+"/End",schemaPath:"#/definitions/Wait/properties/End/const",keyword:"const",params:{allowedValue: true},message:"must be equal to constant",schema:true,parentSchema:schema382.properties.End,data:data41};if(vErrors === null){vErrors = [err64];}else {vErrors.push(err64);}errors++;}}if(data.Comment !== undefined){let data42 = data.Comment;if(typeof data42 !== "string"){const err65 = {instancePath:instancePath+"/Comment",schemaPath:"#/definitions/Wait/properties/Comment/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema382.properties.Comment.type,parentSchema:schema382.properties.Comment,data:data42};if(vErrors === null){vErrors = [err65];}else {vErrors.push(err65);}errors++;}}if(data.OutputPath !== undefined){let data43 = data.OutputPath;if(typeof data43 !== "string"){const err66 = {instancePath:instancePath+"/OutputPath",schemaPath:"#/definitions/Wait/properties/OutputPath/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema382.properties.OutputPath.type,parentSchema:schema382.properties.OutputPath,data:data43};if(vErrors === null){vErrors = [err66];}else {vErrors.push(err66);}errors++;}}if(data.InputPath !== undefined){let data44 = data.InputPath;if(typeof data44 !== "string"){const err67 = {instancePath:instancePath+"/InputPath",schemaPath:"#/definitions/Wait/properties/InputPath/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema382.properties.InputPath.type,parentSchema:schema382.properties.InputPath,data:data44};if(vErrors === null){vErrors = [err67];}else {vErrors.push(err67);}errors++;}}if(data.Seconds !== undefined){let data45 = data.Seconds;if(!(typeof data45 == "number")){const err68 = {instancePath:instancePath+"/Seconds",schemaPath:"#/definitions/Wait/properties/Seconds/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema382.properties.Seconds.type,parentSchema:schema382.properties.Seconds,data:data45};if(vErrors === null){vErrors = [err68];}else {vErrors.push(err68);}errors++;}}if(data.Timestamp !== undefined){let data46 = data.Timestamp;if(typeof data46 !== "string"){const err69 = {instancePath:instancePath+"/Timestamp",schemaPath:"#/definitions/Wait/properties/Timestamp/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema382.properties.Timestamp.type,parentSchema:schema382.properties.Timestamp,data:data46};if(vErrors === null){vErrors = [err69];}else {vErrors.push(err69);}errors++;}}if(data.SecondsPath !== undefined){let data47 = data.SecondsPath;if(typeof data47 !== "string"){const err70 = {instancePath:instancePath+"/SecondsPath",schemaPath:"#/definitions/Wait/properties/SecondsPath/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema382.properties.SecondsPath.type,parentSchema:schema382.properties.SecondsPath,data:data47};if(vErrors === null){vErrors = [err70];}else {vErrors.push(err70);}errors++;}}if(data.TimestampPath !== undefined){let data48 = data.TimestampPath;if(typeof data48 !== "string"){const err71 = {instancePath:instancePath+"/TimestampPath",schemaPath:"#/definitions/Wait/properties/TimestampPath/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema382.properties.TimestampPath.type,parentSchema:schema382.properties.TimestampPath,data:data48};if(vErrors === null){vErrors = [err71];}else {vErrors.push(err71);}errors++;}}}else {const err72 = {instancePath,schemaPath:"#/definitions/Wait/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema382.type,parentSchema:schema382,data};if(vErrors === null){vErrors = [err72];}else {vErrors.push(err72);}errors++;}var _valid0 = _errs107 === errors;valid0 = valid0 || _valid0;}}}}}}}if(!valid0){const err73 = {instancePath,schemaPath:"#/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:schema371.anyOf,parentSchema:schema371,data};if(vErrors === null){vErrors = [err73];}else {vErrors.push(err73);}errors++;}else {errors = _errs0;if(vErrors !== null){if(_errs0){vErrors.length = _errs0;}else {vErrors = null;}}}validate413.errors = vErrors;return errors === 0;}function validate412(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.StartAt === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "StartAt"},message:"must have required property '"+"StartAt"+"'",schema:schema370.required,parentSchema:schema370,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.States === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "States"},message:"must have required property '"+"States"+"'",schema:schema370.required,parentSchema:schema370,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!(((((key0 === "Comment") || (key0 === "StartAt")) || (key0 === "States")) || (key0 === "Version")) || (key0 === "TimeoutSeconds"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema370,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.Comment !== undefined){let data0 = data.Comment;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/Comment",schemaPath:"#/properties/Comment/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema370.properties.Comment.type,parentSchema:schema370.properties.Comment,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.StartAt !== undefined){let data1 = data.StartAt;if(typeof data1 !== "string"){const err4 = {instancePath:instancePath+"/StartAt",schemaPath:"#/properties/StartAt/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema370.properties.StartAt.type,parentSchema:schema370.properties.StartAt,data:data1};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.States !== undefined){let data2 = data.States;if(data2 && typeof data2 == "object" && !Array.isArray(data2)){for(const key1 in data2){if(!(validate413(data2[key1], {instancePath:instancePath+"/States/" + key1.replace(/~/g, "~0").replace(/\//g, "~1"),parentData:data2,parentDataProperty:key1,rootData}))){vErrors = vErrors === null ? validate413.errors : vErrors.concat(validate413.errors);errors = vErrors.length;}}}else {const err5 = {instancePath:instancePath+"/States",schemaPath:"#/properties/States/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema370.properties.States.type,parentSchema:schema370.properties.States,data:data2};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data.Version !== undefined){let data4 = data.Version;if(typeof data4 !== "string"){const err6 = {instancePath:instancePath+"/Version",schemaPath:"#/properties/Version/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema370.properties.Version.type,parentSchema:schema370.properties.Version,data:data4};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data.TimeoutSeconds !== undefined){let data5 = data.TimeoutSeconds;if(!(typeof data5 == "number")){const err7 = {instancePath:instancePath+"/TimeoutSeconds",schemaPath:"#/properties/TimeoutSeconds/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema370.properties.TimeoutSeconds.type,parentSchema:schema370.properties.TimeoutSeconds,data:data5};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}}else {const err8 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema370.type,parentSchema:schema370,data};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}validate412.errors = vErrors;return errors === 0;}function validate411(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.definition === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "definition"},message:"must have required property '"+"definition"+"'",schema:schema369.required,parentSchema:schema369,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!(key0 === "definition")){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema369,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.definition !== undefined){if(!(validate412(data.definition, {instancePath:instancePath+"/definition",parentData:data,parentDataProperty:"definition",rootData}))){vErrors = vErrors === null ? validate412.errors : vErrors.concat(validate412.errors);errors = vErrors.length;}}}else {const err2 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema369.type,parentSchema:schema369,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}validate411.errors = vErrors;return errors === 0;}function validate410(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema368.required,parentSchema:schema368,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema368.required,parentSchema:schema368,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!(((key0 === "type") || (key0 === "properties")) || (key0 === "overrides"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema368,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema368.properties.type.type,parentSchema:schema368.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("state-machine" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "state-machine"},message:"must be equal to constant",schema:"state-machine",parentSchema:schema368.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate411(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate411.errors : vErrors.concat(validate411.errors);errors = vErrors.length;}}if(data.overrides !== undefined){let data2 = data.overrides;if(data2 && typeof data2 == "object" && !Array.isArray(data2)){for(const key1 in data2){let data3 = data2[key1];if(data3 && typeof data3 == "object" && !Array.isArray(data3)){}else {const err5 = {instancePath:instancePath+"/overrides/" + key1.replace(/~/g, "~0").replace(/\//g, "~1"),schemaPath:"#/properties/overrides/additionalProperties/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema368.properties.overrides.additionalProperties.type,parentSchema:schema368.properties.overrides.additionalProperties,data:data3};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}}else {const err6 = {instancePath:instancePath+"/overrides",schemaPath:"#/properties/overrides/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema368.properties.overrides.type,parentSchema:schema368.properties.overrides,data:data2};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}}else {const err7 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema368.type,parentSchema:schema368,data};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}validate410.errors = vErrors;return errors === 0;}const schema383 = {"description":"#### MongoDB Atlas Cluster\n\n---\n\nA fully managed MongoDB Atlas cluster that is automatically deployed to your AWS account and managed within your stack.","type":"object","properties":{"type":{"type":"string","const":"mongo-db-atlas-cluster"},"properties":{"$ref":"#/definitions/MongoDbAtlasClusterProps"}},"additionalProperties":false,"required":["properties","type"]};const schema384 = {"type":"object","properties":{"diskSizeGB":{"description":"#### The size of the disk, in GB.\n\n---\n\nBy default, all M10+ clusters automatically scale their storage. You can disable this behavior by configuring the `autoScaling` properties.\n\n> This property is not available for shared clusters (M2 and M5). For M10+ clusters, the default disk size depends on the instance size.\n> For more details, see the [MongoDB Atlas documentation](https://docs.atlas.mongodb.com/reference/faq/storage/).","type":"number"},"clusterTier":{"description":"#### Configures the resources for each data-bearing node in the cluster.\n\n---\n\nThis includes memory, default storage, and IOPS specifications.\nFor a list of available cluster tiers, see the [MongoDB Atlas documentation](https://docs.atlas.mongodb.com/reference/amazon-aws/#cluster-configuration-options).","enum":["M10","M100","M140","M2","M20","M200","M200 Low-CPU (R200)","M200_NVME","M30","M300","M300 Low-CPU (R300)","M40","M40 Low-CPU (R40)","M400","M400 Low-CPU (R400)","M400_NVME","M40_NVME","M5","M50","M50 Low-CPU (R50)","M50_NVME","M60","M60 Low-CPU (R60)","M60_NVME","M700","M700 Low-CPU (R700)","M80","M80 Low-CPU (R80)","M80_NVME"],"type":"string"},"version":{"description":"#### The major version of the MongoDB engine.\n\n---\n\nAvailable versions are `5.0`, `6.0`, and `7.0`.","default":7,"enum":["5.0","6.0","7.0"],"type":"string"},"numShards":{"description":"#### The number of shards for the cluster.\n\n---\n\nIf you configure more than one shard, the cluster will run in sharded mode, which distributes data across multiple machines to enable horizontal scaling.\nSharded mode is only available for cluster tiers M30 and higher.\n\nFor more details on sharding, see the [MongoDB documentation](https://www.mongodb.com/basics/sharding).","default":1,"type":"number"},"replication":{"$ref":"#/definitions/MongoDbReplication","description":"#### Configures additional nodes for your cluster.\n\n---\n\nIncreasing the number of nodes can lead to better redundancy and performance.\nBy default, each cluster has three data-bearing nodes that are electable to become the primary."},"enableBackups":{"description":"#### Enables backups for the cluster.\n\n---\n\nBackups are copies of your data that provide a safety measure in the event of data loss.\nThe default snapshot time is every day at 18:00 UTC.\nThis feature is only available for M10+ clusters.\n\nSnapshots are also automatically taken for M2/M5 clusters but have different properties. For more details, see the [M2 and M5 backup documentation](https://docs.atlas.mongodb.com/backup-restore-cluster/#m2---m5-snapshots).\n\nMongoDB Cloud Backup incurs additional charges. For more details, see the [MongoDB Cloud Backup pricing documentation](https://docs.atlas.mongodb.com/billing/cluster-configuration-costs/#cloud-backups).","type":"boolean"},"enablePointInTimeRecovery":{"description":"#### Enables point-in-time recovery.\n\n---\n\nThis feature enables Continuous Cloud Backups, which replay the oplog (a history of ordered logical writes) to allow you to restore a cluster to a specific point in time within the last 7 days.\nIt is only available for M10+ clusters and requires `enableBackups` to be `true`.\n\nContinuous Cloud Backup incurs additional charges. For more details, see the [MongoDB Continuous Cloud Backup pricing documentation](https://docs.atlas.mongodb.com/billing/cluster-configuration-costs/#continuous-cloud-backups).","type":"boolean"},"biConnector":{"$ref":"#/definitions/MongoDbBiConnector","description":"#### Configures the BI (Business Intelligence) Connector.\n\n---\n\nThe BI Connector allows SQL-based access to your data but can be CPU and memory-intensive.\nEnabling the BI Connector on `M10` and `M20` cluster tiers may cause performance degradation."},"autoScaling":{"$ref":"#/definitions/MongoDbAutoScaling","description":"#### Configures the scaling behavior of the cluster.\n\n---\n\nYou can configure your cluster to automatically scale its tier, storage capacity, or both, based on usage.\nTo control costs, you can select a range of cluster tiers to which your cluster can scale.\n\nA cluster is scaled **up** (to the next tier) if:\n- Average CPU utilization has exceeded 75% for the past hour.\n- Memory utilization has exceeded 75% for the past hour.\n\nA cluster is scaled **down** (to a lower tier) if:\n- The average CPU and memory utilization over the past 24 hours is below 50%.\n- The cluster has not been scaled down (manually or automatically) in the past 24 hours."},"adminUserCredentials":{"$ref":"#/definitions/MongoDbAdminUserCredentials","description":"#### Creates and configures a MongoDB Atlas `atlasAdmin` user.\n\n---\n\nThis allows you to create an admin user with [administrative access privileges](https://docs.atlas.mongodb.com/security-add-mongodb-users/#mongodb-atlasrole-Atlas-admin).\n\nWhile not required for accessing the cluster from your compute resources, creating an admin user is useful for performing administrative tasks or connecting to the cluster from a local machine."}},"additionalProperties":false,"required":["clusterTier"]};const schema385 = {"type":"object","properties":{"numAnalyticsNodes":{"description":"#### The number of analytics nodes.\n\n---\n\nAnalytics nodes are read-only nodes designed for long-running queries.\nUsing analytics nodes avoids impacting the performance of your operational compute resources.\nThey work well with the `biConnector` when the read preference is set to `analytics`.","type":"number"},"numElectableNodes":{"description":"#### The number of electable nodes.\n\n---\n\nElectable nodes can become the primary node, and adding more improves the redundancy and availability of the cluster.","default":3,"enum":[3,5,7],"type":"number"},"numReadOnlyNodes":{"description":"#### The number of read-only nodes.","type":"number"}},"additionalProperties":false};const schema386 = {"type":"object","properties":{"readPreference":{"description":"#### Configures the type of node to which the BI Connector will connect.","enum":["analytics","primary","secondary"],"type":"string"},"enabled":{"description":"#### Enables the BI Connector.","default":false,"type":"boolean"}},"additionalProperties":false,"required":["enabled"]};const schema387 = {"type":"object","properties":{"minClusterTier":{"description":"#### The minimum cluster tier to scale down to.","enum":["M10","M100","M140","M20","M200","M200 Low-CPU (R200)","M200_NVME","M30","M300","M300 Low-CPU (R300)","M40","M40 Low-CPU (R40)","M400 Low-CPU (R400)","M400_NVME","M40_NVME","M50","M50 Low-CPU (R50)","M50_NVME","M60","M60 Low-CPU (R60)","M60_NVME","M700 Low-CPU (R700)","M80","M80 Low-CPU (R80)","M80_NVME"],"type":"string"},"maxClusterTier":{"description":"#### The maximum cluster tier to scale up to.","enum":["M10","M100","M140","M20","M200","M200 Low-CPU (R200)","M200_NVME","M30","M300","M300 Low-CPU (R300)","M40","M40 Low-CPU (R40)","M400 Low-CPU (R400)","M400_NVME","M40_NVME","M50","M50 Low-CPU (R50)","M50_NVME","M60","M60 Low-CPU (R60)","M60_NVME","M700 Low-CPU (R700)","M80","M80 Low-CPU (R80)","M80_NVME"],"type":"string"},"disableDiskScaling":{"description":"#### Disables disk size scaling.\n\n---\n\nWhen disk scaling is enabled, cluster storage automatically increases when disk space usage reaches 90%, aiming for 70% disk utilization.\nCluster storage is never automatically scaled down.","type":"boolean"},"disableScaleDown":{"description":"#### Disables the scale-down of the cluster tier.\n\n---\n\nWhen scale-down is disabled, the cluster can only scale up to a higher tier.","type":"boolean"}},"additionalProperties":false};const schema388 = {"type":"object","properties":{"userName":{"description":"#### Name of the admin user","type":"string"},"password":{"description":"#### Password for the admin user","type":"string"}},"additionalProperties":false,"required":["password","userName"]};function validate427(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.clusterTier === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "clusterTier"},message:"must have required property '"+"clusterTier"+"'",schema:schema384.required,parentSchema:schema384,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!(func2.call(schema384.properties, key0))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema384,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.diskSizeGB !== undefined){let data0 = data.diskSizeGB;if(!(typeof data0 == "number")){const err2 = {instancePath:instancePath+"/diskSizeGB",schemaPath:"#/properties/diskSizeGB/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema384.properties.diskSizeGB.type,parentSchema:schema384.properties.diskSizeGB,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.clusterTier !== undefined){let data1 = data.clusterTier;if(typeof data1 !== "string"){const err3 = {instancePath:instancePath+"/clusterTier",schemaPath:"#/properties/clusterTier/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema384.properties.clusterTier.type,parentSchema:schema384.properties.clusterTier,data:data1};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if(!(((((((((((((((((((((((((((((data1 === "M10") || (data1 === "M100")) || (data1 === "M140")) || (data1 === "M2")) || (data1 === "M20")) || (data1 === "M200")) || (data1 === "M200 Low-CPU (R200)")) || (data1 === "M200_NVME")) || (data1 === "M30")) || (data1 === "M300")) || (data1 === "M300 Low-CPU (R300)")) || (data1 === "M40")) || (data1 === "M40 Low-CPU (R40)")) || (data1 === "M400")) || (data1 === "M400 Low-CPU (R400)")) || (data1 === "M400_NVME")) || (data1 === "M40_NVME")) || (data1 === "M5")) || (data1 === "M50")) || (data1 === "M50 Low-CPU (R50)")) || (data1 === "M50_NVME")) || (data1 === "M60")) || (data1 === "M60 Low-CPU (R60)")) || (data1 === "M60_NVME")) || (data1 === "M700")) || (data1 === "M700 Low-CPU (R700)")) || (data1 === "M80")) || (data1 === "M80 Low-CPU (R80)")) || (data1 === "M80_NVME"))){const err4 = {instancePath:instancePath+"/clusterTier",schemaPath:"#/properties/clusterTier/enum",keyword:"enum",params:{allowedValues: schema384.properties.clusterTier.enum},message:"must be equal to one of the allowed values",schema:schema384.properties.clusterTier.enum,parentSchema:schema384.properties.clusterTier,data:data1};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.version !== undefined){let data2 = data.version;if(typeof data2 !== "string"){const err5 = {instancePath:instancePath+"/version",schemaPath:"#/properties/version/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema384.properties.version.type,parentSchema:schema384.properties.version,data:data2};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}if(!(((data2 === "5.0") || (data2 === "6.0")) || (data2 === "7.0"))){const err6 = {instancePath:instancePath+"/version",schemaPath:"#/properties/version/enum",keyword:"enum",params:{allowedValues: schema384.properties.version.enum},message:"must be equal to one of the allowed values",schema:schema384.properties.version.enum,parentSchema:schema384.properties.version,data:data2};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data.numShards !== undefined){let data3 = data.numShards;if(!(typeof data3 == "number")){const err7 = {instancePath:instancePath+"/numShards",schemaPath:"#/properties/numShards/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema384.properties.numShards.type,parentSchema:schema384.properties.numShards,data:data3};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data.replication !== undefined){let data4 = data.replication;if(data4 && typeof data4 == "object" && !Array.isArray(data4)){for(const key1 in data4){if(!(((key1 === "numAnalyticsNodes") || (key1 === "numElectableNodes")) || (key1 === "numReadOnlyNodes"))){const err8 = {instancePath:instancePath+"/replication",schemaPath:"#/definitions/MongoDbReplication/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema385,data:data4};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}if(data4.numAnalyticsNodes !== undefined){let data5 = data4.numAnalyticsNodes;if(!(typeof data5 == "number")){const err9 = {instancePath:instancePath+"/replication/numAnalyticsNodes",schemaPath:"#/definitions/MongoDbReplication/properties/numAnalyticsNodes/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema385.properties.numAnalyticsNodes.type,parentSchema:schema385.properties.numAnalyticsNodes,data:data5};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(data4.numElectableNodes !== undefined){let data6 = data4.numElectableNodes;if(!(typeof data6 == "number")){const err10 = {instancePath:instancePath+"/replication/numElectableNodes",schemaPath:"#/definitions/MongoDbReplication/properties/numElectableNodes/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema385.properties.numElectableNodes.type,parentSchema:schema385.properties.numElectableNodes,data:data6};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}if(!(((data6 === 3) || (data6 === 5)) || (data6 === 7))){const err11 = {instancePath:instancePath+"/replication/numElectableNodes",schemaPath:"#/definitions/MongoDbReplication/properties/numElectableNodes/enum",keyword:"enum",params:{allowedValues: schema385.properties.numElectableNodes.enum},message:"must be equal to one of the allowed values",schema:schema385.properties.numElectableNodes.enum,parentSchema:schema385.properties.numElectableNodes,data:data6};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}if(data4.numReadOnlyNodes !== undefined){let data7 = data4.numReadOnlyNodes;if(!(typeof data7 == "number")){const err12 = {instancePath:instancePath+"/replication/numReadOnlyNodes",schemaPath:"#/definitions/MongoDbReplication/properties/numReadOnlyNodes/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema385.properties.numReadOnlyNodes.type,parentSchema:schema385.properties.numReadOnlyNodes,data:data7};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}}else {const err13 = {instancePath:instancePath+"/replication",schemaPath:"#/definitions/MongoDbReplication/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema385.type,parentSchema:schema385,data:data4};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}if(data.enableBackups !== undefined){let data8 = data.enableBackups;if(typeof data8 !== "boolean"){const err14 = {instancePath:instancePath+"/enableBackups",schemaPath:"#/properties/enableBackups/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema384.properties.enableBackups.type,parentSchema:schema384.properties.enableBackups,data:data8};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}}if(data.enablePointInTimeRecovery !== undefined){let data9 = data.enablePointInTimeRecovery;if(typeof data9 !== "boolean"){const err15 = {instancePath:instancePath+"/enablePointInTimeRecovery",schemaPath:"#/properties/enablePointInTimeRecovery/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema384.properties.enablePointInTimeRecovery.type,parentSchema:schema384.properties.enablePointInTimeRecovery,data:data9};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}}if(data.biConnector !== undefined){let data10 = data.biConnector;if(data10 && typeof data10 == "object" && !Array.isArray(data10)){if(data10.enabled === undefined){const err16 = {instancePath:instancePath+"/biConnector",schemaPath:"#/definitions/MongoDbBiConnector/required",keyword:"required",params:{missingProperty: "enabled"},message:"must have required property '"+"enabled"+"'",schema:schema386.required,parentSchema:schema386,data:data10};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}for(const key2 in data10){if(!((key2 === "readPreference") || (key2 === "enabled"))){const err17 = {instancePath:instancePath+"/biConnector",schemaPath:"#/definitions/MongoDbBiConnector/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key2},message:"must NOT have additional properties",schema:false,parentSchema:schema386,data:data10};if(vErrors === null){vErrors = [err17];}else {vErrors.push(err17);}errors++;}}if(data10.readPreference !== undefined){let data11 = data10.readPreference;if(typeof data11 !== "string"){const err18 = {instancePath:instancePath+"/biConnector/readPreference",schemaPath:"#/definitions/MongoDbBiConnector/properties/readPreference/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema386.properties.readPreference.type,parentSchema:schema386.properties.readPreference,data:data11};if(vErrors === null){vErrors = [err18];}else {vErrors.push(err18);}errors++;}if(!(((data11 === "analytics") || (data11 === "primary")) || (data11 === "secondary"))){const err19 = {instancePath:instancePath+"/biConnector/readPreference",schemaPath:"#/definitions/MongoDbBiConnector/properties/readPreference/enum",keyword:"enum",params:{allowedValues: schema386.properties.readPreference.enum},message:"must be equal to one of the allowed values",schema:schema386.properties.readPreference.enum,parentSchema:schema386.properties.readPreference,data:data11};if(vErrors === null){vErrors = [err19];}else {vErrors.push(err19);}errors++;}}if(data10.enabled !== undefined){let data12 = data10.enabled;if(typeof data12 !== "boolean"){const err20 = {instancePath:instancePath+"/biConnector/enabled",schemaPath:"#/definitions/MongoDbBiConnector/properties/enabled/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema386.properties.enabled.type,parentSchema:schema386.properties.enabled,data:data12};if(vErrors === null){vErrors = [err20];}else {vErrors.push(err20);}errors++;}}}else {const err21 = {instancePath:instancePath+"/biConnector",schemaPath:"#/definitions/MongoDbBiConnector/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema386.type,parentSchema:schema386,data:data10};if(vErrors === null){vErrors = [err21];}else {vErrors.push(err21);}errors++;}}if(data.autoScaling !== undefined){let data13 = data.autoScaling;if(data13 && typeof data13 == "object" && !Array.isArray(data13)){for(const key3 in data13){if(!((((key3 === "minClusterTier") || (key3 === "maxClusterTier")) || (key3 === "disableDiskScaling")) || (key3 === "disableScaleDown"))){const err22 = {instancePath:instancePath+"/autoScaling",schemaPath:"#/definitions/MongoDbAutoScaling/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key3},message:"must NOT have additional properties",schema:false,parentSchema:schema387,data:data13};if(vErrors === null){vErrors = [err22];}else {vErrors.push(err22);}errors++;}}if(data13.minClusterTier !== undefined){let data14 = data13.minClusterTier;if(typeof data14 !== "string"){const err23 = {instancePath:instancePath+"/autoScaling/minClusterTier",schemaPath:"#/definitions/MongoDbAutoScaling/properties/minClusterTier/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema387.properties.minClusterTier.type,parentSchema:schema387.properties.minClusterTier,data:data14};if(vErrors === null){vErrors = [err23];}else {vErrors.push(err23);}errors++;}if(!(((((((((((((((((((((((((data14 === "M10") || (data14 === "M100")) || (data14 === "M140")) || (data14 === "M20")) || (data14 === "M200")) || (data14 === "M200 Low-CPU (R200)")) || (data14 === "M200_NVME")) || (data14 === "M30")) || (data14 === "M300")) || (data14 === "M300 Low-CPU (R300)")) || (data14 === "M40")) || (data14 === "M40 Low-CPU (R40)")) || (data14 === "M400 Low-CPU (R400)")) || (data14 === "M400_NVME")) || (data14 === "M40_NVME")) || (data14 === "M50")) || (data14 === "M50 Low-CPU (R50)")) || (data14 === "M50_NVME")) || (data14 === "M60")) || (data14 === "M60 Low-CPU (R60)")) || (data14 === "M60_NVME")) || (data14 === "M700 Low-CPU (R700)")) || (data14 === "M80")) || (data14 === "M80 Low-CPU (R80)")) || (data14 === "M80_NVME"))){const err24 = {instancePath:instancePath+"/autoScaling/minClusterTier",schemaPath:"#/definitions/MongoDbAutoScaling/properties/minClusterTier/enum",keyword:"enum",params:{allowedValues: schema387.properties.minClusterTier.enum},message:"must be equal to one of the allowed values",schema:schema387.properties.minClusterTier.enum,parentSchema:schema387.properties.minClusterTier,data:data14};if(vErrors === null){vErrors = [err24];}else {vErrors.push(err24);}errors++;}}if(data13.maxClusterTier !== undefined){let data15 = data13.maxClusterTier;if(typeof data15 !== "string"){const err25 = {instancePath:instancePath+"/autoScaling/maxClusterTier",schemaPath:"#/definitions/MongoDbAutoScaling/properties/maxClusterTier/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema387.properties.maxClusterTier.type,parentSchema:schema387.properties.maxClusterTier,data:data15};if(vErrors === null){vErrors = [err25];}else {vErrors.push(err25);}errors++;}if(!(((((((((((((((((((((((((data15 === "M10") || (data15 === "M100")) || (data15 === "M140")) || (data15 === "M20")) || (data15 === "M200")) || (data15 === "M200 Low-CPU (R200)")) || (data15 === "M200_NVME")) || (data15 === "M30")) || (data15 === "M300")) || (data15 === "M300 Low-CPU (R300)")) || (data15 === "M40")) || (data15 === "M40 Low-CPU (R40)")) || (data15 === "M400 Low-CPU (R400)")) || (data15 === "M400_NVME")) || (data15 === "M40_NVME")) || (data15 === "M50")) || (data15 === "M50 Low-CPU (R50)")) || (data15 === "M50_NVME")) || (data15 === "M60")) || (data15 === "M60 Low-CPU (R60)")) || (data15 === "M60_NVME")) || (data15 === "M700 Low-CPU (R700)")) || (data15 === "M80")) || (data15 === "M80 Low-CPU (R80)")) || (data15 === "M80_NVME"))){const err26 = {instancePath:instancePath+"/autoScaling/maxClusterTier",schemaPath:"#/definitions/MongoDbAutoScaling/properties/maxClusterTier/enum",keyword:"enum",params:{allowedValues: schema387.properties.maxClusterTier.enum},message:"must be equal to one of the allowed values",schema:schema387.properties.maxClusterTier.enum,parentSchema:schema387.properties.maxClusterTier,data:data15};if(vErrors === null){vErrors = [err26];}else {vErrors.push(err26);}errors++;}}if(data13.disableDiskScaling !== undefined){let data16 = data13.disableDiskScaling;if(typeof data16 !== "boolean"){const err27 = {instancePath:instancePath+"/autoScaling/disableDiskScaling",schemaPath:"#/definitions/MongoDbAutoScaling/properties/disableDiskScaling/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema387.properties.disableDiskScaling.type,parentSchema:schema387.properties.disableDiskScaling,data:data16};if(vErrors === null){vErrors = [err27];}else {vErrors.push(err27);}errors++;}}if(data13.disableScaleDown !== undefined){let data17 = data13.disableScaleDown;if(typeof data17 !== "boolean"){const err28 = {instancePath:instancePath+"/autoScaling/disableScaleDown",schemaPath:"#/definitions/MongoDbAutoScaling/properties/disableScaleDown/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema387.properties.disableScaleDown.type,parentSchema:schema387.properties.disableScaleDown,data:data17};if(vErrors === null){vErrors = [err28];}else {vErrors.push(err28);}errors++;}}}else {const err29 = {instancePath:instancePath+"/autoScaling",schemaPath:"#/definitions/MongoDbAutoScaling/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema387.type,parentSchema:schema387,data:data13};if(vErrors === null){vErrors = [err29];}else {vErrors.push(err29);}errors++;}}if(data.adminUserCredentials !== undefined){let data18 = data.adminUserCredentials;if(data18 && typeof data18 == "object" && !Array.isArray(data18)){if(data18.password === undefined){const err30 = {instancePath:instancePath+"/adminUserCredentials",schemaPath:"#/definitions/MongoDbAdminUserCredentials/required",keyword:"required",params:{missingProperty: "password"},message:"must have required property '"+"password"+"'",schema:schema388.required,parentSchema:schema388,data:data18};if(vErrors === null){vErrors = [err30];}else {vErrors.push(err30);}errors++;}if(data18.userName === undefined){const err31 = {instancePath:instancePath+"/adminUserCredentials",schemaPath:"#/definitions/MongoDbAdminUserCredentials/required",keyword:"required",params:{missingProperty: "userName"},message:"must have required property '"+"userName"+"'",schema:schema388.required,parentSchema:schema388,data:data18};if(vErrors === null){vErrors = [err31];}else {vErrors.push(err31);}errors++;}for(const key4 in data18){if(!((key4 === "userName") || (key4 === "password"))){const err32 = {instancePath:instancePath+"/adminUserCredentials",schemaPath:"#/definitions/MongoDbAdminUserCredentials/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key4},message:"must NOT have additional properties",schema:false,parentSchema:schema388,data:data18};if(vErrors === null){vErrors = [err32];}else {vErrors.push(err32);}errors++;}}if(data18.userName !== undefined){let data19 = data18.userName;if(typeof data19 !== "string"){const err33 = {instancePath:instancePath+"/adminUserCredentials/userName",schemaPath:"#/definitions/MongoDbAdminUserCredentials/properties/userName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema388.properties.userName.type,parentSchema:schema388.properties.userName,data:data19};if(vErrors === null){vErrors = [err33];}else {vErrors.push(err33);}errors++;}}if(data18.password !== undefined){let data20 = data18.password;if(typeof data20 !== "string"){const err34 = {instancePath:instancePath+"/adminUserCredentials/password",schemaPath:"#/definitions/MongoDbAdminUserCredentials/properties/password/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema388.properties.password.type,parentSchema:schema388.properties.password,data:data20};if(vErrors === null){vErrors = [err34];}else {vErrors.push(err34);}errors++;}}}else {const err35 = {instancePath:instancePath+"/adminUserCredentials",schemaPath:"#/definitions/MongoDbAdminUserCredentials/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema388.type,parentSchema:schema388,data:data18};if(vErrors === null){vErrors = [err35];}else {vErrors.push(err35);}errors++;}}}else {const err36 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema384.type,parentSchema:schema384,data};if(vErrors === null){vErrors = [err36];}else {vErrors.push(err36);}errors++;}validate427.errors = vErrors;return errors === 0;}function validate426(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema383.required,parentSchema:schema383,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema383.required,parentSchema:schema383,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema383,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema383.properties.type.type,parentSchema:schema383.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("mongo-db-atlas-cluster" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "mongo-db-atlas-cluster"},message:"must be equal to constant",schema:"mongo-db-atlas-cluster",parentSchema:schema383.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate427(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate427.errors : vErrors.concat(validate427.errors);errors = vErrors.length;}}}else {const err5 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema383.type,parentSchema:schema383,data};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}validate426.errors = vErrors;return errors === 0;}const schema389 = {"description":"#### Redis cluster\n\n---\n\nA fully managed, Redis-compatible in-memory data store with sub-millisecond latency.","type":"object","properties":{"type":{"type":"string","const":"redis-cluster"},"properties":{"$ref":"#/definitions/RedisClusterProps"},"overrides":{"description":"#### Resource Overrides\n\n---\n\nOverrides properties of the underlying CloudFormation resources that Stacktape creates.\n\nChild resources are identified by their CloudFormation logical ID (e.g., `MyBucketBucket`). You can find these IDs by running `stacktape stack:info --detailed`.\n\nFor a list of properties that can be overridden, refer to the [AWS CloudFormation documentation](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html).","type":"object","additionalProperties":{"type":"object","additionalProperties":{}}}},"additionalProperties":false,"required":["properties","type"]};const schema390 = {"type":"object","properties":{"enableSharding":{"description":"#### Enables sharding for the cluster.\n\n---\n\nSharding allows you to scale your Redis cluster horizontally by splitting the data across multiple shards.\nEach shard is managed by its own cluster, which includes a primary instance and a specified number of replicas.\nYou can increase or decrease the number of shards without interrupting the cluster.\nRouting and re-balancing are handled automatically by AWS.\n\n> **Limitations:**\n> - Sharding can only be enabled when the cluster is first created.\n> - You cannot change the number of replica nodes (`numReplicaNodes`) after a sharded cluster has been created.\n> - `numReplicaNodes` must be at least `1` for sharded clusters.\n\nFor more details, see the [AWS documentation](https://docs.stacktape.com/resources/redis-clusters/#sharded-cluster).","type":"boolean"},"numShards":{"description":"#### The number of shards for the cluster.\n\n---\n\nThis property is only effective when `enableSharding` is `true`.","default":1,"type":"number"},"numReplicaNodes":{"description":"#### The number of replica nodes in the cluster.\n\n---\n\nAdding replica nodes (read replicas) provides two main benefits:\n1.  **Increased read throughput:** Read requests are distributed across the replicas.\n2.  **Increased availability:** If the primary node fails, a replica can be promoted to take its place.\n\nLoad balancing between replicas is handled automatically by AWS.\nFor sharded clusters, this property specifies the number of replicas for each shard.\n\n> **Note:** You cannot change this value for a sharded cluster after it has been created.","default":0,"type":"number"},"enableAutomaticFailover":{"description":"#### Enables automatic failover of the cluster's primary instance.\n\n---\n\nWhen enabled, a replica will automatically be promoted to primary if the original primary node fails.\n`numReplicaNodes` must be at least `1` to use this feature.\nOn sharded clusters, automatic failover is always enabled and cannot be disabled.\n\n> **Important:** If you want to enable automatic failover, you must first deploy the cluster with at least one replica, and then enable failover in a subsequent deployment.\n> Similarly, to disable automatic failover, you must first disable it and then remove the replicas in a separate deployment.","type":"boolean"},"instanceSize":{"description":"#### The instance size for every node in the cluster.\n\n---\n\nThis applies to both primary and replica nodes.\nDifferent instance sizes offer varying amounts of memory and network performance.\nYou can change the instance size without interrupting the cluster or losing data.\n\nFor a detailed list of available instance types, see the [AWS pricing page](https://aws.amazon.com/elasticache/pricing/).","enum":["cache.m4.10xlarge","cache.m4.2xlarge","cache.m4.4xlarge","cache.m4.large","cache.m4.xlarge","cache.m5.12xlarge","cache.m5.24xlarge","cache.m5.2xlarge","cache.m5.4xlarge","cache.m5.large","cache.m5.xlarge","cache.m6g.12xlarge","cache.m6g.16xlarge","cache.m6g.2xlarge","cache.m6g.4xlarge","cache.m6g.8xlarge","cache.m6g.large","cache.m6g.xlarge","cache.m7g.12xlarge","cache.m7g.16xlarge","cache.m7g.2xlarge","cache.m7g.4xlarge","cache.m7g.8xlarge","cache.m7g.large","cache.m7g.xlarge","cache.r4.16xlarge","cache.r4.2xlarge","cache.r4.4xlarge","cache.r4.8xlarge","cache.r4.large","cache.r4.xlarge","cache.r5.12xlarge","cache.r5.24xlarge","cache.r5.2xlarge","cache.r5.4xlarge","cache.r5.large","cache.r5.xlarge","cache.r6g.12xlarge","cache.r6g.16xlarge","cache.r6g.2xlarge","cache.r6g.4xlarge","cache.r6g.8xlarge","cache.r6g.large","cache.r6g.xlarge","cache.r7g.12xlarge","cache.r7g.16xlarge","cache.r7g.2xlarge","cache.r7g.4xlarge","cache.r7g.8xlarge","cache.r7g.large","cache.r7g.xlarge","cache.t2.medium","cache.t2.micro","cache.t2.small","cache.t3.medium","cache.t3.micro","cache.t3.small","cache.t4g.medium","cache.t4g.micro","cache.t4g.small"],"type":"string"},"logging":{"$ref":"#/definitions/RedisLogging","description":"#### Configures the logging behavior and format.\n\n---\n\nThe [slow log](https://redis.io/commands/slowlog) is sent to a dedicated CloudWatch log group.\nBy default, logs are retained for 180 days.\n\nYou can access your logs in two ways:\n1.  **AWS CloudWatch Console:** Use the `stacktape stack-info` command to get a direct link to the log group.\n2.  **Stacktape CLI:** Use the [`stacktape logs` command](https://docs.stacktape.com/cli/commands/logs/) to view logs in your terminal."},"automatedBackupRetentionDays":{"description":"#### The retention period for automated backups, in days.\n\n---\n\n- When set to `0`, automatic backups are disabled.\n- This retention period does not apply to manual backups created in the AWS console or via the API.","default":0,"type":"number"},"port":{"description":"#### The port on which the Redis cluster will listen for connections.","default":6379,"type":"number"},"defaultUserPassword":{"description":"#### The password for the default cluster user.\n\n---\n\nRedis clusters are password-protected, and all communication is encrypted in transit.\nIt is recommended to use [secrets](/resources/secrets/) to manage this password instead of hardcoding it.\n\n**Password Constraints:**\n- Must contain only printable ASCII characters.\n- Must be between 16 and 128 characters long.\n- Cannot contain the following characters: `/`, `\"`, or `@`.","type":"string"},"accessibility":{"$ref":"#/definitions/RedisAccessibility","description":"#### Configures which resources and hosts can access your cluster."},"engineVersion":{"description":"#### The Redis engine version to use.\n\n---","default":6.2,"enum":["6.0","6.2","7.0","7.1"],"type":"string"},"dev":{"$ref":"#/definitions/DevModeConfig","description":"#### Dev Mode Configuration\n\n---\n\nConfigures how this Redis cluster behaves during `stacktape dev` mode.\nBy default, Redis runs locally using Docker. Set `dev.remote: true` to connect to the deployed AWS Redis cluster instead."}},"additionalProperties":false,"required":["defaultUserPassword","instanceSize"]};const schema392 = {"type":"object","properties":{"accessibilityMode":{"description":"#### The accessibility mode for this cluster.\n\n---\n\nThe following modes are supported:\n\n- **`vpc`**: The cluster can only be accessed from resources within your VPC. This includes any [function](https://docs.stacktape.com/compute-resources/lambda-functions) (with `joinDefaultVpc: true`), [batch job](https://docs.stacktape.com/compute-resources/batch-jobs), or [container workload](https://docs.stacktape.com/compute-resources/multi-container-workloads) in your stack.\n\n- **`scoping-workloads-in-vpc`**: Similar to `vpc` mode, but more restrictive. In addition to being in the same VPC, resources must have the necessary security group permissions to access the cluster. For functions, batch jobs, and container services, these permissions can be granted using the `connectTo` property in their respective configurations.\n\nRedis clusters do not support public IP addresses, so you cannot connect to them directly from your local machine.\nYou can use a bastion host to access the cluster, and native support for bastion hosts will be available in Stacktape soon.\n\nTo learn more about VPCs, see the [VPC documentation](https://docs.stacktape.com/user-guides/vpcs/).","default":"vpc","enum":["scoping-workloads-in-vpc","vpc"],"type":"string"}},"additionalProperties":false,"required":["accessibilityMode"]};const schema391 = {"type":"object","properties":{"disabled":{"description":"#### Disables the collection of [slow logs](https://redis.io/commands/slowlog-get) to CloudWatch.","default":false,"type":"boolean"},"format":{"description":"#### The format for the logs.","default":"json","enum":["json","text"],"type":"string"},"retentionDays":{"description":"#### The number of days to retain logs in the CloudWatch log group.","default":90,"enum":[1,120,14,150,180,1827,3,30,365,3653,400,5,545,60,7,731,90],"type":"number"},"logForwarding":{"description":"#### Log Forwarding\n\n---\n\nForwards logs to a specified destination for monitoring, analysis, or long-term storage.\n\nLog forwarding is handled by an [Amazon Kinesis Data Firehose](https://aws.amazon.com/kinesis/data-firehose/) delivery stream. You will incur costs based on the volume of data transferred (approximately $0.03 per GB). For detailed pricing, see the [AWS Kinesis Firehose Pricing](https://aws.amazon.com/kinesis/data-firehose/pricing/) page.\n\nSupported destinations:\n- `http-endpoint`: Delivers logs to any HTTP endpoint that complies with [Firehose request and response specifications](https://docs.aws.amazon.com/firehose/latest/dev/httpdeliveryrequestresponse.html). Many third-party logging services are compatible out-of-the-box.\n- `datadog`: Delivers logs to [Datadog](https://www.datadoghq.com/).\n- `highlight`: Delivers logs to a [Highlight.io](https://www.highlight.io/) project.\n\nFor more information, refer to the [Stacktape documentation on log forwarding](https://docs.stacktape.com/configuration/log-forwarding/).\n\n> If logs fail to be delivered after multiple retries, they are stored in a backup S3 bucket named `{stackName}-{resourceName}-logs-{generatedHash}`. The retry duration can be configured.","anyOf":[{"$ref":"#/definitions/HttpEndpointLogForwarding"},{"$ref":"#/definitions/HighlightLogForwarding"},{"$ref":"#/definitions/DatadogLogForwarding"}]}},"additionalProperties":false};function validate432(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){for(const key0 in data){if(!((((key0 === "disabled") || (key0 === "format")) || (key0 === "retentionDays")) || (key0 === "logForwarding"))){const err0 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema391,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}}if(data.disabled !== undefined){let data0 = data.disabled;if(typeof data0 !== "boolean"){const err1 = {instancePath:instancePath+"/disabled",schemaPath:"#/properties/disabled/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema391.properties.disabled.type,parentSchema:schema391.properties.disabled,data:data0};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.format !== undefined){let data1 = data.format;if(typeof data1 !== "string"){const err2 = {instancePath:instancePath+"/format",schemaPath:"#/properties/format/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema391.properties.format.type,parentSchema:schema391.properties.format,data:data1};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}if(!((data1 === "json") || (data1 === "text"))){const err3 = {instancePath:instancePath+"/format",schemaPath:"#/properties/format/enum",keyword:"enum",params:{allowedValues: schema391.properties.format.enum},message:"must be equal to one of the allowed values",schema:schema391.properties.format.enum,parentSchema:schema391.properties.format,data:data1};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.retentionDays !== undefined){let data2 = data.retentionDays;if(!(typeof data2 == "number")){const err4 = {instancePath:instancePath+"/retentionDays",schemaPath:"#/properties/retentionDays/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema391.properties.retentionDays.type,parentSchema:schema391.properties.retentionDays,data:data2};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}if(!(((((((((((((((((data2 === 1) || (data2 === 120)) || (data2 === 14)) || (data2 === 150)) || (data2 === 180)) || (data2 === 1827)) || (data2 === 3)) || (data2 === 30)) || (data2 === 365)) || (data2 === 3653)) || (data2 === 400)) || (data2 === 5)) || (data2 === 545)) || (data2 === 60)) || (data2 === 7)) || (data2 === 731)) || (data2 === 90))){const err5 = {instancePath:instancePath+"/retentionDays",schemaPath:"#/properties/retentionDays/enum",keyword:"enum",params:{allowedValues: schema391.properties.retentionDays.enum},message:"must be equal to one of the allowed values",schema:schema391.properties.retentionDays.enum,parentSchema:schema391.properties.retentionDays,data:data2};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data.logForwarding !== undefined){let data3 = data.logForwarding;const _errs9 = errors;let valid1 = false;const _errs10 = errors;if(!(validate80(data3, {instancePath:instancePath+"/logForwarding",parentData:data,parentDataProperty:"logForwarding",rootData}))){vErrors = vErrors === null ? validate80.errors : vErrors.concat(validate80.errors);errors = vErrors.length;}var _valid0 = _errs10 === errors;valid1 = valid1 || _valid0;if(!valid1){const _errs11 = errors;if(!(validate82(data3, {instancePath:instancePath+"/logForwarding",parentData:data,parentDataProperty:"logForwarding",rootData}))){vErrors = vErrors === null ? validate82.errors : vErrors.concat(validate82.errors);errors = vErrors.length;}var _valid0 = _errs11 === errors;valid1 = valid1 || _valid0;if(!valid1){const _errs12 = errors;if(!(validate84(data3, {instancePath:instancePath+"/logForwarding",parentData:data,parentDataProperty:"logForwarding",rootData}))){vErrors = vErrors === null ? validate84.errors : vErrors.concat(validate84.errors);errors = vErrors.length;}var _valid0 = _errs12 === errors;valid1 = valid1 || _valid0;}}if(!valid1){const err6 = {instancePath:instancePath+"/logForwarding",schemaPath:"#/properties/logForwarding/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:schema391.properties.logForwarding.anyOf,parentSchema:schema391.properties.logForwarding,data:data3};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}else {errors = _errs9;if(vErrors !== null){if(_errs9){vErrors.length = _errs9;}else {vErrors = null;}}}}}else {const err7 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema391.type,parentSchema:schema391,data};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}validate432.errors = vErrors;return errors === 0;}function validate431(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.defaultUserPassword === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "defaultUserPassword"},message:"must have required property '"+"defaultUserPassword"+"'",schema:schema390.required,parentSchema:schema390,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.instanceSize === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "instanceSize"},message:"must have required property '"+"instanceSize"+"'",schema:schema390.required,parentSchema:schema390,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!(func2.call(schema390.properties, key0))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema390,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.enableSharding !== undefined){let data0 = data.enableSharding;if(typeof data0 !== "boolean"){const err3 = {instancePath:instancePath+"/enableSharding",schemaPath:"#/properties/enableSharding/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema390.properties.enableSharding.type,parentSchema:schema390.properties.enableSharding,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.numShards !== undefined){let data1 = data.numShards;if(!(typeof data1 == "number")){const err4 = {instancePath:instancePath+"/numShards",schemaPath:"#/properties/numShards/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema390.properties.numShards.type,parentSchema:schema390.properties.numShards,data:data1};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.numReplicaNodes !== undefined){let data2 = data.numReplicaNodes;if(!(typeof data2 == "number")){const err5 = {instancePath:instancePath+"/numReplicaNodes",schemaPath:"#/properties/numReplicaNodes/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema390.properties.numReplicaNodes.type,parentSchema:schema390.properties.numReplicaNodes,data:data2};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data.enableAutomaticFailover !== undefined){let data3 = data.enableAutomaticFailover;if(typeof data3 !== "boolean"){const err6 = {instancePath:instancePath+"/enableAutomaticFailover",schemaPath:"#/properties/enableAutomaticFailover/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema390.properties.enableAutomaticFailover.type,parentSchema:schema390.properties.enableAutomaticFailover,data:data3};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data.instanceSize !== undefined){let data4 = data.instanceSize;if(typeof data4 !== "string"){const err7 = {instancePath:instancePath+"/instanceSize",schemaPath:"#/properties/instanceSize/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema390.properties.instanceSize.type,parentSchema:schema390.properties.instanceSize,data:data4};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}if(!((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((data4 === "cache.m4.10xlarge") || (data4 === "cache.m4.2xlarge")) || (data4 === "cache.m4.4xlarge")) || (data4 === "cache.m4.large")) || (data4 === "cache.m4.xlarge")) || (data4 === "cache.m5.12xlarge")) || (data4 === "cache.m5.24xlarge")) || (data4 === "cache.m5.2xlarge")) || (data4 === "cache.m5.4xlarge")) || (data4 === "cache.m5.large")) || (data4 === "cache.m5.xlarge")) || (data4 === "cache.m6g.12xlarge")) || (data4 === "cache.m6g.16xlarge")) || (data4 === "cache.m6g.2xlarge")) || (data4 === "cache.m6g.4xlarge")) || (data4 === "cache.m6g.8xlarge")) || (data4 === "cache.m6g.large")) || (data4 === "cache.m6g.xlarge")) || (data4 === "cache.m7g.12xlarge")) || (data4 === "cache.m7g.16xlarge")) || (data4 === "cache.m7g.2xlarge")) || (data4 === "cache.m7g.4xlarge")) || (data4 === "cache.m7g.8xlarge")) || (data4 === "cache.m7g.large")) || (data4 === "cache.m7g.xlarge")) || (data4 === "cache.r4.16xlarge")) || (data4 === "cache.r4.2xlarge")) || (data4 === "cache.r4.4xlarge")) || (data4 === "cache.r4.8xlarge")) || (data4 === "cache.r4.large")) || (data4 === "cache.r4.xlarge")) || (data4 === "cache.r5.12xlarge")) || (data4 === "cache.r5.24xlarge")) || (data4 === "cache.r5.2xlarge")) || (data4 === "cache.r5.4xlarge")) || (data4 === "cache.r5.large")) || (data4 === "cache.r5.xlarge")) || (data4 === "cache.r6g.12xlarge")) || (data4 === "cache.r6g.16xlarge")) || (data4 === "cache.r6g.2xlarge")) || (data4 === "cache.r6g.4xlarge")) || (data4 === "cache.r6g.8xlarge")) || (data4 === "cache.r6g.large")) || (data4 === "cache.r6g.xlarge")) || (data4 === "cache.r7g.12xlarge")) || (data4 === "cache.r7g.16xlarge")) || (data4 === "cache.r7g.2xlarge")) || (data4 === "cache.r7g.4xlarge")) || (data4 === "cache.r7g.8xlarge")) || (data4 === "cache.r7g.large")) || (data4 === "cache.r7g.xlarge")) || (data4 === "cache.t2.medium")) || (data4 === "cache.t2.micro")) || (data4 === "cache.t2.small")) || (data4 === "cache.t3.medium")) || (data4 === "cache.t3.micro")) || (data4 === "cache.t3.small")) || (data4 === "cache.t4g.medium")) || (data4 === "cache.t4g.micro")) || (data4 === "cache.t4g.small"))){const err8 = {instancePath:instancePath+"/instanceSize",schemaPath:"#/properties/instanceSize/enum",keyword:"enum",params:{allowedValues: schema390.properties.instanceSize.enum},message:"must be equal to one of the allowed values",schema:schema390.properties.instanceSize.enum,parentSchema:schema390.properties.instanceSize,data:data4};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}if(data.logging !== undefined){if(!(validate432(data.logging, {instancePath:instancePath+"/logging",parentData:data,parentDataProperty:"logging",rootData}))){vErrors = vErrors === null ? validate432.errors : vErrors.concat(validate432.errors);errors = vErrors.length;}}if(data.automatedBackupRetentionDays !== undefined){let data6 = data.automatedBackupRetentionDays;if(!(typeof data6 == "number")){const err9 = {instancePath:instancePath+"/automatedBackupRetentionDays",schemaPath:"#/properties/automatedBackupRetentionDays/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema390.properties.automatedBackupRetentionDays.type,parentSchema:schema390.properties.automatedBackupRetentionDays,data:data6};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(data.port !== undefined){let data7 = data.port;if(!(typeof data7 == "number")){const err10 = {instancePath:instancePath+"/port",schemaPath:"#/properties/port/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema390.properties.port.type,parentSchema:schema390.properties.port,data:data7};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data.defaultUserPassword !== undefined){let data8 = data.defaultUserPassword;if(typeof data8 !== "string"){const err11 = {instancePath:instancePath+"/defaultUserPassword",schemaPath:"#/properties/defaultUserPassword/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema390.properties.defaultUserPassword.type,parentSchema:schema390.properties.defaultUserPassword,data:data8};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}if(data.accessibility !== undefined){let data9 = data.accessibility;if(data9 && typeof data9 == "object" && !Array.isArray(data9)){if(data9.accessibilityMode === undefined){const err12 = {instancePath:instancePath+"/accessibility",schemaPath:"#/definitions/RedisAccessibility/required",keyword:"required",params:{missingProperty: "accessibilityMode"},message:"must have required property '"+"accessibilityMode"+"'",schema:schema392.required,parentSchema:schema392,data:data9};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}for(const key1 in data9){if(!(key1 === "accessibilityMode")){const err13 = {instancePath:instancePath+"/accessibility",schemaPath:"#/definitions/RedisAccessibility/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema392,data:data9};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}if(data9.accessibilityMode !== undefined){let data10 = data9.accessibilityMode;if(typeof data10 !== "string"){const err14 = {instancePath:instancePath+"/accessibility/accessibilityMode",schemaPath:"#/definitions/RedisAccessibility/properties/accessibilityMode/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema392.properties.accessibilityMode.type,parentSchema:schema392.properties.accessibilityMode,data:data10};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}if(!((data10 === "scoping-workloads-in-vpc") || (data10 === "vpc"))){const err15 = {instancePath:instancePath+"/accessibility/accessibilityMode",schemaPath:"#/definitions/RedisAccessibility/properties/accessibilityMode/enum",keyword:"enum",params:{allowedValues: schema392.properties.accessibilityMode.enum},message:"must be equal to one of the allowed values",schema:schema392.properties.accessibilityMode.enum,parentSchema:schema392.properties.accessibilityMode,data:data10};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}}}else {const err16 = {instancePath:instancePath+"/accessibility",schemaPath:"#/definitions/RedisAccessibility/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema392.type,parentSchema:schema392,data:data9};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}}if(data.engineVersion !== undefined){let data11 = data.engineVersion;if(typeof data11 !== "string"){const err17 = {instancePath:instancePath+"/engineVersion",schemaPath:"#/properties/engineVersion/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema390.properties.engineVersion.type,parentSchema:schema390.properties.engineVersion,data:data11};if(vErrors === null){vErrors = [err17];}else {vErrors.push(err17);}errors++;}if(!((((data11 === "6.0") || (data11 === "6.2")) || (data11 === "7.0")) || (data11 === "7.1"))){const err18 = {instancePath:instancePath+"/engineVersion",schemaPath:"#/properties/engineVersion/enum",keyword:"enum",params:{allowedValues: schema390.properties.engineVersion.enum},message:"must be equal to one of the allowed values",schema:schema390.properties.engineVersion.enum,parentSchema:schema390.properties.engineVersion,data:data11};if(vErrors === null){vErrors = [err18];}else {vErrors.push(err18);}errors++;}}if(data.dev !== undefined){let data12 = data.dev;if(data12 && typeof data12 == "object" && !Array.isArray(data12)){for(const key2 in data12){if(!(key2 === "remote")){const err19 = {instancePath:instancePath+"/dev",schemaPath:"#/definitions/DevModeConfig/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key2},message:"must NOT have additional properties",schema:false,parentSchema:schema291,data:data12};if(vErrors === null){vErrors = [err19];}else {vErrors.push(err19);}errors++;}}if(data12.remote !== undefined){let data13 = data12.remote;if(typeof data13 !== "boolean"){const err20 = {instancePath:instancePath+"/dev/remote",schemaPath:"#/definitions/DevModeConfig/properties/remote/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema291.properties.remote.type,parentSchema:schema291.properties.remote,data:data13};if(vErrors === null){vErrors = [err20];}else {vErrors.push(err20);}errors++;}}}else {const err21 = {instancePath:instancePath+"/dev",schemaPath:"#/definitions/DevModeConfig/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema291.type,parentSchema:schema291,data:data12};if(vErrors === null){vErrors = [err21];}else {vErrors.push(err21);}errors++;}}}else {const err22 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema390.type,parentSchema:schema390,data};if(vErrors === null){vErrors = [err22];}else {vErrors.push(err22);}errors++;}validate431.errors = vErrors;return errors === 0;}function validate430(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema389.required,parentSchema:schema389,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema389.required,parentSchema:schema389,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!(((key0 === "type") || (key0 === "properties")) || (key0 === "overrides"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema389,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema389.properties.type.type,parentSchema:schema389.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("redis-cluster" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "redis-cluster"},message:"must be equal to constant",schema:"redis-cluster",parentSchema:schema389.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate431(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate431.errors : vErrors.concat(validate431.errors);errors = vErrors.length;}}if(data.overrides !== undefined){let data2 = data.overrides;if(data2 && typeof data2 == "object" && !Array.isArray(data2)){for(const key1 in data2){let data3 = data2[key1];if(data3 && typeof data3 == "object" && !Array.isArray(data3)){}else {const err5 = {instancePath:instancePath+"/overrides/" + key1.replace(/~/g, "~0").replace(/\//g, "~1"),schemaPath:"#/properties/overrides/additionalProperties/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema389.properties.overrides.additionalProperties.type,parentSchema:schema389.properties.overrides.additionalProperties,data:data3};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}}else {const err6 = {instancePath:instancePath+"/overrides",schemaPath:"#/properties/overrides/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema389.properties.overrides.type,parentSchema:schema389.properties.overrides,data:data2};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}}else {const err7 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema389.type,parentSchema:schema389,data};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}validate430.errors = vErrors;return errors === 0;}const schema394 = {"description":"#### Custom resource instance\n\n---\n\nCreates an instance of a `custom-resource-definition`.\nThis is useful for creating resources that are not natively supported by AWS CloudFormation or for provisioning services from other providers.","type":"object","properties":{"type":{"type":"string","const":"custom-resource-instance"},"properties":{"$ref":"#/definitions/CustomResourceInstanceProps"},"overrides":{"description":"#### Resource Overrides\n\n---\n\nOverrides properties of the underlying CloudFormation resources that Stacktape creates.\n\nChild resources are identified by their CloudFormation logical ID (e.g., `MyBucketBucket`). You can find these IDs by running `stacktape stack:info --detailed`.\n\nFor a list of properties that can be overridden, refer to the [AWS CloudFormation documentation](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html).","type":"object","additionalProperties":{"type":"object","additionalProperties":{}}}},"additionalProperties":false,"required":["properties","type"]};const schema395 = {"type":"object","properties":{"definitionName":{"description":"#### The name of the `custom-resource-definition` to use.","type":"string"},"resourceProperties":{"description":"#### Properties passed to the custom resource instance.\n\n---\n\nThese properties will be accessible to the custom resource Lambda function during execution.","type":"object","additionalProperties":{}}},"additionalProperties":false,"required":["definitionName","resourceProperties"]};function validate439(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema394.required,parentSchema:schema394,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema394.required,parentSchema:schema394,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!(((key0 === "type") || (key0 === "properties")) || (key0 === "overrides"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema394,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema394.properties.type.type,parentSchema:schema394.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("custom-resource-instance" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "custom-resource-instance"},message:"must be equal to constant",schema:"custom-resource-instance",parentSchema:schema394.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){let data1 = data.properties;if(data1 && typeof data1 == "object" && !Array.isArray(data1)){if(data1.definitionName === undefined){const err5 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/CustomResourceInstanceProps/required",keyword:"required",params:{missingProperty: "definitionName"},message:"must have required property '"+"definitionName"+"'",schema:schema395.required,parentSchema:schema395,data:data1};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}if(data1.resourceProperties === undefined){const err6 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/CustomResourceInstanceProps/required",keyword:"required",params:{missingProperty: "resourceProperties"},message:"must have required property '"+"resourceProperties"+"'",schema:schema395.required,parentSchema:schema395,data:data1};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}for(const key1 in data1){if(!((key1 === "definitionName") || (key1 === "resourceProperties"))){const err7 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/CustomResourceInstanceProps/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema395,data:data1};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data1.definitionName !== undefined){let data2 = data1.definitionName;if(typeof data2 !== "string"){const err8 = {instancePath:instancePath+"/properties/definitionName",schemaPath:"#/definitions/CustomResourceInstanceProps/properties/definitionName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema395.properties.definitionName.type,parentSchema:schema395.properties.definitionName,data:data2};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}if(data1.resourceProperties !== undefined){let data3 = data1.resourceProperties;if(data3 && typeof data3 == "object" && !Array.isArray(data3)){}else {const err9 = {instancePath:instancePath+"/properties/resourceProperties",schemaPath:"#/definitions/CustomResourceInstanceProps/properties/resourceProperties/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema395.properties.resourceProperties.type,parentSchema:schema395.properties.resourceProperties,data:data3};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}}else {const err10 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/CustomResourceInstanceProps/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema395.type,parentSchema:schema395,data:data1};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data.overrides !== undefined){let data4 = data.overrides;if(data4 && typeof data4 == "object" && !Array.isArray(data4)){for(const key2 in data4){let data5 = data4[key2];if(data5 && typeof data5 == "object" && !Array.isArray(data5)){}else {const err11 = {instancePath:instancePath+"/overrides/" + key2.replace(/~/g, "~0").replace(/\//g, "~1"),schemaPath:"#/properties/overrides/additionalProperties/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema394.properties.overrides.additionalProperties.type,parentSchema:schema394.properties.overrides.additionalProperties,data:data5};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}}else {const err12 = {instancePath:instancePath+"/overrides",schemaPath:"#/properties/overrides/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema394.properties.overrides.type,parentSchema:schema394.properties.overrides,data:data4};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}}else {const err13 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema394.type,parentSchema:schema394,data};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}validate439.errors = vErrors;return errors === 0;}const schema396 = {"description":"#### Custom resource definition\n\n---\n\nDefines the provisioning logic for a custom resource.\nThis allows you to create resources that are not natively supported by AWS CloudFormation or to provision services from other cloud providers.\nThe logic is implemented in an AWS Lambda function that is executed during `create`, `update`, and `delete` events.","type":"object","properties":{"type":{"type":"string","const":"custom-resource-definition"},"properties":{"$ref":"#/definitions/CustomResourceDefinitionProps"},"overrides":{"description":"#### Resource Overrides\n\n---\n\nOverrides properties of the underlying CloudFormation resources that Stacktape creates.\n\nChild resources are identified by their CloudFormation logical ID (e.g., `MyBucketBucket`). You can find these IDs by running `stacktape stack:info --detailed`.\n\nFor a list of properties that can be overridden, refer to the [AWS CloudFormation documentation](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html).","type":"object","additionalProperties":{"type":"object","additionalProperties":{}}}},"additionalProperties":false,"required":["properties","type"]};const schema397 = {"type":"object","properties":{"packaging":{"$ref":"#/definitions/LambdaPackaging","description":"#### The deployment package for the custom resource's Lambda function.\n\n---\n\nCustom resources are managed by a Lambda function that is executed during `create`, `update`, and `delete` events.\nThis property configures the code and dependencies for that function."},"environment":{"description":"#### Environment variables for the custom resource's Lambda function.\n\n---\n\nThese variables are injected into the function's runtime environment.\nThey are often used to provide information about other parts of your infrastructure, such as database connection strings or API keys.","type":"array","items":{"$ref":"#/definitions/EnvironmentVar"}},"runtime":{"$ref":"#/definitions/LambdaRuntime","description":"#### The runtime environment for the custom resource's Lambda function.\n\n---\n\nStacktape automatically detects the function's language and uses the latest corresponding runtime.\nFor example, it will use `nodejs22.x` for `.js` and `.ts` files.\nFor a list of available runtimes, see the [AWS Lambda runtimes documentation](https://docs.aws.amazon.com/lambda/latest/dg/lambda-runtimes.html)."},"timeout":{"description":"#### The maximum execution time for the custom resource's Lambda function, in seconds.\n\n---\n\nThe maximum allowed time is 900 seconds.","default":10,"type":"number"},"memory":{"description":"#### The amount of memory available to the custom resource's Lambda function, in MB.\n\n---\n\n- Must be between 128 MB and 10,240 MB, in 1-MB increments.\n- The amount of available CPU power is proportional to the memory.\n- A function with 1,797 MB of memory has the equivalent of 1 vCPU.\n- The maximum number of vCPUs is 6 (at 10,240 MB of memory).","type":"number"},"connectTo":{"description":"#### Connect To\n\n---\n\nConfigures access to other resources in your stack and AWS services. By specifying resources here, Stacktape automatically:\n- Configures IAM role permissions.\n- Sets up security group rules to allow network traffic.\n- Injects environment variables with connection details into the compute resource.\n\nEnvironment variables are named `STP_[RESOURCE_NAME]_[VARIABLE_NAME]` (e.g., `STP_MY_DATABASE_CONNECTION_STRING`).\n\n---\n\n#### Granted Permissions and Injected Variables:\n\n**`Bucket`**\n- **Permissions:** List, create, get, delete, and tag objects.\n- **Variables:** `NAME`, `ARN`\n\n**`DynamoDbTable`**\n- **Permissions:** Get, put, update, delete, scan, and query items; describe table stream.\n- **Variables:** `NAME`, `ARN`, `STREAM_ARN`\n\n**`MongoDbAtlasCluster`**\n- **Permissions:** Allows connection to clusters with `accessibilityMode` set to `scoping-workloads-in-vpc`. Creates a temporary user for secure, credential-less access.\n- **Variables:** `CONNECTION_STRING`\n\n**`RelationalDatabase`**\n- **Permissions:** Allows connection to databases with `accessibilityMode` set to `scoping-workloads-in-vpc`.\n- **Variables:** `CONNECTION_STRING`, `JDBC_CONNECTION_STRING`, `HOST`, `PORT`. For Aurora clusters, `READER_CONNECTION_STRING`, `READER_JDBC_CONNECTION_STRING`, and `READER_HOST` are also included.\n\n**`RedisCluster`**\n- **Permissions:** Allows connection to clusters with `accessibilityMode` set to `scoping-workloads-in-vpc`.\n- **Variables:** `HOST`, `READER_HOST`, `PORT`\n\n**`EventBus`**\n- **Permissions:** Publish events.\n- **Variables:** `ARN`\n\n**`Function`**\n- **Permissions:** Invoke the function, including via its URL if enabled.\n- **Variables:** `ARN`\n\n**`BatchJob`**\n- **Permissions:** Submit, list, describe, and terminate jobs; manage state machine executions.\n- **Variables:** `JOB_DEFINITION_ARN`, `STATE_MACHINE_ARN`\n\n**`UserAuthPool`**\n- **Permissions:** Full control over the user pool (`cognito-idp:*`).\n- **Variables:** `ID`, `CLIENT_ID`, `ARN`\n\n**`SnsTopic`**\n- **Permissions:** Confirm, list, publish, and manage subscriptions.\n- **Variables:** `ARN`, `NAME`\n\n**`SqsQueue`**\n- **Permissions:** Send, receive, delete, and purge messages.\n- **Variables:** `ARN`, `NAME`, `URL`\n\n**`UpstashKafkaTopic`**\n- **Variables:** `TOPIC_NAME`, `TOPIC_ID`, `USERNAME`, `PASSWORD`, `TCP_ENDPOINT`, `REST_URL`\n\n**`UpstashRedis`**\n- **Variables:** `HOST`, `PORT`, `PASSWORD`, `REST_TOKEN`, `REST_URL`, `REDIS_URL`\n\n**`PrivateService`**\n- **Variables:** `ADDRESS`\n\n**`aws:ses` (Macro)**\n- **Permissions:** Full permissions for AWS SES (`ses:*`).","type":"array","items":{"type":"string"}},"iamRoleStatements":{"description":"#### Custom IAM Role Statements\n\n---\n\nA list of raw AWS IAM role statements to append to the resource's role, allowing for fine-grained permission control.","type":"array","items":{"$ref":"#/definitions/StpIamRoleStatement"}}},"additionalProperties":false,"required":["packaging"]};const schema406 = {"enum":["dotnet6","dotnet7","java11","java17","java8","java8.al2","nodejs18.x","nodejs20.x","nodejs22.x","nodejs24.x","provided.al2","provided.al2023","python3.10","python3.11","python3.12","python3.13","python3.8","python3.9","ruby3.2"],"type":"string"};const schema398 = {"anyOf":[{"$ref":"#/definitions/StpBuildpackLambdaPackaging"},{"$ref":"#/definitions/CustomArtifactLambdaPackaging"}]};const schema399 = {"description":"#### A zero-config buildpack that packages your code for AWS Lambda.\n\n---\n\nThe `stacktape-lambda-buildpack` automatically bundles your code and dependencies into an optimized Lambda deployment package.\n\n**Supported languages:** JavaScript, TypeScript, Python, Java, and Go.\n\nFor JS/TS, your code is bundled into a single file. Source maps are automatically generated.\nPackages are cached based on a checksum, so unchanged code is not re-packaged.","type":"object","properties":{"type":{"type":"string","const":"stacktape-lambda-buildpack"},"properties":{"$ref":"#/definitions/StpBuildpackLambdaPackagingProps"}},"additionalProperties":false,"required":["properties","type"]};const schema400 = {"type":"object","properties":{"handlerFunction":{"description":"#### The name of the handler function to be executed when the Lambda is invoked.","type":"string"},"entryfilePath":{"description":"#### The path to the entry point of your application, relative to your Stacktape configuration file.\n\n---\n\nStacktape will attempt to bundle your code and its dependencies into a single file.\nIf a dependency cannot be bundled (e.g., it relies on binary executables), it will be installed and included in the deployment package separately.","type":"string"},"includeFiles":{"description":"#### A glob pattern of files to explicitly include in the deployment package.\n\n---\n\nThe path is relative to your Stacktape configuration file.","type":"array","items":{"type":"string"}},"excludeFiles":{"description":"#### A glob pattern of files to explicitly exclude from the deployment package.\n\n---","type":"array","items":{"type":"string"}},"excludeDependencies":{"description":"#### A list of dependencies to exclude from the deployment package.","type":"array","items":{"type":"string"}},"languageSpecificConfig":{"description":"#### Language-specific packaging configuration.","anyOf":[{"$ref":"#/definitions/EsLanguageSpecificConfig"},{"$ref":"#/definitions/PyLanguageSpecificConfig"},{"$ref":"#/definitions/JavaLanguageSpecificConfig"},{"$ref":"#/definitions/GoLanguageSpecificConfig"}]}},"additionalProperties":false,"required":["entryfilePath"]};function validate445(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.entryfilePath === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "entryfilePath"},message:"must have required property '"+"entryfilePath"+"'",schema:schema400.required,parentSchema:schema400,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!((((((key0 === "handlerFunction") || (key0 === "entryfilePath")) || (key0 === "includeFiles")) || (key0 === "excludeFiles")) || (key0 === "excludeDependencies")) || (key0 === "languageSpecificConfig"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema400,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.handlerFunction !== undefined){let data0 = data.handlerFunction;if(typeof data0 !== "string"){const err2 = {instancePath:instancePath+"/handlerFunction",schemaPath:"#/properties/handlerFunction/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema400.properties.handlerFunction.type,parentSchema:schema400.properties.handlerFunction,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.entryfilePath !== undefined){let data1 = data.entryfilePath;if(typeof data1 !== "string"){const err3 = {instancePath:instancePath+"/entryfilePath",schemaPath:"#/properties/entryfilePath/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema400.properties.entryfilePath.type,parentSchema:schema400.properties.entryfilePath,data:data1};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.includeFiles !== undefined){let data2 = data.includeFiles;if(Array.isArray(data2)){const len0 = data2.length;for(let i0=0; i0<len0; i0++){let data3 = data2[i0];if(typeof data3 !== "string"){const err4 = {instancePath:instancePath+"/includeFiles/" + i0,schemaPath:"#/properties/includeFiles/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema400.properties.includeFiles.items.type,parentSchema:schema400.properties.includeFiles.items,data:data3};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}}else {const err5 = {instancePath:instancePath+"/includeFiles",schemaPath:"#/properties/includeFiles/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema400.properties.includeFiles.type,parentSchema:schema400.properties.includeFiles,data:data2};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data.excludeFiles !== undefined){let data4 = data.excludeFiles;if(Array.isArray(data4)){const len1 = data4.length;for(let i1=0; i1<len1; i1++){let data5 = data4[i1];if(typeof data5 !== "string"){const err6 = {instancePath:instancePath+"/excludeFiles/" + i1,schemaPath:"#/properties/excludeFiles/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema400.properties.excludeFiles.items.type,parentSchema:schema400.properties.excludeFiles.items,data:data5};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}}else {const err7 = {instancePath:instancePath+"/excludeFiles",schemaPath:"#/properties/excludeFiles/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema400.properties.excludeFiles.type,parentSchema:schema400.properties.excludeFiles,data:data4};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data.excludeDependencies !== undefined){let data6 = data.excludeDependencies;if(Array.isArray(data6)){const len2 = data6.length;for(let i2=0; i2<len2; i2++){let data7 = data6[i2];if(typeof data7 !== "string"){const err8 = {instancePath:instancePath+"/excludeDependencies/" + i2,schemaPath:"#/properties/excludeDependencies/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema400.properties.excludeDependencies.items.type,parentSchema:schema400.properties.excludeDependencies.items,data:data7};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}}else {const err9 = {instancePath:instancePath+"/excludeDependencies",schemaPath:"#/properties/excludeDependencies/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema400.properties.excludeDependencies.type,parentSchema:schema400.properties.excludeDependencies,data:data6};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(data.languageSpecificConfig !== undefined){let data8 = data.languageSpecificConfig;const _errs19 = errors;let valid7 = false;const _errs20 = errors;if(data8 && typeof data8 == "object" && !Array.isArray(data8)){for(const key1 in data8){if(!((((((((key1 === "tsConfigPath") || (key1 === "emitTsDecoratorMetadata")) || (key1 === "dependenciesToExcludeFromBundle")) || (key1 === "outputModuleFormat")) || (key1 === "nodeVersion")) || (key1 === "disableSourceMaps")) || (key1 === "outputSourceMapsTo")) || (key1 === "dependenciesToExcludeFromDeploymentPackage"))){const err10 = {instancePath:instancePath+"/languageSpecificConfig",schemaPath:"#/definitions/EsLanguageSpecificConfig/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema68,data:data8};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data8.tsConfigPath !== undefined){let data9 = data8.tsConfigPath;if(typeof data9 !== "string"){const err11 = {instancePath:instancePath+"/languageSpecificConfig/tsConfigPath",schemaPath:"#/definitions/EsLanguageSpecificConfig/properties/tsConfigPath/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema68.properties.tsConfigPath.type,parentSchema:schema68.properties.tsConfigPath,data:data9};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}if(data8.emitTsDecoratorMetadata !== undefined){let data10 = data8.emitTsDecoratorMetadata;if(typeof data10 !== "boolean"){const err12 = {instancePath:instancePath+"/languageSpecificConfig/emitTsDecoratorMetadata",schemaPath:"#/definitions/EsLanguageSpecificConfig/properties/emitTsDecoratorMetadata/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema68.properties.emitTsDecoratorMetadata.type,parentSchema:schema68.properties.emitTsDecoratorMetadata,data:data10};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}if(data8.dependenciesToExcludeFromBundle !== undefined){let data11 = data8.dependenciesToExcludeFromBundle;if(Array.isArray(data11)){const len3 = data11.length;for(let i3=0; i3<len3; i3++){let data12 = data11[i3];if(typeof data12 !== "string"){const err13 = {instancePath:instancePath+"/languageSpecificConfig/dependenciesToExcludeFromBundle/" + i3,schemaPath:"#/definitions/EsLanguageSpecificConfig/properties/dependenciesToExcludeFromBundle/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema68.properties.dependenciesToExcludeFromBundle.items.type,parentSchema:schema68.properties.dependenciesToExcludeFromBundle.items,data:data12};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}}else {const err14 = {instancePath:instancePath+"/languageSpecificConfig/dependenciesToExcludeFromBundle",schemaPath:"#/definitions/EsLanguageSpecificConfig/properties/dependenciesToExcludeFromBundle/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema68.properties.dependenciesToExcludeFromBundle.type,parentSchema:schema68.properties.dependenciesToExcludeFromBundle,data:data11};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}}if(data8.outputModuleFormat !== undefined){let data13 = data8.outputModuleFormat;if(typeof data13 !== "string"){const err15 = {instancePath:instancePath+"/languageSpecificConfig/outputModuleFormat",schemaPath:"#/definitions/EsLanguageSpecificConfig/properties/outputModuleFormat/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema68.properties.outputModuleFormat.type,parentSchema:schema68.properties.outputModuleFormat,data:data13};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}if(!((data13 === "cjs") || (data13 === "esm"))){const err16 = {instancePath:instancePath+"/languageSpecificConfig/outputModuleFormat",schemaPath:"#/definitions/EsLanguageSpecificConfig/properties/outputModuleFormat/enum",keyword:"enum",params:{allowedValues: schema68.properties.outputModuleFormat.enum},message:"must be equal to one of the allowed values",schema:schema68.properties.outputModuleFormat.enum,parentSchema:schema68.properties.outputModuleFormat,data:data13};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}}if(data8.nodeVersion !== undefined){let data14 = data8.nodeVersion;if(!(typeof data14 == "number")){const err17 = {instancePath:instancePath+"/languageSpecificConfig/nodeVersion",schemaPath:"#/definitions/EsLanguageSpecificConfig/properties/nodeVersion/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema68.properties.nodeVersion.type,parentSchema:schema68.properties.nodeVersion,data:data14};if(vErrors === null){vErrors = [err17];}else {vErrors.push(err17);}errors++;}if(!(((((((((data14 === 16) || (data14 === 17)) || (data14 === 18)) || (data14 === 19)) || (data14 === 20)) || (data14 === 21)) || (data14 === 22)) || (data14 === 23)) || (data14 === 24))){const err18 = {instancePath:instancePath+"/languageSpecificConfig/nodeVersion",schemaPath:"#/definitions/EsLanguageSpecificConfig/properties/nodeVersion/enum",keyword:"enum",params:{allowedValues: schema68.properties.nodeVersion.enum},message:"must be equal to one of the allowed values",schema:schema68.properties.nodeVersion.enum,parentSchema:schema68.properties.nodeVersion,data:data14};if(vErrors === null){vErrors = [err18];}else {vErrors.push(err18);}errors++;}}if(data8.disableSourceMaps !== undefined){let data15 = data8.disableSourceMaps;if(typeof data15 !== "boolean"){const err19 = {instancePath:instancePath+"/languageSpecificConfig/disableSourceMaps",schemaPath:"#/definitions/EsLanguageSpecificConfig/properties/disableSourceMaps/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema68.properties.disableSourceMaps.type,parentSchema:schema68.properties.disableSourceMaps,data:data15};if(vErrors === null){vErrors = [err19];}else {vErrors.push(err19);}errors++;}}if(data8.outputSourceMapsTo !== undefined){let data16 = data8.outputSourceMapsTo;if(typeof data16 !== "string"){const err20 = {instancePath:instancePath+"/languageSpecificConfig/outputSourceMapsTo",schemaPath:"#/definitions/EsLanguageSpecificConfig/properties/outputSourceMapsTo/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema68.properties.outputSourceMapsTo.type,parentSchema:schema68.properties.outputSourceMapsTo,data:data16};if(vErrors === null){vErrors = [err20];}else {vErrors.push(err20);}errors++;}}if(data8.dependenciesToExcludeFromDeploymentPackage !== undefined){let data17 = data8.dependenciesToExcludeFromDeploymentPackage;if(Array.isArray(data17)){const len4 = data17.length;for(let i4=0; i4<len4; i4++){let data18 = data17[i4];if(typeof data18 !== "string"){const err21 = {instancePath:instancePath+"/languageSpecificConfig/dependenciesToExcludeFromDeploymentPackage/" + i4,schemaPath:"#/definitions/EsLanguageSpecificConfig/properties/dependenciesToExcludeFromDeploymentPackage/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema68.properties.dependenciesToExcludeFromDeploymentPackage.items.type,parentSchema:schema68.properties.dependenciesToExcludeFromDeploymentPackage.items,data:data18};if(vErrors === null){vErrors = [err21];}else {vErrors.push(err21);}errors++;}}}else {const err22 = {instancePath:instancePath+"/languageSpecificConfig/dependenciesToExcludeFromDeploymentPackage",schemaPath:"#/definitions/EsLanguageSpecificConfig/properties/dependenciesToExcludeFromDeploymentPackage/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema68.properties.dependenciesToExcludeFromDeploymentPackage.type,parentSchema:schema68.properties.dependenciesToExcludeFromDeploymentPackage,data:data17};if(vErrors === null){vErrors = [err22];}else {vErrors.push(err22);}errors++;}}}else {const err23 = {instancePath:instancePath+"/languageSpecificConfig",schemaPath:"#/definitions/EsLanguageSpecificConfig/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema68.type,parentSchema:schema68,data:data8};if(vErrors === null){vErrors = [err23];}else {vErrors.push(err23);}errors++;}var _valid0 = _errs20 === errors;valid7 = valid7 || _valid0;if(!valid7){const _errs44 = errors;if(!(validate60(data8, {instancePath:instancePath+"/languageSpecificConfig",parentData:data,parentDataProperty:"languageSpecificConfig",rootData}))){vErrors = vErrors === null ? validate60.errors : vErrors.concat(validate60.errors);errors = vErrors.length;}var _valid0 = _errs44 === errors;valid7 = valid7 || _valid0;if(!valid7){const _errs45 = errors;if(!(validate62(data8, {instancePath:instancePath+"/languageSpecificConfig",parentData:data,parentDataProperty:"languageSpecificConfig",rootData}))){vErrors = vErrors === null ? validate62.errors : vErrors.concat(validate62.errors);errors = vErrors.length;}var _valid0 = _errs45 === errors;valid7 = valid7 || _valid0;if(!valid7){const _errs46 = errors;if(data8 && typeof data8 == "object" && !Array.isArray(data8)){for(const key2 in data8){const err24 = {instancePath:instancePath+"/languageSpecificConfig",schemaPath:"#/definitions/GoLanguageSpecificConfig/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key2},message:"must NOT have additional properties",schema:false,parentSchema:schema75,data:data8};if(vErrors === null){vErrors = [err24];}else {vErrors.push(err24);}errors++;}}else {const err25 = {instancePath:instancePath+"/languageSpecificConfig",schemaPath:"#/definitions/GoLanguageSpecificConfig/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema75.type,parentSchema:schema75,data:data8};if(vErrors === null){vErrors = [err25];}else {vErrors.push(err25);}errors++;}var _valid0 = _errs46 === errors;valid7 = valid7 || _valid0;}}}if(!valid7){const err26 = {instancePath:instancePath+"/languageSpecificConfig",schemaPath:"#/properties/languageSpecificConfig/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:schema400.properties.languageSpecificConfig.anyOf,parentSchema:schema400.properties.languageSpecificConfig,data:data8};if(vErrors === null){vErrors = [err26];}else {vErrors.push(err26);}errors++;}else {errors = _errs19;if(vErrors !== null){if(_errs19){vErrors.length = _errs19;}else {vErrors = null;}}}}}else {const err27 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema400.type,parentSchema:schema400,data};if(vErrors === null){vErrors = [err27];}else {vErrors.push(err27);}errors++;}validate445.errors = vErrors;return errors === 0;}function validate444(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema399.required,parentSchema:schema399,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema399.required,parentSchema:schema399,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema399,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema399.properties.type.type,parentSchema:schema399.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("stacktape-lambda-buildpack" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "stacktape-lambda-buildpack"},message:"must be equal to constant",schema:"stacktape-lambda-buildpack",parentSchema:schema399.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate445(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate445.errors : vErrors.concat(validate445.errors);errors = vErrors.length;}}}else {const err5 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema399.type,parentSchema:schema399,data};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}validate444.errors = vErrors;return errors === 0;}const schema403 = {"description":"#### Uses a pre-built artifact for Lambda deployment.\n\n---\n\nWith `custom-artifact`, you provide a path to your own pre-built deployment package.\nIf the specified path is a directory or an unzipped file, Stacktape will automatically zip it.\n\nThis is useful when you have custom build processes or need full control over the packaging.","type":"object","properties":{"type":{"type":"string","const":"custom-artifact"},"properties":{"$ref":"#/definitions/CustomArtifactLambdaPackagingProps"}},"additionalProperties":false,"required":["properties","type"]};const schema404 = {"type":"object","properties":{"packagePath":{"description":"#### The path to a pre-built deployment package.\n\n---\n\nIf the path points to a directory or a non-zip file, Stacktape will automatically zip it for you.","type":"string"},"handler":{"description":"#### The handler function to be executed when the Lambda is invoked.\n\n---\n\nThe syntax is `{{filepath}}:{{functionName}}`.\n\nExample: `my-lambda/index.js:default`","type":"string"}},"additionalProperties":false,"required":["packagePath"]};function validate450(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema403.required,parentSchema:schema403,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema403.required,parentSchema:schema403,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema403,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema403.properties.type.type,parentSchema:schema403.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("custom-artifact" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "custom-artifact"},message:"must be equal to constant",schema:"custom-artifact",parentSchema:schema403.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){let data1 = data.properties;if(data1 && typeof data1 == "object" && !Array.isArray(data1)){if(data1.packagePath === undefined){const err5 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/CustomArtifactLambdaPackagingProps/required",keyword:"required",params:{missingProperty: "packagePath"},message:"must have required property '"+"packagePath"+"'",schema:schema404.required,parentSchema:schema404,data:data1};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}for(const key1 in data1){if(!((key1 === "packagePath") || (key1 === "handler"))){const err6 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/CustomArtifactLambdaPackagingProps/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema404,data:data1};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data1.packagePath !== undefined){let data2 = data1.packagePath;if(typeof data2 !== "string"){const err7 = {instancePath:instancePath+"/properties/packagePath",schemaPath:"#/definitions/CustomArtifactLambdaPackagingProps/properties/packagePath/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema404.properties.packagePath.type,parentSchema:schema404.properties.packagePath,data:data2};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data1.handler !== undefined){let data3 = data1.handler;if(typeof data3 !== "string"){const err8 = {instancePath:instancePath+"/properties/handler",schemaPath:"#/definitions/CustomArtifactLambdaPackagingProps/properties/handler/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema404.properties.handler.type,parentSchema:schema404.properties.handler,data:data3};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}}else {const err9 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/CustomArtifactLambdaPackagingProps/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema404.type,parentSchema:schema404,data:data1};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}}else {const err10 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema403.type,parentSchema:schema403,data};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}validate450.errors = vErrors;return errors === 0;}function validate443(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;const _errs0 = errors;let valid0 = false;const _errs1 = errors;if(!(validate444(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate444.errors : vErrors.concat(validate444.errors);errors = vErrors.length;}var _valid0 = _errs1 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs2 = errors;if(!(validate450(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate450.errors : vErrors.concat(validate450.errors);errors = vErrors.length;}var _valid0 = _errs2 === errors;valid0 = valid0 || _valid0;}if(!valid0){const err0 = {instancePath,schemaPath:"#/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:schema398.anyOf,parentSchema:schema398,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}else {errors = _errs0;if(vErrors !== null){if(_errs0){vErrors.length = _errs0;}else {vErrors = null;}}}validate443.errors = vErrors;return errors === 0;}function validate442(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.packaging === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "packaging"},message:"must have required property '"+"packaging"+"'",schema:schema397.required,parentSchema:schema397,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!(((((((key0 === "packaging") || (key0 === "environment")) || (key0 === "runtime")) || (key0 === "timeout")) || (key0 === "memory")) || (key0 === "connectTo")) || (key0 === "iamRoleStatements"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema397,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.packaging !== undefined){if(!(validate443(data.packaging, {instancePath:instancePath+"/packaging",parentData:data,parentDataProperty:"packaging",rootData}))){vErrors = vErrors === null ? validate443.errors : vErrors.concat(validate443.errors);errors = vErrors.length;}}if(data.environment !== undefined){let data1 = data.environment;if(Array.isArray(data1)){const len0 = data1.length;for(let i0=0; i0<len0; i0++){let data2 = data1[i0];if(data2 && typeof data2 == "object" && !Array.isArray(data2)){if(data2.name === undefined){const err2 = {instancePath:instancePath+"/environment/" + i0,schemaPath:"#/definitions/EnvironmentVar/required",keyword:"required",params:{missingProperty: "name"},message:"must have required property '"+"name"+"'",schema:schema28.required,parentSchema:schema28,data:data2};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}if(data2.value === undefined){const err3 = {instancePath:instancePath+"/environment/" + i0,schemaPath:"#/definitions/EnvironmentVar/required",keyword:"required",params:{missingProperty: "value"},message:"must have required property '"+"value"+"'",schema:schema28.required,parentSchema:schema28,data:data2};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}for(const key1 in data2){if(!((key1 === "name") || (key1 === "value"))){const err4 = {instancePath:instancePath+"/environment/" + i0,schemaPath:"#/definitions/EnvironmentVar/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema28,data:data2};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data2.name !== undefined){let data3 = data2.name;if(typeof data3 !== "string"){const err5 = {instancePath:instancePath+"/environment/" + i0+"/name",schemaPath:"#/definitions/EnvironmentVar/properties/name/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema28.properties.name.type,parentSchema:schema28.properties.name,data:data3};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data2.value !== undefined){let data4 = data2.value;if(((typeof data4 !== "string") && (!(typeof data4 == "number"))) && (typeof data4 !== "boolean")){const err6 = {instancePath:instancePath+"/environment/" + i0+"/value",schemaPath:"#/definitions/EnvironmentVar/properties/value/type",keyword:"type",params:{type: schema28.properties.value.type},message:"must be string,number,boolean",schema:schema28.properties.value.type,parentSchema:schema28.properties.value,data:data4};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}}else {const err7 = {instancePath:instancePath+"/environment/" + i0,schemaPath:"#/definitions/EnvironmentVar/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema28.type,parentSchema:schema28,data:data2};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}}else {const err8 = {instancePath:instancePath+"/environment",schemaPath:"#/properties/environment/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema397.properties.environment.type,parentSchema:schema397.properties.environment,data:data1};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}if(data.runtime !== undefined){let data5 = data.runtime;if(typeof data5 !== "string"){const err9 = {instancePath:instancePath+"/runtime",schemaPath:"#/definitions/LambdaRuntime/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema406.type,parentSchema:schema406,data:data5};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}if(!(((((((((((((((((((data5 === "dotnet6") || (data5 === "dotnet7")) || (data5 === "java11")) || (data5 === "java17")) || (data5 === "java8")) || (data5 === "java8.al2")) || (data5 === "nodejs18.x")) || (data5 === "nodejs20.x")) || (data5 === "nodejs22.x")) || (data5 === "nodejs24.x")) || (data5 === "provided.al2")) || (data5 === "provided.al2023")) || (data5 === "python3.10")) || (data5 === "python3.11")) || (data5 === "python3.12")) || (data5 === "python3.13")) || (data5 === "python3.8")) || (data5 === "python3.9")) || (data5 === "ruby3.2"))){const err10 = {instancePath:instancePath+"/runtime",schemaPath:"#/definitions/LambdaRuntime/enum",keyword:"enum",params:{allowedValues: schema406.enum},message:"must be equal to one of the allowed values",schema:schema406.enum,parentSchema:schema406,data:data5};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data.timeout !== undefined){let data6 = data.timeout;if(!(typeof data6 == "number")){const err11 = {instancePath:instancePath+"/timeout",schemaPath:"#/properties/timeout/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema397.properties.timeout.type,parentSchema:schema397.properties.timeout,data:data6};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}if(data.memory !== undefined){let data7 = data.memory;if(!(typeof data7 == "number")){const err12 = {instancePath:instancePath+"/memory",schemaPath:"#/properties/memory/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema397.properties.memory.type,parentSchema:schema397.properties.memory,data:data7};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}if(data.connectTo !== undefined){let data8 = data.connectTo;if(Array.isArray(data8)){const len1 = data8.length;for(let i1=0; i1<len1; i1++){let data9 = data8[i1];if(typeof data9 !== "string"){const err13 = {instancePath:instancePath+"/connectTo/" + i1,schemaPath:"#/properties/connectTo/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema397.properties.connectTo.items.type,parentSchema:schema397.properties.connectTo.items,data:data9};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}}else {const err14 = {instancePath:instancePath+"/connectTo",schemaPath:"#/properties/connectTo/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema397.properties.connectTo.type,parentSchema:schema397.properties.connectTo,data:data8};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}}if(data.iamRoleStatements !== undefined){let data10 = data.iamRoleStatements;if(Array.isArray(data10)){const len2 = data10.length;for(let i2=0; i2<len2; i2++){let data11 = data10[i2];if(data11 && typeof data11 == "object" && !Array.isArray(data11)){if(data11.Resource === undefined){const err15 = {instancePath:instancePath+"/iamRoleStatements/" + i2,schemaPath:"#/definitions/StpIamRoleStatement/required",keyword:"required",params:{missingProperty: "Resource"},message:"must have required property '"+"Resource"+"'",schema:schema102.required,parentSchema:schema102,data:data11};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}for(const key2 in data11){if(!(((((key2 === "Sid") || (key2 === "Effect")) || (key2 === "Action")) || (key2 === "Condition")) || (key2 === "Resource"))){const err16 = {instancePath:instancePath+"/iamRoleStatements/" + i2,schemaPath:"#/definitions/StpIamRoleStatement/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key2},message:"must NOT have additional properties",schema:false,parentSchema:schema102,data:data11};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}}if(data11.Sid !== undefined){let data12 = data11.Sid;if(typeof data12 !== "string"){const err17 = {instancePath:instancePath+"/iamRoleStatements/" + i2+"/Sid",schemaPath:"#/definitions/StpIamRoleStatement/properties/Sid/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema102.properties.Sid.type,parentSchema:schema102.properties.Sid,data:data12};if(vErrors === null){vErrors = [err17];}else {vErrors.push(err17);}errors++;}}if(data11.Effect !== undefined){let data13 = data11.Effect;if(typeof data13 !== "string"){const err18 = {instancePath:instancePath+"/iamRoleStatements/" + i2+"/Effect",schemaPath:"#/definitions/StpIamRoleStatement/properties/Effect/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema102.properties.Effect.type,parentSchema:schema102.properties.Effect,data:data13};if(vErrors === null){vErrors = [err18];}else {vErrors.push(err18);}errors++;}}if(data11.Action !== undefined){let data14 = data11.Action;if(Array.isArray(data14)){const len3 = data14.length;for(let i3=0; i3<len3; i3++){let data15 = data14[i3];if(typeof data15 !== "string"){const err19 = {instancePath:instancePath+"/iamRoleStatements/" + i2+"/Action/" + i3,schemaPath:"#/definitions/StpIamRoleStatement/properties/Action/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema102.properties.Action.items.type,parentSchema:schema102.properties.Action.items,data:data15};if(vErrors === null){vErrors = [err19];}else {vErrors.push(err19);}errors++;}}}else {const err20 = {instancePath:instancePath+"/iamRoleStatements/" + i2+"/Action",schemaPath:"#/definitions/StpIamRoleStatement/properties/Action/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema102.properties.Action.type,parentSchema:schema102.properties.Action,data:data14};if(vErrors === null){vErrors = [err20];}else {vErrors.push(err20);}errors++;}}if(data11.Resource !== undefined){let data16 = data11.Resource;if(Array.isArray(data16)){const len4 = data16.length;for(let i4=0; i4<len4; i4++){let data17 = data16[i4];if(typeof data17 !== "string"){const err21 = {instancePath:instancePath+"/iamRoleStatements/" + i2+"/Resource/" + i4,schemaPath:"#/definitions/StpIamRoleStatement/properties/Resource/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema102.properties.Resource.items.type,parentSchema:schema102.properties.Resource.items,data:data17};if(vErrors === null){vErrors = [err21];}else {vErrors.push(err21);}errors++;}}}else {const err22 = {instancePath:instancePath+"/iamRoleStatements/" + i2+"/Resource",schemaPath:"#/definitions/StpIamRoleStatement/properties/Resource/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema102.properties.Resource.type,parentSchema:schema102.properties.Resource,data:data16};if(vErrors === null){vErrors = [err22];}else {vErrors.push(err22);}errors++;}}}else {const err23 = {instancePath:instancePath+"/iamRoleStatements/" + i2,schemaPath:"#/definitions/StpIamRoleStatement/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema102.type,parentSchema:schema102,data:data11};if(vErrors === null){vErrors = [err23];}else {vErrors.push(err23);}errors++;}}}else {const err24 = {instancePath:instancePath+"/iamRoleStatements",schemaPath:"#/properties/iamRoleStatements/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema397.properties.iamRoleStatements.type,parentSchema:schema397.properties.iamRoleStatements,data:data10};if(vErrors === null){vErrors = [err24];}else {vErrors.push(err24);}errors++;}}}else {const err25 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema397.type,parentSchema:schema397,data};if(vErrors === null){vErrors = [err25];}else {vErrors.push(err25);}errors++;}validate442.errors = vErrors;return errors === 0;}function validate441(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema396.required,parentSchema:schema396,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema396.required,parentSchema:schema396,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!(((key0 === "type") || (key0 === "properties")) || (key0 === "overrides"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema396,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema396.properties.type.type,parentSchema:schema396.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("custom-resource-definition" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "custom-resource-definition"},message:"must be equal to constant",schema:"custom-resource-definition",parentSchema:schema396.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate442(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate442.errors : vErrors.concat(validate442.errors);errors = vErrors.length;}}if(data.overrides !== undefined){let data2 = data.overrides;if(data2 && typeof data2 == "object" && !Array.isArray(data2)){for(const key1 in data2){let data3 = data2[key1];if(data3 && typeof data3 == "object" && !Array.isArray(data3)){}else {const err5 = {instancePath:instancePath+"/overrides/" + key1.replace(/~/g, "~0").replace(/\//g, "~1"),schemaPath:"#/properties/overrides/additionalProperties/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema396.properties.overrides.additionalProperties.type,parentSchema:schema396.properties.overrides.additionalProperties,data:data3};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}}else {const err6 = {instancePath:instancePath+"/overrides",schemaPath:"#/properties/overrides/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema396.properties.overrides.type,parentSchema:schema396.properties.overrides,data:data2};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}}else {const err7 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema396.type,parentSchema:schema396,data};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}validate441.errors = vErrors;return errors === 0;}const schema408 = {"description":"#### A serverless Redis database from Upstash.\n\n---\n\nUpstash Redis is designed for low-latency data storage and caching at the edge, making it ideal for serverless and globally distributed applications.","type":"object","properties":{"type":{"type":"string","const":"upstash-redis"},"properties":{"$ref":"#/definitions/UpstashRedisProps"},"overrides":{"description":"#### Resource Overrides\n\n---\n\nOverrides properties of the underlying CloudFormation resources that Stacktape creates.\n\nChild resources are identified by their CloudFormation logical ID (e.g., `MyBucketBucket`). You can find these IDs by running `stacktape stack:info --detailed`.\n\nFor a list of properties that can be overridden, refer to the [AWS CloudFormation documentation](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html).","type":"object","additionalProperties":{"type":"object","additionalProperties":{}}}},"additionalProperties":false,"required":["type"]};const schema409 = {"type":"object","properties":{"enableEviction":{"description":"#### Enables automatic eviction of keys when the memory limit is reached.\n\n---\n\nWhen enabled, Redis will remove keys to free up memory for new data.\nIt uses an eviction policy that prioritizes removing keys with an expiration set.","default":false,"type":"boolean"}},"additionalProperties":false};function validate455(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.type === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema408.required,parentSchema:schema408,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!(((key0 === "type") || (key0 === "properties")) || (key0 === "overrides"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema408,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err2 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema408.properties.type.type,parentSchema:schema408.properties.type,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}if("upstash-redis" !== data0){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "upstash-redis"},message:"must be equal to constant",schema:"upstash-redis",parentSchema:schema408.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.properties !== undefined){let data1 = data.properties;if(data1 && typeof data1 == "object" && !Array.isArray(data1)){for(const key1 in data1){if(!(key1 === "enableEviction")){const err4 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/UpstashRedisProps/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema409,data:data1};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data1.enableEviction !== undefined){let data2 = data1.enableEviction;if(typeof data2 !== "boolean"){const err5 = {instancePath:instancePath+"/properties/enableEviction",schemaPath:"#/definitions/UpstashRedisProps/properties/enableEviction/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema409.properties.enableEviction.type,parentSchema:schema409.properties.enableEviction,data:data2};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}}else {const err6 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/UpstashRedisProps/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema409.type,parentSchema:schema409,data:data1};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data.overrides !== undefined){let data3 = data.overrides;if(data3 && typeof data3 == "object" && !Array.isArray(data3)){for(const key2 in data3){let data4 = data3[key2];if(data4 && typeof data4 == "object" && !Array.isArray(data4)){}else {const err7 = {instancePath:instancePath+"/overrides/" + key2.replace(/~/g, "~0").replace(/\//g, "~1"),schemaPath:"#/properties/overrides/additionalProperties/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema408.properties.overrides.additionalProperties.type,parentSchema:schema408.properties.overrides.additionalProperties,data:data4};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}}else {const err8 = {instancePath:instancePath+"/overrides",schemaPath:"#/properties/overrides/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema408.properties.overrides.type,parentSchema:schema408.properties.overrides,data:data3};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}}else {const err9 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema408.type,parentSchema:schema408,data};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}validate455.errors = vErrors;return errors === 0;}const schema410 = {"description":"#### A resource that executes a script as part of your deployment process.\n\n---\n\nThe script is executed in a Lambda function during a `deploy` or `delete` operation.\nThis is useful for tasks like database migrations, seeding data, or other setup or teardown operations.","type":"object","properties":{"type":{"type":"string","const":"deployment-script"},"properties":{"$ref":"#/definitions/DeploymentScriptProps"},"overrides":{"description":"#### Resource Overrides\n\n---\n\nOverrides properties of the underlying CloudFormation resources that Stacktape creates.\n\nChild resources are identified by their CloudFormation logical ID (e.g., `MyBucketBucket`). You can find these IDs by running `stacktape stack:info --detailed`.\n\nFor a list of properties that can be overridden, refer to the [AWS CloudFormation documentation](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html).","type":"object","additionalProperties":{"type":"object","additionalProperties":{}}}},"additionalProperties":false,"required":["properties","type"]};const schema411 = {"type":"object","properties":{"trigger":{"description":"#### Configures when the script is triggered.\n\n---\n\n- `after:deploy`: Executes after all resources in the stack have been successfully deployed. If the script fails, the entire deployment will be rolled back.\n- `before:delete`: Executes before the stack's resources begin to be deleted. If the script fails, the deletion process will still proceed.\n\nYou can also trigger the script manually using the `stacktape deployment-script:run` command.","enum":["after:deploy","before:delete"],"type":"string"},"packaging":{"$ref":"#/definitions/LambdaPackaging","description":"#### Configures how your script is packaged and deployed.\n\n---\n\nStacktape supports two packaging methods:\n- `stacktape-lambda-buildpack`: Stacktape automatically builds and packages your code from a specified source file. This is the recommended and simplest approach.\n- `custom-artifact`: You provide a path to a pre-built deployment package (e.g., a zip file). Stacktape will handle the upload.\n\nYour deployment packages are stored in an S3 bucket managed by Stacktape."},"runtime":{"$ref":"#/definitions/LambdaRuntime","description":"#### The runtime environment for the script's Lambda function.\n\n---\n\nStacktape automatically detects the programming language and selects the latest appropriate runtime. For example, `.ts` and `.js` files will use a recent Node.js runtime.\nFor a full list of available runtimes, see the [AWS Lambda runtimes documentation](https://docs.aws.amazon.com/lambda/latest/dg/lambda-runtimes.html)."},"environment":{"description":"#### A list of environment variables to inject into the script's execution environment.\n\n---\n\nThis is useful for providing configuration details, such as database connection strings or secrets.","type":"array","items":{"$ref":"#/definitions/EnvironmentVar"}},"parameters":{"description":"#### A map of parameters to pass to the script's handler function.\n\n---\n\nThis allows you to pass structured data to your script.\n\n> **Note:** You cannot pass secrets using this property. Use `environment` variables for secrets.","type":"object","additionalProperties":{}},"memory":{"description":"#### The amount of memory (in MB) to allocate to the script's Lambda function.\n\n---\n\nThis setting also influences the amount of CPU power the function receives.\nThe value must be between 128 MB and 10,240 MB.","type":"number"},"timeout":{"description":"#### The maximum execution time for the script, in seconds.\n\n---\n\nIf the script runs longer than this, it will be terminated. The maximum allowed timeout is 900 seconds (15 minutes).","default":10,"type":"number"},"joinDefaultVpc":{"description":"#### Connects the script's Lambda function to your stack's default Virtual Private Cloud (VPC).\n\n---\n\nThis is necessary to access resources within the VPC, such as relational databases.\n\n> **Important:** When a function joins a VPC, it loses direct internet access.\n\nFor more details, see the [Stacktape VPCs documentation](https://docs.stacktape.com/user-guides/vpcs/).","type":"boolean"},"storage":{"description":"#### The size (in MB) of the function's `/tmp` directory.\n\n---\n\nThis provides ephemeral storage for your function. The size can be between 512 MB and 10,240 MB.","default":512,"type":"number"},"connectTo":{"description":"#### Connect To\n\n---\n\nConfigures access to other resources in your stack and AWS services. By specifying resources here, Stacktape automatically:\n- Configures IAM role permissions.\n- Sets up security group rules to allow network traffic.\n- Injects environment variables with connection details into the compute resource.\n\nEnvironment variables are named `STP_[RESOURCE_NAME]_[VARIABLE_NAME]` (e.g., `STP_MY_DATABASE_CONNECTION_STRING`).\n\n---\n\n#### Granted Permissions and Injected Variables:\n\n**`Bucket`**\n- **Permissions:** List, create, get, delete, and tag objects.\n- **Variables:** `NAME`, `ARN`\n\n**`DynamoDbTable`**\n- **Permissions:** Get, put, update, delete, scan, and query items; describe table stream.\n- **Variables:** `NAME`, `ARN`, `STREAM_ARN`\n\n**`MongoDbAtlasCluster`**\n- **Permissions:** Allows connection to clusters with `accessibilityMode` set to `scoping-workloads-in-vpc`. Creates a temporary user for secure, credential-less access.\n- **Variables:** `CONNECTION_STRING`\n\n**`RelationalDatabase`**\n- **Permissions:** Allows connection to databases with `accessibilityMode` set to `scoping-workloads-in-vpc`.\n- **Variables:** `CONNECTION_STRING`, `JDBC_CONNECTION_STRING`, `HOST`, `PORT`. For Aurora clusters, `READER_CONNECTION_STRING`, `READER_JDBC_CONNECTION_STRING`, and `READER_HOST` are also included.\n\n**`RedisCluster`**\n- **Permissions:** Allows connection to clusters with `accessibilityMode` set to `scoping-workloads-in-vpc`.\n- **Variables:** `HOST`, `READER_HOST`, `PORT`\n\n**`EventBus`**\n- **Permissions:** Publish events.\n- **Variables:** `ARN`\n\n**`Function`**\n- **Permissions:** Invoke the function, including via its URL if enabled.\n- **Variables:** `ARN`\n\n**`BatchJob`**\n- **Permissions:** Submit, list, describe, and terminate jobs; manage state machine executions.\n- **Variables:** `JOB_DEFINITION_ARN`, `STATE_MACHINE_ARN`\n\n**`UserAuthPool`**\n- **Permissions:** Full control over the user pool (`cognito-idp:*`).\n- **Variables:** `ID`, `CLIENT_ID`, `ARN`\n\n**`SnsTopic`**\n- **Permissions:** Confirm, list, publish, and manage subscriptions.\n- **Variables:** `ARN`, `NAME`\n\n**`SqsQueue`**\n- **Permissions:** Send, receive, delete, and purge messages.\n- **Variables:** `ARN`, `NAME`, `URL`\n\n**`UpstashKafkaTopic`**\n- **Variables:** `TOPIC_NAME`, `TOPIC_ID`, `USERNAME`, `PASSWORD`, `TCP_ENDPOINT`, `REST_URL`\n\n**`UpstashRedis`**\n- **Variables:** `HOST`, `PORT`, `PASSWORD`, `REST_TOKEN`, `REST_URL`, `REDIS_URL`\n\n**`PrivateService`**\n- **Variables:** `ADDRESS`\n\n**`aws:ses` (Macro)**\n- **Permissions:** Full permissions for AWS SES (`ses:*`).","type":"array","items":{"type":"string"}},"iamRoleStatements":{"description":"#### Custom IAM Role Statements\n\n---\n\nA list of raw AWS IAM role statements to append to the resource's role, allowing for fine-grained permission control.","type":"array","items":{"$ref":"#/definitions/StpIamRoleStatement"}}},"additionalProperties":false,"required":["packaging","trigger"]};function validate458(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.packaging === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "packaging"},message:"must have required property '"+"packaging"+"'",schema:schema411.required,parentSchema:schema411,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.trigger === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "trigger"},message:"must have required property '"+"trigger"+"'",schema:schema411.required,parentSchema:schema411,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!(func2.call(schema411.properties, key0))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema411,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.trigger !== undefined){let data0 = data.trigger;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/trigger",schemaPath:"#/properties/trigger/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema411.properties.trigger.type,parentSchema:schema411.properties.trigger,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if(!((data0 === "after:deploy") || (data0 === "before:delete"))){const err4 = {instancePath:instancePath+"/trigger",schemaPath:"#/properties/trigger/enum",keyword:"enum",params:{allowedValues: schema411.properties.trigger.enum},message:"must be equal to one of the allowed values",schema:schema411.properties.trigger.enum,parentSchema:schema411.properties.trigger,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.packaging !== undefined){if(!(validate443(data.packaging, {instancePath:instancePath+"/packaging",parentData:data,parentDataProperty:"packaging",rootData}))){vErrors = vErrors === null ? validate443.errors : vErrors.concat(validate443.errors);errors = vErrors.length;}}if(data.runtime !== undefined){let data2 = data.runtime;if(typeof data2 !== "string"){const err5 = {instancePath:instancePath+"/runtime",schemaPath:"#/definitions/LambdaRuntime/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema406.type,parentSchema:schema406,data:data2};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}if(!(((((((((((((((((((data2 === "dotnet6") || (data2 === "dotnet7")) || (data2 === "java11")) || (data2 === "java17")) || (data2 === "java8")) || (data2 === "java8.al2")) || (data2 === "nodejs18.x")) || (data2 === "nodejs20.x")) || (data2 === "nodejs22.x")) || (data2 === "nodejs24.x")) || (data2 === "provided.al2")) || (data2 === "provided.al2023")) || (data2 === "python3.10")) || (data2 === "python3.11")) || (data2 === "python3.12")) || (data2 === "python3.13")) || (data2 === "python3.8")) || (data2 === "python3.9")) || (data2 === "ruby3.2"))){const err6 = {instancePath:instancePath+"/runtime",schemaPath:"#/definitions/LambdaRuntime/enum",keyword:"enum",params:{allowedValues: schema406.enum},message:"must be equal to one of the allowed values",schema:schema406.enum,parentSchema:schema406,data:data2};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data.environment !== undefined){let data3 = data.environment;if(Array.isArray(data3)){const len0 = data3.length;for(let i0=0; i0<len0; i0++){let data4 = data3[i0];if(data4 && typeof data4 == "object" && !Array.isArray(data4)){if(data4.name === undefined){const err7 = {instancePath:instancePath+"/environment/" + i0,schemaPath:"#/definitions/EnvironmentVar/required",keyword:"required",params:{missingProperty: "name"},message:"must have required property '"+"name"+"'",schema:schema28.required,parentSchema:schema28,data:data4};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}if(data4.value === undefined){const err8 = {instancePath:instancePath+"/environment/" + i0,schemaPath:"#/definitions/EnvironmentVar/required",keyword:"required",params:{missingProperty: "value"},message:"must have required property '"+"value"+"'",schema:schema28.required,parentSchema:schema28,data:data4};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}for(const key1 in data4){if(!((key1 === "name") || (key1 === "value"))){const err9 = {instancePath:instancePath+"/environment/" + i0,schemaPath:"#/definitions/EnvironmentVar/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema28,data:data4};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(data4.name !== undefined){let data5 = data4.name;if(typeof data5 !== "string"){const err10 = {instancePath:instancePath+"/environment/" + i0+"/name",schemaPath:"#/definitions/EnvironmentVar/properties/name/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema28.properties.name.type,parentSchema:schema28.properties.name,data:data5};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data4.value !== undefined){let data6 = data4.value;if(((typeof data6 !== "string") && (!(typeof data6 == "number"))) && (typeof data6 !== "boolean")){const err11 = {instancePath:instancePath+"/environment/" + i0+"/value",schemaPath:"#/definitions/EnvironmentVar/properties/value/type",keyword:"type",params:{type: schema28.properties.value.type},message:"must be string,number,boolean",schema:schema28.properties.value.type,parentSchema:schema28.properties.value,data:data6};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}}else {const err12 = {instancePath:instancePath+"/environment/" + i0,schemaPath:"#/definitions/EnvironmentVar/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema28.type,parentSchema:schema28,data:data4};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}}else {const err13 = {instancePath:instancePath+"/environment",schemaPath:"#/properties/environment/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema411.properties.environment.type,parentSchema:schema411.properties.environment,data:data3};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}if(data.parameters !== undefined){let data7 = data.parameters;if(data7 && typeof data7 == "object" && !Array.isArray(data7)){}else {const err14 = {instancePath:instancePath+"/parameters",schemaPath:"#/properties/parameters/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema411.properties.parameters.type,parentSchema:schema411.properties.parameters,data:data7};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}}if(data.memory !== undefined){let data8 = data.memory;if(!(typeof data8 == "number")){const err15 = {instancePath:instancePath+"/memory",schemaPath:"#/properties/memory/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema411.properties.memory.type,parentSchema:schema411.properties.memory,data:data8};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}}if(data.timeout !== undefined){let data9 = data.timeout;if(!(typeof data9 == "number")){const err16 = {instancePath:instancePath+"/timeout",schemaPath:"#/properties/timeout/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema411.properties.timeout.type,parentSchema:schema411.properties.timeout,data:data9};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}}if(data.joinDefaultVpc !== undefined){let data10 = data.joinDefaultVpc;if(typeof data10 !== "boolean"){const err17 = {instancePath:instancePath+"/joinDefaultVpc",schemaPath:"#/properties/joinDefaultVpc/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema411.properties.joinDefaultVpc.type,parentSchema:schema411.properties.joinDefaultVpc,data:data10};if(vErrors === null){vErrors = [err17];}else {vErrors.push(err17);}errors++;}}if(data.storage !== undefined){let data11 = data.storage;if(!(typeof data11 == "number")){const err18 = {instancePath:instancePath+"/storage",schemaPath:"#/properties/storage/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema411.properties.storage.type,parentSchema:schema411.properties.storage,data:data11};if(vErrors === null){vErrors = [err18];}else {vErrors.push(err18);}errors++;}}if(data.connectTo !== undefined){let data12 = data.connectTo;if(Array.isArray(data12)){const len1 = data12.length;for(let i1=0; i1<len1; i1++){let data13 = data12[i1];if(typeof data13 !== "string"){const err19 = {instancePath:instancePath+"/connectTo/" + i1,schemaPath:"#/properties/connectTo/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema411.properties.connectTo.items.type,parentSchema:schema411.properties.connectTo.items,data:data13};if(vErrors === null){vErrors = [err19];}else {vErrors.push(err19);}errors++;}}}else {const err20 = {instancePath:instancePath+"/connectTo",schemaPath:"#/properties/connectTo/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema411.properties.connectTo.type,parentSchema:schema411.properties.connectTo,data:data12};if(vErrors === null){vErrors = [err20];}else {vErrors.push(err20);}errors++;}}if(data.iamRoleStatements !== undefined){let data14 = data.iamRoleStatements;if(Array.isArray(data14)){const len2 = data14.length;for(let i2=0; i2<len2; i2++){let data15 = data14[i2];if(data15 && typeof data15 == "object" && !Array.isArray(data15)){if(data15.Resource === undefined){const err21 = {instancePath:instancePath+"/iamRoleStatements/" + i2,schemaPath:"#/definitions/StpIamRoleStatement/required",keyword:"required",params:{missingProperty: "Resource"},message:"must have required property '"+"Resource"+"'",schema:schema102.required,parentSchema:schema102,data:data15};if(vErrors === null){vErrors = [err21];}else {vErrors.push(err21);}errors++;}for(const key2 in data15){if(!(((((key2 === "Sid") || (key2 === "Effect")) || (key2 === "Action")) || (key2 === "Condition")) || (key2 === "Resource"))){const err22 = {instancePath:instancePath+"/iamRoleStatements/" + i2,schemaPath:"#/definitions/StpIamRoleStatement/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key2},message:"must NOT have additional properties",schema:false,parentSchema:schema102,data:data15};if(vErrors === null){vErrors = [err22];}else {vErrors.push(err22);}errors++;}}if(data15.Sid !== undefined){let data16 = data15.Sid;if(typeof data16 !== "string"){const err23 = {instancePath:instancePath+"/iamRoleStatements/" + i2+"/Sid",schemaPath:"#/definitions/StpIamRoleStatement/properties/Sid/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema102.properties.Sid.type,parentSchema:schema102.properties.Sid,data:data16};if(vErrors === null){vErrors = [err23];}else {vErrors.push(err23);}errors++;}}if(data15.Effect !== undefined){let data17 = data15.Effect;if(typeof data17 !== "string"){const err24 = {instancePath:instancePath+"/iamRoleStatements/" + i2+"/Effect",schemaPath:"#/definitions/StpIamRoleStatement/properties/Effect/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema102.properties.Effect.type,parentSchema:schema102.properties.Effect,data:data17};if(vErrors === null){vErrors = [err24];}else {vErrors.push(err24);}errors++;}}if(data15.Action !== undefined){let data18 = data15.Action;if(Array.isArray(data18)){const len3 = data18.length;for(let i3=0; i3<len3; i3++){let data19 = data18[i3];if(typeof data19 !== "string"){const err25 = {instancePath:instancePath+"/iamRoleStatements/" + i2+"/Action/" + i3,schemaPath:"#/definitions/StpIamRoleStatement/properties/Action/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema102.properties.Action.items.type,parentSchema:schema102.properties.Action.items,data:data19};if(vErrors === null){vErrors = [err25];}else {vErrors.push(err25);}errors++;}}}else {const err26 = {instancePath:instancePath+"/iamRoleStatements/" + i2+"/Action",schemaPath:"#/definitions/StpIamRoleStatement/properties/Action/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema102.properties.Action.type,parentSchema:schema102.properties.Action,data:data18};if(vErrors === null){vErrors = [err26];}else {vErrors.push(err26);}errors++;}}if(data15.Resource !== undefined){let data20 = data15.Resource;if(Array.isArray(data20)){const len4 = data20.length;for(let i4=0; i4<len4; i4++){let data21 = data20[i4];if(typeof data21 !== "string"){const err27 = {instancePath:instancePath+"/iamRoleStatements/" + i2+"/Resource/" + i4,schemaPath:"#/definitions/StpIamRoleStatement/properties/Resource/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema102.properties.Resource.items.type,parentSchema:schema102.properties.Resource.items,data:data21};if(vErrors === null){vErrors = [err27];}else {vErrors.push(err27);}errors++;}}}else {const err28 = {instancePath:instancePath+"/iamRoleStatements/" + i2+"/Resource",schemaPath:"#/definitions/StpIamRoleStatement/properties/Resource/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema102.properties.Resource.type,parentSchema:schema102.properties.Resource,data:data20};if(vErrors === null){vErrors = [err28];}else {vErrors.push(err28);}errors++;}}}else {const err29 = {instancePath:instancePath+"/iamRoleStatements/" + i2,schemaPath:"#/definitions/StpIamRoleStatement/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema102.type,parentSchema:schema102,data:data15};if(vErrors === null){vErrors = [err29];}else {vErrors.push(err29);}errors++;}}}else {const err30 = {instancePath:instancePath+"/iamRoleStatements",schemaPath:"#/properties/iamRoleStatements/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema411.properties.iamRoleStatements.type,parentSchema:schema411.properties.iamRoleStatements,data:data14};if(vErrors === null){vErrors = [err30];}else {vErrors.push(err30);}errors++;}}}else {const err31 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema411.type,parentSchema:schema411,data};if(vErrors === null){vErrors = [err31];}else {vErrors.push(err31);}errors++;}validate458.errors = vErrors;return errors === 0;}function validate457(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema410.required,parentSchema:schema410,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema410.required,parentSchema:schema410,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!(((key0 === "type") || (key0 === "properties")) || (key0 === "overrides"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema410,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema410.properties.type.type,parentSchema:schema410.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("deployment-script" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "deployment-script"},message:"must be equal to constant",schema:"deployment-script",parentSchema:schema410.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate458(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate458.errors : vErrors.concat(validate458.errors);errors = vErrors.length;}}if(data.overrides !== undefined){let data2 = data.overrides;if(data2 && typeof data2 == "object" && !Array.isArray(data2)){for(const key1 in data2){let data3 = data2[key1];if(data3 && typeof data3 == "object" && !Array.isArray(data3)){}else {const err5 = {instancePath:instancePath+"/overrides/" + key1.replace(/~/g, "~0").replace(/\//g, "~1"),schemaPath:"#/properties/overrides/additionalProperties/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema410.properties.overrides.additionalProperties.type,parentSchema:schema410.properties.overrides.additionalProperties,data:data3};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}}else {const err6 = {instancePath:instancePath+"/overrides",schemaPath:"#/properties/overrides/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema410.properties.overrides.type,parentSchema:schema410.properties.overrides,data:data2};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}}else {const err7 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema410.type,parentSchema:schema410,data};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}validate457.errors = vErrors;return errors === 0;}const schema415 = {"description":"#### AWS CDK Construct\n\n---\n\nAllows you to deploy a custom AWS CDK construct as part of your Stacktape stack. This is useful for integrating existing CDK code or for resources not yet supported by Stacktape.\n\nFor more information on AWS CDK, refer to the [official AWS CDK documentation](https://docs.aws.amazon.com/cdk/v2/guide/home.html).","type":"object","properties":{"type":{"type":"string","const":"aws-cdk-construct"},"properties":{"$ref":"#/definitions/AwsCdkConstructProps"}},"additionalProperties":false,"required":["type"]};const schema416 = {"type":"object","properties":{"entryfilePath":{"description":"#### Entry File Path\n\n---\n\nThe path to the file containing the CDK construct.\n\nSupported file extensions are `.js` and `.ts`.","type":"string"},"exportName":{"description":"#### Export Name\n\n---\n\nThe name of the exported construct class from the `entryfilePath`.\n\nIf not provided, Stacktape will use the `default` export.","default":"default","type":"string"},"constructProperties":{"description":"#### Construct Properties\n\n---\n\nAn object passed as props to the construct's constructor. This allows you to configure the construct with custom values."}},"additionalProperties":false,"required":["entryfilePath"]};function validate462(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.type === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema415.required,parentSchema:schema415,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema415,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err2 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema415.properties.type.type,parentSchema:schema415.properties.type,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}if("aws-cdk-construct" !== data0){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "aws-cdk-construct"},message:"must be equal to constant",schema:"aws-cdk-construct",parentSchema:schema415.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.properties !== undefined){let data1 = data.properties;if(data1 && typeof data1 == "object" && !Array.isArray(data1)){if(data1.entryfilePath === undefined){const err4 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/AwsCdkConstructProps/required",keyword:"required",params:{missingProperty: "entryfilePath"},message:"must have required property '"+"entryfilePath"+"'",schema:schema416.required,parentSchema:schema416,data:data1};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}for(const key1 in data1){if(!(((key1 === "entryfilePath") || (key1 === "exportName")) || (key1 === "constructProperties"))){const err5 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/AwsCdkConstructProps/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema416,data:data1};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data1.entryfilePath !== undefined){let data2 = data1.entryfilePath;if(typeof data2 !== "string"){const err6 = {instancePath:instancePath+"/properties/entryfilePath",schemaPath:"#/definitions/AwsCdkConstructProps/properties/entryfilePath/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema416.properties.entryfilePath.type,parentSchema:schema416.properties.entryfilePath,data:data2};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data1.exportName !== undefined){let data3 = data1.exportName;if(typeof data3 !== "string"){const err7 = {instancePath:instancePath+"/properties/exportName",schemaPath:"#/definitions/AwsCdkConstructProps/properties/exportName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema416.properties.exportName.type,parentSchema:schema416.properties.exportName,data:data3};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}}else {const err8 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/AwsCdkConstructProps/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema416.type,parentSchema:schema416,data:data1};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}}else {const err9 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema415.type,parentSchema:schema415,data};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}validate462.errors = vErrors;return errors === 0;}const schema417 = {"description":"#### SQS Queue\n\n---\n\nA fully managed message queuing service that enables you to decouple and scale microservices, distributed systems, and serverless applications.","type":"object","properties":{"type":{"type":"string","const":"sqs-queue"},"properties":{"$ref":"#/definitions/SqsQueueProps"},"overrides":{"description":"#### Resource Overrides\n\n---\n\nOverrides properties of the underlying CloudFormation resources that Stacktape creates.\n\nChild resources are identified by their CloudFormation logical ID (e.g., `MyBucketBucket`). You can find these IDs by running `stacktape stack:info --detailed`.\n\nFor a list of properties that can be overridden, refer to the [AWS CloudFormation documentation](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html).","type":"object","additionalProperties":{"type":"object","additionalProperties":{}}}},"additionalProperties":false,"required":["type"]};const schema418 = {"type":"object","properties":{"delayMessagesSecond":{"description":"#### The amount of time that each message delivery is delayed.\n\n---\n\nSpecifies the time in seconds (0-900) for which the delivery of all messages in the queue is delayed.","default":0,"type":"number"},"maxMessageSizeBytes":{"description":"#### The maximum size of a message, in bytes.\n\n---\n\nYou can specify an integer value from 1,024 bytes (1 KiB) to 262,144 bytes (256 KiB).","default":262144,"type":"number"},"messageRetentionPeriodSeconds":{"description":"#### The number of seconds that the queue retains a message.\n\n---\n\nYou can specify an integer value from 60 seconds (1 minute) to 1,209,600 seconds (14 days).","default":345600,"type":"number"},"longPollingSeconds":{"description":"#### Enables long polling for receiving messages from the queue.\n\n---\n\nLong polling reduces the number of empty responses by allowing Amazon SQS to wait until a message is available in the queue before sending a response.\nThis can help reduce the cost of using SQS by minimizing the number of `ReceiveMessage` API calls.\n\nThis value specifies the duration (in seconds) that the `ReceiveMessage` call waits for a message to arrive.\nIf set to `0` (the default), short polling is used.\n\nFor more details on the differences between short and long polling, see the [AWS documentation](https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-short-and-long-polling.html#sqs-short-long-polling-differences).","default":0,"type":"number"},"visibilityTimeoutSeconds":{"description":"#### The length of time that a message will be unavailable after it is delivered from the queue.\n\n---\n\nWhen a consumer receives a message, it remains in the queue but is made invisible to other consumers for the duration of the visibility timeout.\nThis prevents the message from being processed multiple times. The consumer is responsible for deleting the message from the queue after it has been successfully processed.\n\nThe visibility timeout can be set from 0 to 43,200 seconds (12 hours).\n\nFor more information, see the [AWS documentation on visibility timeout](https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-visibility-timeout.html).","default":30,"type":"number"},"fifoEnabled":{"description":"#### If `true`, creates a FIFO (First-In-First-Out) queue.\n\n---\n\nFIFO queues are designed for applications where the order of operations and events is critical and duplicates cannot be tolerated.\n\nWhen using a FIFO queue, each message must have a `MessageDeduplicationId`, or `contentBasedDeduplication` must be enabled.\n\nFor more information, see the [AWS documentation on FIFO queues](https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/FIFO-queues.html).","default":false,"type":"boolean"},"fifoHighThroughput":{"description":"#### If `true`, enables high-throughput mode for the FIFO queue.\n\n---\n\nHigh throughput is achieved by partitioning messages based on their `MessageGroupId`.\nMessages with the same `MessageGroupId` are always processed in order.\n\n`fifoEnabled` must be `true` to use this feature.\n\nFor more information, see the [AWS documentation on high-throughput FIFO queues](https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/high-throughput-fifo.html).","type":"boolean"},"contentBasedDeduplication":{"description":"#### If `true`, enables content-based deduplication for the FIFO queue.\n\n---\n\nDuring the deduplication interval, the queue treats messages with the same content as duplicates and delivers only one copy.\nDeduplication is based on the `MessageDeduplicationId`. If you do not provide one, Amazon SQS will generate a SHA-256 hash of the message body to use as the `MessageDeduplicationId`.\n\n`fifoEnabled` must be `true` to use this feature.","type":"boolean"},"redrivePolicy":{"$ref":"#/definitions/SqsQueueRedrivePolicy","description":"#### Configures a redrive policy for automatically moving messages that fail processing to a dead-letter queue.\n\n---\n\nMessages are sent to the dead-letter queue after they have been retried `maxReceiveCount` times."},"alarms":{"description":"#### Additional alarms associated with this resource.\n\n---\n\nThese alarms will be merged with any alarms configured globally in the [console](https://console.stacktape.com/alarms).","type":"array","items":{"$ref":"#/definitions/SqsQueueAlarm"}},"disabledGlobalAlarms":{"description":"#### Disables globally configured alarms for this resource.\n\n---\n\nProvide a list of alarm names as configured in the [console](https://console.stacktape.com/alarms).","type":"array","items":{"type":"string"}},"policyStatements":{"description":"#### Adds policy statements to the SQS queue policy.\n\n---\n\nThese statements are added on top of the policy statements automatically inferred by Stacktape.","type":"array","items":{"$ref":"#/definitions/SqsQueuePolicyStatement"}},"events":{"description":"#### A list of event sources that trigger message delivery to this queue.\n\n---\n\nCurrently supports EventBridge event bus integration for delivering events directly to the queue.","type":"array","items":{"$ref":"#/definitions/SqsQueueEventBusIntegration"}}},"additionalProperties":false};const schema419 = {"type":"object","properties":{"targetSqsQueueName":{"description":"#### The name of the SQS queue in your Stacktape configuration where failed messages will be sent.","type":"string"},"targetSqsQueueArn":{"description":"#### The ARN of the SQS queue where failed messages will be sent.","type":"string"},"maxReceiveCount":{"description":"#### The number of times a message is delivered to the source queue before being moved to the dead-letter queue.\n\n---\n\nWhen the `ReceiveCount` for a message exceeds this value, Amazon SQS moves the message to the target queue.","type":"number"}},"additionalProperties":false,"required":["maxReceiveCount"]};const schema428 = {"type":"object","properties":{"Effect":{"description":"#### The effect of the statement.\n\n---\n\nFor more details, see the [AWS documentation](https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-basic-examples-of-sqs-policies.html).","type":"string"},"Action":{"description":"#### A list of actions allowed or denied by the statement.\n\n---\n\nActions must start with `sqs:`.\nFor a list of available actions, see the [AWS documentation](https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-api-permissions-reference.html).","type":"array","items":{"type":"string"}},"Condition":{"description":"#### The circumstances under which the statement grants permissions.\n\n---\n\nFor more details, see the [AWS documentation](https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-basic-examples-of-sqs-policies.html)."},"Principal":{"description":"#### The principal (user, role, or service) to which you are allowing or denying access.\n\n---\n\nFor more details, see the [AWS documentation](https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-basic-examples-of-sqs-policies.html)."}},"additionalProperties":false,"required":["Action","Effect","Principal"]};const schema420 = {"type":"object","properties":{"trigger":{"$ref":"#/definitions/SqsQueueAlarmTrigger"},"evaluation":{"$ref":"#/definitions/AlarmEvaluation","description":"#### Specifies the time window for evaluating the metric to determine if the alarm should be triggered.\n\n---\n\nDefines the duration and frequency of metric evaluation."},"notificationTargets":{"description":"#### Defines where to send notifications when the alarm is triggered.\n\n---\n\nYou can specify a list of integrations, such as Slack, MS Teams, or email.","type":"array","items":{"$ref":"#/definitions/AlarmUserIntegration"}},"description":{"description":"#### Custom description for the alarm\n---\n- If custom description is specified, it is used in the alarm notification message\n- Custom description is also used in the alarm description in the AWS console (If not provided, Stacktape generates default description.)","type":"string"}},"additionalProperties":false,"required":["trigger"]};const schema421 = {"anyOf":[{"$ref":"#/definitions/SqsQueueReceivedMessagesCountTrigger"},{"$ref":"#/definitions/SqsQueueNotEmptyTrigger"}]};const schema426 = {"type":"object","properties":{"type":{"description":"#### Type of the trigger.\n\n---\n\nTriggers an alarm if the SQS queue is not empty.\nA queue is considered empty if all of the following metrics are 0 for the evaluation period:\n  - `ApproximateNumberOfMessagesVisible`\n  - `ApproximateNumberOfMessagesNotVisible`\n  - `NumberOfMessagesReceived`\n  - `NumberOfMessagesSent`","type":"string","const":"sqs-queue-not-empty"}},"additionalProperties":false,"required":["type"]};const schema422 = {"type":"object","properties":{"type":{"type":"string","const":"sqs-queue-received-messages-count"},"properties":{"$ref":"#/definitions/SqsQueueReceivedMessagesCountTriggerProps"}},"additionalProperties":false,"required":["properties","type"]};const schema423 = {"type":"object","properties":{"thresholdCount":{"description":"#### The threshold for the number of messages received.\n\n---\n\nTriggers an alarm when the number of messages received from an SQS queue crosses the defined threshold.\nBy default, it's triggered if the **average** number of received messages (based on the `NumberOfMessagesReceived` metric) over the evaluation period is **greater than** the `thresholdCount`.\nYou can customize the behavior using the `statistic` and `comparisonOperator` properties.","type":"number"},"comparisonOperator":{"$ref":"#/definitions/ComparisonOperator","description":"#### The arithmetic operation to use when comparing the specified statistic and threshold.\n\n---\n\nSupported operators:\n- `GreaterThanThreshold`\n- `GreaterThanOrEqualToThreshold`\n- `LessThanThreshold`\n- `LessThanOrEqualToThreshold`"},"statistic":{"$ref":"#/definitions/StatisticFunction","description":"#### The statistic to apply to the metric data points.\n\n---\n\nSupported statistics:\n- **avg**: The average of the metric values.\n- **sum**: The sum of the metric values.\n- **p90**: The 90th percentile. 90% of the data points are lower than this value.\n- **p95**: The 95th percentile. 95% of the data points are lower than this value.\n- **p99**: The 99th percentile. 99% of the data points are lower than this value.\n- **min**: The lowest value from the data points.\n- **max**: The highest value from the data points.","default":"avg"}},"additionalProperties":false,"required":["thresholdCount"]};function validate469(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.thresholdCount === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "thresholdCount"},message:"must have required property '"+"thresholdCount"+"'",schema:schema423.required,parentSchema:schema423,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!(((key0 === "thresholdCount") || (key0 === "comparisonOperator")) || (key0 === "statistic"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema423,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.thresholdCount !== undefined){let data0 = data.thresholdCount;if(!(typeof data0 == "number")){const err2 = {instancePath:instancePath+"/thresholdCount",schemaPath:"#/properties/thresholdCount/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema423.properties.thresholdCount.type,parentSchema:schema423.properties.thresholdCount,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.comparisonOperator !== undefined){let data1 = data.comparisonOperator;if(typeof data1 !== "string"){const err3 = {instancePath:instancePath+"/comparisonOperator",schemaPath:"#/definitions/ComparisonOperator/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema198.type,parentSchema:schema198,data:data1};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if(!((((data1 === "GreaterThanOrEqualToThreshold") || (data1 === "GreaterThanThreshold")) || (data1 === "LessThanOrEqualToThreshold")) || (data1 === "LessThanThreshold"))){const err4 = {instancePath:instancePath+"/comparisonOperator",schemaPath:"#/definitions/ComparisonOperator/enum",keyword:"enum",params:{allowedValues: schema198.enum},message:"must be equal to one of the allowed values",schema:schema198.enum,parentSchema:schema198,data:data1};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.statistic !== undefined){let data2 = data.statistic;if(typeof data2 !== "string"){const err5 = {instancePath:instancePath+"/statistic",schemaPath:"#/definitions/StatisticFunction/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema197.type,parentSchema:schema197,data:data2};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}if(!(((((((data2 === "avg") || (data2 === "max")) || (data2 === "min")) || (data2 === "p90")) || (data2 === "p95")) || (data2 === "p99")) || (data2 === "sum"))){const err6 = {instancePath:instancePath+"/statistic",schemaPath:"#/definitions/StatisticFunction/enum",keyword:"enum",params:{allowedValues: schema197.enum},message:"must be equal to one of the allowed values",schema:schema197.enum,parentSchema:schema197,data:data2};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}}else {const err7 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema423.type,parentSchema:schema423,data};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}validate469.errors = vErrors;return errors === 0;}function validate468(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema422.required,parentSchema:schema422,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema422.required,parentSchema:schema422,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema422,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema422.properties.type.type,parentSchema:schema422.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("sqs-queue-received-messages-count" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "sqs-queue-received-messages-count"},message:"must be equal to constant",schema:"sqs-queue-received-messages-count",parentSchema:schema422.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate469(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate469.errors : vErrors.concat(validate469.errors);errors = vErrors.length;}}}else {const err5 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema422.type,parentSchema:schema422,data};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}validate468.errors = vErrors;return errors === 0;}function validate467(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;const _errs0 = errors;let valid0 = false;const _errs1 = errors;if(!(validate468(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate468.errors : vErrors.concat(validate468.errors);errors = vErrors.length;}var _valid0 = _errs1 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs2 = errors;if(data && typeof data == "object" && !Array.isArray(data)){if(data.type === undefined){const err0 = {instancePath,schemaPath:"#/definitions/SqsQueueNotEmptyTrigger/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema426.required,parentSchema:schema426,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!(key0 === "type")){const err1 = {instancePath,schemaPath:"#/definitions/SqsQueueNotEmptyTrigger/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema426,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err2 = {instancePath:instancePath+"/type",schemaPath:"#/definitions/SqsQueueNotEmptyTrigger/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema426.properties.type.type,parentSchema:schema426.properties.type,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}if("sqs-queue-not-empty" !== data0){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/definitions/SqsQueueNotEmptyTrigger/properties/type/const",keyword:"const",params:{allowedValue: "sqs-queue-not-empty"},message:"must be equal to constant",schema:"sqs-queue-not-empty",parentSchema:schema426.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}}else {const err4 = {instancePath,schemaPath:"#/definitions/SqsQueueNotEmptyTrigger/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema426.type,parentSchema:schema426,data};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}var _valid0 = _errs2 === errors;valid0 = valid0 || _valid0;}if(!valid0){const err5 = {instancePath,schemaPath:"#/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:schema421.anyOf,parentSchema:schema421,data};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}else {errors = _errs0;if(vErrors !== null){if(_errs0){vErrors.length = _errs0;}else {vErrors = null;}}}validate467.errors = vErrors;return errors === 0;}function validate466(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.trigger === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "trigger"},message:"must have required property '"+"trigger"+"'",schema:schema420.required,parentSchema:schema420,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!((((key0 === "trigger") || (key0 === "evaluation")) || (key0 === "notificationTargets")) || (key0 === "description"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema420,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.trigger !== undefined){if(!(validate467(data.trigger, {instancePath:instancePath+"/trigger",parentData:data,parentDataProperty:"trigger",rootData}))){vErrors = vErrors === null ? validate467.errors : vErrors.concat(validate467.errors);errors = vErrors.length;}}if(data.evaluation !== undefined){let data1 = data.evaluation;if(data1 && typeof data1 == "object" && !Array.isArray(data1)){for(const key1 in data1){if(!(((key1 === "period") || (key1 === "evaluationPeriods")) || (key1 === "breachedPeriods"))){const err2 = {instancePath:instancePath+"/evaluation",schemaPath:"#/definitions/AlarmEvaluation/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema205,data:data1};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data1.period !== undefined){let data2 = data1.period;if(!(typeof data2 == "number")){const err3 = {instancePath:instancePath+"/evaluation/period",schemaPath:"#/definitions/AlarmEvaluation/properties/period/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema205.properties.period.type,parentSchema:schema205.properties.period,data:data2};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data1.evaluationPeriods !== undefined){let data3 = data1.evaluationPeriods;if(!(typeof data3 == "number")){const err4 = {instancePath:instancePath+"/evaluation/evaluationPeriods",schemaPath:"#/definitions/AlarmEvaluation/properties/evaluationPeriods/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema205.properties.evaluationPeriods.type,parentSchema:schema205.properties.evaluationPeriods,data:data3};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data1.breachedPeriods !== undefined){let data4 = data1.breachedPeriods;if(!(typeof data4 == "number")){const err5 = {instancePath:instancePath+"/evaluation/breachedPeriods",schemaPath:"#/definitions/AlarmEvaluation/properties/breachedPeriods/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema205.properties.breachedPeriods.type,parentSchema:schema205.properties.breachedPeriods,data:data4};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}}else {const err6 = {instancePath:instancePath+"/evaluation",schemaPath:"#/definitions/AlarmEvaluation/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema205.type,parentSchema:schema205,data:data1};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data.notificationTargets !== undefined){let data5 = data.notificationTargets;if(Array.isArray(data5)){const len0 = data5.length;for(let i0=0; i0<len0; i0++){if(!(validate209(data5[i0], {instancePath:instancePath+"/notificationTargets/" + i0,parentData:data5,parentDataProperty:i0,rootData}))){vErrors = vErrors === null ? validate209.errors : vErrors.concat(validate209.errors);errors = vErrors.length;}}}else {const err7 = {instancePath:instancePath+"/notificationTargets",schemaPath:"#/properties/notificationTargets/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema420.properties.notificationTargets.type,parentSchema:schema420.properties.notificationTargets,data:data5};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data.description !== undefined){let data7 = data.description;if(typeof data7 !== "string"){const err8 = {instancePath:instancePath+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema420.properties.description.type,parentSchema:schema420.properties.description,data:data7};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}}else {const err9 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema420.type,parentSchema:schema420,data};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}validate466.errors = vErrors;return errors === 0;}const schema429 = {"description":"#### Delivers messages to an SQS queue when an event matching a specified pattern is received by an event bus.","type":"object","properties":{"type":{"type":"string","const":"event-bus"},"properties":{"$ref":"#/definitions/SqsQueueEventBusIntegrationProps","description":"#### Properties of the integration"}},"additionalProperties":false,"required":["properties","type"]};const schema430 = {"type":"object","properties":{"messageGroupId":{"description":"#### The message group ID to use for FIFO queues.\n\n---\n\nThis parameter is required for FIFO queues and is used to group messages together.\nMessages with the same message group ID are processed in order within that group.\nFor more information, see the [AWS documentation on FIFO queues](https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/FIFO-queues.html).","type":"string"},"eventBusArn":{"description":"#### The ARN of an existing event bus.\n\n---\n\nUse this to subscribe to an event bus that is not managed by your stack.\nYou must specify only one of `eventBusArn`, `eventBusName`, or `useDefaultBus`.","type":"string"},"eventBusName":{"description":"#### The name of an event bus defined in your stack's resources.\n\n---\n\nYou must specify only one of `eventBusArn`, `eventBusName`, or `useDefaultBus`.","type":"string"},"useDefaultBus":{"description":"#### Uses the default AWS event bus.\n\n---\n\nYou must specify only one of `eventBusArn`, `eventBusName`, or `useDefaultBus`.","type":"boolean"},"eventPattern":{"$ref":"#/definitions/EventBusIntegrationPattern","description":"#### A pattern to filter events from the event bus.\n\n---\n\nOnly events that match this pattern will trigger the target.\nFor details on the syntax, see the [AWS EventBridge documentation on event patterns](https://docs.aws.amazon.com/eventbridge/latest/userguide/eb-event-patterns.html)."},"onDeliveryFailure":{"$ref":"#/definitions/EventBusOnDeliveryFailure","description":"#### A destination for events that fail to be delivered to the target.\n\n---\n\nIn rare cases, an event might fail to be delivered. This property specifies an SQS queue where failed events will be sent."},"input":{"description":"#### A fixed JSON object to be passed as the event payload.\n\n---\n\nIf you need to customize the payload based on the event, use `inputTransformer` instead.\nYou can only use one of `input`, `inputPath`, or `inputTransformer`.\n\nExample:\n\n```yaml\ninput:\n  source: 'my-custom-event'\n```"},"inputPath":{"description":"#### A JSONPath expression to extract a portion of the event to pass to the target.\n\n---\n\nThis is useful for forwarding only a specific part of the event payload.\nYou can only use one of `input`, `inputPath`, or `inputTransformer`.\n\nExample:\n\n```yaml\ninputPath: '$.detail'\n```","type":"string"},"inputTransformer":{"$ref":"#/definitions/EventInputTransformer","description":"#### Customizes the event payload sent to the target.\n\n---\n\nThis allows you to extract values from the original event and use them to construct a new payload.\nYou can only use one of `input`, `inputPath`, or `inputTransformer`.\n\nExample:\n\n```yaml\ninputTransformer:\n  inputPathsMap:\n    instanceId: '$.detail.instance-id'\n    instanceState: '$.detail.state'\n  inputTemplate:\n    message: 'Instance <instanceId> is now in state <instanceState>.'\n```"}},"additionalProperties":false,"required":["eventPattern"]};function validate476(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.eventPattern === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "eventPattern"},message:"must have required property '"+"eventPattern"+"'",schema:schema430.required,parentSchema:schema430,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!(func2.call(schema430.properties, key0))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema430,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.messageGroupId !== undefined){let data0 = data.messageGroupId;if(typeof data0 !== "string"){const err2 = {instancePath:instancePath+"/messageGroupId",schemaPath:"#/properties/messageGroupId/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema430.properties.messageGroupId.type,parentSchema:schema430.properties.messageGroupId,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.eventBusArn !== undefined){let data1 = data.eventBusArn;if(typeof data1 !== "string"){const err3 = {instancePath:instancePath+"/eventBusArn",schemaPath:"#/properties/eventBusArn/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema430.properties.eventBusArn.type,parentSchema:schema430.properties.eventBusArn,data:data1};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.eventBusName !== undefined){let data2 = data.eventBusName;if(typeof data2 !== "string"){const err4 = {instancePath:instancePath+"/eventBusName",schemaPath:"#/properties/eventBusName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema430.properties.eventBusName.type,parentSchema:schema430.properties.eventBusName,data:data2};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.useDefaultBus !== undefined){let data3 = data.useDefaultBus;if(typeof data3 !== "boolean"){const err5 = {instancePath:instancePath+"/useDefaultBus",schemaPath:"#/properties/useDefaultBus/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema430.properties.useDefaultBus.type,parentSchema:schema430.properties.useDefaultBus,data:data3};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data.eventPattern !== undefined){let data4 = data.eventPattern;if(data4 && typeof data4 == "object" && !Array.isArray(data4)){for(const key1 in data4){if(!((((((((key1 === "version") || (key1 === "detail-type")) || (key1 === "source")) || (key1 === "account")) || (key1 === "region")) || (key1 === "resources")) || (key1 === "detail")) || (key1 === "replay-name"))){const err6 = {instancePath:instancePath+"/eventPattern",schemaPath:"#/definitions/EventBusIntegrationPattern/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema152,data:data4};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}}else {const err7 = {instancePath:instancePath+"/eventPattern",schemaPath:"#/definitions/EventBusIntegrationPattern/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema152.type,parentSchema:schema152,data:data4};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data.onDeliveryFailure !== undefined){let data5 = data.onDeliveryFailure;if(data5 && typeof data5 == "object" && !Array.isArray(data5)){for(const key2 in data5){if(!((key2 === "sqsQueueArn") || (key2 === "sqsQueueName"))){const err8 = {instancePath:instancePath+"/onDeliveryFailure",schemaPath:"#/definitions/EventBusOnDeliveryFailure/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key2},message:"must NOT have additional properties",schema:false,parentSchema:schema153,data:data5};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}if(data5.sqsQueueArn !== undefined){let data6 = data5.sqsQueueArn;if(typeof data6 !== "string"){const err9 = {instancePath:instancePath+"/onDeliveryFailure/sqsQueueArn",schemaPath:"#/definitions/EventBusOnDeliveryFailure/properties/sqsQueueArn/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema153.properties.sqsQueueArn.type,parentSchema:schema153.properties.sqsQueueArn,data:data6};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(data5.sqsQueueName !== undefined){let data7 = data5.sqsQueueName;if(typeof data7 !== "string"){const err10 = {instancePath:instancePath+"/onDeliveryFailure/sqsQueueName",schemaPath:"#/definitions/EventBusOnDeliveryFailure/properties/sqsQueueName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema153.properties.sqsQueueName.type,parentSchema:schema153.properties.sqsQueueName,data:data7};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}}else {const err11 = {instancePath:instancePath+"/onDeliveryFailure",schemaPath:"#/definitions/EventBusOnDeliveryFailure/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema153.type,parentSchema:schema153,data:data5};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}if(data.inputPath !== undefined){let data8 = data.inputPath;if(typeof data8 !== "string"){const err12 = {instancePath:instancePath+"/inputPath",schemaPath:"#/properties/inputPath/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema430.properties.inputPath.type,parentSchema:schema430.properties.inputPath,data:data8};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}if(data.inputTransformer !== undefined){let data9 = data.inputTransformer;if(data9 && typeof data9 == "object" && !Array.isArray(data9)){if(data9.inputTemplate === undefined){const err13 = {instancePath:instancePath+"/inputTransformer",schemaPath:"#/definitions/EventInputTransformer/required",keyword:"required",params:{missingProperty: "inputTemplate"},message:"must have required property '"+"inputTemplate"+"'",schema:schema145.required,parentSchema:schema145,data:data9};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}for(const key3 in data9){if(!((key3 === "inputPathsMap") || (key3 === "inputTemplate"))){const err14 = {instancePath:instancePath+"/inputTransformer",schemaPath:"#/definitions/EventInputTransformer/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key3},message:"must NOT have additional properties",schema:false,parentSchema:schema145,data:data9};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}}}else {const err15 = {instancePath:instancePath+"/inputTransformer",schemaPath:"#/definitions/EventInputTransformer/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema145.type,parentSchema:schema145,data:data9};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}}}else {const err16 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema430.type,parentSchema:schema430,data};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}validate476.errors = vErrors;return errors === 0;}function validate475(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema429.required,parentSchema:schema429,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema429.required,parentSchema:schema429,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema429,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema429.properties.type.type,parentSchema:schema429.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("event-bus" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "event-bus"},message:"must be equal to constant",schema:"event-bus",parentSchema:schema429.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate476(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate476.errors : vErrors.concat(validate476.errors);errors = vErrors.length;}}}else {const err5 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema429.type,parentSchema:schema429,data};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}validate475.errors = vErrors;return errors === 0;}function validate465(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){for(const key0 in data){if(!(func2.call(schema418.properties, key0))){const err0 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema418,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}}if(data.delayMessagesSecond !== undefined){let data0 = data.delayMessagesSecond;if(!(typeof data0 == "number")){const err1 = {instancePath:instancePath+"/delayMessagesSecond",schemaPath:"#/properties/delayMessagesSecond/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema418.properties.delayMessagesSecond.type,parentSchema:schema418.properties.delayMessagesSecond,data:data0};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.maxMessageSizeBytes !== undefined){let data1 = data.maxMessageSizeBytes;if(!(typeof data1 == "number")){const err2 = {instancePath:instancePath+"/maxMessageSizeBytes",schemaPath:"#/properties/maxMessageSizeBytes/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema418.properties.maxMessageSizeBytes.type,parentSchema:schema418.properties.maxMessageSizeBytes,data:data1};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.messageRetentionPeriodSeconds !== undefined){let data2 = data.messageRetentionPeriodSeconds;if(!(typeof data2 == "number")){const err3 = {instancePath:instancePath+"/messageRetentionPeriodSeconds",schemaPath:"#/properties/messageRetentionPeriodSeconds/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema418.properties.messageRetentionPeriodSeconds.type,parentSchema:schema418.properties.messageRetentionPeriodSeconds,data:data2};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.longPollingSeconds !== undefined){let data3 = data.longPollingSeconds;if(!(typeof data3 == "number")){const err4 = {instancePath:instancePath+"/longPollingSeconds",schemaPath:"#/properties/longPollingSeconds/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema418.properties.longPollingSeconds.type,parentSchema:schema418.properties.longPollingSeconds,data:data3};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.visibilityTimeoutSeconds !== undefined){let data4 = data.visibilityTimeoutSeconds;if(!(typeof data4 == "number")){const err5 = {instancePath:instancePath+"/visibilityTimeoutSeconds",schemaPath:"#/properties/visibilityTimeoutSeconds/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema418.properties.visibilityTimeoutSeconds.type,parentSchema:schema418.properties.visibilityTimeoutSeconds,data:data4};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data.fifoEnabled !== undefined){let data5 = data.fifoEnabled;if(typeof data5 !== "boolean"){const err6 = {instancePath:instancePath+"/fifoEnabled",schemaPath:"#/properties/fifoEnabled/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema418.properties.fifoEnabled.type,parentSchema:schema418.properties.fifoEnabled,data:data5};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data.fifoHighThroughput !== undefined){let data6 = data.fifoHighThroughput;if(typeof data6 !== "boolean"){const err7 = {instancePath:instancePath+"/fifoHighThroughput",schemaPath:"#/properties/fifoHighThroughput/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema418.properties.fifoHighThroughput.type,parentSchema:schema418.properties.fifoHighThroughput,data:data6};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data.contentBasedDeduplication !== undefined){let data7 = data.contentBasedDeduplication;if(typeof data7 !== "boolean"){const err8 = {instancePath:instancePath+"/contentBasedDeduplication",schemaPath:"#/properties/contentBasedDeduplication/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema418.properties.contentBasedDeduplication.type,parentSchema:schema418.properties.contentBasedDeduplication,data:data7};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}if(data.redrivePolicy !== undefined){let data8 = data.redrivePolicy;if(data8 && typeof data8 == "object" && !Array.isArray(data8)){if(data8.maxReceiveCount === undefined){const err9 = {instancePath:instancePath+"/redrivePolicy",schemaPath:"#/definitions/SqsQueueRedrivePolicy/required",keyword:"required",params:{missingProperty: "maxReceiveCount"},message:"must have required property '"+"maxReceiveCount"+"'",schema:schema419.required,parentSchema:schema419,data:data8};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}for(const key1 in data8){if(!(((key1 === "targetSqsQueueName") || (key1 === "targetSqsQueueArn")) || (key1 === "maxReceiveCount"))){const err10 = {instancePath:instancePath+"/redrivePolicy",schemaPath:"#/definitions/SqsQueueRedrivePolicy/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema419,data:data8};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data8.targetSqsQueueName !== undefined){let data9 = data8.targetSqsQueueName;if(typeof data9 !== "string"){const err11 = {instancePath:instancePath+"/redrivePolicy/targetSqsQueueName",schemaPath:"#/definitions/SqsQueueRedrivePolicy/properties/targetSqsQueueName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema419.properties.targetSqsQueueName.type,parentSchema:schema419.properties.targetSqsQueueName,data:data9};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}if(data8.targetSqsQueueArn !== undefined){let data10 = data8.targetSqsQueueArn;if(typeof data10 !== "string"){const err12 = {instancePath:instancePath+"/redrivePolicy/targetSqsQueueArn",schemaPath:"#/definitions/SqsQueueRedrivePolicy/properties/targetSqsQueueArn/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema419.properties.targetSqsQueueArn.type,parentSchema:schema419.properties.targetSqsQueueArn,data:data10};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}if(data8.maxReceiveCount !== undefined){let data11 = data8.maxReceiveCount;if(!(typeof data11 == "number")){const err13 = {instancePath:instancePath+"/redrivePolicy/maxReceiveCount",schemaPath:"#/definitions/SqsQueueRedrivePolicy/properties/maxReceiveCount/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema419.properties.maxReceiveCount.type,parentSchema:schema419.properties.maxReceiveCount,data:data11};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}}else {const err14 = {instancePath:instancePath+"/redrivePolicy",schemaPath:"#/definitions/SqsQueueRedrivePolicy/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema419.type,parentSchema:schema419,data:data8};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}}if(data.alarms !== undefined){let data12 = data.alarms;if(Array.isArray(data12)){const len0 = data12.length;for(let i0=0; i0<len0; i0++){if(!(validate466(data12[i0], {instancePath:instancePath+"/alarms/" + i0,parentData:data12,parentDataProperty:i0,rootData}))){vErrors = vErrors === null ? validate466.errors : vErrors.concat(validate466.errors);errors = vErrors.length;}}}else {const err15 = {instancePath:instancePath+"/alarms",schemaPath:"#/properties/alarms/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema418.properties.alarms.type,parentSchema:schema418.properties.alarms,data:data12};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}}if(data.disabledGlobalAlarms !== undefined){let data14 = data.disabledGlobalAlarms;if(Array.isArray(data14)){const len1 = data14.length;for(let i1=0; i1<len1; i1++){let data15 = data14[i1];if(typeof data15 !== "string"){const err16 = {instancePath:instancePath+"/disabledGlobalAlarms/" + i1,schemaPath:"#/properties/disabledGlobalAlarms/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema418.properties.disabledGlobalAlarms.items.type,parentSchema:schema418.properties.disabledGlobalAlarms.items,data:data15};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}}}else {const err17 = {instancePath:instancePath+"/disabledGlobalAlarms",schemaPath:"#/properties/disabledGlobalAlarms/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema418.properties.disabledGlobalAlarms.type,parentSchema:schema418.properties.disabledGlobalAlarms,data:data14};if(vErrors === null){vErrors = [err17];}else {vErrors.push(err17);}errors++;}}if(data.policyStatements !== undefined){let data16 = data.policyStatements;if(Array.isArray(data16)){const len2 = data16.length;for(let i2=0; i2<len2; i2++){let data17 = data16[i2];if(data17 && typeof data17 == "object" && !Array.isArray(data17)){if(data17.Action === undefined){const err18 = {instancePath:instancePath+"/policyStatements/" + i2,schemaPath:"#/definitions/SqsQueuePolicyStatement/required",keyword:"required",params:{missingProperty: "Action"},message:"must have required property '"+"Action"+"'",schema:schema428.required,parentSchema:schema428,data:data17};if(vErrors === null){vErrors = [err18];}else {vErrors.push(err18);}errors++;}if(data17.Effect === undefined){const err19 = {instancePath:instancePath+"/policyStatements/" + i2,schemaPath:"#/definitions/SqsQueuePolicyStatement/required",keyword:"required",params:{missingProperty: "Effect"},message:"must have required property '"+"Effect"+"'",schema:schema428.required,parentSchema:schema428,data:data17};if(vErrors === null){vErrors = [err19];}else {vErrors.push(err19);}errors++;}if(data17.Principal === undefined){const err20 = {instancePath:instancePath+"/policyStatements/" + i2,schemaPath:"#/definitions/SqsQueuePolicyStatement/required",keyword:"required",params:{missingProperty: "Principal"},message:"must have required property '"+"Principal"+"'",schema:schema428.required,parentSchema:schema428,data:data17};if(vErrors === null){vErrors = [err20];}else {vErrors.push(err20);}errors++;}for(const key2 in data17){if(!((((key2 === "Effect") || (key2 === "Action")) || (key2 === "Condition")) || (key2 === "Principal"))){const err21 = {instancePath:instancePath+"/policyStatements/" + i2,schemaPath:"#/definitions/SqsQueuePolicyStatement/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key2},message:"must NOT have additional properties",schema:false,parentSchema:schema428,data:data17};if(vErrors === null){vErrors = [err21];}else {vErrors.push(err21);}errors++;}}if(data17.Effect !== undefined){let data18 = data17.Effect;if(typeof data18 !== "string"){const err22 = {instancePath:instancePath+"/policyStatements/" + i2+"/Effect",schemaPath:"#/definitions/SqsQueuePolicyStatement/properties/Effect/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema428.properties.Effect.type,parentSchema:schema428.properties.Effect,data:data18};if(vErrors === null){vErrors = [err22];}else {vErrors.push(err22);}errors++;}}if(data17.Action !== undefined){let data19 = data17.Action;if(Array.isArray(data19)){const len3 = data19.length;for(let i3=0; i3<len3; i3++){let data20 = data19[i3];if(typeof data20 !== "string"){const err23 = {instancePath:instancePath+"/policyStatements/" + i2+"/Action/" + i3,schemaPath:"#/definitions/SqsQueuePolicyStatement/properties/Action/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema428.properties.Action.items.type,parentSchema:schema428.properties.Action.items,data:data20};if(vErrors === null){vErrors = [err23];}else {vErrors.push(err23);}errors++;}}}else {const err24 = {instancePath:instancePath+"/policyStatements/" + i2+"/Action",schemaPath:"#/definitions/SqsQueuePolicyStatement/properties/Action/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema428.properties.Action.type,parentSchema:schema428.properties.Action,data:data19};if(vErrors === null){vErrors = [err24];}else {vErrors.push(err24);}errors++;}}}else {const err25 = {instancePath:instancePath+"/policyStatements/" + i2,schemaPath:"#/definitions/SqsQueuePolicyStatement/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema428.type,parentSchema:schema428,data:data17};if(vErrors === null){vErrors = [err25];}else {vErrors.push(err25);}errors++;}}}else {const err26 = {instancePath:instancePath+"/policyStatements",schemaPath:"#/properties/policyStatements/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema418.properties.policyStatements.type,parentSchema:schema418.properties.policyStatements,data:data16};if(vErrors === null){vErrors = [err26];}else {vErrors.push(err26);}errors++;}}if(data.events !== undefined){let data21 = data.events;if(Array.isArray(data21)){const len4 = data21.length;for(let i4=0; i4<len4; i4++){if(!(validate475(data21[i4], {instancePath:instancePath+"/events/" + i4,parentData:data21,parentDataProperty:i4,rootData}))){vErrors = vErrors === null ? validate475.errors : vErrors.concat(validate475.errors);errors = vErrors.length;}}}else {const err27 = {instancePath:instancePath+"/events",schemaPath:"#/properties/events/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema418.properties.events.type,parentSchema:schema418.properties.events,data:data21};if(vErrors === null){vErrors = [err27];}else {vErrors.push(err27);}errors++;}}}else {const err28 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema418.type,parentSchema:schema418,data};if(vErrors === null){vErrors = [err28];}else {vErrors.push(err28);}errors++;}validate465.errors = vErrors;return errors === 0;}function validate464(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.type === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema417.required,parentSchema:schema417,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!(((key0 === "type") || (key0 === "properties")) || (key0 === "overrides"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema417,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err2 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema417.properties.type.type,parentSchema:schema417.properties.type,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}if("sqs-queue" !== data0){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "sqs-queue"},message:"must be equal to constant",schema:"sqs-queue",parentSchema:schema417.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.properties !== undefined){if(!(validate465(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate465.errors : vErrors.concat(validate465.errors);errors = vErrors.length;}}if(data.overrides !== undefined){let data2 = data.overrides;if(data2 && typeof data2 == "object" && !Array.isArray(data2)){for(const key1 in data2){let data3 = data2[key1];if(data3 && typeof data3 == "object" && !Array.isArray(data3)){}else {const err4 = {instancePath:instancePath+"/overrides/" + key1.replace(/~/g, "~0").replace(/\//g, "~1"),schemaPath:"#/properties/overrides/additionalProperties/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema417.properties.overrides.additionalProperties.type,parentSchema:schema417.properties.overrides.additionalProperties,data:data3};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}}else {const err5 = {instancePath:instancePath+"/overrides",schemaPath:"#/properties/overrides/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema417.properties.overrides.type,parentSchema:schema417.properties.overrides,data:data2};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}}else {const err6 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema417.type,parentSchema:schema417,data};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}validate464.errors = vErrors;return errors === 0;}const schema434 = {"description":"#### Simple Notification Service (SNS) Topic\n\n---\n\nA managed messaging service for application-to-application (A2A) and application-to-person (A2P) communication. It allows you to send messages (notifications) to a large number of subscribers, including other services, applications, and end-users.","type":"object","properties":{"type":{"type":"string","const":"sns-topic"},"properties":{"$ref":"#/definitions/SnsTopicProps"},"overrides":{"description":"#### Resource Overrides\n\n---\n\nOverrides properties of the underlying CloudFormation resources that Stacktape creates.\n\nChild resources are identified by their CloudFormation logical ID (e.g., `MyBucketBucket`). You can find these IDs by running `stacktape stack:info --detailed`.\n\nFor a list of properties that can be overridden, refer to the [AWS CloudFormation documentation](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html).","type":"object","additionalProperties":{"type":"object","additionalProperties":{}}}},"additionalProperties":false,"required":["type"]};const schema435 = {"type":"object","properties":{"smsDisplayName":{"description":"#### SMS Display Name\n\n---\n\nThe name that appears as the sender when you send SMS messages to subscribers.","type":"string"},"fifoEnabled":{"description":"#### Enable FIFO (First-In-First-Out)\n\n---\n\nEnables FIFO (First-In-First-Out) for this topic.\n\nFIFO topics ensure that messages are processed in the exact order they are sent and that no duplicate messages are delivered. This is useful for applications where order and uniqueness are critical, such as financial transactions or inventory updates.\n\nWhen `fifoEnabled` is `true`, either `contentBasedDeduplication` must be enabled, or every message must include a unique `MessageDeduplicationId`.\n\nFor more details, refer to the [AWS documentation on FIFO topics](https://docs.aws.amazon.com/sns/latest/dg/sns-fifo-topics.html).","default":false,"type":"boolean"},"contentBasedDeduplication":{"description":"#### Enable Content-Based Deduplication\n\n---\n\nEnables content-based deduplication. This helps prevent sending duplicate messages.\n\nSNS will automatically generate a unique ID based on the message content and use it to detect and discard duplicate messages sent within a 5-minute interval.\n\nThis property can only be used when `fifoEnabled` is `true`.","default":false,"type":"boolean"}},"additionalProperties":false};function validate481(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.type === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema434.required,parentSchema:schema434,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!(((key0 === "type") || (key0 === "properties")) || (key0 === "overrides"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema434,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err2 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema434.properties.type.type,parentSchema:schema434.properties.type,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}if("sns-topic" !== data0){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "sns-topic"},message:"must be equal to constant",schema:"sns-topic",parentSchema:schema434.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.properties !== undefined){let data1 = data.properties;if(data1 && typeof data1 == "object" && !Array.isArray(data1)){for(const key1 in data1){if(!(((key1 === "smsDisplayName") || (key1 === "fifoEnabled")) || (key1 === "contentBasedDeduplication"))){const err4 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/SnsTopicProps/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema435,data:data1};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data1.smsDisplayName !== undefined){let data2 = data1.smsDisplayName;if(typeof data2 !== "string"){const err5 = {instancePath:instancePath+"/properties/smsDisplayName",schemaPath:"#/definitions/SnsTopicProps/properties/smsDisplayName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema435.properties.smsDisplayName.type,parentSchema:schema435.properties.smsDisplayName,data:data2};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data1.fifoEnabled !== undefined){let data3 = data1.fifoEnabled;if(typeof data3 !== "boolean"){const err6 = {instancePath:instancePath+"/properties/fifoEnabled",schemaPath:"#/definitions/SnsTopicProps/properties/fifoEnabled/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema435.properties.fifoEnabled.type,parentSchema:schema435.properties.fifoEnabled,data:data3};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data1.contentBasedDeduplication !== undefined){let data4 = data1.contentBasedDeduplication;if(typeof data4 !== "boolean"){const err7 = {instancePath:instancePath+"/properties/contentBasedDeduplication",schemaPath:"#/definitions/SnsTopicProps/properties/contentBasedDeduplication/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema435.properties.contentBasedDeduplication.type,parentSchema:schema435.properties.contentBasedDeduplication,data:data4};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}}else {const err8 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/SnsTopicProps/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema435.type,parentSchema:schema435,data:data1};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}if(data.overrides !== undefined){let data5 = data.overrides;if(data5 && typeof data5 == "object" && !Array.isArray(data5)){for(const key2 in data5){let data6 = data5[key2];if(data6 && typeof data6 == "object" && !Array.isArray(data6)){}else {const err9 = {instancePath:instancePath+"/overrides/" + key2.replace(/~/g, "~0").replace(/\//g, "~1"),schemaPath:"#/properties/overrides/additionalProperties/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema434.properties.overrides.additionalProperties.type,parentSchema:schema434.properties.overrides.additionalProperties,data:data6};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}}else {const err10 = {instancePath:instancePath+"/overrides",schemaPath:"#/properties/overrides/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema434.properties.overrides.type,parentSchema:schema434.properties.overrides,data:data5};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}}else {const err11 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema434.type,parentSchema:schema434,data};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}validate481.errors = vErrors;return errors === 0;}const schema436 = {"description":"#### Hosting Bucket\n\n---\n\nA resource designed to host your static website or other static content.\nIt combines the power of an S3 Bucket (for storing data) and a CloudFront CDN (for distributing it globally).","type":"object","properties":{"type":{"type":"string","const":"hosting-bucket"},"properties":{"$ref":"#/definitions/HostingBucketProps"},"overrides":{"description":"#### Resource Overrides\n\n---\n\nOverrides properties of the underlying CloudFormation resources that Stacktape creates.\n\nChild resources are identified by their CloudFormation logical ID (e.g., `MyBucketBucket`). You can find these IDs by running `stacktape stack:info --detailed`.\n\nFor a list of properties that can be overridden, refer to the [AWS CloudFormation documentation](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html).","type":"object","additionalProperties":{"type":"object","additionalProperties":{}}}},"additionalProperties":false,"required":["properties","type"]};const schema437 = {"type":"object","properties":{"uploadDirectoryPath":{"description":"#### The path to the directory to upload.\n\n---\n\nThis should be the path to the directory containing the content you want to host, such as the output directory of your website's build process.\n\nThe contents of this folder will be uploaded to the bucket during the `deploy`, `codebuild:deploy`, or `bucket:sync` commands.","type":"string"},"build":{"$ref":"#/definitions/HostingBucketBuild","description":"#### Build configuration for the hosting bucket.\n\n---\n\nConfigures the build process that produces the files to upload. The build runs during the packaging phase, in parallel with other packaging jobs.\n\nSupports common frontend build tools like Vite, Webpack, Angular CLI, Vue CLI, Create React App, and SvelteKit.\nBuild output is parsed to display meaningful information (e.g., bundle size) in the deployment logs."},"dev":{"$ref":"#/definitions/HostingBucketBuild","description":"#### Dev server configuration for the hosting bucket.\n\n---\n\nConfigures the dev server process for local development. Used by the `dev` command.\n\nExample commands:\n- `npm run dev`\n- `vite`\n- `webpack serve`"},"excludeFilesPatterns":{"description":"#### Glob patterns for files to be excluded from the upload.\n\n---\n\nThese patterns are relative to the `uploadDirectoryPath`.","type":"array","items":{"type":"string"}},"hostingContentType":{"$ref":"#/definitions/SupportedHeaderPreset","description":"#### Configures HTTP headers of uploaded files and CDN behavior based on the content type.\n\n---\n\nSupported content types:\n\n- **`static-website`**:\n  - Sets the `Cache-Control` header to `public, max-age=0, s-maxage=31536000, must-revalidate` for all uploaded files.\n  - This setup caches all content on the CDN but never in the browser.\n\n- **`gatsby-static-website`**:\n  - Optimizes headers for static websites built with [Gatsby](https://www.gatsbyjs.com/), following their [caching recommendations](https://www.gatsbyjs.com/docs/caching/).\n\n- **`single-page-app`**:\n  - Optimizes headers for [Single-Page Applications](https://en.wikipedia.org/wiki/Single-page_application).\n  - `html` files are never cached to ensure users always get the latest content after a deployment.\n  - All other assets (e.g., `.js`, `.css`) are cached indefinitely. You should **always** add a content hash to your filenames to ensure users receive new versions after updates. For more details, see the documentation for your bundler (e.g., [webpack](https://webpack.js.org/guides/caching/)).\n  - Sets up the necessary CDN redirects for a single-page app.","default":"static-website"},"customDomains":{"description":"#### Attaches custom domains to this hosting bucket.\n\n---\n\nWhen you connect a custom domain, Stacktape automatically:\n\n- **Creates DNS records:** A DNS record is created to point your domain name to the resource.\n- **Adds TLS certificates:** Stacktape issues and attaches a free, AWS-managed TLS certificate to handle HTTPS.\n\n> To manage a custom domain, it must first be added to your AWS account as a [hosted zone](https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/AboutHZWorkingWith.html), and your domain registrar's name servers must point to it.\n> For more details, see the [Adding a domain guide](https://docs.stacktape.com/other-resources/domains-and-certificates/#adding-domain).","type":"array","items":{"$ref":"#/definitions/DomainConfiguration"}},"disableUrlNormalization":{"description":"#### Disables URL normalization.\n\n---\n\nURL normalization is enabled by default and is useful for serving HTML files from a bucket with clean URLs (without the `.html` extension).","default":false,"type":"boolean"},"edgeFunctions":{"$ref":"#/definitions/EdgeFunctionsConfig","description":"#### Configures Edge function triggers.\n\n---\n\nYou can associate an `edge-lambda-function` with this hosting bucket to be executed at different stages:\n\n- `onRequest`: Executed when the CDN receives a request from a client, before checking the cache and before the request is forwarded to the hosting bucket.\n- `onResponse`: Executed before returning a response to the client.\n\n**Potential Use Cases:**\n- Generating an immediate HTTP response without checking the cache or forwarding to the bucket.\n- Modifying the request (e.g., rewriting the URL or headers) before forwarding to the bucket."},"errorDocument":{"description":"#### The custom error document URL.\n\n---\n\nThis document is requested if the original request to the origin returns a `404` error code.\n\nExample: `/error.html`","type":"string"},"indexDocument":{"description":"#### The custom index document served for requests to the root path (`/`).\n\n---","default":"/index.html","type":"string"},"injectEnvironment":{"description":"#### Injects referenced parameters into all HTML files in the `uploadDirectoryPath`.\n\n---\n\nThese parameters can be accessed by any JavaScript script using `window.STP_INJECTED_ENV.VARIABLE_NAME`.\nThis is useful for automatically referencing parameters that are only known after deployment, such as the URL of an API Gateway or the ID of a User Pool.","type":"array","items":{"$ref":"#/definitions/EnvironmentVar"}},"writeDotenvFilesTo":{"description":"#### Injects referenced parameters into `.env` files within the specified directory.\n\n---\n\nWrites the injected environment variables to a file named `.env`.\nIf the file already exists, the new variables will be merged with the existing ones.","type":"string"},"useFirewall":{"description":"#### The name of the `web-app-firewall` resource to use to protect this hosting bucket.\n\n---\n\nA `web-app-firewall` can protect your resources from common web exploits that could affect availability, compromise security, or consume excessive resources.\n\nFor more information, see the [firewall documentation](https://docs.stacktape.com/security-resources/web-app-firewalls/).\n\n> **Note:** Because this resource uses a CDN, the `scope` of the `web-app-firewall` must be set to `cdn`.","type":"string"},"fileOptions":{"description":"#### Allows you to manually set headers (e.g., `Cache-Control`, `Content-Type`) for files that match a filter pattern.","type":"array","items":{"$ref":"#/definitions/DirectoryUploadFilter"}},"routeRewrites":{"description":"#### Redirects specific requests to a different origin.\n\n---\n\nEach incoming request to the CDN is evaluated against a list of route rewrites. If the request path matches a rewrite's path pattern, it is sent to the configured route.\nRoute rewrites are evaluated in order, and the first match determines where the request will be sent.\n\nIf no match is found, the request is sent to the default origin (the hosting bucket).\n\n**Example Use Cases:**\n- Serving static content from the bucket while routing dynamic paths to a Lambda function.\n- Caching `.jpg` files for a longer duration than other file types.","type":"array","items":{"$ref":"#/definitions/CdnRouteRewrite"}}},"additionalProperties":false,"required":["uploadDirectoryPath"]};const schema438 = {"description":"#### Build configuration for hosting bucket.\n\n---\n\nDefines how to build frontend assets before uploading them to the bucket.","type":"object","properties":{"command":{"description":"#### The command to execute.\n\n---\n\nExamples:\n- `npm run build`\n- `bun run build`\n- `vite build`\n- `webpack --mode production`","type":"string"},"workingDirectory":{"description":"#### The working directory for the command.\n\n---\n\nRelative to the project root. Defaults to the project root.","default":".","type":"string"}},"additionalProperties":false,"required":["command"]};function validate484(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.uploadDirectoryPath === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "uploadDirectoryPath"},message:"must have required property '"+"uploadDirectoryPath"+"'",schema:schema437.required,parentSchema:schema437,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!(func2.call(schema437.properties, key0))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema437,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.uploadDirectoryPath !== undefined){let data0 = data.uploadDirectoryPath;if(typeof data0 !== "string"){const err2 = {instancePath:instancePath+"/uploadDirectoryPath",schemaPath:"#/properties/uploadDirectoryPath/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema437.properties.uploadDirectoryPath.type,parentSchema:schema437.properties.uploadDirectoryPath,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.build !== undefined){let data1 = data.build;if(data1 && typeof data1 == "object" && !Array.isArray(data1)){if(data1.command === undefined){const err3 = {instancePath:instancePath+"/build",schemaPath:"#/definitions/HostingBucketBuild/required",keyword:"required",params:{missingProperty: "command"},message:"must have required property '"+"command"+"'",schema:schema438.required,parentSchema:schema438,data:data1};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}for(const key1 in data1){if(!((key1 === "command") || (key1 === "workingDirectory"))){const err4 = {instancePath:instancePath+"/build",schemaPath:"#/definitions/HostingBucketBuild/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema438,data:data1};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data1.command !== undefined){let data2 = data1.command;if(typeof data2 !== "string"){const err5 = {instancePath:instancePath+"/build/command",schemaPath:"#/definitions/HostingBucketBuild/properties/command/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema438.properties.command.type,parentSchema:schema438.properties.command,data:data2};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data1.workingDirectory !== undefined){let data3 = data1.workingDirectory;if(typeof data3 !== "string"){const err6 = {instancePath:instancePath+"/build/workingDirectory",schemaPath:"#/definitions/HostingBucketBuild/properties/workingDirectory/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema438.properties.workingDirectory.type,parentSchema:schema438.properties.workingDirectory,data:data3};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}}else {const err7 = {instancePath:instancePath+"/build",schemaPath:"#/definitions/HostingBucketBuild/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema438.type,parentSchema:schema438,data:data1};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data.dev !== undefined){let data4 = data.dev;if(data4 && typeof data4 == "object" && !Array.isArray(data4)){if(data4.command === undefined){const err8 = {instancePath:instancePath+"/dev",schemaPath:"#/definitions/HostingBucketBuild/required",keyword:"required",params:{missingProperty: "command"},message:"must have required property '"+"command"+"'",schema:schema438.required,parentSchema:schema438,data:data4};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}for(const key2 in data4){if(!((key2 === "command") || (key2 === "workingDirectory"))){const err9 = {instancePath:instancePath+"/dev",schemaPath:"#/definitions/HostingBucketBuild/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key2},message:"must NOT have additional properties",schema:false,parentSchema:schema438,data:data4};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(data4.command !== undefined){let data5 = data4.command;if(typeof data5 !== "string"){const err10 = {instancePath:instancePath+"/dev/command",schemaPath:"#/definitions/HostingBucketBuild/properties/command/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema438.properties.command.type,parentSchema:schema438.properties.command,data:data5};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data4.workingDirectory !== undefined){let data6 = data4.workingDirectory;if(typeof data6 !== "string"){const err11 = {instancePath:instancePath+"/dev/workingDirectory",schemaPath:"#/definitions/HostingBucketBuild/properties/workingDirectory/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema438.properties.workingDirectory.type,parentSchema:schema438.properties.workingDirectory,data:data6};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}}else {const err12 = {instancePath:instancePath+"/dev",schemaPath:"#/definitions/HostingBucketBuild/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema438.type,parentSchema:schema438,data:data4};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}if(data.excludeFilesPatterns !== undefined){let data7 = data.excludeFilesPatterns;if(Array.isArray(data7)){const len0 = data7.length;for(let i0=0; i0<len0; i0++){let data8 = data7[i0];if(typeof data8 !== "string"){const err13 = {instancePath:instancePath+"/excludeFilesPatterns/" + i0,schemaPath:"#/properties/excludeFilesPatterns/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema437.properties.excludeFilesPatterns.items.type,parentSchema:schema437.properties.excludeFilesPatterns.items,data:data8};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}}else {const err14 = {instancePath:instancePath+"/excludeFilesPatterns",schemaPath:"#/properties/excludeFilesPatterns/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema437.properties.excludeFilesPatterns.type,parentSchema:schema437.properties.excludeFilesPatterns,data:data7};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}}if(data.hostingContentType !== undefined){let data9 = data.hostingContentType;if(typeof data9 !== "string"){const err15 = {instancePath:instancePath+"/hostingContentType",schemaPath:"#/definitions/SupportedHeaderPreset/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema313.type,parentSchema:schema313,data:data9};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}if(!(((data9 === "gatsby-static-website") || (data9 === "single-page-app")) || (data9 === "static-website"))){const err16 = {instancePath:instancePath+"/hostingContentType",schemaPath:"#/definitions/SupportedHeaderPreset/enum",keyword:"enum",params:{allowedValues: schema313.enum},message:"must be equal to one of the allowed values",schema:schema313.enum,parentSchema:schema313,data:data9};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}}if(data.customDomains !== undefined){let data10 = data.customDomains;if(Array.isArray(data10)){const len1 = data10.length;for(let i1=0; i1<len1; i1++){let data11 = data10[i1];if(data11 && typeof data11 == "object" && !Array.isArray(data11)){if(data11.domainName === undefined){const err17 = {instancePath:instancePath+"/customDomains/" + i1,schemaPath:"#/definitions/DomainConfiguration/required",keyword:"required",params:{missingProperty: "domainName"},message:"must have required property '"+"domainName"+"'",schema:schema160.required,parentSchema:schema160,data:data11};if(vErrors === null){vErrors = [err17];}else {vErrors.push(err17);}errors++;}for(const key3 in data11){if(!(((key3 === "domainName") || (key3 === "customCertificateArn")) || (key3 === "disableDnsRecordCreation"))){const err18 = {instancePath:instancePath+"/customDomains/" + i1,schemaPath:"#/definitions/DomainConfiguration/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key3},message:"must NOT have additional properties",schema:false,parentSchema:schema160,data:data11};if(vErrors === null){vErrors = [err18];}else {vErrors.push(err18);}errors++;}}if(data11.domainName !== undefined){let data12 = data11.domainName;if(typeof data12 !== "string"){const err19 = {instancePath:instancePath+"/customDomains/" + i1+"/domainName",schemaPath:"#/definitions/DomainConfiguration/properties/domainName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema160.properties.domainName.type,parentSchema:schema160.properties.domainName,data:data12};if(vErrors === null){vErrors = [err19];}else {vErrors.push(err19);}errors++;}}if(data11.customCertificateArn !== undefined){let data13 = data11.customCertificateArn;if(typeof data13 !== "string"){const err20 = {instancePath:instancePath+"/customDomains/" + i1+"/customCertificateArn",schemaPath:"#/definitions/DomainConfiguration/properties/customCertificateArn/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema160.properties.customCertificateArn.type,parentSchema:schema160.properties.customCertificateArn,data:data13};if(vErrors === null){vErrors = [err20];}else {vErrors.push(err20);}errors++;}}if(data11.disableDnsRecordCreation !== undefined){let data14 = data11.disableDnsRecordCreation;if(typeof data14 !== "boolean"){const err21 = {instancePath:instancePath+"/customDomains/" + i1+"/disableDnsRecordCreation",schemaPath:"#/definitions/DomainConfiguration/properties/disableDnsRecordCreation/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema160.properties.disableDnsRecordCreation.type,parentSchema:schema160.properties.disableDnsRecordCreation,data:data14};if(vErrors === null){vErrors = [err21];}else {vErrors.push(err21);}errors++;}}}else {const err22 = {instancePath:instancePath+"/customDomains/" + i1,schemaPath:"#/definitions/DomainConfiguration/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema160.type,parentSchema:schema160,data:data11};if(vErrors === null){vErrors = [err22];}else {vErrors.push(err22);}errors++;}}}else {const err23 = {instancePath:instancePath+"/customDomains",schemaPath:"#/properties/customDomains/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema437.properties.customDomains.type,parentSchema:schema437.properties.customDomains,data:data10};if(vErrors === null){vErrors = [err23];}else {vErrors.push(err23);}errors++;}}if(data.disableUrlNormalization !== undefined){let data15 = data.disableUrlNormalization;if(typeof data15 !== "boolean"){const err24 = {instancePath:instancePath+"/disableUrlNormalization",schemaPath:"#/properties/disableUrlNormalization/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema437.properties.disableUrlNormalization.type,parentSchema:schema437.properties.disableUrlNormalization,data:data15};if(vErrors === null){vErrors = [err24];}else {vErrors.push(err24);}errors++;}}if(data.edgeFunctions !== undefined){let data16 = data.edgeFunctions;if(data16 && typeof data16 == "object" && !Array.isArray(data16)){for(const key4 in data16){if(!((((key4 === "onRequest") || (key4 === "onResponse")) || (key4 === "onOriginRequest")) || (key4 === "onOriginResponse"))){const err25 = {instancePath:instancePath+"/edgeFunctions",schemaPath:"#/definitions/EdgeFunctionsConfig/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key4},message:"must NOT have additional properties",schema:false,parentSchema:schema189,data:data16};if(vErrors === null){vErrors = [err25];}else {vErrors.push(err25);}errors++;}}if(data16.onRequest !== undefined){let data17 = data16.onRequest;if(typeof data17 !== "string"){const err26 = {instancePath:instancePath+"/edgeFunctions/onRequest",schemaPath:"#/definitions/EdgeFunctionsConfig/properties/onRequest/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema189.properties.onRequest.type,parentSchema:schema189.properties.onRequest,data:data17};if(vErrors === null){vErrors = [err26];}else {vErrors.push(err26);}errors++;}}if(data16.onResponse !== undefined){let data18 = data16.onResponse;if(typeof data18 !== "string"){const err27 = {instancePath:instancePath+"/edgeFunctions/onResponse",schemaPath:"#/definitions/EdgeFunctionsConfig/properties/onResponse/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema189.properties.onResponse.type,parentSchema:schema189.properties.onResponse,data:data18};if(vErrors === null){vErrors = [err27];}else {vErrors.push(err27);}errors++;}}if(data16.onOriginRequest !== undefined){let data19 = data16.onOriginRequest;if(typeof data19 !== "string"){const err28 = {instancePath:instancePath+"/edgeFunctions/onOriginRequest",schemaPath:"#/definitions/EdgeFunctionsConfig/properties/onOriginRequest/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema189.properties.onOriginRequest.type,parentSchema:schema189.properties.onOriginRequest,data:data19};if(vErrors === null){vErrors = [err28];}else {vErrors.push(err28);}errors++;}}if(data16.onOriginResponse !== undefined){let data20 = data16.onOriginResponse;if(typeof data20 !== "string"){const err29 = {instancePath:instancePath+"/edgeFunctions/onOriginResponse",schemaPath:"#/definitions/EdgeFunctionsConfig/properties/onOriginResponse/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema189.properties.onOriginResponse.type,parentSchema:schema189.properties.onOriginResponse,data:data20};if(vErrors === null){vErrors = [err29];}else {vErrors.push(err29);}errors++;}}}else {const err30 = {instancePath:instancePath+"/edgeFunctions",schemaPath:"#/definitions/EdgeFunctionsConfig/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema189.type,parentSchema:schema189,data:data16};if(vErrors === null){vErrors = [err30];}else {vErrors.push(err30);}errors++;}}if(data.errorDocument !== undefined){let data21 = data.errorDocument;if(typeof data21 !== "string"){const err31 = {instancePath:instancePath+"/errorDocument",schemaPath:"#/properties/errorDocument/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema437.properties.errorDocument.type,parentSchema:schema437.properties.errorDocument,data:data21};if(vErrors === null){vErrors = [err31];}else {vErrors.push(err31);}errors++;}}if(data.indexDocument !== undefined){let data22 = data.indexDocument;if(typeof data22 !== "string"){const err32 = {instancePath:instancePath+"/indexDocument",schemaPath:"#/properties/indexDocument/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema437.properties.indexDocument.type,parentSchema:schema437.properties.indexDocument,data:data22};if(vErrors === null){vErrors = [err32];}else {vErrors.push(err32);}errors++;}}if(data.injectEnvironment !== undefined){let data23 = data.injectEnvironment;if(Array.isArray(data23)){const len2 = data23.length;for(let i2=0; i2<len2; i2++){let data24 = data23[i2];if(data24 && typeof data24 == "object" && !Array.isArray(data24)){if(data24.name === undefined){const err33 = {instancePath:instancePath+"/injectEnvironment/" + i2,schemaPath:"#/definitions/EnvironmentVar/required",keyword:"required",params:{missingProperty: "name"},message:"must have required property '"+"name"+"'",schema:schema28.required,parentSchema:schema28,data:data24};if(vErrors === null){vErrors = [err33];}else {vErrors.push(err33);}errors++;}if(data24.value === undefined){const err34 = {instancePath:instancePath+"/injectEnvironment/" + i2,schemaPath:"#/definitions/EnvironmentVar/required",keyword:"required",params:{missingProperty: "value"},message:"must have required property '"+"value"+"'",schema:schema28.required,parentSchema:schema28,data:data24};if(vErrors === null){vErrors = [err34];}else {vErrors.push(err34);}errors++;}for(const key5 in data24){if(!((key5 === "name") || (key5 === "value"))){const err35 = {instancePath:instancePath+"/injectEnvironment/" + i2,schemaPath:"#/definitions/EnvironmentVar/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key5},message:"must NOT have additional properties",schema:false,parentSchema:schema28,data:data24};if(vErrors === null){vErrors = [err35];}else {vErrors.push(err35);}errors++;}}if(data24.name !== undefined){let data25 = data24.name;if(typeof data25 !== "string"){const err36 = {instancePath:instancePath+"/injectEnvironment/" + i2+"/name",schemaPath:"#/definitions/EnvironmentVar/properties/name/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema28.properties.name.type,parentSchema:schema28.properties.name,data:data25};if(vErrors === null){vErrors = [err36];}else {vErrors.push(err36);}errors++;}}if(data24.value !== undefined){let data26 = data24.value;if(((typeof data26 !== "string") && (!(typeof data26 == "number"))) && (typeof data26 !== "boolean")){const err37 = {instancePath:instancePath+"/injectEnvironment/" + i2+"/value",schemaPath:"#/definitions/EnvironmentVar/properties/value/type",keyword:"type",params:{type: schema28.properties.value.type},message:"must be string,number,boolean",schema:schema28.properties.value.type,parentSchema:schema28.properties.value,data:data26};if(vErrors === null){vErrors = [err37];}else {vErrors.push(err37);}errors++;}}}else {const err38 = {instancePath:instancePath+"/injectEnvironment/" + i2,schemaPath:"#/definitions/EnvironmentVar/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema28.type,parentSchema:schema28,data:data24};if(vErrors === null){vErrors = [err38];}else {vErrors.push(err38);}errors++;}}}else {const err39 = {instancePath:instancePath+"/injectEnvironment",schemaPath:"#/properties/injectEnvironment/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema437.properties.injectEnvironment.type,parentSchema:schema437.properties.injectEnvironment,data:data23};if(vErrors === null){vErrors = [err39];}else {vErrors.push(err39);}errors++;}}if(data.writeDotenvFilesTo !== undefined){let data27 = data.writeDotenvFilesTo;if(typeof data27 !== "string"){const err40 = {instancePath:instancePath+"/writeDotenvFilesTo",schemaPath:"#/properties/writeDotenvFilesTo/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema437.properties.writeDotenvFilesTo.type,parentSchema:schema437.properties.writeDotenvFilesTo,data:data27};if(vErrors === null){vErrors = [err40];}else {vErrors.push(err40);}errors++;}}if(data.useFirewall !== undefined){let data28 = data.useFirewall;if(typeof data28 !== "string"){const err41 = {instancePath:instancePath+"/useFirewall",schemaPath:"#/properties/useFirewall/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema437.properties.useFirewall.type,parentSchema:schema437.properties.useFirewall,data:data28};if(vErrors === null){vErrors = [err41];}else {vErrors.push(err41);}errors++;}}if(data.fileOptions !== undefined){let data29 = data.fileOptions;if(Array.isArray(data29)){const len3 = data29.length;for(let i3=0; i3<len3; i3++){if(!(validate343(data29[i3], {instancePath:instancePath+"/fileOptions/" + i3,parentData:data29,parentDataProperty:i3,rootData}))){vErrors = vErrors === null ? validate343.errors : vErrors.concat(validate343.errors);errors = vErrors.length;}}}else {const err42 = {instancePath:instancePath+"/fileOptions",schemaPath:"#/properties/fileOptions/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema437.properties.fileOptions.type,parentSchema:schema437.properties.fileOptions,data:data29};if(vErrors === null){vErrors = [err42];}else {vErrors.push(err42);}errors++;}}if(data.routeRewrites !== undefined){let data31 = data.routeRewrites;if(Array.isArray(data31)){const len4 = data31.length;for(let i4=0; i4<len4; i4++){if(!(validate179(data31[i4], {instancePath:instancePath+"/routeRewrites/" + i4,parentData:data31,parentDataProperty:i4,rootData}))){vErrors = vErrors === null ? validate179.errors : vErrors.concat(validate179.errors);errors = vErrors.length;}}}else {const err43 = {instancePath:instancePath+"/routeRewrites",schemaPath:"#/properties/routeRewrites/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema437.properties.routeRewrites.type,parentSchema:schema437.properties.routeRewrites,data:data31};if(vErrors === null){vErrors = [err43];}else {vErrors.push(err43);}errors++;}}}else {const err44 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema437.type,parentSchema:schema437,data};if(vErrors === null){vErrors = [err44];}else {vErrors.push(err44);}errors++;}validate484.errors = vErrors;return errors === 0;}function validate483(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema436.required,parentSchema:schema436,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema436.required,parentSchema:schema436,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!(((key0 === "type") || (key0 === "properties")) || (key0 === "overrides"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema436,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema436.properties.type.type,parentSchema:schema436.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("hosting-bucket" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "hosting-bucket"},message:"must be equal to constant",schema:"hosting-bucket",parentSchema:schema436.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate484(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate484.errors : vErrors.concat(validate484.errors);errors = vErrors.length;}}if(data.overrides !== undefined){let data2 = data.overrides;if(data2 && typeof data2 == "object" && !Array.isArray(data2)){for(const key1 in data2){let data3 = data2[key1];if(data3 && typeof data3 == "object" && !Array.isArray(data3)){}else {const err5 = {instancePath:instancePath+"/overrides/" + key1.replace(/~/g, "~0").replace(/\//g, "~1"),schemaPath:"#/properties/overrides/additionalProperties/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema436.properties.overrides.additionalProperties.type,parentSchema:schema436.properties.overrides.additionalProperties,data:data3};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}}else {const err6 = {instancePath:instancePath+"/overrides",schemaPath:"#/properties/overrides/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema436.properties.overrides.type,parentSchema:schema436.properties.overrides,data:data2};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}}else {const err7 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema436.type,parentSchema:schema436,data};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}validate483.errors = vErrors;return errors === 0;}const schema444 = {"description":"#### Web Application Firewall\n\n---\n\nA firewall that helps protect your resources from common web exploits that could affect application availability, compromise security, or consume excessive resources.","type":"object","properties":{"type":{"type":"string","const":"web-app-firewall"},"properties":{"$ref":"#/definitions/WebAppFirewallProps"},"overrides":{"description":"#### Resource Overrides\n\n---\n\nOverrides properties of the underlying CloudFormation resources that Stacktape creates.\n\nChild resources are identified by their CloudFormation logical ID (e.g., `MyBucketBucket`). You can find these IDs by running `stacktape stack:info --detailed`.\n\nFor a list of properties that can be overridden, refer to the [AWS CloudFormation documentation](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html).","type":"object","additionalProperties":{"type":"object","additionalProperties":{}}}},"additionalProperties":false,"required":["type"]};const schema445 = {"type":"object","properties":{"scope":{"description":"#### Specifies whether this firewall is to be used with a CDN or with regional resources.\n\n---\n\n- Use `cdn` if you are using the firewall with a CDN-enabled resource (e.g., HTTP API Gateway, Bucket, Application Load Balancer, or Web Service).\n- Use `regional` if you are using the firewall directly with a regional resource (e.g., Application Load Balancer, User Pool, or Web Service).","enum":["cdn","regional"],"type":"string"},"defaultAction":{"description":"#### The default action for the firewall if no rule matches.\n\n---\n\n- **`Allow`**: Allows most users to access your website but blocks attackers whose requests match specific rules (e.g., originate from certain IP addresses or contain malicious SQL code).\n- **`Block`**: Prevents most users from accessing your website but allows users whose requests match specific rules. By default, the `Block` action responds with an HTTP `403 (Forbidden)` status code.","default":"Allow","enum":["Allow","Block"],"type":"string"},"rules":{"description":"#### A list of rules to be used by the firewall.\n\n---\n\nA rule can be a reference to a `managed-rule-group`, a user-defined `custom-rule-group`, or a `rate-based-rule`.\n\n- **`managed-rule-group`**: A pre-configured rule group created by AWS or other vendors for specific use cases. For more details, see the [AWS documentation](https://docs.aws.amazon.com/waf/latest/developerguide/aws-managed-rule-groups-list.html).\n- **`custom-rule-group`**: A custom rule group that you have created.\n- **`rate-based-rule`**: Tracks the rate of requests for each originating IP address and triggers an action when the rate exceeds a specified limit within a five-minute period.\n\nIf you do not specify any rules, Stacktape will use the `AWSManagedRulesCommonRuleSet` and `AWSManagedRulesKnownBadInputsRuleSet` managed rule groups to protect your application.","type":"array","items":{"anyOf":[{"$ref":"#/definitions/ManagedRuleGroup"},{"$ref":"#/definitions/CustomRuleGroup"},{"$ref":"#/definitions/RateBasedStatement"}]}},"customResponseBodies":{"$ref":"#/definitions/CustomResponseBodies","description":"#### A map of custom response keys and content bodies.\n\n---\n\nWhen you create a rule with a `Block` action, you can send a custom response to the web request."},"captchaImmunityTime":{"description":"#### Determines how long (in seconds) a solved CAPTCHA challenge remains valid.\n\n---\n\nFor more details, see the [AWS documentation](https://docs.aws.amazon.com/waf/latest/developerguide/waf-tokens-immunity-times.html).","default":300,"type":"number"},"challengeImmunityTime":{"description":"#### Determines how long (in seconds) a solved challenge remains valid.\n\n---\n\nFor more details, see the [AWS documentation](https://docs.aws.amazon.com/waf/latest/developerguide/waf-tokens-immunity-times.html).","default":300,"type":"number"},"tokenDomains":{"description":"#### Specifies the domains that the firewall should accept in a web request token.\n\n---\n\nThis enables the use of tokens across multiple protected websites.\nFor more details, see the [AWS documentation](https://docs.aws.amazon.com/waf/latest/developerguide/waf-tokens-domains.html#waf-tokens-domain-lists).","type":"array","items":{"type":"string"}},"disableMetrics":{"description":"#### When `true`, disables the collection of metrics for the firewall.\n\n---\n\nBy default, total metrics for the firewall are enabled and can be monitored using AWS CloudWatch or the AWS WAF console.","default":false,"type":"boolean"},"sampledRequestsEnabled":{"description":"#### When `true`, requests matching the rule are saved for further analysis.\n\n---\n\nBy default, sampled requests are not saved.\nIf you set this to `true`, requests that match the rule will be stored and can be viewed in the AWS WAF console.","default":false,"type":"boolean"}},"additionalProperties":false,"required":["scope"]};const schema453 = {"type":"object","additionalProperties":{"type":"object","properties":{"contentType":{"description":"#### The content type of the custom response.\n\n---\n\n- `application/json`: The custom response is a JSON string.\n- `text/plain`: The custom response is a plain text string.\n- `text/html`: The custom response is a block of HTML code.","type":"string"},"content":{"description":"#### The body of the custom response.","type":"string"}},"additionalProperties":false,"required":["content","contentType"]}};const schema446 = {"type":"object","properties":{"type":{"type":"string","const":"managed-rule-group"},"properties":{"$ref":"#/definitions/ManagedRuleGroupProps"}},"additionalProperties":false,"required":["properties","type"]};const schema447 = {"type":"object","properties":{"vendorName":{"description":"#### The name of the rule group's vendor.","type":"string"},"excludedRules":{"description":"#### A list of rules to be excluded from the specified rule group.","type":"array","items":{"type":"string"}},"overrideAction":{"description":"#### An action to override the result of the rule group evaluation.\n\n---\n\nSet this to `None` to leave the result of the rule group unchanged, or set it to `Count` to override the result to count only.","enum":["Count","None"],"type":"string"},"priority":{"description":"#### The priority of the rule.\n\n---\n\nRules are evaluated in order of priority, with lower values being evaluated first.\nPriorities do not need to be consecutive, but they must be unique.","type":"number"},"name":{"type":"string"},"disableMetrics":{"description":"#### When `true`, disables metrics for the rule.\n\n---","default":false,"type":"boolean"},"sampledRequestsEnabled":{"description":"#### When `true`, requests matching the rule are saved for further analysis.\n\n---\n\nBy default, sampled requests are not saved.\nYou can view sampled requests in the AWS WAF console.","default":false,"type":"boolean"}},"additionalProperties":false,"required":["name","priority","vendorName"]};function validate491(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema446.required,parentSchema:schema446,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema446.required,parentSchema:schema446,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema446,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema446.properties.type.type,parentSchema:schema446.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("managed-rule-group" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "managed-rule-group"},message:"must be equal to constant",schema:"managed-rule-group",parentSchema:schema446.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){let data1 = data.properties;if(data1 && typeof data1 == "object" && !Array.isArray(data1)){if(data1.name === undefined){const err5 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/ManagedRuleGroupProps/required",keyword:"required",params:{missingProperty: "name"},message:"must have required property '"+"name"+"'",schema:schema447.required,parentSchema:schema447,data:data1};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}if(data1.priority === undefined){const err6 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/ManagedRuleGroupProps/required",keyword:"required",params:{missingProperty: "priority"},message:"must have required property '"+"priority"+"'",schema:schema447.required,parentSchema:schema447,data:data1};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}if(data1.vendorName === undefined){const err7 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/ManagedRuleGroupProps/required",keyword:"required",params:{missingProperty: "vendorName"},message:"must have required property '"+"vendorName"+"'",schema:schema447.required,parentSchema:schema447,data:data1};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}for(const key1 in data1){if(!(((((((key1 === "vendorName") || (key1 === "excludedRules")) || (key1 === "overrideAction")) || (key1 === "priority")) || (key1 === "name")) || (key1 === "disableMetrics")) || (key1 === "sampledRequestsEnabled"))){const err8 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/ManagedRuleGroupProps/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema447,data:data1};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}if(data1.vendorName !== undefined){let data2 = data1.vendorName;if(typeof data2 !== "string"){const err9 = {instancePath:instancePath+"/properties/vendorName",schemaPath:"#/definitions/ManagedRuleGroupProps/properties/vendorName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema447.properties.vendorName.type,parentSchema:schema447.properties.vendorName,data:data2};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(data1.excludedRules !== undefined){let data3 = data1.excludedRules;if(Array.isArray(data3)){const len0 = data3.length;for(let i0=0; i0<len0; i0++){let data4 = data3[i0];if(typeof data4 !== "string"){const err10 = {instancePath:instancePath+"/properties/excludedRules/" + i0,schemaPath:"#/definitions/ManagedRuleGroupProps/properties/excludedRules/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema447.properties.excludedRules.items.type,parentSchema:schema447.properties.excludedRules.items,data:data4};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}}else {const err11 = {instancePath:instancePath+"/properties/excludedRules",schemaPath:"#/definitions/ManagedRuleGroupProps/properties/excludedRules/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema447.properties.excludedRules.type,parentSchema:schema447.properties.excludedRules,data:data3};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}if(data1.overrideAction !== undefined){let data5 = data1.overrideAction;if(typeof data5 !== "string"){const err12 = {instancePath:instancePath+"/properties/overrideAction",schemaPath:"#/definitions/ManagedRuleGroupProps/properties/overrideAction/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema447.properties.overrideAction.type,parentSchema:schema447.properties.overrideAction,data:data5};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}if(!((data5 === "Count") || (data5 === "None"))){const err13 = {instancePath:instancePath+"/properties/overrideAction",schemaPath:"#/definitions/ManagedRuleGroupProps/properties/overrideAction/enum",keyword:"enum",params:{allowedValues: schema447.properties.overrideAction.enum},message:"must be equal to one of the allowed values",schema:schema447.properties.overrideAction.enum,parentSchema:schema447.properties.overrideAction,data:data5};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}if(data1.priority !== undefined){let data6 = data1.priority;if(!(typeof data6 == "number")){const err14 = {instancePath:instancePath+"/properties/priority",schemaPath:"#/definitions/ManagedRuleGroupProps/properties/priority/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema447.properties.priority.type,parentSchema:schema447.properties.priority,data:data6};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}}if(data1.name !== undefined){let data7 = data1.name;if(typeof data7 !== "string"){const err15 = {instancePath:instancePath+"/properties/name",schemaPath:"#/definitions/ManagedRuleGroupProps/properties/name/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema447.properties.name.type,parentSchema:schema447.properties.name,data:data7};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}}if(data1.disableMetrics !== undefined){let data8 = data1.disableMetrics;if(typeof data8 !== "boolean"){const err16 = {instancePath:instancePath+"/properties/disableMetrics",schemaPath:"#/definitions/ManagedRuleGroupProps/properties/disableMetrics/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema447.properties.disableMetrics.type,parentSchema:schema447.properties.disableMetrics,data:data8};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}}if(data1.sampledRequestsEnabled !== undefined){let data9 = data1.sampledRequestsEnabled;if(typeof data9 !== "boolean"){const err17 = {instancePath:instancePath+"/properties/sampledRequestsEnabled",schemaPath:"#/definitions/ManagedRuleGroupProps/properties/sampledRequestsEnabled/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema447.properties.sampledRequestsEnabled.type,parentSchema:schema447.properties.sampledRequestsEnabled,data:data9};if(vErrors === null){vErrors = [err17];}else {vErrors.push(err17);}errors++;}}}else {const err18 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/ManagedRuleGroupProps/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema447.type,parentSchema:schema447,data:data1};if(vErrors === null){vErrors = [err18];}else {vErrors.push(err18);}errors++;}}}else {const err19 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema446.type,parentSchema:schema446,data};if(vErrors === null){vErrors = [err19];}else {vErrors.push(err19);}errors++;}validate491.errors = vErrors;return errors === 0;}const schema448 = {"type":"object","properties":{"type":{"type":"string","const":"custom-rule-group"},"properties":{"$ref":"#/definitions/CustomRuleGroupProps"}},"additionalProperties":false,"required":["properties","type"]};const schema449 = {"type":"object","properties":{"arn":{"description":"#### The Amazon Resource Name (ARN) of the rule group.\n\n---\n\nFor more information on how to create a custom rule group, see the [AWS documentation](https://docs.aws.amazon.com/waf/latest/developerguide/working-with-rule-groups.html).","type":"string"},"overrideAction":{"description":"#### An action to override the result of the rule group evaluation.\n\n---\n\nSet this to `None` to leave the result of the rule group unchanged, or set it to `Count` to override the result to count only.","enum":["Count","None"],"type":"string"},"priority":{"description":"#### The priority of the rule.\n\n---\n\nRules are evaluated in order of priority, with lower values being evaluated first.\nPriorities do not need to be consecutive, but they must be unique.","type":"number"},"name":{"type":"string"},"disableMetrics":{"description":"#### When `true`, disables metrics for the rule.\n\n---","default":false,"type":"boolean"},"sampledRequestsEnabled":{"description":"#### When `true`, requests matching the rule are saved for further analysis.\n\n---\n\nBy default, sampled requests are not saved.\nYou can view sampled requests in the AWS WAF console.","default":false,"type":"boolean"}},"additionalProperties":false,"required":["arn","name","priority"]};function validate493(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema448.required,parentSchema:schema448,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema448.required,parentSchema:schema448,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema448,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema448.properties.type.type,parentSchema:schema448.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("custom-rule-group" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "custom-rule-group"},message:"must be equal to constant",schema:"custom-rule-group",parentSchema:schema448.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){let data1 = data.properties;if(data1 && typeof data1 == "object" && !Array.isArray(data1)){if(data1.arn === undefined){const err5 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/CustomRuleGroupProps/required",keyword:"required",params:{missingProperty: "arn"},message:"must have required property '"+"arn"+"'",schema:schema449.required,parentSchema:schema449,data:data1};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}if(data1.name === undefined){const err6 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/CustomRuleGroupProps/required",keyword:"required",params:{missingProperty: "name"},message:"must have required property '"+"name"+"'",schema:schema449.required,parentSchema:schema449,data:data1};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}if(data1.priority === undefined){const err7 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/CustomRuleGroupProps/required",keyword:"required",params:{missingProperty: "priority"},message:"must have required property '"+"priority"+"'",schema:schema449.required,parentSchema:schema449,data:data1};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}for(const key1 in data1){if(!((((((key1 === "arn") || (key1 === "overrideAction")) || (key1 === "priority")) || (key1 === "name")) || (key1 === "disableMetrics")) || (key1 === "sampledRequestsEnabled"))){const err8 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/CustomRuleGroupProps/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema449,data:data1};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}if(data1.arn !== undefined){let data2 = data1.arn;if(typeof data2 !== "string"){const err9 = {instancePath:instancePath+"/properties/arn",schemaPath:"#/definitions/CustomRuleGroupProps/properties/arn/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema449.properties.arn.type,parentSchema:schema449.properties.arn,data:data2};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(data1.overrideAction !== undefined){let data3 = data1.overrideAction;if(typeof data3 !== "string"){const err10 = {instancePath:instancePath+"/properties/overrideAction",schemaPath:"#/definitions/CustomRuleGroupProps/properties/overrideAction/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema449.properties.overrideAction.type,parentSchema:schema449.properties.overrideAction,data:data3};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}if(!((data3 === "Count") || (data3 === "None"))){const err11 = {instancePath:instancePath+"/properties/overrideAction",schemaPath:"#/definitions/CustomRuleGroupProps/properties/overrideAction/enum",keyword:"enum",params:{allowedValues: schema449.properties.overrideAction.enum},message:"must be equal to one of the allowed values",schema:schema449.properties.overrideAction.enum,parentSchema:schema449.properties.overrideAction,data:data3};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}if(data1.priority !== undefined){let data4 = data1.priority;if(!(typeof data4 == "number")){const err12 = {instancePath:instancePath+"/properties/priority",schemaPath:"#/definitions/CustomRuleGroupProps/properties/priority/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema449.properties.priority.type,parentSchema:schema449.properties.priority,data:data4};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}if(data1.name !== undefined){let data5 = data1.name;if(typeof data5 !== "string"){const err13 = {instancePath:instancePath+"/properties/name",schemaPath:"#/definitions/CustomRuleGroupProps/properties/name/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema449.properties.name.type,parentSchema:schema449.properties.name,data:data5};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}if(data1.disableMetrics !== undefined){let data6 = data1.disableMetrics;if(typeof data6 !== "boolean"){const err14 = {instancePath:instancePath+"/properties/disableMetrics",schemaPath:"#/definitions/CustomRuleGroupProps/properties/disableMetrics/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema449.properties.disableMetrics.type,parentSchema:schema449.properties.disableMetrics,data:data6};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}}if(data1.sampledRequestsEnabled !== undefined){let data7 = data1.sampledRequestsEnabled;if(typeof data7 !== "boolean"){const err15 = {instancePath:instancePath+"/properties/sampledRequestsEnabled",schemaPath:"#/definitions/CustomRuleGroupProps/properties/sampledRequestsEnabled/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema449.properties.sampledRequestsEnabled.type,parentSchema:schema449.properties.sampledRequestsEnabled,data:data7};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}}}else {const err16 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/CustomRuleGroupProps/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema449.type,parentSchema:schema449,data:data1};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}}}else {const err17 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema448.type,parentSchema:schema448,data};if(vErrors === null){vErrors = [err17];}else {vErrors.push(err17);}errors++;}validate493.errors = vErrors;return errors === 0;}const schema450 = {"type":"object","properties":{"type":{"type":"string","const":"rate-based-rule"},"properties":{"$ref":"#/definitions/RateBasedStatementProps"}},"additionalProperties":false,"required":["properties","type"]};const schema451 = {"type":"object","properties":{"limit":{"description":"#### The maximum number of requests from a single IP address allowed in a five-minute period.\n\n---\n\nThe limit must be between 100 and 20,000,000.","type":"number"},"aggregateBasedOn":{"description":"#### The type of aggregation to use for this rule.\n\n---\n\n- `IP`: Aggregates request counts based on the IP addresses of the requests.\n- `FORWARDED_IP`: Aggregates request counts based on the IP addresses in a specified header.\n\nIf you choose `FORWARDED_IP`, you can also specify the `headerName` and `fallbackBehavior` in the `forwardedIPConfig` property.\nBy default, these are `X-Forwarded-For` and `NO_MATCH`, respectively.\n\nFor more details on rate-based rules, see the [AWS documentation](https://docs.aws.amazon.com/waf/latest/APIReference/API_RateBasedStatement.html).","enum":["FORWARDED_IP","IP"],"type":"string"},"forwardedIPConfig":{"$ref":"#/definitions/ForwardedIPConfig","description":"#### The configuration for inspecting IP addresses in a specified HTTP header.\n\n---\n\n- `fallbackBehavior`: Specifies what to do when a web request does not include the specified header.\n  - `MATCH`: Treats the web request as matching the statement.\n  - `NO_MATCH`: Treats the web request as not matching the statement.\n- `headerName`: The name of the HTTP header to use for the IP address.\n\nFor more details, see the [AWS documentation](https://docs.aws.amazon.com/waf/latest/APIReference/API_ForwardedIPConfig.html)."},"action":{"description":"#### The action that the firewall should take when a web request matches the rule's statement.\n\n---\n\n- `Allow`: Allows the web request.\n- `Block`: Blocks the web request.\n- `Count`: Counts the web request and allows it.\n- `Captcha`: Returns a CAPTCHA challenge to the client.\n- `Challenge`: Returns a challenge to the client.\n\nFor more details, see the [AWS documentation](https://docs.aws.amazon.com/waf/latest/APIReference/API_RuleAction.html).","default":"Block","enum":["Allow","Block","Captcha","Challenge","Count"],"type":"string"},"priority":{"description":"#### The priority of the rule.\n\n---\n\nRules are evaluated in order of priority, with lower values being evaluated first.\nPriorities do not need to be consecutive, but they must be unique.","type":"number"},"name":{"type":"string"},"disableMetrics":{"description":"#### When `true`, disables metrics for the rule.\n\n---","default":false,"type":"boolean"},"sampledRequestsEnabled":{"description":"#### When `true`, requests matching the rule are saved for further analysis.\n\n---\n\nBy default, sampled requests are not saved.\nYou can view sampled requests in the AWS WAF console.","default":false,"type":"boolean"}},"additionalProperties":false,"required":["limit","name","priority"]};const schema452 = {"type":"object","properties":{"fallbackBehavior":{"description":"#### The fallback behavior to use when the specified header is not present.\n\n---\n\n- `MATCH`: Treats the web request as matching the rule statement, and the firewall applies the rule's action.\n- `NO_MATCH`: Treats the web request as not matching the rule statement.","enum":["MATCH","NO_MATCH"],"type":"string"},"headerName":{"description":"#### The name of the HTTP header to use for the IP address.\n\n---\n\nFor example, if you specify `X-Forwarded-For`, the firewall will inspect the `X-Forwarded-For` header in the web request.","type":"string"}},"additionalProperties":false,"required":["fallbackBehavior","headerName"]};function validate496(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.limit === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "limit"},message:"must have required property '"+"limit"+"'",schema:schema451.required,parentSchema:schema451,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.name === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "name"},message:"must have required property '"+"name"+"'",schema:schema451.required,parentSchema:schema451,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}if(data.priority === undefined){const err2 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "priority"},message:"must have required property '"+"priority"+"'",schema:schema451.required,parentSchema:schema451,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}for(const key0 in data){if(!((((((((key0 === "limit") || (key0 === "aggregateBasedOn")) || (key0 === "forwardedIPConfig")) || (key0 === "action")) || (key0 === "priority")) || (key0 === "name")) || (key0 === "disableMetrics")) || (key0 === "sampledRequestsEnabled"))){const err3 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema451,data};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.limit !== undefined){let data0 = data.limit;if(!(typeof data0 == "number")){const err4 = {instancePath:instancePath+"/limit",schemaPath:"#/properties/limit/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema451.properties.limit.type,parentSchema:schema451.properties.limit,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.aggregateBasedOn !== undefined){let data1 = data.aggregateBasedOn;if(typeof data1 !== "string"){const err5 = {instancePath:instancePath+"/aggregateBasedOn",schemaPath:"#/properties/aggregateBasedOn/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema451.properties.aggregateBasedOn.type,parentSchema:schema451.properties.aggregateBasedOn,data:data1};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}if(!((data1 === "FORWARDED_IP") || (data1 === "IP"))){const err6 = {instancePath:instancePath+"/aggregateBasedOn",schemaPath:"#/properties/aggregateBasedOn/enum",keyword:"enum",params:{allowedValues: schema451.properties.aggregateBasedOn.enum},message:"must be equal to one of the allowed values",schema:schema451.properties.aggregateBasedOn.enum,parentSchema:schema451.properties.aggregateBasedOn,data:data1};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data.forwardedIPConfig !== undefined){let data2 = data.forwardedIPConfig;if(data2 && typeof data2 == "object" && !Array.isArray(data2)){if(data2.fallbackBehavior === undefined){const err7 = {instancePath:instancePath+"/forwardedIPConfig",schemaPath:"#/definitions/ForwardedIPConfig/required",keyword:"required",params:{missingProperty: "fallbackBehavior"},message:"must have required property '"+"fallbackBehavior"+"'",schema:schema452.required,parentSchema:schema452,data:data2};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}if(data2.headerName === undefined){const err8 = {instancePath:instancePath+"/forwardedIPConfig",schemaPath:"#/definitions/ForwardedIPConfig/required",keyword:"required",params:{missingProperty: "headerName"},message:"must have required property '"+"headerName"+"'",schema:schema452.required,parentSchema:schema452,data:data2};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}for(const key1 in data2){if(!((key1 === "fallbackBehavior") || (key1 === "headerName"))){const err9 = {instancePath:instancePath+"/forwardedIPConfig",schemaPath:"#/definitions/ForwardedIPConfig/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema452,data:data2};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(data2.fallbackBehavior !== undefined){let data3 = data2.fallbackBehavior;if(typeof data3 !== "string"){const err10 = {instancePath:instancePath+"/forwardedIPConfig/fallbackBehavior",schemaPath:"#/definitions/ForwardedIPConfig/properties/fallbackBehavior/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema452.properties.fallbackBehavior.type,parentSchema:schema452.properties.fallbackBehavior,data:data3};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}if(!((data3 === "MATCH") || (data3 === "NO_MATCH"))){const err11 = {instancePath:instancePath+"/forwardedIPConfig/fallbackBehavior",schemaPath:"#/definitions/ForwardedIPConfig/properties/fallbackBehavior/enum",keyword:"enum",params:{allowedValues: schema452.properties.fallbackBehavior.enum},message:"must be equal to one of the allowed values",schema:schema452.properties.fallbackBehavior.enum,parentSchema:schema452.properties.fallbackBehavior,data:data3};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}if(data2.headerName !== undefined){let data4 = data2.headerName;if(typeof data4 !== "string"){const err12 = {instancePath:instancePath+"/forwardedIPConfig/headerName",schemaPath:"#/definitions/ForwardedIPConfig/properties/headerName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema452.properties.headerName.type,parentSchema:schema452.properties.headerName,data:data4};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}}else {const err13 = {instancePath:instancePath+"/forwardedIPConfig",schemaPath:"#/definitions/ForwardedIPConfig/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema452.type,parentSchema:schema452,data:data2};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}if(data.action !== undefined){let data5 = data.action;if(typeof data5 !== "string"){const err14 = {instancePath:instancePath+"/action",schemaPath:"#/properties/action/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema451.properties.action.type,parentSchema:schema451.properties.action,data:data5};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}if(!(((((data5 === "Allow") || (data5 === "Block")) || (data5 === "Captcha")) || (data5 === "Challenge")) || (data5 === "Count"))){const err15 = {instancePath:instancePath+"/action",schemaPath:"#/properties/action/enum",keyword:"enum",params:{allowedValues: schema451.properties.action.enum},message:"must be equal to one of the allowed values",schema:schema451.properties.action.enum,parentSchema:schema451.properties.action,data:data5};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}}if(data.priority !== undefined){let data6 = data.priority;if(!(typeof data6 == "number")){const err16 = {instancePath:instancePath+"/priority",schemaPath:"#/properties/priority/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema451.properties.priority.type,parentSchema:schema451.properties.priority,data:data6};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}}if(data.name !== undefined){let data7 = data.name;if(typeof data7 !== "string"){const err17 = {instancePath:instancePath+"/name",schemaPath:"#/properties/name/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema451.properties.name.type,parentSchema:schema451.properties.name,data:data7};if(vErrors === null){vErrors = [err17];}else {vErrors.push(err17);}errors++;}}if(data.disableMetrics !== undefined){let data8 = data.disableMetrics;if(typeof data8 !== "boolean"){const err18 = {instancePath:instancePath+"/disableMetrics",schemaPath:"#/properties/disableMetrics/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema451.properties.disableMetrics.type,parentSchema:schema451.properties.disableMetrics,data:data8};if(vErrors === null){vErrors = [err18];}else {vErrors.push(err18);}errors++;}}if(data.sampledRequestsEnabled !== undefined){let data9 = data.sampledRequestsEnabled;if(typeof data9 !== "boolean"){const err19 = {instancePath:instancePath+"/sampledRequestsEnabled",schemaPath:"#/properties/sampledRequestsEnabled/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema451.properties.sampledRequestsEnabled.type,parentSchema:schema451.properties.sampledRequestsEnabled,data:data9};if(vErrors === null){vErrors = [err19];}else {vErrors.push(err19);}errors++;}}}else {const err20 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema451.type,parentSchema:schema451,data};if(vErrors === null){vErrors = [err20];}else {vErrors.push(err20);}errors++;}validate496.errors = vErrors;return errors === 0;}function validate495(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema450.required,parentSchema:schema450,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema450.required,parentSchema:schema450,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema450,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema450.properties.type.type,parentSchema:schema450.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("rate-based-rule" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "rate-based-rule"},message:"must be equal to constant",schema:"rate-based-rule",parentSchema:schema450.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate496(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate496.errors : vErrors.concat(validate496.errors);errors = vErrors.length;}}}else {const err5 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema450.type,parentSchema:schema450,data};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}validate495.errors = vErrors;return errors === 0;}function validate490(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.scope === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "scope"},message:"must have required property '"+"scope"+"'",schema:schema445.required,parentSchema:schema445,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!(func2.call(schema445.properties, key0))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema445,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.scope !== undefined){let data0 = data.scope;if(typeof data0 !== "string"){const err2 = {instancePath:instancePath+"/scope",schemaPath:"#/properties/scope/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema445.properties.scope.type,parentSchema:schema445.properties.scope,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}if(!((data0 === "cdn") || (data0 === "regional"))){const err3 = {instancePath:instancePath+"/scope",schemaPath:"#/properties/scope/enum",keyword:"enum",params:{allowedValues: schema445.properties.scope.enum},message:"must be equal to one of the allowed values",schema:schema445.properties.scope.enum,parentSchema:schema445.properties.scope,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.defaultAction !== undefined){let data1 = data.defaultAction;if(typeof data1 !== "string"){const err4 = {instancePath:instancePath+"/defaultAction",schemaPath:"#/properties/defaultAction/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema445.properties.defaultAction.type,parentSchema:schema445.properties.defaultAction,data:data1};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}if(!((data1 === "Allow") || (data1 === "Block"))){const err5 = {instancePath:instancePath+"/defaultAction",schemaPath:"#/properties/defaultAction/enum",keyword:"enum",params:{allowedValues: schema445.properties.defaultAction.enum},message:"must be equal to one of the allowed values",schema:schema445.properties.defaultAction.enum,parentSchema:schema445.properties.defaultAction,data:data1};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data.rules !== undefined){let data2 = data.rules;if(Array.isArray(data2)){const len0 = data2.length;for(let i0=0; i0<len0; i0++){let data3 = data2[i0];const _errs9 = errors;let valid3 = false;const _errs10 = errors;if(!(validate491(data3, {instancePath:instancePath+"/rules/" + i0,parentData:data2,parentDataProperty:i0,rootData}))){vErrors = vErrors === null ? validate491.errors : vErrors.concat(validate491.errors);errors = vErrors.length;}var _valid0 = _errs10 === errors;valid3 = valid3 || _valid0;if(!valid3){const _errs11 = errors;if(!(validate493(data3, {instancePath:instancePath+"/rules/" + i0,parentData:data2,parentDataProperty:i0,rootData}))){vErrors = vErrors === null ? validate493.errors : vErrors.concat(validate493.errors);errors = vErrors.length;}var _valid0 = _errs11 === errors;valid3 = valid3 || _valid0;if(!valid3){const _errs12 = errors;if(!(validate495(data3, {instancePath:instancePath+"/rules/" + i0,parentData:data2,parentDataProperty:i0,rootData}))){vErrors = vErrors === null ? validate495.errors : vErrors.concat(validate495.errors);errors = vErrors.length;}var _valid0 = _errs12 === errors;valid3 = valid3 || _valid0;}}if(!valid3){const err6 = {instancePath:instancePath+"/rules/" + i0,schemaPath:"#/properties/rules/items/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:schema445.properties.rules.items.anyOf,parentSchema:schema445.properties.rules.items,data:data3};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}else {errors = _errs9;if(vErrors !== null){if(_errs9){vErrors.length = _errs9;}else {vErrors = null;}}}}}else {const err7 = {instancePath:instancePath+"/rules",schemaPath:"#/properties/rules/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema445.properties.rules.type,parentSchema:schema445.properties.rules,data:data2};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data.customResponseBodies !== undefined){let data4 = data.customResponseBodies;if(data4 && typeof data4 == "object" && !Array.isArray(data4)){for(const key1 in data4){let data5 = data4[key1];if(data5 && typeof data5 == "object" && !Array.isArray(data5)){if(data5.content === undefined){const err8 = {instancePath:instancePath+"/customResponseBodies/" + key1.replace(/~/g, "~0").replace(/\//g, "~1"),schemaPath:"#/definitions/CustomResponseBodies/additionalProperties/required",keyword:"required",params:{missingProperty: "content"},message:"must have required property '"+"content"+"'",schema:schema453.additionalProperties.required,parentSchema:schema453.additionalProperties,data:data5};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}if(data5.contentType === undefined){const err9 = {instancePath:instancePath+"/customResponseBodies/" + key1.replace(/~/g, "~0").replace(/\//g, "~1"),schemaPath:"#/definitions/CustomResponseBodies/additionalProperties/required",keyword:"required",params:{missingProperty: "contentType"},message:"must have required property '"+"contentType"+"'",schema:schema453.additionalProperties.required,parentSchema:schema453.additionalProperties,data:data5};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}for(const key2 in data5){if(!((key2 === "contentType") || (key2 === "content"))){const err10 = {instancePath:instancePath+"/customResponseBodies/" + key1.replace(/~/g, "~0").replace(/\//g, "~1"),schemaPath:"#/definitions/CustomResponseBodies/additionalProperties/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key2},message:"must NOT have additional properties",schema:false,parentSchema:schema453.additionalProperties,data:data5};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data5.contentType !== undefined){let data6 = data5.contentType;if(typeof data6 !== "string"){const err11 = {instancePath:instancePath+"/customResponseBodies/" + key1.replace(/~/g, "~0").replace(/\//g, "~1")+"/contentType",schemaPath:"#/definitions/CustomResponseBodies/additionalProperties/properties/contentType/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema453.additionalProperties.properties.contentType.type,parentSchema:schema453.additionalProperties.properties.contentType,data:data6};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}if(data5.content !== undefined){let data7 = data5.content;if(typeof data7 !== "string"){const err12 = {instancePath:instancePath+"/customResponseBodies/" + key1.replace(/~/g, "~0").replace(/\//g, "~1")+"/content",schemaPath:"#/definitions/CustomResponseBodies/additionalProperties/properties/content/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema453.additionalProperties.properties.content.type,parentSchema:schema453.additionalProperties.properties.content,data:data7};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}}else {const err13 = {instancePath:instancePath+"/customResponseBodies/" + key1.replace(/~/g, "~0").replace(/\//g, "~1"),schemaPath:"#/definitions/CustomResponseBodies/additionalProperties/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema453.additionalProperties.type,parentSchema:schema453.additionalProperties,data:data5};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}}else {const err14 = {instancePath:instancePath+"/customResponseBodies",schemaPath:"#/definitions/CustomResponseBodies/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema453.type,parentSchema:schema453,data:data4};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}}if(data.captchaImmunityTime !== undefined){let data8 = data.captchaImmunityTime;if(!(typeof data8 == "number")){const err15 = {instancePath:instancePath+"/captchaImmunityTime",schemaPath:"#/properties/captchaImmunityTime/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema445.properties.captchaImmunityTime.type,parentSchema:schema445.properties.captchaImmunityTime,data:data8};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}}if(data.challengeImmunityTime !== undefined){let data9 = data.challengeImmunityTime;if(!(typeof data9 == "number")){const err16 = {instancePath:instancePath+"/challengeImmunityTime",schemaPath:"#/properties/challengeImmunityTime/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema445.properties.challengeImmunityTime.type,parentSchema:schema445.properties.challengeImmunityTime,data:data9};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}}if(data.tokenDomains !== undefined){let data10 = data.tokenDomains;if(Array.isArray(data10)){const len1 = data10.length;for(let i1=0; i1<len1; i1++){let data11 = data10[i1];if(typeof data11 !== "string"){const err17 = {instancePath:instancePath+"/tokenDomains/" + i1,schemaPath:"#/properties/tokenDomains/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema445.properties.tokenDomains.items.type,parentSchema:schema445.properties.tokenDomains.items,data:data11};if(vErrors === null){vErrors = [err17];}else {vErrors.push(err17);}errors++;}}}else {const err18 = {instancePath:instancePath+"/tokenDomains",schemaPath:"#/properties/tokenDomains/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema445.properties.tokenDomains.type,parentSchema:schema445.properties.tokenDomains,data:data10};if(vErrors === null){vErrors = [err18];}else {vErrors.push(err18);}errors++;}}if(data.disableMetrics !== undefined){let data12 = data.disableMetrics;if(typeof data12 !== "boolean"){const err19 = {instancePath:instancePath+"/disableMetrics",schemaPath:"#/properties/disableMetrics/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema445.properties.disableMetrics.type,parentSchema:schema445.properties.disableMetrics,data:data12};if(vErrors === null){vErrors = [err19];}else {vErrors.push(err19);}errors++;}}if(data.sampledRequestsEnabled !== undefined){let data13 = data.sampledRequestsEnabled;if(typeof data13 !== "boolean"){const err20 = {instancePath:instancePath+"/sampledRequestsEnabled",schemaPath:"#/properties/sampledRequestsEnabled/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema445.properties.sampledRequestsEnabled.type,parentSchema:schema445.properties.sampledRequestsEnabled,data:data13};if(vErrors === null){vErrors = [err20];}else {vErrors.push(err20);}errors++;}}}else {const err21 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema445.type,parentSchema:schema445,data};if(vErrors === null){vErrors = [err21];}else {vErrors.push(err21);}errors++;}validate490.errors = vErrors;return errors === 0;}function validate489(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.type === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema444.required,parentSchema:schema444,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!(((key0 === "type") || (key0 === "properties")) || (key0 === "overrides"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema444,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err2 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema444.properties.type.type,parentSchema:schema444.properties.type,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}if("web-app-firewall" !== data0){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "web-app-firewall"},message:"must be equal to constant",schema:"web-app-firewall",parentSchema:schema444.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.properties !== undefined){if(!(validate490(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate490.errors : vErrors.concat(validate490.errors);errors = vErrors.length;}}if(data.overrides !== undefined){let data2 = data.overrides;if(data2 && typeof data2 == "object" && !Array.isArray(data2)){for(const key1 in data2){let data3 = data2[key1];if(data3 && typeof data3 == "object" && !Array.isArray(data3)){}else {const err4 = {instancePath:instancePath+"/overrides/" + key1.replace(/~/g, "~0").replace(/\//g, "~1"),schemaPath:"#/properties/overrides/additionalProperties/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema444.properties.overrides.additionalProperties.type,parentSchema:schema444.properties.overrides.additionalProperties,data:data3};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}}else {const err5 = {instancePath:instancePath+"/overrides",schemaPath:"#/properties/overrides/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema444.properties.overrides.type,parentSchema:schema444.properties.overrides,data:data2};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}}else {const err6 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema444.type,parentSchema:schema444,data};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}validate489.errors = vErrors;return errors === 0;}const schema454 = {"description":"#### A resource for deploying and hosting Next.js applications.\n\n---\n\nThis resource is purpose-built for Next.js and runs your application's server-side logic in AWS Lambda or Lambda@Edge.\nIt seamlessly integrates your Next.js application with other resources in your infrastructure.","type":"object","properties":{"type":{"type":"string","const":"nextjs-web"},"properties":{"$ref":"#/definitions/NextjsWebProps"},"overrides":{"description":"#### Resource Overrides\n\n---\n\nOverrides properties of the underlying CloudFormation resources that Stacktape creates.\n\nChild resources are identified by their CloudFormation logical ID (e.g., `MyBucketBucket`). You can find these IDs by running `stacktape stack:info --detailed`.\n\nFor a list of properties that can be overridden, refer to the [AWS CloudFormation documentation](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html).","type":"object","additionalProperties":{"type":"object","additionalProperties":{}}}},"additionalProperties":false,"required":["properties","type"]};const schema455 = {"type":"object","properties":{"appDirectory":{"description":"#### The root directory of your Next.js application.\n\n---\n\nThis should be the path to the directory containing your `next.config.js` file.\nIf you are using a monorepo, this will be the path to your Next.js workspace. Otherwise, it's typically `./`.","type":"string"},"serverLambda":{"$ref":"#/definitions/NextjsServerLambdaProperties","description":"#### Overrides for the server-side Lambda function.\n\n---\n\nUse this to customize the memory, timeout, or other properties of the Lambda function that handles server-side rendering."},"warmServerInstances":{"description":"#### The number of server-side Lambda instances to keep warm.\n\n---\n\nTo mitigate cold starts and improve response times, you can keep a specified number of Lambda instances \"warm\" (pre-initialized).\nThis is done by a separate \"warmer\" function that periodically invokes the server-side function.\n\n> **Note:** This feature is not available when using Lambda@Edge (`useEdgeLambda: true`).","default":0,"type":"number"},"useEdgeLambda":{"description":"#### Deploys the server-side function to Lambda@Edge.\n\n---\n\nWhen enabled, your server-side rendering logic will run at AWS edge locations, closer to your users, which can significantly reduce latency.\n\n**Trade-offs:**\n- Slower deployment times compared to a standard regional Lambda.\n- The \"warming\" feature (`warmServerInstances`) is not supported.","default":false,"type":"boolean"},"buildCommand":{"description":"#### A custom build command for your Next.js application.\n\n---\n\nIf you have a custom build process, you can specify the command here.","type":"string"},"dev":{"description":"#### Dev server configuration for local development.\n\n---\n\nConfigures the dev server process for local development. Used by the `dev` command.\n\nIf not specified, defaults to `next dev` in the app directory.","type":"object","properties":{"command":{"description":"#### The dev server command to execute.\n\n---\n\nExamples:\n- `next dev`\n- `npm run dev`","default":"next dev","type":"string"}},"additionalProperties":false},"fileOptions":{"description":"#### Sets custom headers for static files.\n\n---\n\nThis allows you to define headers, such as `Cache-Control` or `Content-Type`, for files that match a specified pattern.","type":"array","items":{"$ref":"#/definitions/DirectoryUploadFilter"}},"environment":{"description":"#### A list of environment variables to inject into the server-side function.\n\n---\n\nThis is useful for providing configuration details, such as API keys or database connection strings, to your server-side rendering logic.","type":"array","items":{"$ref":"#/definitions/EnvironmentVar"}},"customDomains":{"description":"#### Attaches custom domains to your Next.js application.\n\n---\n\nStacktape can automatically manage DNS records and TLS certificates for your custom domains.\n\nWhen you attach a custom domain, Stacktape will:\n- Create the necessary DNS records in Route 53 to point your domain to the application.\n- Provision and manage a free, auto-renewing AWS Certificate Manager (ACM) TLS certificate for HTTPS.\n\n> **Prerequisite:** You must have a hosted zone for your domain in your AWS account.\n> For more details, see the [Stacktape documentation on domains](https://docs.stacktape.com/other-resources/domains-and-certificates/#adding-domain).","type":"array","items":{"$ref":"#/definitions/DomainConfiguration"}},"useFirewall":{"description":"#### The name of a `web-app-firewall` to protect your application.\n\n---\n\nA web application firewall (WAF) can help protect your application from common web-based attacks.\nFor more information, see the [Stacktape documentation on web application firewalls](https://docs.stacktape.com/security-resources/web-app-firewalls/).","type":"string"},"streamingEnabled":{"description":"#### Enables response streaming for the server-side function.\n\n---\n\n**Benefits:**\n- Improves Time to First Byte (TTFB) for faster page loads.\n- Increases the maximum response size to 20MB (from the standard 6MB).\n\n> **Note:** This is an experimental feature and is not compatible with Lambda@Edge (`useEdgeLambda: true`).","default":false,"type":"boolean"},"connectTo":{"description":"#### Connect To\n\n---\n\nConfigures access to other resources in your stack and AWS services. By specifying resources here, Stacktape automatically:\n- Configures IAM role permissions.\n- Sets up security group rules to allow network traffic.\n- Injects environment variables with connection details into the compute resource.\n\nEnvironment variables are named `STP_[RESOURCE_NAME]_[VARIABLE_NAME]` (e.g., `STP_MY_DATABASE_CONNECTION_STRING`).\n\n---\n\n#### Granted Permissions and Injected Variables:\n\n**`Bucket`**\n- **Permissions:** List, create, get, delete, and tag objects.\n- **Variables:** `NAME`, `ARN`\n\n**`DynamoDbTable`**\n- **Permissions:** Get, put, update, delete, scan, and query items; describe table stream.\n- **Variables:** `NAME`, `ARN`, `STREAM_ARN`\n\n**`MongoDbAtlasCluster`**\n- **Permissions:** Allows connection to clusters with `accessibilityMode` set to `scoping-workloads-in-vpc`. Creates a temporary user for secure, credential-less access.\n- **Variables:** `CONNECTION_STRING`\n\n**`RelationalDatabase`**\n- **Permissions:** Allows connection to databases with `accessibilityMode` set to `scoping-workloads-in-vpc`.\n- **Variables:** `CONNECTION_STRING`, `JDBC_CONNECTION_STRING`, `HOST`, `PORT`. For Aurora clusters, `READER_CONNECTION_STRING`, `READER_JDBC_CONNECTION_STRING`, and `READER_HOST` are also included.\n\n**`RedisCluster`**\n- **Permissions:** Allows connection to clusters with `accessibilityMode` set to `scoping-workloads-in-vpc`.\n- **Variables:** `HOST`, `READER_HOST`, `PORT`\n\n**`EventBus`**\n- **Permissions:** Publish events.\n- **Variables:** `ARN`\n\n**`Function`**\n- **Permissions:** Invoke the function, including via its URL if enabled.\n- **Variables:** `ARN`\n\n**`BatchJob`**\n- **Permissions:** Submit, list, describe, and terminate jobs; manage state machine executions.\n- **Variables:** `JOB_DEFINITION_ARN`, `STATE_MACHINE_ARN`\n\n**`UserAuthPool`**\n- **Permissions:** Full control over the user pool (`cognito-idp:*`).\n- **Variables:** `ID`, `CLIENT_ID`, `ARN`\n\n**`SnsTopic`**\n- **Permissions:** Confirm, list, publish, and manage subscriptions.\n- **Variables:** `ARN`, `NAME`\n\n**`SqsQueue`**\n- **Permissions:** Send, receive, delete, and purge messages.\n- **Variables:** `ARN`, `NAME`, `URL`\n\n**`UpstashKafkaTopic`**\n- **Variables:** `TOPIC_NAME`, `TOPIC_ID`, `USERNAME`, `PASSWORD`, `TCP_ENDPOINT`, `REST_URL`\n\n**`UpstashRedis`**\n- **Variables:** `HOST`, `PORT`, `PASSWORD`, `REST_TOKEN`, `REST_URL`, `REDIS_URL`\n\n**`PrivateService`**\n- **Variables:** `ADDRESS`\n\n**`aws:ses` (Macro)**\n- **Permissions:** Full permissions for AWS SES (`ses:*`).","type":"array","items":{"type":"string"}},"iamRoleStatements":{"description":"#### Custom IAM Role Statements\n\n---\n\nA list of raw AWS IAM role statements to append to the resource's role, allowing for fine-grained permission control.","type":"array","items":{"$ref":"#/definitions/StpIamRoleStatement"}}},"additionalProperties":false,"required":["appDirectory"]};const schema456 = {"type":"object","properties":{"memory":{"description":"#### The amount of memory (in MB) allocated to the server-side function.\n\n---\n\nThis setting also influences the amount of CPU power your function receives.\nThe value must be between 128 MB and 10,240 MB.","default":1024,"type":"number"},"timeout":{"description":"#### The maximum execution time for the server-side function, in seconds.\n\n---\n\nThe maximum allowed timeout is 30 seconds.","default":30,"type":"number"},"logging":{"$ref":"#/definitions/LambdaFunctionLogging","description":"#### Configures the logging behavior for the server-side function.\n\n---\n\nFunction logs (`stdout` and `stderr`) are automatically sent to a CloudWatch log group.\n\nYou can view logs in two ways:\n  - Through the AWS CloudWatch console. Use the `stacktape stack-info` command to get a direct link.\n  - Using the `stacktape logs` command to stream logs directly to your terminal."},"joinDefaultVpc":{"description":"#### Connects the server-side function to your stack's default Virtual Private Cloud (VPC).\n\n---\n\nConnecting to a VPC is necessary to access resources within that VPC, such as relational databases or Redis clusters.\n\n> **Important:** When a function joins a VPC, it loses direct internet access.\n\nIf your function needs to access S3 or DynamoDB, Stacktape automatically creates VPC endpoints to ensure connectivity.\nFor more details, see the [Stacktape VPCs documentation](https://docs.stacktape.com/user-guides/vpcs).","type":"boolean"}},"additionalProperties":false};const schema457 = {"type":"object","properties":{"disabled":{"description":"#### Disables application logging to CloudWatch.","default":false,"type":"boolean"},"retentionDays":{"description":"#### The number of days to retain logs in CloudWatch.","default":180,"enum":[1,120,14,150,180,1827,3,30,365,3653,400,5,545,60,7,731,90],"type":"number"},"logForwarding":{"description":"#### Log Forwarding\n\n---\n\nForwards logs to a specified destination for monitoring, analysis, or long-term storage.\n\nLog forwarding is handled by an [Amazon Kinesis Data Firehose](https://aws.amazon.com/kinesis/data-firehose/) delivery stream. You will incur costs based on the volume of data transferred (approximately $0.03 per GB). For detailed pricing, see the [AWS Kinesis Firehose Pricing](https://aws.amazon.com/kinesis/data-firehose/pricing/) page.\n\nSupported destinations:\n- `http-endpoint`: Delivers logs to any HTTP endpoint that complies with [Firehose request and response specifications](https://docs.aws.amazon.com/firehose/latest/dev/httpdeliveryrequestresponse.html). Many third-party logging services are compatible out-of-the-box.\n- `datadog`: Delivers logs to [Datadog](https://www.datadoghq.com/).\n- `highlight`: Delivers logs to a [Highlight.io](https://www.highlight.io/) project.\n\nFor more information, refer to the [Stacktape documentation on log forwarding](https://docs.stacktape.com/configuration/log-forwarding/).\n\n> If logs fail to be delivered after multiple retries, they are stored in a backup S3 bucket named `{stackName}-{resourceName}-logs-{generatedHash}`. The retry duration can be configured.","anyOf":[{"$ref":"#/definitions/HttpEndpointLogForwarding"},{"$ref":"#/definitions/HighlightLogForwarding"},{"$ref":"#/definitions/DatadogLogForwarding"}]}},"additionalProperties":false};function validate504(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){for(const key0 in data){if(!(((key0 === "disabled") || (key0 === "retentionDays")) || (key0 === "logForwarding"))){const err0 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema457,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}}if(data.disabled !== undefined){let data0 = data.disabled;if(typeof data0 !== "boolean"){const err1 = {instancePath:instancePath+"/disabled",schemaPath:"#/properties/disabled/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema457.properties.disabled.type,parentSchema:schema457.properties.disabled,data:data0};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.retentionDays !== undefined){let data1 = data.retentionDays;if(!(typeof data1 == "number")){const err2 = {instancePath:instancePath+"/retentionDays",schemaPath:"#/properties/retentionDays/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema457.properties.retentionDays.type,parentSchema:schema457.properties.retentionDays,data:data1};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}if(!(((((((((((((((((data1 === 1) || (data1 === 120)) || (data1 === 14)) || (data1 === 150)) || (data1 === 180)) || (data1 === 1827)) || (data1 === 3)) || (data1 === 30)) || (data1 === 365)) || (data1 === 3653)) || (data1 === 400)) || (data1 === 5)) || (data1 === 545)) || (data1 === 60)) || (data1 === 7)) || (data1 === 731)) || (data1 === 90))){const err3 = {instancePath:instancePath+"/retentionDays",schemaPath:"#/properties/retentionDays/enum",keyword:"enum",params:{allowedValues: schema457.properties.retentionDays.enum},message:"must be equal to one of the allowed values",schema:schema457.properties.retentionDays.enum,parentSchema:schema457.properties.retentionDays,data:data1};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.logForwarding !== undefined){let data2 = data.logForwarding;const _errs7 = errors;let valid1 = false;const _errs8 = errors;if(!(validate80(data2, {instancePath:instancePath+"/logForwarding",parentData:data,parentDataProperty:"logForwarding",rootData}))){vErrors = vErrors === null ? validate80.errors : vErrors.concat(validate80.errors);errors = vErrors.length;}var _valid0 = _errs8 === errors;valid1 = valid1 || _valid0;if(!valid1){const _errs9 = errors;if(!(validate82(data2, {instancePath:instancePath+"/logForwarding",parentData:data,parentDataProperty:"logForwarding",rootData}))){vErrors = vErrors === null ? validate82.errors : vErrors.concat(validate82.errors);errors = vErrors.length;}var _valid0 = _errs9 === errors;valid1 = valid1 || _valid0;if(!valid1){const _errs10 = errors;if(!(validate84(data2, {instancePath:instancePath+"/logForwarding",parentData:data,parentDataProperty:"logForwarding",rootData}))){vErrors = vErrors === null ? validate84.errors : vErrors.concat(validate84.errors);errors = vErrors.length;}var _valid0 = _errs10 === errors;valid1 = valid1 || _valid0;}}if(!valid1){const err4 = {instancePath:instancePath+"/logForwarding",schemaPath:"#/properties/logForwarding/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:schema457.properties.logForwarding.anyOf,parentSchema:schema457.properties.logForwarding,data:data2};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}else {errors = _errs7;if(vErrors !== null){if(_errs7){vErrors.length = _errs7;}else {vErrors = null;}}}}}else {const err5 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema457.type,parentSchema:schema457,data};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}validate504.errors = vErrors;return errors === 0;}function validate503(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){for(const key0 in data){if(!((((key0 === "memory") || (key0 === "timeout")) || (key0 === "logging")) || (key0 === "joinDefaultVpc"))){const err0 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema456,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}}if(data.memory !== undefined){let data0 = data.memory;if(!(typeof data0 == "number")){const err1 = {instancePath:instancePath+"/memory",schemaPath:"#/properties/memory/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema456.properties.memory.type,parentSchema:schema456.properties.memory,data:data0};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.timeout !== undefined){let data1 = data.timeout;if(!(typeof data1 == "number")){const err2 = {instancePath:instancePath+"/timeout",schemaPath:"#/properties/timeout/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema456.properties.timeout.type,parentSchema:schema456.properties.timeout,data:data1};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.logging !== undefined){if(!(validate504(data.logging, {instancePath:instancePath+"/logging",parentData:data,parentDataProperty:"logging",rootData}))){vErrors = vErrors === null ? validate504.errors : vErrors.concat(validate504.errors);errors = vErrors.length;}}if(data.joinDefaultVpc !== undefined){let data3 = data.joinDefaultVpc;if(typeof data3 !== "boolean"){const err3 = {instancePath:instancePath+"/joinDefaultVpc",schemaPath:"#/properties/joinDefaultVpc/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema456.properties.joinDefaultVpc.type,parentSchema:schema456.properties.joinDefaultVpc,data:data3};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}}else {const err4 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema456.type,parentSchema:schema456,data};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}validate503.errors = vErrors;return errors === 0;}function validate502(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.appDirectory === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "appDirectory"},message:"must have required property '"+"appDirectory"+"'",schema:schema455.required,parentSchema:schema455,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!(func2.call(schema455.properties, key0))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema455,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.appDirectory !== undefined){let data0 = data.appDirectory;if(typeof data0 !== "string"){const err2 = {instancePath:instancePath+"/appDirectory",schemaPath:"#/properties/appDirectory/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema455.properties.appDirectory.type,parentSchema:schema455.properties.appDirectory,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.serverLambda !== undefined){if(!(validate503(data.serverLambda, {instancePath:instancePath+"/serverLambda",parentData:data,parentDataProperty:"serverLambda",rootData}))){vErrors = vErrors === null ? validate503.errors : vErrors.concat(validate503.errors);errors = vErrors.length;}}if(data.warmServerInstances !== undefined){let data2 = data.warmServerInstances;if(!(typeof data2 == "number")){const err3 = {instancePath:instancePath+"/warmServerInstances",schemaPath:"#/properties/warmServerInstances/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema455.properties.warmServerInstances.type,parentSchema:schema455.properties.warmServerInstances,data:data2};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.useEdgeLambda !== undefined){let data3 = data.useEdgeLambda;if(typeof data3 !== "boolean"){const err4 = {instancePath:instancePath+"/useEdgeLambda",schemaPath:"#/properties/useEdgeLambda/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema455.properties.useEdgeLambda.type,parentSchema:schema455.properties.useEdgeLambda,data:data3};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.buildCommand !== undefined){let data4 = data.buildCommand;if(typeof data4 !== "string"){const err5 = {instancePath:instancePath+"/buildCommand",schemaPath:"#/properties/buildCommand/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema455.properties.buildCommand.type,parentSchema:schema455.properties.buildCommand,data:data4};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data.dev !== undefined){let data5 = data.dev;if(data5 && typeof data5 == "object" && !Array.isArray(data5)){for(const key1 in data5){if(!(key1 === "command")){const err6 = {instancePath:instancePath+"/dev",schemaPath:"#/properties/dev/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema455.properties.dev,data:data5};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data5.command !== undefined){let data6 = data5.command;if(typeof data6 !== "string"){const err7 = {instancePath:instancePath+"/dev/command",schemaPath:"#/properties/dev/properties/command/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema455.properties.dev.properties.command.type,parentSchema:schema455.properties.dev.properties.command,data:data6};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}}else {const err8 = {instancePath:instancePath+"/dev",schemaPath:"#/properties/dev/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema455.properties.dev.type,parentSchema:schema455.properties.dev,data:data5};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}if(data.fileOptions !== undefined){let data7 = data.fileOptions;if(Array.isArray(data7)){const len0 = data7.length;for(let i0=0; i0<len0; i0++){if(!(validate343(data7[i0], {instancePath:instancePath+"/fileOptions/" + i0,parentData:data7,parentDataProperty:i0,rootData}))){vErrors = vErrors === null ? validate343.errors : vErrors.concat(validate343.errors);errors = vErrors.length;}}}else {const err9 = {instancePath:instancePath+"/fileOptions",schemaPath:"#/properties/fileOptions/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema455.properties.fileOptions.type,parentSchema:schema455.properties.fileOptions,data:data7};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(data.environment !== undefined){let data9 = data.environment;if(Array.isArray(data9)){const len1 = data9.length;for(let i1=0; i1<len1; i1++){let data10 = data9[i1];if(data10 && typeof data10 == "object" && !Array.isArray(data10)){if(data10.name === undefined){const err10 = {instancePath:instancePath+"/environment/" + i1,schemaPath:"#/definitions/EnvironmentVar/required",keyword:"required",params:{missingProperty: "name"},message:"must have required property '"+"name"+"'",schema:schema28.required,parentSchema:schema28,data:data10};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}if(data10.value === undefined){const err11 = {instancePath:instancePath+"/environment/" + i1,schemaPath:"#/definitions/EnvironmentVar/required",keyword:"required",params:{missingProperty: "value"},message:"must have required property '"+"value"+"'",schema:schema28.required,parentSchema:schema28,data:data10};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}for(const key2 in data10){if(!((key2 === "name") || (key2 === "value"))){const err12 = {instancePath:instancePath+"/environment/" + i1,schemaPath:"#/definitions/EnvironmentVar/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key2},message:"must NOT have additional properties",schema:false,parentSchema:schema28,data:data10};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}if(data10.name !== undefined){let data11 = data10.name;if(typeof data11 !== "string"){const err13 = {instancePath:instancePath+"/environment/" + i1+"/name",schemaPath:"#/definitions/EnvironmentVar/properties/name/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema28.properties.name.type,parentSchema:schema28.properties.name,data:data11};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}if(data10.value !== undefined){let data12 = data10.value;if(((typeof data12 !== "string") && (!(typeof data12 == "number"))) && (typeof data12 !== "boolean")){const err14 = {instancePath:instancePath+"/environment/" + i1+"/value",schemaPath:"#/definitions/EnvironmentVar/properties/value/type",keyword:"type",params:{type: schema28.properties.value.type},message:"must be string,number,boolean",schema:schema28.properties.value.type,parentSchema:schema28.properties.value,data:data12};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}}}else {const err15 = {instancePath:instancePath+"/environment/" + i1,schemaPath:"#/definitions/EnvironmentVar/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema28.type,parentSchema:schema28,data:data10};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}}}else {const err16 = {instancePath:instancePath+"/environment",schemaPath:"#/properties/environment/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema455.properties.environment.type,parentSchema:schema455.properties.environment,data:data9};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}}if(data.customDomains !== undefined){let data13 = data.customDomains;if(Array.isArray(data13)){const len2 = data13.length;for(let i2=0; i2<len2; i2++){let data14 = data13[i2];if(data14 && typeof data14 == "object" && !Array.isArray(data14)){if(data14.domainName === undefined){const err17 = {instancePath:instancePath+"/customDomains/" + i2,schemaPath:"#/definitions/DomainConfiguration/required",keyword:"required",params:{missingProperty: "domainName"},message:"must have required property '"+"domainName"+"'",schema:schema160.required,parentSchema:schema160,data:data14};if(vErrors === null){vErrors = [err17];}else {vErrors.push(err17);}errors++;}for(const key3 in data14){if(!(((key3 === "domainName") || (key3 === "customCertificateArn")) || (key3 === "disableDnsRecordCreation"))){const err18 = {instancePath:instancePath+"/customDomains/" + i2,schemaPath:"#/definitions/DomainConfiguration/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key3},message:"must NOT have additional properties",schema:false,parentSchema:schema160,data:data14};if(vErrors === null){vErrors = [err18];}else {vErrors.push(err18);}errors++;}}if(data14.domainName !== undefined){let data15 = data14.domainName;if(typeof data15 !== "string"){const err19 = {instancePath:instancePath+"/customDomains/" + i2+"/domainName",schemaPath:"#/definitions/DomainConfiguration/properties/domainName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema160.properties.domainName.type,parentSchema:schema160.properties.domainName,data:data15};if(vErrors === null){vErrors = [err19];}else {vErrors.push(err19);}errors++;}}if(data14.customCertificateArn !== undefined){let data16 = data14.customCertificateArn;if(typeof data16 !== "string"){const err20 = {instancePath:instancePath+"/customDomains/" + i2+"/customCertificateArn",schemaPath:"#/definitions/DomainConfiguration/properties/customCertificateArn/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema160.properties.customCertificateArn.type,parentSchema:schema160.properties.customCertificateArn,data:data16};if(vErrors === null){vErrors = [err20];}else {vErrors.push(err20);}errors++;}}if(data14.disableDnsRecordCreation !== undefined){let data17 = data14.disableDnsRecordCreation;if(typeof data17 !== "boolean"){const err21 = {instancePath:instancePath+"/customDomains/" + i2+"/disableDnsRecordCreation",schemaPath:"#/definitions/DomainConfiguration/properties/disableDnsRecordCreation/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema160.properties.disableDnsRecordCreation.type,parentSchema:schema160.properties.disableDnsRecordCreation,data:data17};if(vErrors === null){vErrors = [err21];}else {vErrors.push(err21);}errors++;}}}else {const err22 = {instancePath:instancePath+"/customDomains/" + i2,schemaPath:"#/definitions/DomainConfiguration/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema160.type,parentSchema:schema160,data:data14};if(vErrors === null){vErrors = [err22];}else {vErrors.push(err22);}errors++;}}}else {const err23 = {instancePath:instancePath+"/customDomains",schemaPath:"#/properties/customDomains/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema455.properties.customDomains.type,parentSchema:schema455.properties.customDomains,data:data13};if(vErrors === null){vErrors = [err23];}else {vErrors.push(err23);}errors++;}}if(data.useFirewall !== undefined){let data18 = data.useFirewall;if(typeof data18 !== "string"){const err24 = {instancePath:instancePath+"/useFirewall",schemaPath:"#/properties/useFirewall/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema455.properties.useFirewall.type,parentSchema:schema455.properties.useFirewall,data:data18};if(vErrors === null){vErrors = [err24];}else {vErrors.push(err24);}errors++;}}if(data.streamingEnabled !== undefined){let data19 = data.streamingEnabled;if(typeof data19 !== "boolean"){const err25 = {instancePath:instancePath+"/streamingEnabled",schemaPath:"#/properties/streamingEnabled/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema455.properties.streamingEnabled.type,parentSchema:schema455.properties.streamingEnabled,data:data19};if(vErrors === null){vErrors = [err25];}else {vErrors.push(err25);}errors++;}}if(data.connectTo !== undefined){let data20 = data.connectTo;if(Array.isArray(data20)){const len3 = data20.length;for(let i3=0; i3<len3; i3++){let data21 = data20[i3];if(typeof data21 !== "string"){const err26 = {instancePath:instancePath+"/connectTo/" + i3,schemaPath:"#/properties/connectTo/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema455.properties.connectTo.items.type,parentSchema:schema455.properties.connectTo.items,data:data21};if(vErrors === null){vErrors = [err26];}else {vErrors.push(err26);}errors++;}}}else {const err27 = {instancePath:instancePath+"/connectTo",schemaPath:"#/properties/connectTo/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema455.properties.connectTo.type,parentSchema:schema455.properties.connectTo,data:data20};if(vErrors === null){vErrors = [err27];}else {vErrors.push(err27);}errors++;}}if(data.iamRoleStatements !== undefined){let data22 = data.iamRoleStatements;if(Array.isArray(data22)){const len4 = data22.length;for(let i4=0; i4<len4; i4++){let data23 = data22[i4];if(data23 && typeof data23 == "object" && !Array.isArray(data23)){if(data23.Resource === undefined){const err28 = {instancePath:instancePath+"/iamRoleStatements/" + i4,schemaPath:"#/definitions/StpIamRoleStatement/required",keyword:"required",params:{missingProperty: "Resource"},message:"must have required property '"+"Resource"+"'",schema:schema102.required,parentSchema:schema102,data:data23};if(vErrors === null){vErrors = [err28];}else {vErrors.push(err28);}errors++;}for(const key4 in data23){if(!(((((key4 === "Sid") || (key4 === "Effect")) || (key4 === "Action")) || (key4 === "Condition")) || (key4 === "Resource"))){const err29 = {instancePath:instancePath+"/iamRoleStatements/" + i4,schemaPath:"#/definitions/StpIamRoleStatement/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key4},message:"must NOT have additional properties",schema:false,parentSchema:schema102,data:data23};if(vErrors === null){vErrors = [err29];}else {vErrors.push(err29);}errors++;}}if(data23.Sid !== undefined){let data24 = data23.Sid;if(typeof data24 !== "string"){const err30 = {instancePath:instancePath+"/iamRoleStatements/" + i4+"/Sid",schemaPath:"#/definitions/StpIamRoleStatement/properties/Sid/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema102.properties.Sid.type,parentSchema:schema102.properties.Sid,data:data24};if(vErrors === null){vErrors = [err30];}else {vErrors.push(err30);}errors++;}}if(data23.Effect !== undefined){let data25 = data23.Effect;if(typeof data25 !== "string"){const err31 = {instancePath:instancePath+"/iamRoleStatements/" + i4+"/Effect",schemaPath:"#/definitions/StpIamRoleStatement/properties/Effect/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema102.properties.Effect.type,parentSchema:schema102.properties.Effect,data:data25};if(vErrors === null){vErrors = [err31];}else {vErrors.push(err31);}errors++;}}if(data23.Action !== undefined){let data26 = data23.Action;if(Array.isArray(data26)){const len5 = data26.length;for(let i5=0; i5<len5; i5++){let data27 = data26[i5];if(typeof data27 !== "string"){const err32 = {instancePath:instancePath+"/iamRoleStatements/" + i4+"/Action/" + i5,schemaPath:"#/definitions/StpIamRoleStatement/properties/Action/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema102.properties.Action.items.type,parentSchema:schema102.properties.Action.items,data:data27};if(vErrors === null){vErrors = [err32];}else {vErrors.push(err32);}errors++;}}}else {const err33 = {instancePath:instancePath+"/iamRoleStatements/" + i4+"/Action",schemaPath:"#/definitions/StpIamRoleStatement/properties/Action/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema102.properties.Action.type,parentSchema:schema102.properties.Action,data:data26};if(vErrors === null){vErrors = [err33];}else {vErrors.push(err33);}errors++;}}if(data23.Resource !== undefined){let data28 = data23.Resource;if(Array.isArray(data28)){const len6 = data28.length;for(let i6=0; i6<len6; i6++){let data29 = data28[i6];if(typeof data29 !== "string"){const err34 = {instancePath:instancePath+"/iamRoleStatements/" + i4+"/Resource/" + i6,schemaPath:"#/definitions/StpIamRoleStatement/properties/Resource/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema102.properties.Resource.items.type,parentSchema:schema102.properties.Resource.items,data:data29};if(vErrors === null){vErrors = [err34];}else {vErrors.push(err34);}errors++;}}}else {const err35 = {instancePath:instancePath+"/iamRoleStatements/" + i4+"/Resource",schemaPath:"#/definitions/StpIamRoleStatement/properties/Resource/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema102.properties.Resource.type,parentSchema:schema102.properties.Resource,data:data28};if(vErrors === null){vErrors = [err35];}else {vErrors.push(err35);}errors++;}}}else {const err36 = {instancePath:instancePath+"/iamRoleStatements/" + i4,schemaPath:"#/definitions/StpIamRoleStatement/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema102.type,parentSchema:schema102,data:data23};if(vErrors === null){vErrors = [err36];}else {vErrors.push(err36);}errors++;}}}else {const err37 = {instancePath:instancePath+"/iamRoleStatements",schemaPath:"#/properties/iamRoleStatements/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema455.properties.iamRoleStatements.type,parentSchema:schema455.properties.iamRoleStatements,data:data22};if(vErrors === null){vErrors = [err37];}else {vErrors.push(err37);}errors++;}}}else {const err38 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema455.type,parentSchema:schema455,data};if(vErrors === null){vErrors = [err38];}else {vErrors.push(err38);}errors++;}validate502.errors = vErrors;return errors === 0;}function validate501(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema454.required,parentSchema:schema454,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema454.required,parentSchema:schema454,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!(((key0 === "type") || (key0 === "properties")) || (key0 === "overrides"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema454,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema454.properties.type.type,parentSchema:schema454.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("nextjs-web" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "nextjs-web"},message:"must be equal to constant",schema:"nextjs-web",parentSchema:schema454.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate502(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate502.errors : vErrors.concat(validate502.errors);errors = vErrors.length;}}if(data.overrides !== undefined){let data2 = data.overrides;if(data2 && typeof data2 == "object" && !Array.isArray(data2)){for(const key1 in data2){let data3 = data2[key1];if(data3 && typeof data3 == "object" && !Array.isArray(data3)){}else {const err5 = {instancePath:instancePath+"/overrides/" + key1.replace(/~/g, "~0").replace(/\//g, "~1"),schemaPath:"#/properties/overrides/additionalProperties/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema454.properties.overrides.additionalProperties.type,parentSchema:schema454.properties.overrides.additionalProperties,data:data3};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}}else {const err6 = {instancePath:instancePath+"/overrides",schemaPath:"#/properties/overrides/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema454.properties.overrides.type,parentSchema:schema454.properties.overrides,data:data2};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}}else {const err7 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema454.type,parentSchema:schema454,data};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}validate501.errors = vErrors;return errors === 0;}const schema461 = {"description":"#### OpenSearch Domain\n\n---\n\nA fully managed OpenSearch (or Elasticsearch) cluster.","type":"object","properties":{"type":{"type":"string","const":"open-search-domain"},"properties":{"$ref":"#/definitions/OpenSearchDomainProps"},"overrides":{"description":"#### Resource Overrides\n\n---\n\nOverrides properties of the underlying CloudFormation resources that Stacktape creates.\n\nChild resources are identified by their CloudFormation logical ID (e.g., `MyBucketBucket`). You can find these IDs by running `stacktape stack:info --detailed`.\n\nFor a list of properties that can be overridden, refer to the [AWS CloudFormation documentation](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html).","type":"object","additionalProperties":{"type":"object","additionalProperties":{}}}},"additionalProperties":false,"required":["type"]};const schema462 = {"type":"object","properties":{"version":{"description":"#### The OpenSearch version to use.\n\n---\n\nIt is recommended to explicitly specify the version to prevent potential issues when the default version changes.\nThe current default is `2.17`, but this may change in future Stacktape releases.","enum":["1.0","1.1","1.2","1.3","2.11","2.13","2.15","2.17","2.3","2.5","2.7","2.9"],"type":"string"},"clusterConfig":{"$ref":"#/definitions/OpenSearchClusterConfig","description":"#### The configuration of the cluster instances.\n\n---\n\nThis property determines the size, number, and type of instances used in your OpenSearch domain cluster.\nIf you do not specify a `clusterConfig`, the cluster will consist of a single `m4.large.search` node."},"storage":{"$ref":"#/definitions/OpenSearchStorage","description":"#### The storage configuration for the cluster.\n\n---\n\nThis is only supported for instances that use EBS storage.\nSetting `iops` and `throughput` is only allowed for instances with the `gp3` storage type."},"userPool":{"description":"#### The name of the Cognito User Pool resource to use for OpenSearch Dashboards authentication.","type":"string"},"logging":{"$ref":"#/definitions/OpenSearchLogConfiguration","description":"#### The log collection configuration.\n\n---\n\nStacktape will automatically create the required log groups and policies for you.\nYou can set a custom retention period for individual log types or disable log collection entirely.\n\nFor more details on log collection, see the [AWS documentation](https://docs.aws.amazon.com/opensearch-service/latest/developerguide/createdomain-configure-slow-logs.html)."},"accessibility":{"$ref":"#/definitions/OpenSearchAccessibility","description":"#### Configures the accessibility of the domain.\n\n---\n\nBy default, the domain is accessible from anywhere on the internet but is still protected by IAM.\nYou can restrict access by making the domain available only to resources within your stack's VPC."}},"additionalProperties":false};const schema463 = {"type":"object","properties":{"instanceType":{"description":"#### The instance type for the data nodes.\n\n---\n\nData nodes handle data storage, indexing, and query processing.\nFor production setups, it is recommended to pair data nodes with dedicated master nodes to improve cluster stability.\n\nFor a list of supported instance types, see the [AWS documentation](https://docs.aws.amazon.com/opensearch-service/latest/developerguide/supported-instance-types.html).","type":"string"},"instanceCount":{"description":"#### The number of data nodes in the cluster.\n\n---\n\nData nodes handle data storage, indexing, and query processing.\nFor production setups, it is recommended to pair data nodes with dedicated master nodes to improve cluster stability.","type":"number"},"dedicatedMasterType":{"description":"#### The instance type for the dedicated master nodes.\n\n---\n\nDedicated master nodes manage the cluster state and coordinate node activities but do not store data or serve queries.\nThey are recommended for clusters with three or more nodes to improve stability and prevent split-brain scenarios.\nThe master instance type should be appropriately sized based on the number of nodes and shards in the cluster.\n\nThe number of master nodes should always be odd (3, 5, or 7) for quorum-based fault tolerance.\n\nFor more details, see the [AWS documentation on dedicated master nodes](https://docs.aws.amazon.com/opensearch-service/latest/developerguide/managedomains-dedicatedmasternodes.html).","type":"string"},"dedicatedMasterCount":{"description":"#### The number of dedicated master nodes.\n\n---\n\nDedicated master nodes manage the cluster state and coordinate node activities but do not store data or serve queries.\nThey are recommended for clusters with three or more nodes to improve stability and prevent split-brain scenarios.\nThe number of master nodes should always be odd (3, 5, or 7) for quorum-based fault tolerance.\n\nFor more details, see the [AWS documentation on dedicated master nodes](https://docs.aws.amazon.com/opensearch-service/latest/developerguide/managedomains-dedicatedmasternodes.html).","type":"number"},"warmType":{"description":"#### The instance type for the warm nodes.\n\n---\n\nWarm nodes use UltraWarm storage to store infrequently accessed or older data, optimizing costs for time-series or log data.\nData on warm nodes remains searchable but with higher query latency compared to hot nodes.\nThis is ideal for retaining historical data without impacting the performance of frequently accessed data.\n\nFor more details, see the [AWS documentation on UltraWarm storage](https://docs.aws.amazon.com/opensearch-service/latest/developerguide/ultrawarm.html).","type":"string"},"warmCount":{"description":"#### The number of warm nodes.\n\n---\n\nWarm nodes use UltraWarm storage to store infrequently accessed or older data, optimizing costs for time-series or log data.\nData on warm nodes remains searchable but with higher query latency compared to hot nodes.\nThis is ideal for retaining historical data without impacting the performance of frequently accessed data.\n\nFor more details, see the [AWS documentation on UltraWarm storage](https://docs.aws.amazon.com/opensearch-service/latest/developerguide/ultrawarm.html).","type":"number"},"multiAzDisabled":{"description":"#### Disables Multi-Availability Zone (AZ) awareness for the cluster.\n\n---\n\nBy default, Multi-AZ awareness is enabled for any cluster with more than one node.\nThis means OpenSearch Service allocates nodes and replica index shards across multiple AZs to prevent data loss and minimize downtime.\n\nDisabling zone awareness is not recommended.\n\nFor more details, see the [AWS documentation on Multi-AZ clusters](https://docs.aws.amazon.com/opensearch-service/latest/developerguide/managedomains-multiaz.html).","default":false,"type":"boolean"},"standbyEnabled":{"description":"#### Enables a Multi-AZ cluster with a standby AZ.\n\n---\n\nWhen enabled, this option ensures high availability and consistent performance by distributing nodes and data copies across three AZs, with one serving as a standby.\nThis allows the standby AZ to take over during a failure without causing re-balancing or availability issues.\n\nThis feature enforces several best practices, including:\n- OpenSearch version 1.3 or higher.\n- Auto-Tune enabled on the domain.\n- Three dedicated master nodes and data nodes.\n- Only GP3 or SSD-backed instances from a subset of supported instance types.\n\nFor more details, see the [AWS documentation on Multi-AZ with Standby](https://docs.aws.amazon.com/opensearch-service/latest/developerguide/managedomains-multiaz.html).","default":false,"type":"boolean"}},"additionalProperties":false,"required":["instanceCount","instanceType"]};const schema464 = {"type":"object","properties":{"size":{"description":"#### The size of the EBS volume for each data node, in GiB.\n\n---\n\nThe minimum and maximum size of an EBS volume depends on the volume type and the instance type it is attached to.\nFor more information, see the [EBS volume size limits](https://docs.aws.amazon.com/opensearch-service/latest/developerguide/limits.html#ebsresource) in the Amazon OpenSearch Service Developer Guide.","type":"number"},"iops":{"description":"#### The provisioned IOPS per data node.\n\n---\n\nThe number of I/O operations per second (IOPS) that the volume supports.\nThis applies only to instances with the **GP3** volume type.","default":3000,"type":"number"},"throughput":{"description":"#### The provisioned throughput per data node, in MiB/s.\n\n---\n\nThe throughput of the EBS volumes attached to data nodes.\nThis applies only to instances with the **GP3** volume type.","default":125,"type":"number"}},"additionalProperties":false,"required":["size"]};const schema469 = {"type":"object","properties":{"accessibilityMode":{"description":"#### Configures the accessibility mode for this domain.\n\n---\n\nThe following modes are supported:\n\n- **`internet`**: The least restrictive mode. The domain can be accessed from anywhere on the internet.\n- **`vpc`**: The domain can only be accessed from resources within your VPC. This includes any [function](https://docs.stacktape.com/compute-resources/lambda-functions) (with `joinDefaultVpc: true`), [batch job](https://docs.stacktape.com/compute-resources/batch-jobs), or [container workload](https://docs.stacktape.com/compute-resources/multi-container-workloads) in your stack, provided they have the required credentials.\n- **`scoping-workloads-in-vpc`**: Similar to `vpc` mode, but more restrictive. In addition to being in the same VPC, resources must have the necessary security group permissions to access the cluster. For functions, batch jobs, and container services, these permissions can be granted using the `connectTo` property in their respective configurations.\n\n> **Note:** If you launch a domain with `vpc` or `scoping-workloads-in-vpc` accessibility, you cannot later switch it to `internet` mode, and vice versa. You must create a new domain and migrate your data.\n\nTo learn more about VPCs, see the [VPC documentation](https://docs.stacktape.com/user-guides/vpcs/).","default":"internet","enum":["internet","scoping-workloads-in-vpc","vpc"],"type":"string"}},"additionalProperties":false,"required":["accessibilityMode"]};const schema465 = {"type":"object","properties":{"errorLogs":{"$ref":"#/definitions/OpenSearchLogRetentionSettings","description":"#### Error logs.\n\n---\n\nError logs can help with troubleshooting issues such as:\n- Script compilation errors\n- Invalid queries\n- Indexing issues\n- Snapshot failures\n- Index State Management migration failures\n\nIf you enable error logs, OpenSearch Service will publish log lines of `WARN`, `ERROR`, and `FATAL` to CloudWatch, along with several exceptions from the `DEBUG` level.\n\nFor more details, see the [AWS documentation](https://docs.aws.amazon.com/opensearch-service/latest/developerguide/createdomain-configure-slow-logs.html)."},"searchSlowLogs":{"$ref":"#/definitions/OpenSearchLogRetentionSettings","description":"#### Search slow logs.\n\n---\n\nSearch slow logs rely on thresholds that you define to determine what qualifies as a \"slow\" search.\nFor example, you might decide that a query is slow if it takes more than 15 seconds to complete.\n\nFor more information on slow logs and how to configure thresholds, see the [OpenSearch documentation](https://opensearch.org/docs/latest/monitoring-your-cluster/logs/#slow-logs)."},"indexSlowLogs":{"$ref":"#/definitions/OpenSearchLogRetentionSettings","description":"#### Indexing slow logs.\n\n---\n\nThese logs rely on thresholds to define what qualifies as a \"slow\" indexing operation.\nFor example, you might decide that an indexing operation is slow if it takes more than 15 seconds to complete.\n\nFor more information on slow logs and how to configure thresholds, see the [OpenSearch documentation](https://opensearch.org/docs/latest/monitoring-your-cluster/logs/#slow-logs)."}},"additionalProperties":false};const schema466 = {"type":"object","properties":{"disabled":{"description":"#### Disables log collection.\n\n---\n\nLog collection is enabled by default.","default":false,"type":"boolean"},"retentionDays":{"description":"#### The number of days to retain logs in the CloudWatch log group.\n\n---","default":14,"enum":[1,120,14,150,180,1827,3,30,365,3653,400,5,545,60,7,731,90],"type":"number"}},"additionalProperties":false};function validate515(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){for(const key0 in data){if(!(((key0 === "errorLogs") || (key0 === "searchSlowLogs")) || (key0 === "indexSlowLogs"))){const err0 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema465,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}}if(data.errorLogs !== undefined){let data0 = data.errorLogs;if(data0 && typeof data0 == "object" && !Array.isArray(data0)){for(const key1 in data0){if(!((key1 === "disabled") || (key1 === "retentionDays"))){const err1 = {instancePath:instancePath+"/errorLogs",schemaPath:"#/definitions/OpenSearchLogRetentionSettings/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema466,data:data0};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data0.disabled !== undefined){let data1 = data0.disabled;if(typeof data1 !== "boolean"){const err2 = {instancePath:instancePath+"/errorLogs/disabled",schemaPath:"#/definitions/OpenSearchLogRetentionSettings/properties/disabled/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema466.properties.disabled.type,parentSchema:schema466.properties.disabled,data:data1};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data0.retentionDays !== undefined){let data2 = data0.retentionDays;if(!(typeof data2 == "number")){const err3 = {instancePath:instancePath+"/errorLogs/retentionDays",schemaPath:"#/definitions/OpenSearchLogRetentionSettings/properties/retentionDays/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema466.properties.retentionDays.type,parentSchema:schema466.properties.retentionDays,data:data2};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if(!(((((((((((((((((data2 === 1) || (data2 === 120)) || (data2 === 14)) || (data2 === 150)) || (data2 === 180)) || (data2 === 1827)) || (data2 === 3)) || (data2 === 30)) || (data2 === 365)) || (data2 === 3653)) || (data2 === 400)) || (data2 === 5)) || (data2 === 545)) || (data2 === 60)) || (data2 === 7)) || (data2 === 731)) || (data2 === 90))){const err4 = {instancePath:instancePath+"/errorLogs/retentionDays",schemaPath:"#/definitions/OpenSearchLogRetentionSettings/properties/retentionDays/enum",keyword:"enum",params:{allowedValues: schema466.properties.retentionDays.enum},message:"must be equal to one of the allowed values",schema:schema466.properties.retentionDays.enum,parentSchema:schema466.properties.retentionDays,data:data2};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}}else {const err5 = {instancePath:instancePath+"/errorLogs",schemaPath:"#/definitions/OpenSearchLogRetentionSettings/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema466.type,parentSchema:schema466,data:data0};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data.searchSlowLogs !== undefined){let data3 = data.searchSlowLogs;if(data3 && typeof data3 == "object" && !Array.isArray(data3)){for(const key2 in data3){if(!((key2 === "disabled") || (key2 === "retentionDays"))){const err6 = {instancePath:instancePath+"/searchSlowLogs",schemaPath:"#/definitions/OpenSearchLogRetentionSettings/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key2},message:"must NOT have additional properties",schema:false,parentSchema:schema466,data:data3};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data3.disabled !== undefined){let data4 = data3.disabled;if(typeof data4 !== "boolean"){const err7 = {instancePath:instancePath+"/searchSlowLogs/disabled",schemaPath:"#/definitions/OpenSearchLogRetentionSettings/properties/disabled/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema466.properties.disabled.type,parentSchema:schema466.properties.disabled,data:data4};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data3.retentionDays !== undefined){let data5 = data3.retentionDays;if(!(typeof data5 == "number")){const err8 = {instancePath:instancePath+"/searchSlowLogs/retentionDays",schemaPath:"#/definitions/OpenSearchLogRetentionSettings/properties/retentionDays/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema466.properties.retentionDays.type,parentSchema:schema466.properties.retentionDays,data:data5};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}if(!(((((((((((((((((data5 === 1) || (data5 === 120)) || (data5 === 14)) || (data5 === 150)) || (data5 === 180)) || (data5 === 1827)) || (data5 === 3)) || (data5 === 30)) || (data5 === 365)) || (data5 === 3653)) || (data5 === 400)) || (data5 === 5)) || (data5 === 545)) || (data5 === 60)) || (data5 === 7)) || (data5 === 731)) || (data5 === 90))){const err9 = {instancePath:instancePath+"/searchSlowLogs/retentionDays",schemaPath:"#/definitions/OpenSearchLogRetentionSettings/properties/retentionDays/enum",keyword:"enum",params:{allowedValues: schema466.properties.retentionDays.enum},message:"must be equal to one of the allowed values",schema:schema466.properties.retentionDays.enum,parentSchema:schema466.properties.retentionDays,data:data5};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}}else {const err10 = {instancePath:instancePath+"/searchSlowLogs",schemaPath:"#/definitions/OpenSearchLogRetentionSettings/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema466.type,parentSchema:schema466,data:data3};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data.indexSlowLogs !== undefined){let data6 = data.indexSlowLogs;if(data6 && typeof data6 == "object" && !Array.isArray(data6)){for(const key3 in data6){if(!((key3 === "disabled") || (key3 === "retentionDays"))){const err11 = {instancePath:instancePath+"/indexSlowLogs",schemaPath:"#/definitions/OpenSearchLogRetentionSettings/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key3},message:"must NOT have additional properties",schema:false,parentSchema:schema466,data:data6};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}if(data6.disabled !== undefined){let data7 = data6.disabled;if(typeof data7 !== "boolean"){const err12 = {instancePath:instancePath+"/indexSlowLogs/disabled",schemaPath:"#/definitions/OpenSearchLogRetentionSettings/properties/disabled/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema466.properties.disabled.type,parentSchema:schema466.properties.disabled,data:data7};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}if(data6.retentionDays !== undefined){let data8 = data6.retentionDays;if(!(typeof data8 == "number")){const err13 = {instancePath:instancePath+"/indexSlowLogs/retentionDays",schemaPath:"#/definitions/OpenSearchLogRetentionSettings/properties/retentionDays/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema466.properties.retentionDays.type,parentSchema:schema466.properties.retentionDays,data:data8};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}if(!(((((((((((((((((data8 === 1) || (data8 === 120)) || (data8 === 14)) || (data8 === 150)) || (data8 === 180)) || (data8 === 1827)) || (data8 === 3)) || (data8 === 30)) || (data8 === 365)) || (data8 === 3653)) || (data8 === 400)) || (data8 === 5)) || (data8 === 545)) || (data8 === 60)) || (data8 === 7)) || (data8 === 731)) || (data8 === 90))){const err14 = {instancePath:instancePath+"/indexSlowLogs/retentionDays",schemaPath:"#/definitions/OpenSearchLogRetentionSettings/properties/retentionDays/enum",keyword:"enum",params:{allowedValues: schema466.properties.retentionDays.enum},message:"must be equal to one of the allowed values",schema:schema466.properties.retentionDays.enum,parentSchema:schema466.properties.retentionDays,data:data8};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}}}else {const err15 = {instancePath:instancePath+"/indexSlowLogs",schemaPath:"#/definitions/OpenSearchLogRetentionSettings/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema466.type,parentSchema:schema466,data:data6};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}}}else {const err16 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema465.type,parentSchema:schema465,data};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}validate515.errors = vErrors;return errors === 0;}function validate514(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){for(const key0 in data){if(!((((((key0 === "version") || (key0 === "clusterConfig")) || (key0 === "storage")) || (key0 === "userPool")) || (key0 === "logging")) || (key0 === "accessibility"))){const err0 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema462,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}}if(data.version !== undefined){let data0 = data.version;if(typeof data0 !== "string"){const err1 = {instancePath:instancePath+"/version",schemaPath:"#/properties/version/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema462.properties.version.type,parentSchema:schema462.properties.version,data:data0};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}if(!((((((((((((data0 === "1.0") || (data0 === "1.1")) || (data0 === "1.2")) || (data0 === "1.3")) || (data0 === "2.11")) || (data0 === "2.13")) || (data0 === "2.15")) || (data0 === "2.17")) || (data0 === "2.3")) || (data0 === "2.5")) || (data0 === "2.7")) || (data0 === "2.9"))){const err2 = {instancePath:instancePath+"/version",schemaPath:"#/properties/version/enum",keyword:"enum",params:{allowedValues: schema462.properties.version.enum},message:"must be equal to one of the allowed values",schema:schema462.properties.version.enum,parentSchema:schema462.properties.version,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.clusterConfig !== undefined){let data1 = data.clusterConfig;if(data1 && typeof data1 == "object" && !Array.isArray(data1)){if(data1.instanceCount === undefined){const err3 = {instancePath:instancePath+"/clusterConfig",schemaPath:"#/definitions/OpenSearchClusterConfig/required",keyword:"required",params:{missingProperty: "instanceCount"},message:"must have required property '"+"instanceCount"+"'",schema:schema463.required,parentSchema:schema463,data:data1};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if(data1.instanceType === undefined){const err4 = {instancePath:instancePath+"/clusterConfig",schemaPath:"#/definitions/OpenSearchClusterConfig/required",keyword:"required",params:{missingProperty: "instanceType"},message:"must have required property '"+"instanceType"+"'",schema:schema463.required,parentSchema:schema463,data:data1};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}for(const key1 in data1){if(!((((((((key1 === "instanceType") || (key1 === "instanceCount")) || (key1 === "dedicatedMasterType")) || (key1 === "dedicatedMasterCount")) || (key1 === "warmType")) || (key1 === "warmCount")) || (key1 === "multiAzDisabled")) || (key1 === "standbyEnabled"))){const err5 = {instancePath:instancePath+"/clusterConfig",schemaPath:"#/definitions/OpenSearchClusterConfig/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema463,data:data1};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data1.instanceType !== undefined){let data2 = data1.instanceType;if(typeof data2 !== "string"){const err6 = {instancePath:instancePath+"/clusterConfig/instanceType",schemaPath:"#/definitions/OpenSearchClusterConfig/properties/instanceType/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema463.properties.instanceType.type,parentSchema:schema463.properties.instanceType,data:data2};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data1.instanceCount !== undefined){let data3 = data1.instanceCount;if(!(typeof data3 == "number")){const err7 = {instancePath:instancePath+"/clusterConfig/instanceCount",schemaPath:"#/definitions/OpenSearchClusterConfig/properties/instanceCount/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema463.properties.instanceCount.type,parentSchema:schema463.properties.instanceCount,data:data3};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data1.dedicatedMasterType !== undefined){let data4 = data1.dedicatedMasterType;if(typeof data4 !== "string"){const err8 = {instancePath:instancePath+"/clusterConfig/dedicatedMasterType",schemaPath:"#/definitions/OpenSearchClusterConfig/properties/dedicatedMasterType/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema463.properties.dedicatedMasterType.type,parentSchema:schema463.properties.dedicatedMasterType,data:data4};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}if(data1.dedicatedMasterCount !== undefined){let data5 = data1.dedicatedMasterCount;if(!(typeof data5 == "number")){const err9 = {instancePath:instancePath+"/clusterConfig/dedicatedMasterCount",schemaPath:"#/definitions/OpenSearchClusterConfig/properties/dedicatedMasterCount/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema463.properties.dedicatedMasterCount.type,parentSchema:schema463.properties.dedicatedMasterCount,data:data5};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(data1.warmType !== undefined){let data6 = data1.warmType;if(typeof data6 !== "string"){const err10 = {instancePath:instancePath+"/clusterConfig/warmType",schemaPath:"#/definitions/OpenSearchClusterConfig/properties/warmType/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema463.properties.warmType.type,parentSchema:schema463.properties.warmType,data:data6};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data1.warmCount !== undefined){let data7 = data1.warmCount;if(!(typeof data7 == "number")){const err11 = {instancePath:instancePath+"/clusterConfig/warmCount",schemaPath:"#/definitions/OpenSearchClusterConfig/properties/warmCount/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema463.properties.warmCount.type,parentSchema:schema463.properties.warmCount,data:data7};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}if(data1.multiAzDisabled !== undefined){let data8 = data1.multiAzDisabled;if(typeof data8 !== "boolean"){const err12 = {instancePath:instancePath+"/clusterConfig/multiAzDisabled",schemaPath:"#/definitions/OpenSearchClusterConfig/properties/multiAzDisabled/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema463.properties.multiAzDisabled.type,parentSchema:schema463.properties.multiAzDisabled,data:data8};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}if(data1.standbyEnabled !== undefined){let data9 = data1.standbyEnabled;if(typeof data9 !== "boolean"){const err13 = {instancePath:instancePath+"/clusterConfig/standbyEnabled",schemaPath:"#/definitions/OpenSearchClusterConfig/properties/standbyEnabled/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema463.properties.standbyEnabled.type,parentSchema:schema463.properties.standbyEnabled,data:data9};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}}else {const err14 = {instancePath:instancePath+"/clusterConfig",schemaPath:"#/definitions/OpenSearchClusterConfig/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema463.type,parentSchema:schema463,data:data1};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}}if(data.storage !== undefined){let data10 = data.storage;if(data10 && typeof data10 == "object" && !Array.isArray(data10)){if(data10.size === undefined){const err15 = {instancePath:instancePath+"/storage",schemaPath:"#/definitions/OpenSearchStorage/required",keyword:"required",params:{missingProperty: "size"},message:"must have required property '"+"size"+"'",schema:schema464.required,parentSchema:schema464,data:data10};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}for(const key2 in data10){if(!(((key2 === "size") || (key2 === "iops")) || (key2 === "throughput"))){const err16 = {instancePath:instancePath+"/storage",schemaPath:"#/definitions/OpenSearchStorage/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key2},message:"must NOT have additional properties",schema:false,parentSchema:schema464,data:data10};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}}if(data10.size !== undefined){let data11 = data10.size;if(!(typeof data11 == "number")){const err17 = {instancePath:instancePath+"/storage/size",schemaPath:"#/definitions/OpenSearchStorage/properties/size/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema464.properties.size.type,parentSchema:schema464.properties.size,data:data11};if(vErrors === null){vErrors = [err17];}else {vErrors.push(err17);}errors++;}}if(data10.iops !== undefined){let data12 = data10.iops;if(!(typeof data12 == "number")){const err18 = {instancePath:instancePath+"/storage/iops",schemaPath:"#/definitions/OpenSearchStorage/properties/iops/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema464.properties.iops.type,parentSchema:schema464.properties.iops,data:data12};if(vErrors === null){vErrors = [err18];}else {vErrors.push(err18);}errors++;}}if(data10.throughput !== undefined){let data13 = data10.throughput;if(!(typeof data13 == "number")){const err19 = {instancePath:instancePath+"/storage/throughput",schemaPath:"#/definitions/OpenSearchStorage/properties/throughput/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema464.properties.throughput.type,parentSchema:schema464.properties.throughput,data:data13};if(vErrors === null){vErrors = [err19];}else {vErrors.push(err19);}errors++;}}}else {const err20 = {instancePath:instancePath+"/storage",schemaPath:"#/definitions/OpenSearchStorage/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema464.type,parentSchema:schema464,data:data10};if(vErrors === null){vErrors = [err20];}else {vErrors.push(err20);}errors++;}}if(data.userPool !== undefined){let data14 = data.userPool;if(typeof data14 !== "string"){const err21 = {instancePath:instancePath+"/userPool",schemaPath:"#/properties/userPool/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema462.properties.userPool.type,parentSchema:schema462.properties.userPool,data:data14};if(vErrors === null){vErrors = [err21];}else {vErrors.push(err21);}errors++;}}if(data.logging !== undefined){if(!(validate515(data.logging, {instancePath:instancePath+"/logging",parentData:data,parentDataProperty:"logging",rootData}))){vErrors = vErrors === null ? validate515.errors : vErrors.concat(validate515.errors);errors = vErrors.length;}}if(data.accessibility !== undefined){let data16 = data.accessibility;if(data16 && typeof data16 == "object" && !Array.isArray(data16)){if(data16.accessibilityMode === undefined){const err22 = {instancePath:instancePath+"/accessibility",schemaPath:"#/definitions/OpenSearchAccessibility/required",keyword:"required",params:{missingProperty: "accessibilityMode"},message:"must have required property '"+"accessibilityMode"+"'",schema:schema469.required,parentSchema:schema469,data:data16};if(vErrors === null){vErrors = [err22];}else {vErrors.push(err22);}errors++;}for(const key3 in data16){if(!(key3 === "accessibilityMode")){const err23 = {instancePath:instancePath+"/accessibility",schemaPath:"#/definitions/OpenSearchAccessibility/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key3},message:"must NOT have additional properties",schema:false,parentSchema:schema469,data:data16};if(vErrors === null){vErrors = [err23];}else {vErrors.push(err23);}errors++;}}if(data16.accessibilityMode !== undefined){let data17 = data16.accessibilityMode;if(typeof data17 !== "string"){const err24 = {instancePath:instancePath+"/accessibility/accessibilityMode",schemaPath:"#/definitions/OpenSearchAccessibility/properties/accessibilityMode/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema469.properties.accessibilityMode.type,parentSchema:schema469.properties.accessibilityMode,data:data17};if(vErrors === null){vErrors = [err24];}else {vErrors.push(err24);}errors++;}if(!(((data17 === "internet") || (data17 === "scoping-workloads-in-vpc")) || (data17 === "vpc"))){const err25 = {instancePath:instancePath+"/accessibility/accessibilityMode",schemaPath:"#/definitions/OpenSearchAccessibility/properties/accessibilityMode/enum",keyword:"enum",params:{allowedValues: schema469.properties.accessibilityMode.enum},message:"must be equal to one of the allowed values",schema:schema469.properties.accessibilityMode.enum,parentSchema:schema469.properties.accessibilityMode,data:data17};if(vErrors === null){vErrors = [err25];}else {vErrors.push(err25);}errors++;}}}else {const err26 = {instancePath:instancePath+"/accessibility",schemaPath:"#/definitions/OpenSearchAccessibility/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema469.type,parentSchema:schema469,data:data16};if(vErrors === null){vErrors = [err26];}else {vErrors.push(err26);}errors++;}}}else {const err27 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema462.type,parentSchema:schema462,data};if(vErrors === null){vErrors = [err27];}else {vErrors.push(err27);}errors++;}validate514.errors = vErrors;return errors === 0;}function validate513(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.type === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema461.required,parentSchema:schema461,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!(((key0 === "type") || (key0 === "properties")) || (key0 === "overrides"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema461,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err2 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema461.properties.type.type,parentSchema:schema461.properties.type,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}if("open-search-domain" !== data0){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "open-search-domain"},message:"must be equal to constant",schema:"open-search-domain",parentSchema:schema461.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.properties !== undefined){if(!(validate514(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate514.errors : vErrors.concat(validate514.errors);errors = vErrors.length;}}if(data.overrides !== undefined){let data2 = data.overrides;if(data2 && typeof data2 == "object" && !Array.isArray(data2)){for(const key1 in data2){let data3 = data2[key1];if(data3 && typeof data3 == "object" && !Array.isArray(data3)){}else {const err4 = {instancePath:instancePath+"/overrides/" + key1.replace(/~/g, "~0").replace(/\//g, "~1"),schemaPath:"#/properties/overrides/additionalProperties/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema461.properties.overrides.additionalProperties.type,parentSchema:schema461.properties.overrides.additionalProperties,data:data3};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}}else {const err5 = {instancePath:instancePath+"/overrides",schemaPath:"#/properties/overrides/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema461.properties.overrides.type,parentSchema:schema461.properties.overrides,data:data2};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}}else {const err6 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema461.type,parentSchema:schema461,data};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}validate513.errors = vErrors;return errors === 0;}const schema470 = {"description":"#### EFS Filesystem\n\n---\n\nA fully managed, elastic, and scalable file storage service for use with AWS cloud services.","type":"object","properties":{"type":{"type":"string","const":"efs-filesystem"},"properties":{"$ref":"#/definitions/EfsFilesystemProps"},"overrides":{"description":"#### Resource Overrides\n\n---\n\nOverrides properties of the underlying CloudFormation resources that Stacktape creates.\n\nChild resources are identified by their CloudFormation logical ID (e.g., `MyBucketBucket`). You can find these IDs by running `stacktape stack:info --detailed`.\n\nFor a list of properties that can be overridden, refer to the [AWS CloudFormation documentation](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html).","type":"object","additionalProperties":{"type":"object","additionalProperties":{}}}},"additionalProperties":false,"required":["type"]};const schema471 = {"type":"object","properties":{"backupEnabled":{"description":"#### Enables automatic backups for the EFS filesystem.\n\n---\n\n- Uses AWS Backup with a default daily backup schedule and a 35-day retention period.\n- Backups are incremental, meaning only changed, added, or removed files are copied after the initial backup.\n- Data from all storage classes (Standard, Infrequent Access, and Archive) is backed up without incurring data access charges.\n- Restored data is always placed in the Standard storage class.\n- The default backup plan and vault are automatically created and managed by AWS.","type":"boolean"},"throughputMode":{"description":"#### Determines how throughput is managed for the filesystem.\n\n---\n\n- **`elastic`** (Recommended): Best for unpredictable or spiky workloads, such as web apps or CI/CD pipelines. It is ideal for workloads that use high throughput for 5% of the time or less, and it automatically scales up and down based on demand.\n\n- **`provisioned`**: Best for steady, predictable workloads that require high throughput more than 5% of the time, such as media streaming or production databases. This mode requires setting `provisionedThroughputInMibps`.\n\n- **`bursting`**: Scales with storage size, providing a baseline of 50 KiB/s per GiB of storage. This mode is suitable for small development environments and team file shares, but you may hit performance limits if burst credits are depleted.","default":"elastic","enum":["bursting","elastic","provisioned"],"type":"string"},"provisionedThroughputInMibps":{"description":"#### The desired throughput in MiB/s when using `provisioned` mode.\n\n---\n\n- Required when `throughputMode` is set to `provisioned`.\n- Must be a value greater than 0.\n- Additional fees are charged based on the provisioned throughput.\n- This value can be modified at any time to adjust performance.\n\nExample: `100` means 100 MiB/s of guaranteed throughput.","type":"number"}},"additionalProperties":false};function validate519(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.type === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema470.required,parentSchema:schema470,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!(((key0 === "type") || (key0 === "properties")) || (key0 === "overrides"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema470,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err2 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema470.properties.type.type,parentSchema:schema470.properties.type,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}if("efs-filesystem" !== data0){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "efs-filesystem"},message:"must be equal to constant",schema:"efs-filesystem",parentSchema:schema470.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.properties !== undefined){let data1 = data.properties;if(data1 && typeof data1 == "object" && !Array.isArray(data1)){for(const key1 in data1){if(!(((key1 === "backupEnabled") || (key1 === "throughputMode")) || (key1 === "provisionedThroughputInMibps"))){const err4 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/EfsFilesystemProps/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema471,data:data1};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data1.backupEnabled !== undefined){let data2 = data1.backupEnabled;if(typeof data2 !== "boolean"){const err5 = {instancePath:instancePath+"/properties/backupEnabled",schemaPath:"#/definitions/EfsFilesystemProps/properties/backupEnabled/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema471.properties.backupEnabled.type,parentSchema:schema471.properties.backupEnabled,data:data2};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data1.throughputMode !== undefined){let data3 = data1.throughputMode;if(typeof data3 !== "string"){const err6 = {instancePath:instancePath+"/properties/throughputMode",schemaPath:"#/definitions/EfsFilesystemProps/properties/throughputMode/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema471.properties.throughputMode.type,parentSchema:schema471.properties.throughputMode,data:data3};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}if(!(((data3 === "bursting") || (data3 === "elastic")) || (data3 === "provisioned"))){const err7 = {instancePath:instancePath+"/properties/throughputMode",schemaPath:"#/definitions/EfsFilesystemProps/properties/throughputMode/enum",keyword:"enum",params:{allowedValues: schema471.properties.throughputMode.enum},message:"must be equal to one of the allowed values",schema:schema471.properties.throughputMode.enum,parentSchema:schema471.properties.throughputMode,data:data3};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data1.provisionedThroughputInMibps !== undefined){let data4 = data1.provisionedThroughputInMibps;if(!(typeof data4 == "number")){const err8 = {instancePath:instancePath+"/properties/provisionedThroughputInMibps",schemaPath:"#/definitions/EfsFilesystemProps/properties/provisionedThroughputInMibps/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema471.properties.provisionedThroughputInMibps.type,parentSchema:schema471.properties.provisionedThroughputInMibps,data:data4};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}}else {const err9 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/EfsFilesystemProps/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema471.type,parentSchema:schema471,data:data1};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(data.overrides !== undefined){let data5 = data.overrides;if(data5 && typeof data5 == "object" && !Array.isArray(data5)){for(const key2 in data5){let data6 = data5[key2];if(data6 && typeof data6 == "object" && !Array.isArray(data6)){}else {const err10 = {instancePath:instancePath+"/overrides/" + key2.replace(/~/g, "~0").replace(/\//g, "~1"),schemaPath:"#/properties/overrides/additionalProperties/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema470.properties.overrides.additionalProperties.type,parentSchema:schema470.properties.overrides.additionalProperties,data:data6};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}}else {const err11 = {instancePath:instancePath+"/overrides",schemaPath:"#/properties/overrides/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema470.properties.overrides.type,parentSchema:schema470.properties.overrides,data:data5};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}}else {const err12 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema470.type,parentSchema:schema470,data};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}validate519.errors = vErrors;return errors === 0;}const schema472 = {"description":"#### A serverless compute resource that runs your code in response to events.\n\n---\n\nLambda functions are short-lived, stateless, and scale automatically. You only pay for the compute time you consume.","type":"object","properties":{"type":{"type":"string","const":"function"},"properties":{"$ref":"#/definitions/LambdaFunctionProps"},"overrides":{"description":"#### Resource Overrides\n\n---\n\nOverrides properties of the underlying CloudFormation resources that Stacktape creates.\n\nChild resources are identified by their CloudFormation logical ID (e.g., `MyBucketBucket`). You can find these IDs by running `stacktape stack:info --detailed`.\n\nFor a list of properties that can be overridden, refer to the [AWS CloudFormation documentation](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html).","type":"object","additionalProperties":{"type":"object","additionalProperties":{}}}},"additionalProperties":false,"required":["properties","type"]};const schema473 = {"type":"object","properties":{"packaging":{"$ref":"#/definitions/LambdaPackaging","description":"#### Configures how your code is packaged and deployed.\n\n---\n\nStacktape supports two packaging methods:\n- `stacktape-lambda-buildpack`: Stacktape automatically builds and packages your code from a specified source file. This is the recommended and simplest approach.\n- `custom-artifact`: You provide a path to a pre-built deployment package (e.g., a zip file). Stacktape will handle the upload.\n\nYour deployment packages are stored in an S3 bucket managed by Stacktape."},"events":{"description":"#### A list of event sources that trigger this function.\n\n---\n\nFunctions are executed in response to events from various sources, such as:\n- HTTP requests from an API Gateway.\n- File uploads to an S3 bucket.\n- Messages in an SQS queue.\n- Scheduled events (cron jobs).\n\nStacktape automatically configures the necessary permissions for the function to be invoked by these event sources.\nThe data passed to the function (the \"event payload\") varies depending on the trigger.","type":"array","items":{"anyOf":[{"$ref":"#/definitions/ApplicationLoadBalancerIntegration"},{"$ref":"#/definitions/KafkaTopicIntegration"},{"$ref":"#/definitions/SnsIntegration"},{"$ref":"#/definitions/SqsIntegration"},{"$ref":"#/definitions/KinesisIntegration"},{"$ref":"#/definitions/DynamoDbIntegration"},{"$ref":"#/definitions/S3Integration"},{"$ref":"#/definitions/ScheduleIntegration"},{"$ref":"#/definitions/AlarmIntegration"},{"$ref":"#/definitions/CloudwatchLogIntegration"},{"$ref":"#/definitions/HttpApiIntegration"},{"$ref":"#/definitions/EventBusIntegration"}]}},"environment":{"description":"#### A list of environment variables available to the function at runtime.\n\n---\n\nEnvironment variables are ideal for providing configuration details to your function, such as database connection strings, API keys, or other dynamic parameters.","type":"array","items":{"$ref":"#/definitions/EnvironmentVar"}},"runtime":{"$ref":"#/definitions/LambdaRuntime","description":"#### The runtime environment for the function.\n\n---\n\nStacktape automatically detects the programming language and selects the latest appropriate runtime. For example, `.ts` and `.js` files will use a recent Node.js runtime.\nFor a full list of available runtimes, see the [AWS Lambda runtimes documentation](https://docs.aws.amazon.com/lambda/latest/dg/lambda-runtimes.html)."},"architecture":{"description":"#### The processor architecture for the function.\n\n---\n\nYou can choose between two architectures:\n- **x86_64**: The traditional 64-bit architecture, offering broad compatibility with libraries and dependencies.\n- **arm64**: A modern ARM-based architecture that can offer better performance and cost-effectiveness for some workloads.\n\nIf you use `stacktape-lambda-buildpack`, Stacktape automatically builds for the selected architecture. If you provide a custom artifact, ensure it's compiled for the target architecture.","default":"x86_64","enum":["arm64","x86_64"],"type":"string"},"memory":{"description":"#### The amount of memory (in MB) allocated to the function.\n\n---\n\nThis setting also influences the amount of CPU power your function receives. Higher memory allocation results in more powerful CPU resources.\nThe value must be between 128 MB and 10,240 MB.","type":"number"},"timeout":{"description":"#### The maximum execution time for the function, in seconds.\n\n---\n\nIf the function runs longer than this, it will be terminated. The maximum allowed timeout is 900 seconds (15 minutes).","default":10,"type":"number"},"joinDefaultVpc":{"description":"#### Connects the function to your stack's default Virtual Private Cloud (VPC).\n\n---\n\nBy default, functions are not connected to a VPC. Connecting to a VPC is necessary to access resources within that VPC, such as relational databases or Redis clusters.\n\n> **Important:** When a function joins a VPC, it loses direct internet access.\n\nIf your function needs to access S3 or DynamoDB, Stacktape automatically creates VPC endpoints to ensure connectivity.\nTo learn more, see the [Stacktape VPCs documentation](https://docs.stacktape.com/user-guides/vpcs).","type":"boolean"},"tags":{"description":"#### A list of tags to apply to the function.\n\n---\n\nTags are key-value pairs that help you organize, identify, and manage your AWS resources. You can specify up to 50 tags.","type":"array","items":{"$ref":"#/definitions/CloudformationTag"}},"destinations":{"$ref":"#/definitions/LambdaFunctionDestinations","description":"#### Configures destinations for asynchronous invocations.\n\n---\n\nThis feature allows you to route the results of a function's execution (success or failure) to another service for further processing. This is useful for building simple, event-driven workflows.\nSupported destinations include SQS queues, SNS topics, EventBridge event buses, and other Lambda functions.\n\nFor more information, see the [AWS Lambda Destinations documentation](https://aws.amazon.com/blogs/compute/introducing-aws-lambda-destinations/)."},"logging":{"$ref":"#/definitions/LambdaFunctionLogging","description":"#### Configures the logging behavior for the function.\n\n---\n\nFunction logs, including `stdout` and `stderr`, are automatically sent to a CloudWatch log group.\nBy default, logs are retained for 180 days.\n\nYou can view logs in two ways:\n  - Through the AWS CloudWatch console. Use the `stacktape stack-info` command to get a direct link.\n  - Using the `stacktape logs` command to stream logs directly to your terminal."},"provisionedConcurrency":{"description":"#### Configures the provisioned concurrency for the function.\n\n---\n\nThis is the number of pre-initialized execution environments allocated to your function.\nThese execution environments are ready to respond immediately to incoming function requests.\nProvisioned concurrency is useful for reducing cold start latencies for functions and designed to make functions available with double-digit millisecond response times.\nGenerally, interactive workloads benefit the most from the feature.\nThose are applications with users initiating requests, such as web and mobile applications, and are the most sensitive to latency.\nAsynchronous workloads, such as data processing pipelines, are often less latency sensitive and so do not usually need provisioned concurrency.\nConfiguring provisioned concurrency incurs additional charges to your AWS account.","type":"number"},"reservedConcurrency":{"description":"#### Configures the reserved concurrency for the function.\n\n---\n\nThis sets both the maximum and minimum number of concurrent instances allocated to your function.\nWhen a function has reserved concurrency, no other function can use that concurrency.\nReserved concurrency is useful for ensuring that your most critical functions always have enough concurrency to handle incoming requests.\nAdditionally, reserved concurrency can be used for limiting concurrency to prevent overwhelming downstream resources, like database connections.\nReserved concurrency acts as both a lower and upper bound - it reserves the specified capacity exclusively for your function while also preventing it from scaling beyond that limit.\nConfiguring reserved concurrency for a function incurs no additional charges.","type":"number"},"layers":{"description":"#### A list of layers to add to the function.\n\n---\n\nA Lambda layer is a .zip file archive that contains supplementary code or data.\nLayers usually contain library dependencies, a custom runtime, or configuration files.\n\nUsing layers:\n1. Package your layer content. This means creating a .zip file archive. For more information, see [Packaging your layer content](https://docs.aws.amazon.com/lambda/latest/dg/packaging-layers.html).\n2. Create the layer in Lambda. For more information, see [Creating and deleting layers in Lambda](https://docs.aws.amazon.com/lambda/latest/dg/creating-deleting-layers.html)\n3. Get the layer ARN and put it in the `layers` property of the function.","type":"array","items":{"type":"string"}},"deployment":{"$ref":"#/definitions/LambdaDeploymentConfig","description":"#### Configures the deployment strategy for updating the function.\n\n---\n\nThis allows for safe, gradual deployments. Instead of instantly replacing the old version, traffic is shifted to the new version over time. This provides an opportunity to monitor for issues and roll back if necessary.\n\nSupported strategies include:\n  - **Canary**: A percentage of traffic is shifted to the new version for a specified time before routing all traffic.\n  - **Linear**: Traffic is shifted in equal increments over a specified period.\n  - **AllAtOnce**: All traffic is shifted to the new version immediately."},"alarms":{"description":"#### A list of additional alarms to associate with this function.\n\n---\n\nThese alarms are merged with any globally configured alarms from the Stacktape console.","type":"array","items":{"$ref":"#/definitions/LambdaAlarm"}},"disabledGlobalAlarms":{"description":"#### A list of global alarm names to disable for this function.\n\n---\n\nUse this to prevent specific globally-defined alarms from applying to this function.","type":"array","items":{"type":"string"}},"url":{"$ref":"#/definitions/LambdaUrlConfig","description":"#### Configures a dedicated HTTPS endpoint (URL) for the function.\n\n---\n\nThis provides a simple way to invoke your function over HTTPS without needing an API Gateway. The URL is automatically generated."},"cdn":{"$ref":"#/definitions/CdnConfiguration","description":"#### Places an AWS CloudFront Content Delivery Network (CDN) in front of the function.\n\n---\n\nA CDN can significantly improve performance and reduce latency by caching the function's responses at edge locations closer to your users.\nThis is useful for reducing load on your function, lowering bandwidth costs, and improving security."},"storage":{"description":"#### The size (in MB) of the function's `/tmp` directory.\n\n---\n\nThis provides ephemeral storage for your function. The size can be between 512 MB and 10,240 MB.","default":512,"type":"number"},"volumeMounts":{"description":"#### A list of file system volumes to mount to the function.\n\n---\n\nVolumes provide persistent storage that can be shared across multiple function invocations and even multiple functions.\nThis is useful for workloads that require access to a shared file system.\nCurrently, only EFS (Elastic File System) volumes are supported.\n\n> **Note:** The function must be connected to a VPC to use this feature (`joinDefaultVpc: true`).","type":"array","items":{"$ref":"#/definitions/LambdaEfsMount"}},"connectTo":{"description":"#### Connect To\n\n---\n\nConfigures access to other resources in your stack and AWS services. By specifying resources here, Stacktape automatically:\n- Configures IAM role permissions.\n- Sets up security group rules to allow network traffic.\n- Injects environment variables with connection details into the compute resource.\n\nEnvironment variables are named `STP_[RESOURCE_NAME]_[VARIABLE_NAME]` (e.g., `STP_MY_DATABASE_CONNECTION_STRING`).\n\n---\n\n#### Granted Permissions and Injected Variables:\n\n**`Bucket`**\n- **Permissions:** List, create, get, delete, and tag objects.\n- **Variables:** `NAME`, `ARN`\n\n**`DynamoDbTable`**\n- **Permissions:** Get, put, update, delete, scan, and query items; describe table stream.\n- **Variables:** `NAME`, `ARN`, `STREAM_ARN`\n\n**`MongoDbAtlasCluster`**\n- **Permissions:** Allows connection to clusters with `accessibilityMode` set to `scoping-workloads-in-vpc`. Creates a temporary user for secure, credential-less access.\n- **Variables:** `CONNECTION_STRING`\n\n**`RelationalDatabase`**\n- **Permissions:** Allows connection to databases with `accessibilityMode` set to `scoping-workloads-in-vpc`.\n- **Variables:** `CONNECTION_STRING`, `JDBC_CONNECTION_STRING`, `HOST`, `PORT`. For Aurora clusters, `READER_CONNECTION_STRING`, `READER_JDBC_CONNECTION_STRING`, and `READER_HOST` are also included.\n\n**`RedisCluster`**\n- **Permissions:** Allows connection to clusters with `accessibilityMode` set to `scoping-workloads-in-vpc`.\n- **Variables:** `HOST`, `READER_HOST`, `PORT`\n\n**`EventBus`**\n- **Permissions:** Publish events.\n- **Variables:** `ARN`\n\n**`Function`**\n- **Permissions:** Invoke the function, including via its URL if enabled.\n- **Variables:** `ARN`\n\n**`BatchJob`**\n- **Permissions:** Submit, list, describe, and terminate jobs; manage state machine executions.\n- **Variables:** `JOB_DEFINITION_ARN`, `STATE_MACHINE_ARN`\n\n**`UserAuthPool`**\n- **Permissions:** Full control over the user pool (`cognito-idp:*`).\n- **Variables:** `ID`, `CLIENT_ID`, `ARN`\n\n**`SnsTopic`**\n- **Permissions:** Confirm, list, publish, and manage subscriptions.\n- **Variables:** `ARN`, `NAME`\n\n**`SqsQueue`**\n- **Permissions:** Send, receive, delete, and purge messages.\n- **Variables:** `ARN`, `NAME`, `URL`\n\n**`UpstashKafkaTopic`**\n- **Variables:** `TOPIC_NAME`, `TOPIC_ID`, `USERNAME`, `PASSWORD`, `TCP_ENDPOINT`, `REST_URL`\n\n**`UpstashRedis`**\n- **Variables:** `HOST`, `PORT`, `PASSWORD`, `REST_TOKEN`, `REST_URL`, `REDIS_URL`\n\n**`PrivateService`**\n- **Variables:** `ADDRESS`\n\n**`aws:ses` (Macro)**\n- **Permissions:** Full permissions for AWS SES (`ses:*`).","type":"array","items":{"type":"string"}},"iamRoleStatements":{"description":"#### Custom IAM Role Statements\n\n---\n\nA list of raw AWS IAM role statements to append to the resource's role, allowing for fine-grained permission control.","type":"array","items":{"$ref":"#/definitions/StpIamRoleStatement"}}},"additionalProperties":false,"required":["packaging"]};const schema486 = {"type":"object","properties":{"onSuccess":{"description":"#### The ARN of the destination for successful invocations.\n\n---\n\nWhen the function executes successfully, a JSON object with the execution result is sent to this destination (e.g., an SQS queue, SNS topic, or another Lambda).\nThis can be used to chain Lambda functions together or to trigger other processes.\nFor details on the payload format, refer to the [Stacktape documentation](https://docs.stacktape.com/compute-resources/lambda-functions#event-bus-event).","type":"string"},"onFailure":{"description":"#### The ARN of the destination for failed invocations.\n\n---\n\nWhen the function execution fails, a JSON object containing details about the error is sent to this destination.\nThis is useful for error handling, retries, or sending notifications.\nFor details on the payload format, refer to the [Stacktape documentation](https://docs.stacktape.com/compute-resources/lambda-functions#event-bus-event).","type":"string"}},"additionalProperties":false};const schema487 = {"type":"object","properties":{"strategy":{"description":"#### The strategy to use for deploying updates to the function.\n\n---\n\nSupported strategies:\n- **Canary10Percent5Minutes**: Shifts 10% of traffic, then the rest after 5 minutes.\n- **Canary10Percent10Minutes**: Shifts 10% of traffic, then the rest after 10 minutes.\n- **Canary10Percent15Minutes**: Shifts 10% of traffic, then the rest after 15 minutes.\n- **Canary10Percent30Minutes**: Shifts 10% of traffic, then the rest after 30 minutes.\n- **Linear10PercentEvery1Minute**: Shifts 10% of traffic every minute.\n- **Linear10PercentEvery2Minutes**: Shifts 10% of traffic every 2 minutes.\n- **Linear10PercentEvery3Minutes**: Shifts 10% of traffic every 3 minutes.\n- **Linear10PercentEvery10Minutes**: Shifts 10% of traffic every 10 minutes.\n- **AllAtOnce**: Shifts all traffic at once.","enum":["AllAtOnce","Canary10Percent10Minutes","Canary10Percent15Minutes","Canary10Percent30Minutes","Canary10Percent5Minutes","Linear10PercentEvery10Minutes","Linear10PercentEvery1Minute","Linear10PercentEvery2Minutes","Linear10PercentEvery3Minutes"],"type":"string"},"beforeAllowTrafficFunction":{"description":"#### The name of a Lambda function to run before traffic shifting begins.\n\n---\n\nThis \"hook\" function is typically used to run validation checks before the new version receives production traffic.\nThe function must signal success or failure to CodeDeploy. See an example in the [documentation](/compute-resources/lambda-functions/#hook-functions).","type":"string"},"afterTrafficShiftFunction":{"description":"#### The name of a Lambda function to run after all traffic has been shifted.\n\n---\n\nThis \"hook\" function is typically used for post-deployment validation.\nThe function must signal success or failure to CodeDeploy. See an example in the [documentation](/compute-resources/lambda-functions/#hook-functions).","type":"string"}},"additionalProperties":false,"required":["strategy"]};const schema474 = {"description":"#### Triggers a function when new messages are available in a Kafka topic.","type":"object","properties":{"type":{"type":"string","const":"kafka-topic"},"properties":{"$ref":"#/definitions/KafkaTopicIntegrationProps","description":"#### Properties of the integration"}},"additionalProperties":false,"required":["properties","type"]};const schema475 = {"type":"object","properties":{"customKafkaConfiguration":{"$ref":"#/definitions/CustomKafkaEventSource","description":"#### The details of your Kafka cluster.\n\n---\n\nSpecifies the bootstrap servers and topic name."},"batchSize":{"description":"#### The maximum number of records to process in a single batch.\n\n---\n\nThe function will be invoked with up to this many records. Maximum is 10,000.","default":100,"type":"number"},"maxBatchWindowSeconds":{"description":"#### The maximum time (in seconds) to wait before invoking the function with a batch of records.\n\n---\n\nThe function will be triggered when either the `batchSize` is reached or this time window expires.\nMaximum is 300 seconds.","default":0.5,"type":"number"}},"additionalProperties":false};const schema476 = {"type":"object","properties":{"bootstrapServers":{"description":"#### A list of `host:port` addresses for your Kafka brokers.","type":"array","items":{"type":"string"}},"topicName":{"description":"#### The name of the Kafka topic to consume messages from.","type":"string"},"authentication":{"description":"#### The authentication method for connecting to the Kafka cluster.\n\n---\n\n- `SASL`: Authenticate using a username and password (PLAIN or SCRAM).\n- `MTLS`: Authenticate using a client-side TLS certificate.","anyOf":[{"$ref":"#/definitions/KafkaSASLAuth"},{"$ref":"#/definitions/KafkaMTLSAuth"}]}},"additionalProperties":false,"required":["authentication","bootstrapServers","topicName"]};const schema477 = {"type":"object","properties":{"type":{"description":"#### The SASL authentication protocol.\n\n---\n\n- `BASIC_AUTH`: SASL/PLAIN\n- `SASL_SCRAM_256_AUTH`: SASL SCRAM-256\n- `SASL_SCRAM_512_AUTH`: SASL SCRAM-512","enum":["BASIC_AUTH","SASL_SCRAM_256_AUTH","SASL_SCRAM_512_AUTH"],"type":"string"},"properties":{"$ref":"#/definitions/KafkaSASLAuthProps","description":"#### Properties of authentication method"}},"additionalProperties":false,"required":["properties","type"]};const schema478 = {"type":"object","properties":{"authenticationSecretArn":{"description":"#### The ARN of a secret containing the Kafka credentials.\n\n---\n\nThe secret must be a JSON object with `username` and `password` keys.\nYou can create secrets using the `stacktape secret:create` command.","type":"string"}},"additionalProperties":false,"required":["authenticationSecretArn"]};function validate528(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema477.required,parentSchema:schema477,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema477.required,parentSchema:schema477,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema477,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema477.properties.type.type,parentSchema:schema477.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if(!(((data0 === "BASIC_AUTH") || (data0 === "SASL_SCRAM_256_AUTH")) || (data0 === "SASL_SCRAM_512_AUTH"))){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/enum",keyword:"enum",params:{allowedValues: schema477.properties.type.enum},message:"must be equal to one of the allowed values",schema:schema477.properties.type.enum,parentSchema:schema477.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){let data1 = data.properties;if(data1 && typeof data1 == "object" && !Array.isArray(data1)){if(data1.authenticationSecretArn === undefined){const err5 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/KafkaSASLAuthProps/required",keyword:"required",params:{missingProperty: "authenticationSecretArn"},message:"must have required property '"+"authenticationSecretArn"+"'",schema:schema478.required,parentSchema:schema478,data:data1};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}for(const key1 in data1){if(!(key1 === "authenticationSecretArn")){const err6 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/KafkaSASLAuthProps/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema478,data:data1};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data1.authenticationSecretArn !== undefined){let data2 = data1.authenticationSecretArn;if(typeof data2 !== "string"){const err7 = {instancePath:instancePath+"/properties/authenticationSecretArn",schemaPath:"#/definitions/KafkaSASLAuthProps/properties/authenticationSecretArn/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema478.properties.authenticationSecretArn.type,parentSchema:schema478.properties.authenticationSecretArn,data:data2};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}}else {const err8 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/KafkaSASLAuthProps/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema478.type,parentSchema:schema478,data:data1};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}}else {const err9 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema477.type,parentSchema:schema477,data};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}validate528.errors = vErrors;return errors === 0;}const schema479 = {"type":"object","properties":{"type":{"description":"#### The authentication protocol.\n\n---\n\n`MTLS`: Mutual TLS authentication.","type":"string","const":"MTLS"},"properties":{"$ref":"#/definitions/KafkaMTLSAuthProps","description":"#### Properties of authentication method"}},"additionalProperties":false,"required":["properties","type"]};const schema480 = {"type":"object","properties":{"clientCertificate":{"description":"#### The ARN of a secret containing the client certificate.\n\n---\n\nThis secret should contain the certificate chain (X.509 PEM), private key (PKCS#8 PEM), and an optional private key password.\nYou can create secrets using the `stacktape secret:create` command.","type":"string"},"serverRootCaCertificate":{"description":"#### The ARN of a secret containing the server's root CA certificate.\n\n---\n\nYou can create secrets using the `stacktape secret:create` command.","type":"string"}},"additionalProperties":false,"required":["clientCertificate"]};function validate530(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema479.required,parentSchema:schema479,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema479.required,parentSchema:schema479,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema479,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema479.properties.type.type,parentSchema:schema479.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("MTLS" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "MTLS"},message:"must be equal to constant",schema:"MTLS",parentSchema:schema479.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){let data1 = data.properties;if(data1 && typeof data1 == "object" && !Array.isArray(data1)){if(data1.clientCertificate === undefined){const err5 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/KafkaMTLSAuthProps/required",keyword:"required",params:{missingProperty: "clientCertificate"},message:"must have required property '"+"clientCertificate"+"'",schema:schema480.required,parentSchema:schema480,data:data1};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}for(const key1 in data1){if(!((key1 === "clientCertificate") || (key1 === "serverRootCaCertificate"))){const err6 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/KafkaMTLSAuthProps/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema480,data:data1};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data1.clientCertificate !== undefined){let data2 = data1.clientCertificate;if(typeof data2 !== "string"){const err7 = {instancePath:instancePath+"/properties/clientCertificate",schemaPath:"#/definitions/KafkaMTLSAuthProps/properties/clientCertificate/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema480.properties.clientCertificate.type,parentSchema:schema480.properties.clientCertificate,data:data2};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data1.serverRootCaCertificate !== undefined){let data3 = data1.serverRootCaCertificate;if(typeof data3 !== "string"){const err8 = {instancePath:instancePath+"/properties/serverRootCaCertificate",schemaPath:"#/definitions/KafkaMTLSAuthProps/properties/serverRootCaCertificate/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema480.properties.serverRootCaCertificate.type,parentSchema:schema480.properties.serverRootCaCertificate,data:data3};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}}else {const err9 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/KafkaMTLSAuthProps/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema480.type,parentSchema:schema480,data:data1};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}}else {const err10 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema479.type,parentSchema:schema479,data};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}validate530.errors = vErrors;return errors === 0;}function validate527(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.authentication === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "authentication"},message:"must have required property '"+"authentication"+"'",schema:schema476.required,parentSchema:schema476,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.bootstrapServers === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "bootstrapServers"},message:"must have required property '"+"bootstrapServers"+"'",schema:schema476.required,parentSchema:schema476,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}if(data.topicName === undefined){const err2 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "topicName"},message:"must have required property '"+"topicName"+"'",schema:schema476.required,parentSchema:schema476,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}for(const key0 in data){if(!(((key0 === "bootstrapServers") || (key0 === "topicName")) || (key0 === "authentication"))){const err3 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema476,data};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.bootstrapServers !== undefined){let data0 = data.bootstrapServers;if(Array.isArray(data0)){const len0 = data0.length;for(let i0=0; i0<len0; i0++){let data1 = data0[i0];if(typeof data1 !== "string"){const err4 = {instancePath:instancePath+"/bootstrapServers/" + i0,schemaPath:"#/properties/bootstrapServers/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema476.properties.bootstrapServers.items.type,parentSchema:schema476.properties.bootstrapServers.items,data:data1};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}}else {const err5 = {instancePath:instancePath+"/bootstrapServers",schemaPath:"#/properties/bootstrapServers/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema476.properties.bootstrapServers.type,parentSchema:schema476.properties.bootstrapServers,data:data0};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data.topicName !== undefined){let data2 = data.topicName;if(typeof data2 !== "string"){const err6 = {instancePath:instancePath+"/topicName",schemaPath:"#/properties/topicName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema476.properties.topicName.type,parentSchema:schema476.properties.topicName,data:data2};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data.authentication !== undefined){let data3 = data.authentication;const _errs9 = errors;let valid3 = false;const _errs10 = errors;if(!(validate528(data3, {instancePath:instancePath+"/authentication",parentData:data,parentDataProperty:"authentication",rootData}))){vErrors = vErrors === null ? validate528.errors : vErrors.concat(validate528.errors);errors = vErrors.length;}var _valid0 = _errs10 === errors;valid3 = valid3 || _valid0;if(!valid3){const _errs11 = errors;if(!(validate530(data3, {instancePath:instancePath+"/authentication",parentData:data,parentDataProperty:"authentication",rootData}))){vErrors = vErrors === null ? validate530.errors : vErrors.concat(validate530.errors);errors = vErrors.length;}var _valid0 = _errs11 === errors;valid3 = valid3 || _valid0;}if(!valid3){const err7 = {instancePath:instancePath+"/authentication",schemaPath:"#/properties/authentication/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:schema476.properties.authentication.anyOf,parentSchema:schema476.properties.authentication,data:data3};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}else {errors = _errs9;if(vErrors !== null){if(_errs9){vErrors.length = _errs9;}else {vErrors = null;}}}}}else {const err8 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema476.type,parentSchema:schema476,data};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}validate527.errors = vErrors;return errors === 0;}function validate526(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){for(const key0 in data){if(!(((key0 === "customKafkaConfiguration") || (key0 === "batchSize")) || (key0 === "maxBatchWindowSeconds"))){const err0 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema475,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}}if(data.customKafkaConfiguration !== undefined){if(!(validate527(data.customKafkaConfiguration, {instancePath:instancePath+"/customKafkaConfiguration",parentData:data,parentDataProperty:"customKafkaConfiguration",rootData}))){vErrors = vErrors === null ? validate527.errors : vErrors.concat(validate527.errors);errors = vErrors.length;}}if(data.batchSize !== undefined){let data1 = data.batchSize;if(!(typeof data1 == "number")){const err1 = {instancePath:instancePath+"/batchSize",schemaPath:"#/properties/batchSize/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema475.properties.batchSize.type,parentSchema:schema475.properties.batchSize,data:data1};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.maxBatchWindowSeconds !== undefined){let data2 = data.maxBatchWindowSeconds;if(!(typeof data2 == "number")){const err2 = {instancePath:instancePath+"/maxBatchWindowSeconds",schemaPath:"#/properties/maxBatchWindowSeconds/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema475.properties.maxBatchWindowSeconds.type,parentSchema:schema475.properties.maxBatchWindowSeconds,data:data2};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}}else {const err3 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema475.type,parentSchema:schema475,data};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}validate526.errors = vErrors;return errors === 0;}function validate525(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema474.required,parentSchema:schema474,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema474.required,parentSchema:schema474,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema474,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema474.properties.type.type,parentSchema:schema474.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("kafka-topic" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "kafka-topic"},message:"must be equal to constant",schema:"kafka-topic",parentSchema:schema474.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate526(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate526.errors : vErrors.concat(validate526.errors);errors = vErrors.length;}}}else {const err5 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema474.type,parentSchema:schema474,data};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}validate525.errors = vErrors;return errors === 0;}const schema481 = {"type":"object","properties":{"type":{"type":"string","const":"cloudwatch-alarm"},"properties":{"$ref":"#/definitions/AlarmIntegrationProps","description":"#### Properties of the integration"}},"additionalProperties":false,"required":["properties","type"]};const schema482 = {"type":"object","properties":{"alarmName":{"description":"#### The name of the alarm (defined in the `alarms` section) that will trigger the function.","type":"string"}},"additionalProperties":false,"required":["alarmName"]};function validate541(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema481.required,parentSchema:schema481,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema481.required,parentSchema:schema481,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema481,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema481.properties.type.type,parentSchema:schema481.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("cloudwatch-alarm" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "cloudwatch-alarm"},message:"must be equal to constant",schema:"cloudwatch-alarm",parentSchema:schema481.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){let data1 = data.properties;if(data1 && typeof data1 == "object" && !Array.isArray(data1)){if(data1.alarmName === undefined){const err5 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/AlarmIntegrationProps/required",keyword:"required",params:{missingProperty: "alarmName"},message:"must have required property '"+"alarmName"+"'",schema:schema482.required,parentSchema:schema482,data:data1};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}for(const key1 in data1){if(!(key1 === "alarmName")){const err6 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/AlarmIntegrationProps/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema482,data:data1};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data1.alarmName !== undefined){let data2 = data1.alarmName;if(typeof data2 !== "string"){const err7 = {instancePath:instancePath+"/properties/alarmName",schemaPath:"#/definitions/AlarmIntegrationProps/properties/alarmName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema482.properties.alarmName.type,parentSchema:schema482.properties.alarmName,data:data2};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}}else {const err8 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/AlarmIntegrationProps/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema482.type,parentSchema:schema482,data:data1};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}}else {const err9 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema481.type,parentSchema:schema481,data};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}validate541.errors = vErrors;return errors === 0;}const schema488 = {"type":"object","properties":{"trigger":{"$ref":"#/definitions/LambdaAlarmTrigger"},"evaluation":{"$ref":"#/definitions/AlarmEvaluation","description":"#### Specifies the time window for evaluating the metric to determine if the alarm should be triggered.\n\n---\n\nDefines the duration and frequency of metric evaluation."},"notificationTargets":{"description":"#### Defines where to send notifications when the alarm is triggered.\n\n---\n\nYou can specify a list of integrations, such as Slack, MS Teams, or email.","type":"array","items":{"$ref":"#/definitions/AlarmUserIntegration"}},"description":{"description":"#### Custom description for the alarm\n---\n- If custom description is specified, it is used in the alarm notification message\n- Custom description is also used in the alarm description in the AWS console (If not provided, Stacktape generates default description.)","type":"string"}},"additionalProperties":false,"required":["trigger"]};const schema489 = {"anyOf":[{"$ref":"#/definitions/LambdaErrorRateTrigger"},{"$ref":"#/definitions/LambdaDurationTrigger"}]};const schema490 = {"type":"object","properties":{"type":{"type":"string","const":"lambda-error-rate"},"properties":{"$ref":"#/definitions/LambdaErrorRateTriggerProps"}},"additionalProperties":false,"required":["properties","type"]};const schema491 = {"type":"object","properties":{"thresholdPercent":{"description":"#### The error rate percentage that triggers the alarm.\n\n---\n\nThe error rate is the percentage of Lambda invocations that result in an error.\nFor example, a value of 1 means the alarm will trigger if more than 1% of invocations fail.","type":"number"},"comparisonOperator":{"$ref":"#/definitions/ComparisonOperator","description":"#### The arithmetic operation to use when comparing the specified statistic and threshold.\n\n---\n\nSupported operators:\n- `GreaterThanThreshold`\n- `GreaterThanOrEqualToThreshold`\n- `LessThanThreshold`\n- `LessThanOrEqualToThreshold`"}},"additionalProperties":false,"required":["thresholdPercent"]};function validate550(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.thresholdPercent === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "thresholdPercent"},message:"must have required property '"+"thresholdPercent"+"'",schema:schema491.required,parentSchema:schema491,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!((key0 === "thresholdPercent") || (key0 === "comparisonOperator"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema491,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.thresholdPercent !== undefined){let data0 = data.thresholdPercent;if(!(typeof data0 == "number")){const err2 = {instancePath:instancePath+"/thresholdPercent",schemaPath:"#/properties/thresholdPercent/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema491.properties.thresholdPercent.type,parentSchema:schema491.properties.thresholdPercent,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.comparisonOperator !== undefined){let data1 = data.comparisonOperator;if(typeof data1 !== "string"){const err3 = {instancePath:instancePath+"/comparisonOperator",schemaPath:"#/definitions/ComparisonOperator/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema198.type,parentSchema:schema198,data:data1};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if(!((((data1 === "GreaterThanOrEqualToThreshold") || (data1 === "GreaterThanThreshold")) || (data1 === "LessThanOrEqualToThreshold")) || (data1 === "LessThanThreshold"))){const err4 = {instancePath:instancePath+"/comparisonOperator",schemaPath:"#/definitions/ComparisonOperator/enum",keyword:"enum",params:{allowedValues: schema198.enum},message:"must be equal to one of the allowed values",schema:schema198.enum,parentSchema:schema198,data:data1};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}}else {const err5 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema491.type,parentSchema:schema491,data};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}validate550.errors = vErrors;return errors === 0;}function validate549(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema490.required,parentSchema:schema490,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema490.required,parentSchema:schema490,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema490,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema490.properties.type.type,parentSchema:schema490.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("lambda-error-rate" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "lambda-error-rate"},message:"must be equal to constant",schema:"lambda-error-rate",parentSchema:schema490.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate550(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate550.errors : vErrors.concat(validate550.errors);errors = vErrors.length;}}}else {const err5 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema490.type,parentSchema:schema490,data};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}validate549.errors = vErrors;return errors === 0;}const schema493 = {"type":"object","properties":{"type":{"type":"string","const":"lambda-duration"},"properties":{"$ref":"#/definitions/LambdaDurationTriggerProps"}},"additionalProperties":false,"required":["properties","type"]};const schema494 = {"type":"object","properties":{"thresholdMilliseconds":{"description":"#### The execution duration in milliseconds that triggers the alarm.\n\n---\n\nBy default, the alarm triggers if the **average** execution time over the evaluation period is **greater than** the `thresholdMilliseconds`.\nYou can customize the behavior using the `statistic` and `comparisonOperator` properties.","type":"number"},"comparisonOperator":{"$ref":"#/definitions/ComparisonOperator","description":"#### The arithmetic operation to use when comparing the specified statistic and threshold.\n\n---\n\nSupported operators:\n- `GreaterThanThreshold`\n- `GreaterThanOrEqualToThreshold`\n- `LessThanThreshold`\n- `LessThanOrEqualToThreshold`"},"statistic":{"$ref":"#/definitions/StatisticFunction","description":"#### The statistic to apply to the metric data points.\n\n---\n\nSupported statistics:\n- **avg**: The average of the metric values.\n- **sum**: The sum of the metric values.\n- **p90**: The 90th percentile. 90% of the data points are lower than this value.\n- **p95**: The 95th percentile. 95% of the data points are lower than this value.\n- **p99**: The 99th percentile. 99% of the data points are lower than this value.\n- **min**: The lowest value from the data points.\n- **max**: The highest value from the data points.","default":"avg"}},"additionalProperties":false,"required":["thresholdMilliseconds"]};function validate554(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.thresholdMilliseconds === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "thresholdMilliseconds"},message:"must have required property '"+"thresholdMilliseconds"+"'",schema:schema494.required,parentSchema:schema494,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!(((key0 === "thresholdMilliseconds") || (key0 === "comparisonOperator")) || (key0 === "statistic"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema494,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.thresholdMilliseconds !== undefined){let data0 = data.thresholdMilliseconds;if(!(typeof data0 == "number")){const err2 = {instancePath:instancePath+"/thresholdMilliseconds",schemaPath:"#/properties/thresholdMilliseconds/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema494.properties.thresholdMilliseconds.type,parentSchema:schema494.properties.thresholdMilliseconds,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.comparisonOperator !== undefined){let data1 = data.comparisonOperator;if(typeof data1 !== "string"){const err3 = {instancePath:instancePath+"/comparisonOperator",schemaPath:"#/definitions/ComparisonOperator/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema198.type,parentSchema:schema198,data:data1};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if(!((((data1 === "GreaterThanOrEqualToThreshold") || (data1 === "GreaterThanThreshold")) || (data1 === "LessThanOrEqualToThreshold")) || (data1 === "LessThanThreshold"))){const err4 = {instancePath:instancePath+"/comparisonOperator",schemaPath:"#/definitions/ComparisonOperator/enum",keyword:"enum",params:{allowedValues: schema198.enum},message:"must be equal to one of the allowed values",schema:schema198.enum,parentSchema:schema198,data:data1};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.statistic !== undefined){let data2 = data.statistic;if(typeof data2 !== "string"){const err5 = {instancePath:instancePath+"/statistic",schemaPath:"#/definitions/StatisticFunction/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema197.type,parentSchema:schema197,data:data2};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}if(!(((((((data2 === "avg") || (data2 === "max")) || (data2 === "min")) || (data2 === "p90")) || (data2 === "p95")) || (data2 === "p99")) || (data2 === "sum"))){const err6 = {instancePath:instancePath+"/statistic",schemaPath:"#/definitions/StatisticFunction/enum",keyword:"enum",params:{allowedValues: schema197.enum},message:"must be equal to one of the allowed values",schema:schema197.enum,parentSchema:schema197,data:data2};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}}else {const err7 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema494.type,parentSchema:schema494,data};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}validate554.errors = vErrors;return errors === 0;}function validate553(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema493.required,parentSchema:schema493,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema493.required,parentSchema:schema493,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema493,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema493.properties.type.type,parentSchema:schema493.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("lambda-duration" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "lambda-duration"},message:"must be equal to constant",schema:"lambda-duration",parentSchema:schema493.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate554(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate554.errors : vErrors.concat(validate554.errors);errors = vErrors.length;}}}else {const err5 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema493.type,parentSchema:schema493,data};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}validate553.errors = vErrors;return errors === 0;}function validate548(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;const _errs0 = errors;let valid0 = false;const _errs1 = errors;if(!(validate549(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate549.errors : vErrors.concat(validate549.errors);errors = vErrors.length;}var _valid0 = _errs1 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs2 = errors;if(!(validate553(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate553.errors : vErrors.concat(validate553.errors);errors = vErrors.length;}var _valid0 = _errs2 === errors;valid0 = valid0 || _valid0;}if(!valid0){const err0 = {instancePath,schemaPath:"#/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:schema489.anyOf,parentSchema:schema489,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}else {errors = _errs0;if(vErrors !== null){if(_errs0){vErrors.length = _errs0;}else {vErrors = null;}}}validate548.errors = vErrors;return errors === 0;}function validate547(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.trigger === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "trigger"},message:"must have required property '"+"trigger"+"'",schema:schema488.required,parentSchema:schema488,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!((((key0 === "trigger") || (key0 === "evaluation")) || (key0 === "notificationTargets")) || (key0 === "description"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema488,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.trigger !== undefined){if(!(validate548(data.trigger, {instancePath:instancePath+"/trigger",parentData:data,parentDataProperty:"trigger",rootData}))){vErrors = vErrors === null ? validate548.errors : vErrors.concat(validate548.errors);errors = vErrors.length;}}if(data.evaluation !== undefined){let data1 = data.evaluation;if(data1 && typeof data1 == "object" && !Array.isArray(data1)){for(const key1 in data1){if(!(((key1 === "period") || (key1 === "evaluationPeriods")) || (key1 === "breachedPeriods"))){const err2 = {instancePath:instancePath+"/evaluation",schemaPath:"#/definitions/AlarmEvaluation/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema205,data:data1};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data1.period !== undefined){let data2 = data1.period;if(!(typeof data2 == "number")){const err3 = {instancePath:instancePath+"/evaluation/period",schemaPath:"#/definitions/AlarmEvaluation/properties/period/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema205.properties.period.type,parentSchema:schema205.properties.period,data:data2};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data1.evaluationPeriods !== undefined){let data3 = data1.evaluationPeriods;if(!(typeof data3 == "number")){const err4 = {instancePath:instancePath+"/evaluation/evaluationPeriods",schemaPath:"#/definitions/AlarmEvaluation/properties/evaluationPeriods/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema205.properties.evaluationPeriods.type,parentSchema:schema205.properties.evaluationPeriods,data:data3};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data1.breachedPeriods !== undefined){let data4 = data1.breachedPeriods;if(!(typeof data4 == "number")){const err5 = {instancePath:instancePath+"/evaluation/breachedPeriods",schemaPath:"#/definitions/AlarmEvaluation/properties/breachedPeriods/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema205.properties.breachedPeriods.type,parentSchema:schema205.properties.breachedPeriods,data:data4};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}}else {const err6 = {instancePath:instancePath+"/evaluation",schemaPath:"#/definitions/AlarmEvaluation/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema205.type,parentSchema:schema205,data:data1};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data.notificationTargets !== undefined){let data5 = data.notificationTargets;if(Array.isArray(data5)){const len0 = data5.length;for(let i0=0; i0<len0; i0++){if(!(validate209(data5[i0], {instancePath:instancePath+"/notificationTargets/" + i0,parentData:data5,parentDataProperty:i0,rootData}))){vErrors = vErrors === null ? validate209.errors : vErrors.concat(validate209.errors);errors = vErrors.length;}}}else {const err7 = {instancePath:instancePath+"/notificationTargets",schemaPath:"#/properties/notificationTargets/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema488.properties.notificationTargets.type,parentSchema:schema488.properties.notificationTargets,data:data5};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data.description !== undefined){let data7 = data.description;if(typeof data7 !== "string"){const err8 = {instancePath:instancePath+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema488.properties.description.type,parentSchema:schema488.properties.description,data:data7};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}}else {const err9 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema488.type,parentSchema:schema488,data};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}validate547.errors = vErrors;return errors === 0;}const schema498 = {"type":"object","properties":{"enabled":{"description":"#### Enables the Lambda function URL.\n\n---\n\nWhen enabled, your function gets a dedicated HTTPS endpoint. The URL format is `https://{url-id}.lambda-url.{region}.on.aws`.","type":"boolean"},"cors":{"$ref":"#/definitions/LambdaUrlCorsConfig","description":"#### Configures Cross-Origin Resource Sharing (CORS) for the function URL.\n\n---\n\nIf configured, these settings will override any CORS headers returned by the function itself."},"authMode":{"description":"#### The authentication mode for the function URL.\n\n---\n\n- `AWS_IAM`: Only authenticated AWS users and roles with the necessary permissions can invoke the URL.\n- `NONE`: The URL is public and can be invoked by anyone.","default":"NONE","enum":["AWS_IAM","NONE"],"type":"string"},"responseStreamEnabled":{"description":"#### Enables response streaming.\n\n---\n\nWith streaming, the function can start sending parts of the response as they become available, which can improve Time to First Byte (TTFB).\nIt also increases the maximum response size to 20MB (from the standard 6MB).\nTo use this, you need to use a specific handler provided by AWS. See the [AWS documentation on response streaming](https://docs.aws.amazon.com/lambda/latest/dg/configuration-response-streaming.html#config-rs-write-functions-handler).","type":"boolean"}},"additionalProperties":false,"required":["enabled"]};const schema499 = {"type":"object","properties":{"enabled":{"description":"#### Enables Cross-Origin Resource Sharing (CORS).\n\n---\n\nIf enabled without other properties, a permissive default CORS configuration is used:\n- `AllowedMethods`: `*`\n- `AllowedOrigins`: `*`\n- `AllowedHeaders`: `Content-Type`, `X-Amz-Date`, `Authorization`, `X-Api-Key`, `X-Amz-Security-Token`, `X-Amz-User-Agent`","default":false,"type":"boolean"},"allowedOrigins":{"description":"#### A list of origins that are allowed to make cross-domain requests.\n\n---\n\nAn origin is the combination of the protocol, domain, and port. For example: `https://example.com`.","default":"*","type":"array","items":{"type":"string"}},"allowedHeaders":{"description":"#### A list of allowed HTTP headers in a cross-origin request.\n\n---\n\nThis is used in response to a preflight `Access-Control-Request-Headers` header.","type":"array","items":{"type":"string"}},"allowedMethods":{"description":"#### A list of allowed HTTP methods for cross-origin requests.\n\n---\n\nBy default, Stacktape determines the allowed methods based on the event integrations configured for the function.","type":"array","items":{"$ref":"#/definitions/HttpMethod"}},"allowCredentials":{"description":"#### Specifies whether the browser should include credentials (such as cookies) in the CORS request.","type":"boolean"},"exposedResponseHeaders":{"description":"#### A list of response headers that should be accessible to scripts running in the browser.","type":"array","items":{"type":"string"}},"maxAge":{"description":"#### The maximum time (in seconds) that a browser can cache the response to a preflight request.","type":"number"}},"additionalProperties":false,"required":["enabled"]};function validate561(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.enabled === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "enabled"},message:"must have required property '"+"enabled"+"'",schema:schema499.required,parentSchema:schema499,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!(((((((key0 === "enabled") || (key0 === "allowedOrigins")) || (key0 === "allowedHeaders")) || (key0 === "allowedMethods")) || (key0 === "allowCredentials")) || (key0 === "exposedResponseHeaders")) || (key0 === "maxAge"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema499,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.enabled !== undefined){let data0 = data.enabled;if(typeof data0 !== "boolean"){const err2 = {instancePath:instancePath+"/enabled",schemaPath:"#/properties/enabled/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema499.properties.enabled.type,parentSchema:schema499.properties.enabled,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.allowedOrigins !== undefined){let data1 = data.allowedOrigins;if(Array.isArray(data1)){const len0 = data1.length;for(let i0=0; i0<len0; i0++){let data2 = data1[i0];if(typeof data2 !== "string"){const err3 = {instancePath:instancePath+"/allowedOrigins/" + i0,schemaPath:"#/properties/allowedOrigins/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema499.properties.allowedOrigins.items.type,parentSchema:schema499.properties.allowedOrigins.items,data:data2};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}}else {const err4 = {instancePath:instancePath+"/allowedOrigins",schemaPath:"#/properties/allowedOrigins/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema499.properties.allowedOrigins.type,parentSchema:schema499.properties.allowedOrigins,data:data1};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.allowedHeaders !== undefined){let data3 = data.allowedHeaders;if(Array.isArray(data3)){const len1 = data3.length;for(let i1=0; i1<len1; i1++){let data4 = data3[i1];if(typeof data4 !== "string"){const err5 = {instancePath:instancePath+"/allowedHeaders/" + i1,schemaPath:"#/properties/allowedHeaders/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema499.properties.allowedHeaders.items.type,parentSchema:schema499.properties.allowedHeaders.items,data:data4};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}}else {const err6 = {instancePath:instancePath+"/allowedHeaders",schemaPath:"#/properties/allowedHeaders/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema499.properties.allowedHeaders.type,parentSchema:schema499.properties.allowedHeaders,data:data3};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data.allowedMethods !== undefined){let data5 = data.allowedMethods;if(Array.isArray(data5)){const len2 = data5.length;for(let i2=0; i2<len2; i2++){let data6 = data5[i2];if(typeof data6 !== "string"){const err7 = {instancePath:instancePath+"/allowedMethods/" + i2,schemaPath:"#/definitions/HttpMethod/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema159.type,parentSchema:schema159,data:data6};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}if(!((((((((data6 === "*") || (data6 === "DELETE")) || (data6 === "GET")) || (data6 === "HEAD")) || (data6 === "OPTIONS")) || (data6 === "PATCH")) || (data6 === "POST")) || (data6 === "PUT"))){const err8 = {instancePath:instancePath+"/allowedMethods/" + i2,schemaPath:"#/definitions/HttpMethod/enum",keyword:"enum",params:{allowedValues: schema159.enum},message:"must be equal to one of the allowed values",schema:schema159.enum,parentSchema:schema159,data:data6};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}}else {const err9 = {instancePath:instancePath+"/allowedMethods",schemaPath:"#/properties/allowedMethods/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema499.properties.allowedMethods.type,parentSchema:schema499.properties.allowedMethods,data:data5};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(data.allowCredentials !== undefined){let data7 = data.allowCredentials;if(typeof data7 !== "boolean"){const err10 = {instancePath:instancePath+"/allowCredentials",schemaPath:"#/properties/allowCredentials/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema499.properties.allowCredentials.type,parentSchema:schema499.properties.allowCredentials,data:data7};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data.exposedResponseHeaders !== undefined){let data8 = data.exposedResponseHeaders;if(Array.isArray(data8)){const len3 = data8.length;for(let i3=0; i3<len3; i3++){let data9 = data8[i3];if(typeof data9 !== "string"){const err11 = {instancePath:instancePath+"/exposedResponseHeaders/" + i3,schemaPath:"#/properties/exposedResponseHeaders/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema499.properties.exposedResponseHeaders.items.type,parentSchema:schema499.properties.exposedResponseHeaders.items,data:data9};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}}else {const err12 = {instancePath:instancePath+"/exposedResponseHeaders",schemaPath:"#/properties/exposedResponseHeaders/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema499.properties.exposedResponseHeaders.type,parentSchema:schema499.properties.exposedResponseHeaders,data:data8};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}if(data.maxAge !== undefined){let data10 = data.maxAge;if(!(typeof data10 == "number")){const err13 = {instancePath:instancePath+"/maxAge",schemaPath:"#/properties/maxAge/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema499.properties.maxAge.type,parentSchema:schema499.properties.maxAge,data:data10};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}}else {const err14 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema499.type,parentSchema:schema499,data};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}validate561.errors = vErrors;return errors === 0;}function validate560(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.enabled === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "enabled"},message:"must have required property '"+"enabled"+"'",schema:schema498.required,parentSchema:schema498,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!((((key0 === "enabled") || (key0 === "cors")) || (key0 === "authMode")) || (key0 === "responseStreamEnabled"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema498,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.enabled !== undefined){let data0 = data.enabled;if(typeof data0 !== "boolean"){const err2 = {instancePath:instancePath+"/enabled",schemaPath:"#/properties/enabled/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema498.properties.enabled.type,parentSchema:schema498.properties.enabled,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.cors !== undefined){if(!(validate561(data.cors, {instancePath:instancePath+"/cors",parentData:data,parentDataProperty:"cors",rootData}))){vErrors = vErrors === null ? validate561.errors : vErrors.concat(validate561.errors);errors = vErrors.length;}}if(data.authMode !== undefined){let data2 = data.authMode;if(typeof data2 !== "string"){const err3 = {instancePath:instancePath+"/authMode",schemaPath:"#/properties/authMode/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema498.properties.authMode.type,parentSchema:schema498.properties.authMode,data:data2};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if(!((data2 === "AWS_IAM") || (data2 === "NONE"))){const err4 = {instancePath:instancePath+"/authMode",schemaPath:"#/properties/authMode/enum",keyword:"enum",params:{allowedValues: schema498.properties.authMode.enum},message:"must be equal to one of the allowed values",schema:schema498.properties.authMode.enum,parentSchema:schema498.properties.authMode,data:data2};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.responseStreamEnabled !== undefined){let data3 = data.responseStreamEnabled;if(typeof data3 !== "boolean"){const err5 = {instancePath:instancePath+"/responseStreamEnabled",schemaPath:"#/properties/responseStreamEnabled/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema498.properties.responseStreamEnabled.type,parentSchema:schema498.properties.responseStreamEnabled,data:data3};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}}else {const err6 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema498.type,parentSchema:schema498,data};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}validate560.errors = vErrors;return errors === 0;}const schema501 = {"type":"object","properties":{"type":{"description":"#### The type of the volume mount.","type":"string","const":"efs"},"properties":{"$ref":"#/definitions/LambdaEfsMountProps","description":"#### Properties for the EFS volume mount."}},"additionalProperties":false,"required":["properties","type"]};const schema502 = {"type":"object","properties":{"efsFilesystemName":{"description":"#### The name of the EFS filesystem to mount.\n\n---\n\nThis must match the name of an EFS filesystem defined in your Stacktape configuration.","type":"string"},"rootDirectory":{"description":"#### The root directory within the EFS filesystem to mount.\n\n---\n\nThis restricts the function's access to a specific directory within the filesystem. If not specified, the function can access the entire filesystem.","default":"/","type":"string"},"mountPath":{"description":"#### The path where the EFS volume will be mounted inside the function.\n\n---\n\nThis must be an absolute path starting with `/mnt/`. For example: `/mnt/data`.","type":"string"}},"additionalProperties":false,"required":["efsFilesystemName","mountPath"]};function validate565(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema501.required,parentSchema:schema501,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema501.required,parentSchema:schema501,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "type") || (key0 === "properties"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema501,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema501.properties.type.type,parentSchema:schema501.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("efs" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "efs"},message:"must be equal to constant",schema:"efs",parentSchema:schema501.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){let data1 = data.properties;if(data1 && typeof data1 == "object" && !Array.isArray(data1)){if(data1.efsFilesystemName === undefined){const err5 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/LambdaEfsMountProps/required",keyword:"required",params:{missingProperty: "efsFilesystemName"},message:"must have required property '"+"efsFilesystemName"+"'",schema:schema502.required,parentSchema:schema502,data:data1};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}if(data1.mountPath === undefined){const err6 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/LambdaEfsMountProps/required",keyword:"required",params:{missingProperty: "mountPath"},message:"must have required property '"+"mountPath"+"'",schema:schema502.required,parentSchema:schema502,data:data1};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}for(const key1 in data1){if(!(((key1 === "efsFilesystemName") || (key1 === "rootDirectory")) || (key1 === "mountPath"))){const err7 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/LambdaEfsMountProps/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema502,data:data1};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data1.efsFilesystemName !== undefined){let data2 = data1.efsFilesystemName;if(typeof data2 !== "string"){const err8 = {instancePath:instancePath+"/properties/efsFilesystemName",schemaPath:"#/definitions/LambdaEfsMountProps/properties/efsFilesystemName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema502.properties.efsFilesystemName.type,parentSchema:schema502.properties.efsFilesystemName,data:data2};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}if(data1.rootDirectory !== undefined){let data3 = data1.rootDirectory;if(typeof data3 !== "string"){const err9 = {instancePath:instancePath+"/properties/rootDirectory",schemaPath:"#/definitions/LambdaEfsMountProps/properties/rootDirectory/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema502.properties.rootDirectory.type,parentSchema:schema502.properties.rootDirectory,data:data3};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(data1.mountPath !== undefined){let data4 = data1.mountPath;if(typeof data4 !== "string"){const err10 = {instancePath:instancePath+"/properties/mountPath",schemaPath:"#/definitions/LambdaEfsMountProps/properties/mountPath/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema502.properties.mountPath.type,parentSchema:schema502.properties.mountPath,data:data4};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}}else {const err11 = {instancePath:instancePath+"/properties",schemaPath:"#/definitions/LambdaEfsMountProps/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema502.type,parentSchema:schema502,data:data1};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}}else {const err12 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema501.type,parentSchema:schema501,data};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}validate565.errors = vErrors;return errors === 0;}function validate522(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.packaging === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "packaging"},message:"must have required property '"+"packaging"+"'",schema:schema473.required,parentSchema:schema473,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!(func2.call(schema473.properties, key0))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema473,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.packaging !== undefined){if(!(validate443(data.packaging, {instancePath:instancePath+"/packaging",parentData:data,parentDataProperty:"packaging",rootData}))){vErrors = vErrors === null ? validate443.errors : vErrors.concat(validate443.errors);errors = vErrors.length;}}if(data.events !== undefined){let data1 = data.events;if(Array.isArray(data1)){const len0 = data1.length;for(let i0=0; i0<len0; i0++){let data2 = data1[i0];const _errs6 = errors;let valid3 = false;const _errs7 = errors;if(!(validate123(data2, {instancePath:instancePath+"/events/" + i0,parentData:data1,parentDataProperty:i0,rootData}))){vErrors = vErrors === null ? validate123.errors : vErrors.concat(validate123.errors);errors = vErrors.length;}var _valid0 = _errs7 === errors;valid3 = valid3 || _valid0;if(!valid3){const _errs8 = errors;if(!(validate525(data2, {instancePath:instancePath+"/events/" + i0,parentData:data1,parentDataProperty:i0,rootData}))){vErrors = vErrors === null ? validate525.errors : vErrors.concat(validate525.errors);errors = vErrors.length;}var _valid0 = _errs8 === errors;valid3 = valid3 || _valid0;if(!valid3){const _errs9 = errors;if(!(validate127(data2, {instancePath:instancePath+"/events/" + i0,parentData:data1,parentDataProperty:i0,rootData}))){vErrors = vErrors === null ? validate127.errors : vErrors.concat(validate127.errors);errors = vErrors.length;}var _valid0 = _errs9 === errors;valid3 = valid3 || _valid0;if(!valid3){const _errs10 = errors;if(!(validate131(data2, {instancePath:instancePath+"/events/" + i0,parentData:data1,parentDataProperty:i0,rootData}))){vErrors = vErrors === null ? validate131.errors : vErrors.concat(validate131.errors);errors = vErrors.length;}var _valid0 = _errs10 === errors;valid3 = valid3 || _valid0;if(!valid3){const _errs11 = errors;if(!(validate133(data2, {instancePath:instancePath+"/events/" + i0,parentData:data1,parentDataProperty:i0,rootData}))){vErrors = vErrors === null ? validate133.errors : vErrors.concat(validate133.errors);errors = vErrors.length;}var _valid0 = _errs11 === errors;valid3 = valid3 || _valid0;if(!valid3){const _errs12 = errors;if(!(validate137(data2, {instancePath:instancePath+"/events/" + i0,parentData:data1,parentDataProperty:i0,rootData}))){vErrors = vErrors === null ? validate137.errors : vErrors.concat(validate137.errors);errors = vErrors.length;}var _valid0 = _errs12 === errors;valid3 = valid3 || _valid0;if(!valid3){const _errs13 = errors;if(!(validate141(data2, {instancePath:instancePath+"/events/" + i0,parentData:data1,parentDataProperty:i0,rootData}))){vErrors = vErrors === null ? validate141.errors : vErrors.concat(validate141.errors);errors = vErrors.length;}var _valid0 = _errs13 === errors;valid3 = valid3 || _valid0;if(!valid3){const _errs14 = errors;if(!(validate145(data2, {instancePath:instancePath+"/events/" + i0,parentData:data1,parentDataProperty:i0,rootData}))){vErrors = vErrors === null ? validate145.errors : vErrors.concat(validate145.errors);errors = vErrors.length;}var _valid0 = _errs14 === errors;valid3 = valid3 || _valid0;if(!valid3){const _errs15 = errors;if(!(validate541(data2, {instancePath:instancePath+"/events/" + i0,parentData:data1,parentDataProperty:i0,rootData}))){vErrors = vErrors === null ? validate541.errors : vErrors.concat(validate541.errors);errors = vErrors.length;}var _valid0 = _errs15 === errors;valid3 = valid3 || _valid0;if(!valid3){const _errs16 = errors;if(!(validate149(data2, {instancePath:instancePath+"/events/" + i0,parentData:data1,parentDataProperty:i0,rootData}))){vErrors = vErrors === null ? validate149.errors : vErrors.concat(validate149.errors);errors = vErrors.length;}var _valid0 = _errs16 === errors;valid3 = valid3 || _valid0;if(!valid3){const _errs17 = errors;if(!(validate151(data2, {instancePath:instancePath+"/events/" + i0,parentData:data1,parentDataProperty:i0,rootData}))){vErrors = vErrors === null ? validate151.errors : vErrors.concat(validate151.errors);errors = vErrors.length;}var _valid0 = _errs17 === errors;valid3 = valid3 || _valid0;if(!valid3){const _errs18 = errors;if(!(validate156(data2, {instancePath:instancePath+"/events/" + i0,parentData:data1,parentDataProperty:i0,rootData}))){vErrors = vErrors === null ? validate156.errors : vErrors.concat(validate156.errors);errors = vErrors.length;}var _valid0 = _errs18 === errors;valid3 = valid3 || _valid0;}}}}}}}}}}}if(!valid3){const err2 = {instancePath:instancePath+"/events/" + i0,schemaPath:"#/properties/events/items/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:schema473.properties.events.items.anyOf,parentSchema:schema473.properties.events.items,data:data2};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}else {errors = _errs6;if(vErrors !== null){if(_errs6){vErrors.length = _errs6;}else {vErrors = null;}}}}}else {const err3 = {instancePath:instancePath+"/events",schemaPath:"#/properties/events/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema473.properties.events.type,parentSchema:schema473.properties.events,data:data1};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.environment !== undefined){let data3 = data.environment;if(Array.isArray(data3)){const len1 = data3.length;for(let i1=0; i1<len1; i1++){let data4 = data3[i1];if(data4 && typeof data4 == "object" && !Array.isArray(data4)){if(data4.name === undefined){const err4 = {instancePath:instancePath+"/environment/" + i1,schemaPath:"#/definitions/EnvironmentVar/required",keyword:"required",params:{missingProperty: "name"},message:"must have required property '"+"name"+"'",schema:schema28.required,parentSchema:schema28,data:data4};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}if(data4.value === undefined){const err5 = {instancePath:instancePath+"/environment/" + i1,schemaPath:"#/definitions/EnvironmentVar/required",keyword:"required",params:{missingProperty: "value"},message:"must have required property '"+"value"+"'",schema:schema28.required,parentSchema:schema28,data:data4};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}for(const key1 in data4){if(!((key1 === "name") || (key1 === "value"))){const err6 = {instancePath:instancePath+"/environment/" + i1,schemaPath:"#/definitions/EnvironmentVar/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema28,data:data4};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data4.name !== undefined){let data5 = data4.name;if(typeof data5 !== "string"){const err7 = {instancePath:instancePath+"/environment/" + i1+"/name",schemaPath:"#/definitions/EnvironmentVar/properties/name/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema28.properties.name.type,parentSchema:schema28.properties.name,data:data5};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data4.value !== undefined){let data6 = data4.value;if(((typeof data6 !== "string") && (!(typeof data6 == "number"))) && (typeof data6 !== "boolean")){const err8 = {instancePath:instancePath+"/environment/" + i1+"/value",schemaPath:"#/definitions/EnvironmentVar/properties/value/type",keyword:"type",params:{type: schema28.properties.value.type},message:"must be string,number,boolean",schema:schema28.properties.value.type,parentSchema:schema28.properties.value,data:data6};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}}else {const err9 = {instancePath:instancePath+"/environment/" + i1,schemaPath:"#/definitions/EnvironmentVar/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema28.type,parentSchema:schema28,data:data4};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}}else {const err10 = {instancePath:instancePath+"/environment",schemaPath:"#/properties/environment/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema473.properties.environment.type,parentSchema:schema473.properties.environment,data:data3};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data.runtime !== undefined){let data7 = data.runtime;if(typeof data7 !== "string"){const err11 = {instancePath:instancePath+"/runtime",schemaPath:"#/definitions/LambdaRuntime/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema406.type,parentSchema:schema406,data:data7};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}if(!(((((((((((((((((((data7 === "dotnet6") || (data7 === "dotnet7")) || (data7 === "java11")) || (data7 === "java17")) || (data7 === "java8")) || (data7 === "java8.al2")) || (data7 === "nodejs18.x")) || (data7 === "nodejs20.x")) || (data7 === "nodejs22.x")) || (data7 === "nodejs24.x")) || (data7 === "provided.al2")) || (data7 === "provided.al2023")) || (data7 === "python3.10")) || (data7 === "python3.11")) || (data7 === "python3.12")) || (data7 === "python3.13")) || (data7 === "python3.8")) || (data7 === "python3.9")) || (data7 === "ruby3.2"))){const err12 = {instancePath:instancePath+"/runtime",schemaPath:"#/definitions/LambdaRuntime/enum",keyword:"enum",params:{allowedValues: schema406.enum},message:"must be equal to one of the allowed values",schema:schema406.enum,parentSchema:schema406,data:data7};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}if(data.architecture !== undefined){let data8 = data.architecture;if(typeof data8 !== "string"){const err13 = {instancePath:instancePath+"/architecture",schemaPath:"#/properties/architecture/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema473.properties.architecture.type,parentSchema:schema473.properties.architecture,data:data8};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}if(!((data8 === "arm64") || (data8 === "x86_64"))){const err14 = {instancePath:instancePath+"/architecture",schemaPath:"#/properties/architecture/enum",keyword:"enum",params:{allowedValues: schema473.properties.architecture.enum},message:"must be equal to one of the allowed values",schema:schema473.properties.architecture.enum,parentSchema:schema473.properties.architecture,data:data8};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}}if(data.memory !== undefined){let data9 = data.memory;if(!(typeof data9 == "number")){const err15 = {instancePath:instancePath+"/memory",schemaPath:"#/properties/memory/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema473.properties.memory.type,parentSchema:schema473.properties.memory,data:data9};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}}if(data.timeout !== undefined){let data10 = data.timeout;if(!(typeof data10 == "number")){const err16 = {instancePath:instancePath+"/timeout",schemaPath:"#/properties/timeout/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema473.properties.timeout.type,parentSchema:schema473.properties.timeout,data:data10};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}}if(data.joinDefaultVpc !== undefined){let data11 = data.joinDefaultVpc;if(typeof data11 !== "boolean"){const err17 = {instancePath:instancePath+"/joinDefaultVpc",schemaPath:"#/properties/joinDefaultVpc/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema473.properties.joinDefaultVpc.type,parentSchema:schema473.properties.joinDefaultVpc,data:data11};if(vErrors === null){vErrors = [err17];}else {vErrors.push(err17);}errors++;}}if(data.tags !== undefined){let data12 = data.tags;if(Array.isArray(data12)){const len2 = data12.length;for(let i2=0; i2<len2; i2++){let data13 = data12[i2];if(data13 && typeof data13 == "object" && !Array.isArray(data13)){if(data13.name === undefined){const err18 = {instancePath:instancePath+"/tags/" + i2,schemaPath:"#/definitions/CloudformationTag/required",keyword:"required",params:{missingProperty: "name"},message:"must have required property '"+"name"+"'",schema:schema39.required,parentSchema:schema39,data:data13};if(vErrors === null){vErrors = [err18];}else {vErrors.push(err18);}errors++;}if(data13.value === undefined){const err19 = {instancePath:instancePath+"/tags/" + i2,schemaPath:"#/definitions/CloudformationTag/required",keyword:"required",params:{missingProperty: "value"},message:"must have required property '"+"value"+"'",schema:schema39.required,parentSchema:schema39,data:data13};if(vErrors === null){vErrors = [err19];}else {vErrors.push(err19);}errors++;}for(const key2 in data13){if(!((key2 === "name") || (key2 === "value"))){const err20 = {instancePath:instancePath+"/tags/" + i2,schemaPath:"#/definitions/CloudformationTag/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key2},message:"must NOT have additional properties",schema:false,parentSchema:schema39,data:data13};if(vErrors === null){vErrors = [err20];}else {vErrors.push(err20);}errors++;}}if(data13.name !== undefined){let data14 = data13.name;if(typeof data14 !== "string"){const err21 = {instancePath:instancePath+"/tags/" + i2+"/name",schemaPath:"#/definitions/CloudformationTag/properties/name/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema39.properties.name.type,parentSchema:schema39.properties.name,data:data14};if(vErrors === null){vErrors = [err21];}else {vErrors.push(err21);}errors++;}}if(data13.value !== undefined){let data15 = data13.value;if(typeof data15 !== "string"){const err22 = {instancePath:instancePath+"/tags/" + i2+"/value",schemaPath:"#/definitions/CloudformationTag/properties/value/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema39.properties.value.type,parentSchema:schema39.properties.value,data:data15};if(vErrors === null){vErrors = [err22];}else {vErrors.push(err22);}errors++;}}}else {const err23 = {instancePath:instancePath+"/tags/" + i2,schemaPath:"#/definitions/CloudformationTag/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema39.type,parentSchema:schema39,data:data13};if(vErrors === null){vErrors = [err23];}else {vErrors.push(err23);}errors++;}}}else {const err24 = {instancePath:instancePath+"/tags",schemaPath:"#/properties/tags/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema473.properties.tags.type,parentSchema:schema473.properties.tags,data:data12};if(vErrors === null){vErrors = [err24];}else {vErrors.push(err24);}errors++;}}if(data.destinations !== undefined){let data16 = data.destinations;if(data16 && typeof data16 == "object" && !Array.isArray(data16)){for(const key3 in data16){if(!((key3 === "onSuccess") || (key3 === "onFailure"))){const err25 = {instancePath:instancePath+"/destinations",schemaPath:"#/definitions/LambdaFunctionDestinations/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key3},message:"must NOT have additional properties",schema:false,parentSchema:schema486,data:data16};if(vErrors === null){vErrors = [err25];}else {vErrors.push(err25);}errors++;}}if(data16.onSuccess !== undefined){let data17 = data16.onSuccess;if(typeof data17 !== "string"){const err26 = {instancePath:instancePath+"/destinations/onSuccess",schemaPath:"#/definitions/LambdaFunctionDestinations/properties/onSuccess/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema486.properties.onSuccess.type,parentSchema:schema486.properties.onSuccess,data:data17};if(vErrors === null){vErrors = [err26];}else {vErrors.push(err26);}errors++;}}if(data16.onFailure !== undefined){let data18 = data16.onFailure;if(typeof data18 !== "string"){const err27 = {instancePath:instancePath+"/destinations/onFailure",schemaPath:"#/definitions/LambdaFunctionDestinations/properties/onFailure/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema486.properties.onFailure.type,parentSchema:schema486.properties.onFailure,data:data18};if(vErrors === null){vErrors = [err27];}else {vErrors.push(err27);}errors++;}}}else {const err28 = {instancePath:instancePath+"/destinations",schemaPath:"#/definitions/LambdaFunctionDestinations/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema486.type,parentSchema:schema486,data:data16};if(vErrors === null){vErrors = [err28];}else {vErrors.push(err28);}errors++;}}if(data.logging !== undefined){if(!(validate504(data.logging, {instancePath:instancePath+"/logging",parentData:data,parentDataProperty:"logging",rootData}))){vErrors = vErrors === null ? validate504.errors : vErrors.concat(validate504.errors);errors = vErrors.length;}}if(data.provisionedConcurrency !== undefined){let data20 = data.provisionedConcurrency;if(!(typeof data20 == "number")){const err29 = {instancePath:instancePath+"/provisionedConcurrency",schemaPath:"#/properties/provisionedConcurrency/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema473.properties.provisionedConcurrency.type,parentSchema:schema473.properties.provisionedConcurrency,data:data20};if(vErrors === null){vErrors = [err29];}else {vErrors.push(err29);}errors++;}}if(data.reservedConcurrency !== undefined){let data21 = data.reservedConcurrency;if(!(typeof data21 == "number")){const err30 = {instancePath:instancePath+"/reservedConcurrency",schemaPath:"#/properties/reservedConcurrency/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema473.properties.reservedConcurrency.type,parentSchema:schema473.properties.reservedConcurrency,data:data21};if(vErrors === null){vErrors = [err30];}else {vErrors.push(err30);}errors++;}}if(data.layers !== undefined){let data22 = data.layers;if(Array.isArray(data22)){const len3 = data22.length;for(let i3=0; i3<len3; i3++){let data23 = data22[i3];if(typeof data23 !== "string"){const err31 = {instancePath:instancePath+"/layers/" + i3,schemaPath:"#/properties/layers/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema473.properties.layers.items.type,parentSchema:schema473.properties.layers.items,data:data23};if(vErrors === null){vErrors = [err31];}else {vErrors.push(err31);}errors++;}}}else {const err32 = {instancePath:instancePath+"/layers",schemaPath:"#/properties/layers/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema473.properties.layers.type,parentSchema:schema473.properties.layers,data:data22};if(vErrors === null){vErrors = [err32];}else {vErrors.push(err32);}errors++;}}if(data.deployment !== undefined){let data24 = data.deployment;if(data24 && typeof data24 == "object" && !Array.isArray(data24)){if(data24.strategy === undefined){const err33 = {instancePath:instancePath+"/deployment",schemaPath:"#/definitions/LambdaDeploymentConfig/required",keyword:"required",params:{missingProperty: "strategy"},message:"must have required property '"+"strategy"+"'",schema:schema487.required,parentSchema:schema487,data:data24};if(vErrors === null){vErrors = [err33];}else {vErrors.push(err33);}errors++;}for(const key4 in data24){if(!(((key4 === "strategy") || (key4 === "beforeAllowTrafficFunction")) || (key4 === "afterTrafficShiftFunction"))){const err34 = {instancePath:instancePath+"/deployment",schemaPath:"#/definitions/LambdaDeploymentConfig/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key4},message:"must NOT have additional properties",schema:false,parentSchema:schema487,data:data24};if(vErrors === null){vErrors = [err34];}else {vErrors.push(err34);}errors++;}}if(data24.strategy !== undefined){let data25 = data24.strategy;if(typeof data25 !== "string"){const err35 = {instancePath:instancePath+"/deployment/strategy",schemaPath:"#/definitions/LambdaDeploymentConfig/properties/strategy/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema487.properties.strategy.type,parentSchema:schema487.properties.strategy,data:data25};if(vErrors === null){vErrors = [err35];}else {vErrors.push(err35);}errors++;}if(!(((((((((data25 === "AllAtOnce") || (data25 === "Canary10Percent10Minutes")) || (data25 === "Canary10Percent15Minutes")) || (data25 === "Canary10Percent30Minutes")) || (data25 === "Canary10Percent5Minutes")) || (data25 === "Linear10PercentEvery10Minutes")) || (data25 === "Linear10PercentEvery1Minute")) || (data25 === "Linear10PercentEvery2Minutes")) || (data25 === "Linear10PercentEvery3Minutes"))){const err36 = {instancePath:instancePath+"/deployment/strategy",schemaPath:"#/definitions/LambdaDeploymentConfig/properties/strategy/enum",keyword:"enum",params:{allowedValues: schema487.properties.strategy.enum},message:"must be equal to one of the allowed values",schema:schema487.properties.strategy.enum,parentSchema:schema487.properties.strategy,data:data25};if(vErrors === null){vErrors = [err36];}else {vErrors.push(err36);}errors++;}}if(data24.beforeAllowTrafficFunction !== undefined){let data26 = data24.beforeAllowTrafficFunction;if(typeof data26 !== "string"){const err37 = {instancePath:instancePath+"/deployment/beforeAllowTrafficFunction",schemaPath:"#/definitions/LambdaDeploymentConfig/properties/beforeAllowTrafficFunction/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema487.properties.beforeAllowTrafficFunction.type,parentSchema:schema487.properties.beforeAllowTrafficFunction,data:data26};if(vErrors === null){vErrors = [err37];}else {vErrors.push(err37);}errors++;}}if(data24.afterTrafficShiftFunction !== undefined){let data27 = data24.afterTrafficShiftFunction;if(typeof data27 !== "string"){const err38 = {instancePath:instancePath+"/deployment/afterTrafficShiftFunction",schemaPath:"#/definitions/LambdaDeploymentConfig/properties/afterTrafficShiftFunction/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema487.properties.afterTrafficShiftFunction.type,parentSchema:schema487.properties.afterTrafficShiftFunction,data:data27};if(vErrors === null){vErrors = [err38];}else {vErrors.push(err38);}errors++;}}}else {const err39 = {instancePath:instancePath+"/deployment",schemaPath:"#/definitions/LambdaDeploymentConfig/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema487.type,parentSchema:schema487,data:data24};if(vErrors === null){vErrors = [err39];}else {vErrors.push(err39);}errors++;}}if(data.alarms !== undefined){let data28 = data.alarms;if(Array.isArray(data28)){const len4 = data28.length;for(let i4=0; i4<len4; i4++){if(!(validate547(data28[i4], {instancePath:instancePath+"/alarms/" + i4,parentData:data28,parentDataProperty:i4,rootData}))){vErrors = vErrors === null ? validate547.errors : vErrors.concat(validate547.errors);errors = vErrors.length;}}}else {const err40 = {instancePath:instancePath+"/alarms",schemaPath:"#/properties/alarms/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema473.properties.alarms.type,parentSchema:schema473.properties.alarms,data:data28};if(vErrors === null){vErrors = [err40];}else {vErrors.push(err40);}errors++;}}if(data.disabledGlobalAlarms !== undefined){let data30 = data.disabledGlobalAlarms;if(Array.isArray(data30)){const len5 = data30.length;for(let i5=0; i5<len5; i5++){let data31 = data30[i5];if(typeof data31 !== "string"){const err41 = {instancePath:instancePath+"/disabledGlobalAlarms/" + i5,schemaPath:"#/properties/disabledGlobalAlarms/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema473.properties.disabledGlobalAlarms.items.type,parentSchema:schema473.properties.disabledGlobalAlarms.items,data:data31};if(vErrors === null){vErrors = [err41];}else {vErrors.push(err41);}errors++;}}}else {const err42 = {instancePath:instancePath+"/disabledGlobalAlarms",schemaPath:"#/properties/disabledGlobalAlarms/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema473.properties.disabledGlobalAlarms.type,parentSchema:schema473.properties.disabledGlobalAlarms,data:data30};if(vErrors === null){vErrors = [err42];}else {vErrors.push(err42);}errors++;}}if(data.url !== undefined){if(!(validate560(data.url, {instancePath:instancePath+"/url",parentData:data,parentDataProperty:"url",rootData}))){vErrors = vErrors === null ? validate560.errors : vErrors.concat(validate560.errors);errors = vErrors.length;}}if(data.cdn !== undefined){if(!(validate172(data.cdn, {instancePath:instancePath+"/cdn",parentData:data,parentDataProperty:"cdn",rootData}))){vErrors = vErrors === null ? validate172.errors : vErrors.concat(validate172.errors);errors = vErrors.length;}}if(data.storage !== undefined){let data34 = data.storage;if(!(typeof data34 == "number")){const err43 = {instancePath:instancePath+"/storage",schemaPath:"#/properties/storage/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema473.properties.storage.type,parentSchema:schema473.properties.storage,data:data34};if(vErrors === null){vErrors = [err43];}else {vErrors.push(err43);}errors++;}}if(data.volumeMounts !== undefined){let data35 = data.volumeMounts;if(Array.isArray(data35)){const len6 = data35.length;for(let i6=0; i6<len6; i6++){if(!(validate565(data35[i6], {instancePath:instancePath+"/volumeMounts/" + i6,parentData:data35,parentDataProperty:i6,rootData}))){vErrors = vErrors === null ? validate565.errors : vErrors.concat(validate565.errors);errors = vErrors.length;}}}else {const err44 = {instancePath:instancePath+"/volumeMounts",schemaPath:"#/properties/volumeMounts/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema473.properties.volumeMounts.type,parentSchema:schema473.properties.volumeMounts,data:data35};if(vErrors === null){vErrors = [err44];}else {vErrors.push(err44);}errors++;}}if(data.connectTo !== undefined){let data37 = data.connectTo;if(Array.isArray(data37)){const len7 = data37.length;for(let i7=0; i7<len7; i7++){let data38 = data37[i7];if(typeof data38 !== "string"){const err45 = {instancePath:instancePath+"/connectTo/" + i7,schemaPath:"#/properties/connectTo/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema473.properties.connectTo.items.type,parentSchema:schema473.properties.connectTo.items,data:data38};if(vErrors === null){vErrors = [err45];}else {vErrors.push(err45);}errors++;}}}else {const err46 = {instancePath:instancePath+"/connectTo",schemaPath:"#/properties/connectTo/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema473.properties.connectTo.type,parentSchema:schema473.properties.connectTo,data:data37};if(vErrors === null){vErrors = [err46];}else {vErrors.push(err46);}errors++;}}if(data.iamRoleStatements !== undefined){let data39 = data.iamRoleStatements;if(Array.isArray(data39)){const len8 = data39.length;for(let i8=0; i8<len8; i8++){let data40 = data39[i8];if(data40 && typeof data40 == "object" && !Array.isArray(data40)){if(data40.Resource === undefined){const err47 = {instancePath:instancePath+"/iamRoleStatements/" + i8,schemaPath:"#/definitions/StpIamRoleStatement/required",keyword:"required",params:{missingProperty: "Resource"},message:"must have required property '"+"Resource"+"'",schema:schema102.required,parentSchema:schema102,data:data40};if(vErrors === null){vErrors = [err47];}else {vErrors.push(err47);}errors++;}for(const key5 in data40){if(!(((((key5 === "Sid") || (key5 === "Effect")) || (key5 === "Action")) || (key5 === "Condition")) || (key5 === "Resource"))){const err48 = {instancePath:instancePath+"/iamRoleStatements/" + i8,schemaPath:"#/definitions/StpIamRoleStatement/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key5},message:"must NOT have additional properties",schema:false,parentSchema:schema102,data:data40};if(vErrors === null){vErrors = [err48];}else {vErrors.push(err48);}errors++;}}if(data40.Sid !== undefined){let data41 = data40.Sid;if(typeof data41 !== "string"){const err49 = {instancePath:instancePath+"/iamRoleStatements/" + i8+"/Sid",schemaPath:"#/definitions/StpIamRoleStatement/properties/Sid/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema102.properties.Sid.type,parentSchema:schema102.properties.Sid,data:data41};if(vErrors === null){vErrors = [err49];}else {vErrors.push(err49);}errors++;}}if(data40.Effect !== undefined){let data42 = data40.Effect;if(typeof data42 !== "string"){const err50 = {instancePath:instancePath+"/iamRoleStatements/" + i8+"/Effect",schemaPath:"#/definitions/StpIamRoleStatement/properties/Effect/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema102.properties.Effect.type,parentSchema:schema102.properties.Effect,data:data42};if(vErrors === null){vErrors = [err50];}else {vErrors.push(err50);}errors++;}}if(data40.Action !== undefined){let data43 = data40.Action;if(Array.isArray(data43)){const len9 = data43.length;for(let i9=0; i9<len9; i9++){let data44 = data43[i9];if(typeof data44 !== "string"){const err51 = {instancePath:instancePath+"/iamRoleStatements/" + i8+"/Action/" + i9,schemaPath:"#/definitions/StpIamRoleStatement/properties/Action/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema102.properties.Action.items.type,parentSchema:schema102.properties.Action.items,data:data44};if(vErrors === null){vErrors = [err51];}else {vErrors.push(err51);}errors++;}}}else {const err52 = {instancePath:instancePath+"/iamRoleStatements/" + i8+"/Action",schemaPath:"#/definitions/StpIamRoleStatement/properties/Action/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema102.properties.Action.type,parentSchema:schema102.properties.Action,data:data43};if(vErrors === null){vErrors = [err52];}else {vErrors.push(err52);}errors++;}}if(data40.Resource !== undefined){let data45 = data40.Resource;if(Array.isArray(data45)){const len10 = data45.length;for(let i10=0; i10<len10; i10++){let data46 = data45[i10];if(typeof data46 !== "string"){const err53 = {instancePath:instancePath+"/iamRoleStatements/" + i8+"/Resource/" + i10,schemaPath:"#/definitions/StpIamRoleStatement/properties/Resource/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema102.properties.Resource.items.type,parentSchema:schema102.properties.Resource.items,data:data46};if(vErrors === null){vErrors = [err53];}else {vErrors.push(err53);}errors++;}}}else {const err54 = {instancePath:instancePath+"/iamRoleStatements/" + i8+"/Resource",schemaPath:"#/definitions/StpIamRoleStatement/properties/Resource/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema102.properties.Resource.type,parentSchema:schema102.properties.Resource,data:data45};if(vErrors === null){vErrors = [err54];}else {vErrors.push(err54);}errors++;}}}else {const err55 = {instancePath:instancePath+"/iamRoleStatements/" + i8,schemaPath:"#/definitions/StpIamRoleStatement/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema102.type,parentSchema:schema102,data:data40};if(vErrors === null){vErrors = [err55];}else {vErrors.push(err55);}errors++;}}}else {const err56 = {instancePath:instancePath+"/iamRoleStatements",schemaPath:"#/properties/iamRoleStatements/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema473.properties.iamRoleStatements.type,parentSchema:schema473.properties.iamRoleStatements,data:data39};if(vErrors === null){vErrors = [err56];}else {vErrors.push(err56);}errors++;}}}else {const err57 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema473.type,parentSchema:schema473,data};if(vErrors === null){vErrors = [err57];}else {vErrors.push(err57);}errors++;}validate522.errors = vErrors;return errors === 0;}function validate521(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema472.required,parentSchema:schema472,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema472.required,parentSchema:schema472,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!(((key0 === "type") || (key0 === "properties")) || (key0 === "overrides"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema472,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema472.properties.type.type,parentSchema:schema472.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("function" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "function"},message:"must be equal to constant",schema:"function",parentSchema:schema472.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate522(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate522.errors : vErrors.concat(validate522.errors);errors = vErrors.length;}}if(data.overrides !== undefined){let data2 = data.overrides;if(data2 && typeof data2 == "object" && !Array.isArray(data2)){for(const key1 in data2){let data3 = data2[key1];if(data3 && typeof data3 == "object" && !Array.isArray(data3)){}else {const err5 = {instancePath:instancePath+"/overrides/" + key1.replace(/~/g, "~0").replace(/\//g, "~1"),schemaPath:"#/properties/overrides/additionalProperties/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema472.properties.overrides.additionalProperties.type,parentSchema:schema472.properties.overrides.additionalProperties,data:data3};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}}else {const err6 = {instancePath:instancePath+"/overrides",schemaPath:"#/properties/overrides/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema472.properties.overrides.type,parentSchema:schema472.properties.overrides,data:data2};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}}else {const err7 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema472.type,parentSchema:schema472,data};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}validate521.errors = vErrors;return errors === 0;}const schema504 = {"description":"#### A specialized Lambda function that runs at AWS edge locations, close to your users.\n\n---\n\nEdge Lambda functions are designed to be executed by a Content Delivery Network (CDN) in response to CDN events.\nThey allow you to customize the content delivered through the CDN, enabling things like header manipulation, URL rewrites, and A/B testing.","type":"object","properties":{"type":{"type":"string","const":"edge-lambda-function"},"properties":{"$ref":"#/definitions/EdgeLambdaFunctionProps"},"overrides":{"description":"#### Resource Overrides\n\n---\n\nOverrides properties of the underlying CloudFormation resources that Stacktape creates.\n\nChild resources are identified by their CloudFormation logical ID (e.g., `MyBucketBucket`). You can find these IDs by running `stacktape stack:info --detailed`.\n\nFor a list of properties that can be overridden, refer to the [AWS CloudFormation documentation](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html).","type":"object","additionalProperties":{"type":"object","additionalProperties":{}}}},"additionalProperties":false,"required":["properties","type"]};const schema505 = {"type":"object","properties":{"packaging":{"$ref":"#/definitions/LambdaPackaging","description":"#### Configures how your code is packaged and deployed.\n\n---\n\nStacktape supports two packaging methods:\n- `stacktape-lambda-buildpack`: Stacktape automatically builds and packages your code from a specified source file. This is the recommended and simplest approach.\n- `custom-artifact`: You provide a path to a pre-built deployment package (e.g., a zip file). Stacktape will handle the upload.\n\nYour deployment packages are stored in an S3 bucket managed by Stacktape."},"runtime":{"description":"#### The runtime environment for the function.\n\n---\n\nStacktape automatically detects the programming language and selects an appropriate runtime.\nEdge Lambda functions support a specific set of runtimes.","enum":["nodejs18.x","nodejs20.x","nodejs22.x","nodejs24.x","python3.10","python3.11","python3.12","python3.13","python3.8","python3.9"],"type":"string"},"memory":{"description":"#### The amount of memory (in MB) allocated to the function.\n\n---\n\nThe maximum memory depends on when the function is triggered in the CDN lifecycle:\n- `onRequest` or `onResponse` (viewer-facing events): 128 MB\n- `onOriginRequest` or `onOriginResponse` (origin-facing events): 10,240 MB\n\nFor more details, see the [CDN documentation](https://docs.stacktape.com/other-resources/cdns/#edge-lambda-functions).","default":128,"type":"number"},"timeout":{"description":"#### The maximum execution time for the function, in seconds.\n\n---\n\nThe maximum timeout depends on when the function is triggered in the CDN lifecycle:\n- `onRequest` or `onResponse` (viewer-facing events): 5 seconds\n- `onOriginRequest` or `onOriginResponse` (origin-facing events): 30 seconds\n\nFor more details, see the [CDN documentation](https://docs.stacktape.com/other-resources/cdns/#edge-lambda-functions).","default":3,"type":"number"},"connectTo":{"description":"#### Grants the function access to other resources in your stack.\n\n---\n\nBy listing resources here, Stacktape automatically configures the necessary IAM permissions and security group rules.\nIt also injects environment variables with connection details into the function's runtime.\n\n> **Note:** Environment variable injection is not supported for Edge Lambda functions.\n> Also, Edge Lambda functions cannot connect to resources within a VPC.\n\n**Supported Resources:**\n\n- **Bucket**: Grants permissions to list, create, get, and delete objects.\n- **DynamoDB table**: Grants permissions for item manipulation and table scanning/querying.\n- **MongoDB Atlas cluster**: Allows secure, credential-less access to the cluster.\n- **Relational database**: Allows connections to the database.\n- **Redis cluster**: Allows connections to the Redis cluster.\n- **Event bus**: Grants permission to publish events.\n- **Function**: Grants permission to invoke another function.\n- **Batch job**: Grants permissions to manage batch jobs.\n- **User auth pool**: Grants full control over a Cognito User Pool.\n- **Upstash Kafka topic**: Provides connection details.\n- **Upstash Redis**: Provides connection details.\n- **aws:ses**: Grants full permissions to Amazon Simple Email Service (SES).","type":"array","items":{"type":"string"}},"iamRoleStatements":{"description":"#### A list of raw AWS IAM role statements to add to the function's execution role.\n\n---\n\nUse this for fine-grained control over the function's permissions.","type":"array","items":{"$ref":"#/definitions/StpIamRoleStatement"}},"logging":{"$ref":"#/definitions/LambdaFunctionLogging","description":"#### Configures the logging behavior for the function.\n\n---\n\nFunction logs (`stdout` and `stderr`) are sent to CloudWatch log groups.\n\n> **Important:** Since Edge Lambda functions run in multiple AWS regions, logs are delivered to a log group in the region where the function was executed.\n> You can use the `stacktape stack-info` command to get links to the log groups in each region."}},"additionalProperties":false,"required":["packaging"]};function validate570(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.packaging === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "packaging"},message:"must have required property '"+"packaging"+"'",schema:schema505.required,parentSchema:schema505,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!(((((((key0 === "packaging") || (key0 === "runtime")) || (key0 === "memory")) || (key0 === "timeout")) || (key0 === "connectTo")) || (key0 === "iamRoleStatements")) || (key0 === "logging"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema505,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.packaging !== undefined){if(!(validate443(data.packaging, {instancePath:instancePath+"/packaging",parentData:data,parentDataProperty:"packaging",rootData}))){vErrors = vErrors === null ? validate443.errors : vErrors.concat(validate443.errors);errors = vErrors.length;}}if(data.runtime !== undefined){let data1 = data.runtime;if(typeof data1 !== "string"){const err2 = {instancePath:instancePath+"/runtime",schemaPath:"#/properties/runtime/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema505.properties.runtime.type,parentSchema:schema505.properties.runtime,data:data1};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}if(!((((((((((data1 === "nodejs18.x") || (data1 === "nodejs20.x")) || (data1 === "nodejs22.x")) || (data1 === "nodejs24.x")) || (data1 === "python3.10")) || (data1 === "python3.11")) || (data1 === "python3.12")) || (data1 === "python3.13")) || (data1 === "python3.8")) || (data1 === "python3.9"))){const err3 = {instancePath:instancePath+"/runtime",schemaPath:"#/properties/runtime/enum",keyword:"enum",params:{allowedValues: schema505.properties.runtime.enum},message:"must be equal to one of the allowed values",schema:schema505.properties.runtime.enum,parentSchema:schema505.properties.runtime,data:data1};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data.memory !== undefined){let data2 = data.memory;if(!(typeof data2 == "number")){const err4 = {instancePath:instancePath+"/memory",schemaPath:"#/properties/memory/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema505.properties.memory.type,parentSchema:schema505.properties.memory,data:data2};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.timeout !== undefined){let data3 = data.timeout;if(!(typeof data3 == "number")){const err5 = {instancePath:instancePath+"/timeout",schemaPath:"#/properties/timeout/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema505.properties.timeout.type,parentSchema:schema505.properties.timeout,data:data3};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data.connectTo !== undefined){let data4 = data.connectTo;if(Array.isArray(data4)){const len0 = data4.length;for(let i0=0; i0<len0; i0++){let data5 = data4[i0];if(typeof data5 !== "string"){const err6 = {instancePath:instancePath+"/connectTo/" + i0,schemaPath:"#/properties/connectTo/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema505.properties.connectTo.items.type,parentSchema:schema505.properties.connectTo.items,data:data5};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}}else {const err7 = {instancePath:instancePath+"/connectTo",schemaPath:"#/properties/connectTo/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema505.properties.connectTo.type,parentSchema:schema505.properties.connectTo,data:data4};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data.iamRoleStatements !== undefined){let data6 = data.iamRoleStatements;if(Array.isArray(data6)){const len1 = data6.length;for(let i1=0; i1<len1; i1++){let data7 = data6[i1];if(data7 && typeof data7 == "object" && !Array.isArray(data7)){if(data7.Resource === undefined){const err8 = {instancePath:instancePath+"/iamRoleStatements/" + i1,schemaPath:"#/definitions/StpIamRoleStatement/required",keyword:"required",params:{missingProperty: "Resource"},message:"must have required property '"+"Resource"+"'",schema:schema102.required,parentSchema:schema102,data:data7};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}for(const key1 in data7){if(!(((((key1 === "Sid") || (key1 === "Effect")) || (key1 === "Action")) || (key1 === "Condition")) || (key1 === "Resource"))){const err9 = {instancePath:instancePath+"/iamRoleStatements/" + i1,schemaPath:"#/definitions/StpIamRoleStatement/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema102,data:data7};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(data7.Sid !== undefined){let data8 = data7.Sid;if(typeof data8 !== "string"){const err10 = {instancePath:instancePath+"/iamRoleStatements/" + i1+"/Sid",schemaPath:"#/definitions/StpIamRoleStatement/properties/Sid/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema102.properties.Sid.type,parentSchema:schema102.properties.Sid,data:data8};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data7.Effect !== undefined){let data9 = data7.Effect;if(typeof data9 !== "string"){const err11 = {instancePath:instancePath+"/iamRoleStatements/" + i1+"/Effect",schemaPath:"#/definitions/StpIamRoleStatement/properties/Effect/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema102.properties.Effect.type,parentSchema:schema102.properties.Effect,data:data9};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}if(data7.Action !== undefined){let data10 = data7.Action;if(Array.isArray(data10)){const len2 = data10.length;for(let i2=0; i2<len2; i2++){let data11 = data10[i2];if(typeof data11 !== "string"){const err12 = {instancePath:instancePath+"/iamRoleStatements/" + i1+"/Action/" + i2,schemaPath:"#/definitions/StpIamRoleStatement/properties/Action/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema102.properties.Action.items.type,parentSchema:schema102.properties.Action.items,data:data11};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}}else {const err13 = {instancePath:instancePath+"/iamRoleStatements/" + i1+"/Action",schemaPath:"#/definitions/StpIamRoleStatement/properties/Action/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema102.properties.Action.type,parentSchema:schema102.properties.Action,data:data10};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}if(data7.Resource !== undefined){let data12 = data7.Resource;if(Array.isArray(data12)){const len3 = data12.length;for(let i3=0; i3<len3; i3++){let data13 = data12[i3];if(typeof data13 !== "string"){const err14 = {instancePath:instancePath+"/iamRoleStatements/" + i1+"/Resource/" + i3,schemaPath:"#/definitions/StpIamRoleStatement/properties/Resource/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema102.properties.Resource.items.type,parentSchema:schema102.properties.Resource.items,data:data13};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}}}else {const err15 = {instancePath:instancePath+"/iamRoleStatements/" + i1+"/Resource",schemaPath:"#/definitions/StpIamRoleStatement/properties/Resource/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema102.properties.Resource.type,parentSchema:schema102.properties.Resource,data:data12};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}}}else {const err16 = {instancePath:instancePath+"/iamRoleStatements/" + i1,schemaPath:"#/definitions/StpIamRoleStatement/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema102.type,parentSchema:schema102,data:data7};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}}}else {const err17 = {instancePath:instancePath+"/iamRoleStatements",schemaPath:"#/properties/iamRoleStatements/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema505.properties.iamRoleStatements.type,parentSchema:schema505.properties.iamRoleStatements,data:data6};if(vErrors === null){vErrors = [err17];}else {vErrors.push(err17);}errors++;}}if(data.logging !== undefined){if(!(validate504(data.logging, {instancePath:instancePath+"/logging",parentData:data,parentDataProperty:"logging",rootData}))){vErrors = vErrors === null ? validate504.errors : vErrors.concat(validate504.errors);errors = vErrors.length;}}}else {const err18 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema505.type,parentSchema:schema505,data};if(vErrors === null){vErrors = [err18];}else {vErrors.push(err18);}errors++;}validate570.errors = vErrors;return errors === 0;}function validate569(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.properties === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "properties"},message:"must have required property '"+"properties"+"'",schema:schema504.required,parentSchema:schema504,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'",schema:schema504.required,parentSchema:schema504,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!(((key0 === "type") || (key0 === "properties")) || (key0 === "overrides"))){const err2 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema504,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.type !== undefined){let data0 = data.type;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema504.properties.type.type,parentSchema:schema504.properties.type,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if("edge-lambda-function" !== data0){const err4 = {instancePath:instancePath+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue: "edge-lambda-function"},message:"must be equal to constant",schema:"edge-lambda-function",parentSchema:schema504.properties.type,data:data0};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.properties !== undefined){if(!(validate570(data.properties, {instancePath:instancePath+"/properties",parentData:data,parentDataProperty:"properties",rootData}))){vErrors = vErrors === null ? validate570.errors : vErrors.concat(validate570.errors);errors = vErrors.length;}}if(data.overrides !== undefined){let data2 = data.overrides;if(data2 && typeof data2 == "object" && !Array.isArray(data2)){for(const key1 in data2){let data3 = data2[key1];if(data3 && typeof data3 == "object" && !Array.isArray(data3)){}else {const err5 = {instancePath:instancePath+"/overrides/" + key1.replace(/~/g, "~0").replace(/\//g, "~1"),schemaPath:"#/properties/overrides/additionalProperties/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema504.properties.overrides.additionalProperties.type,parentSchema:schema504.properties.overrides.additionalProperties,data:data3};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}}else {const err6 = {instancePath:instancePath+"/overrides",schemaPath:"#/properties/overrides/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema504.properties.overrides.type,parentSchema:schema504.properties.overrides,data:data2};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}}else {const err7 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema504.type,parentSchema:schema504,data};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}validate569.errors = vErrors;return errors === 0;}function validate33(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;const _errs0 = errors;let valid0 = false;const _errs1 = errors;if(!(validate34(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate34.errors : vErrors.concat(validate34.errors);errors = vErrors.length;}var _valid0 = _errs1 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs2 = errors;if(!(validate94(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate94.errors : vErrors.concat(validate94.errors);errors = vErrors.length;}var _valid0 = _errs2 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs3 = errors;if(!(validate162(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate162.errors : vErrors.concat(validate162.errors);errors = vErrors.length;}var _valid0 = _errs3 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs4 = errors;if(!(validate242(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate242.errors : vErrors.concat(validate242.errors);errors = vErrors.length;}var _valid0 = _errs4 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs5 = errors;if(!(validate251(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate251.errors : vErrors.concat(validate251.errors);errors = vErrors.length;}var _valid0 = _errs5 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs6 = errors;if(!(validate260(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate260.errors : vErrors.concat(validate260.errors);errors = vErrors.length;}var _valid0 = _errs6 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs7 = errors;if(!(validate310(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate310.errors : vErrors.concat(validate310.errors);errors = vErrors.length;}var _valid0 = _errs7 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs8 = errors;if(!(validate324(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate324.errors : vErrors.concat(validate324.errors);errors = vErrors.length;}var _valid0 = _errs8 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs9 = errors;if(!(validate328(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate328.errors : vErrors.concat(validate328.errors);errors = vErrors.length;}var _valid0 = _errs9 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs10 = errors;if(!(validate340(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate340.errors : vErrors.concat(validate340.errors);errors = vErrors.length;}var _valid0 = _errs10 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs11 = errors;if(!(validate377(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate377.errors : vErrors.concat(validate377.errors);errors = vErrors.length;}var _valid0 = _errs11 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs12 = errors;if(!(validate383(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate383.errors : vErrors.concat(validate383.errors);errors = vErrors.length;}var _valid0 = _errs12 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs13 = errors;if(!(validate387(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate387.errors : vErrors.concat(validate387.errors);errors = vErrors.length;}var _valid0 = _errs13 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs14 = errors;if(!(validate400(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate400.errors : vErrors.concat(validate400.errors);errors = vErrors.length;}var _valid0 = _errs14 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs15 = errors;if(!(validate410(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate410.errors : vErrors.concat(validate410.errors);errors = vErrors.length;}var _valid0 = _errs15 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs16 = errors;if(!(validate426(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate426.errors : vErrors.concat(validate426.errors);errors = vErrors.length;}var _valid0 = _errs16 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs17 = errors;if(!(validate430(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate430.errors : vErrors.concat(validate430.errors);errors = vErrors.length;}var _valid0 = _errs17 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs18 = errors;if(!(validate439(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate439.errors : vErrors.concat(validate439.errors);errors = vErrors.length;}var _valid0 = _errs18 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs19 = errors;if(!(validate441(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate441.errors : vErrors.concat(validate441.errors);errors = vErrors.length;}var _valid0 = _errs19 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs20 = errors;if(!(validate455(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate455.errors : vErrors.concat(validate455.errors);errors = vErrors.length;}var _valid0 = _errs20 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs21 = errors;if(!(validate457(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate457.errors : vErrors.concat(validate457.errors);errors = vErrors.length;}var _valid0 = _errs21 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs22 = errors;if(!(validate462(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate462.errors : vErrors.concat(validate462.errors);errors = vErrors.length;}var _valid0 = _errs22 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs23 = errors;if(!(validate464(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate464.errors : vErrors.concat(validate464.errors);errors = vErrors.length;}var _valid0 = _errs23 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs24 = errors;if(!(validate481(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate481.errors : vErrors.concat(validate481.errors);errors = vErrors.length;}var _valid0 = _errs24 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs25 = errors;if(!(validate483(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate483.errors : vErrors.concat(validate483.errors);errors = vErrors.length;}var _valid0 = _errs25 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs26 = errors;if(!(validate489(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate489.errors : vErrors.concat(validate489.errors);errors = vErrors.length;}var _valid0 = _errs26 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs27 = errors;if(!(validate501(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate501.errors : vErrors.concat(validate501.errors);errors = vErrors.length;}var _valid0 = _errs27 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs28 = errors;if(!(validate513(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate513.errors : vErrors.concat(validate513.errors);errors = vErrors.length;}var _valid0 = _errs28 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs29 = errors;if(!(validate519(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate519.errors : vErrors.concat(validate519.errors);errors = vErrors.length;}var _valid0 = _errs29 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs30 = errors;if(!(validate521(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate521.errors : vErrors.concat(validate521.errors);errors = vErrors.length;}var _valid0 = _errs30 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs31 = errors;if(!(validate569(data, {instancePath,parentData,parentDataProperty,rootData}))){vErrors = vErrors === null ? validate569.errors : vErrors.concat(validate569.errors);errors = vErrors.length;}var _valid0 = _errs31 === errors;valid0 = valid0 || _valid0;}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}if(!valid0){const err0 = {instancePath,schemaPath:"#/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:schema43.anyOf,parentSchema:schema43,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}else {errors = _errs0;if(vErrors !== null){if(_errs0){vErrors.length = _errs0;}else {vErrors = null;}}}validate33.errors = vErrors;return errors === 0;}const schema507 = {"type":"object","properties":{"Type":{"type":"string"},"DependsOn":{"anyOf":[{"type":"array","items":{"type":"string"}},{"$ref":"#/definitions/IntrinsicFunction"},{"type":"string"}]},"Properties":{"type":"object","additionalProperties":{}},"Metadata":{"type":"object","additionalProperties":{}},"CreationPolicy":{"$ref":"#/definitions/CreationPolicy"},"DeletionPolicy":{"$ref":"#/definitions/DeletionPolicy"},"UpdatePolicy":{"$ref":"#/definitions/UpdatePolicy"},"Condition":{"$ref":"#/definitions/Value<string>"}},"additionalProperties":false,"required":["Type"]};const schema508 = {"type":"object","properties":{"name":{"type":"string"},"payload":{}},"additionalProperties":false,"required":["name","payload"]};const schema514 = {"enum":["Delete","Retain","Snapshot"],"type":"string"};const schema509 = {"type":"object","properties":{"AutoScalingCreationPolicy":{"type":"object","properties":{"MinSuccessfulInstancesPercent":{"$ref":"#/definitions/Value<number>"}},"additionalProperties":false},"ResourceSignal":{"type":"object","properties":{"Count":{"$ref":"#/definitions/Value<number>"},"Timeout":{"$ref":"#/definitions/Value<string>"}},"additionalProperties":false}},"additionalProperties":false};const schema510 = {"anyOf":[{"$ref":"#/definitions/IntrinsicFunction"},{"type":"number"}]};function validate578(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;const _errs0 = errors;let valid0 = false;const _errs1 = errors;if(data && typeof data == "object" && !Array.isArray(data)){if(data.name === undefined){const err0 = {instancePath,schemaPath:"#/definitions/IntrinsicFunction/required",keyword:"required",params:{missingProperty: "name"},message:"must have required property '"+"name"+"'",schema:schema508.required,parentSchema:schema508,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.payload === undefined){const err1 = {instancePath,schemaPath:"#/definitions/IntrinsicFunction/required",keyword:"required",params:{missingProperty: "payload"},message:"must have required property '"+"payload"+"'",schema:schema508.required,parentSchema:schema508,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "name") || (key0 === "payload"))){const err2 = {instancePath,schemaPath:"#/definitions/IntrinsicFunction/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema508,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.name !== undefined){let data0 = data.name;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/name",schemaPath:"#/definitions/IntrinsicFunction/properties/name/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema508.properties.name.type,parentSchema:schema508.properties.name,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}}else {const err4 = {instancePath,schemaPath:"#/definitions/IntrinsicFunction/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema508.type,parentSchema:schema508,data};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}var _valid0 = _errs1 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs7 = errors;if(!(typeof data == "number")){const err5 = {instancePath,schemaPath:"#/anyOf/1/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema510.anyOf[1].type,parentSchema:schema510.anyOf[1],data};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}var _valid0 = _errs7 === errors;valid0 = valid0 || _valid0;}if(!valid0){const err6 = {instancePath,schemaPath:"#/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:schema510.anyOf,parentSchema:schema510,data};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}else {errors = _errs0;if(vErrors !== null){if(_errs0){vErrors.length = _errs0;}else {vErrors = null;}}}validate578.errors = vErrors;return errors === 0;}const schema512 = {"anyOf":[{"$ref":"#/definitions/IntrinsicFunction"},{"type":"string"}]};function validate581(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;const _errs0 = errors;let valid0 = false;const _errs1 = errors;if(data && typeof data == "object" && !Array.isArray(data)){if(data.name === undefined){const err0 = {instancePath,schemaPath:"#/definitions/IntrinsicFunction/required",keyword:"required",params:{missingProperty: "name"},message:"must have required property '"+"name"+"'",schema:schema508.required,parentSchema:schema508,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.payload === undefined){const err1 = {instancePath,schemaPath:"#/definitions/IntrinsicFunction/required",keyword:"required",params:{missingProperty: "payload"},message:"must have required property '"+"payload"+"'",schema:schema508.required,parentSchema:schema508,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "name") || (key0 === "payload"))){const err2 = {instancePath,schemaPath:"#/definitions/IntrinsicFunction/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema508,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.name !== undefined){let data0 = data.name;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/name",schemaPath:"#/definitions/IntrinsicFunction/properties/name/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema508.properties.name.type,parentSchema:schema508.properties.name,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}}else {const err4 = {instancePath,schemaPath:"#/definitions/IntrinsicFunction/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema508.type,parentSchema:schema508,data};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}var _valid0 = _errs1 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs7 = errors;if(typeof data !== "string"){const err5 = {instancePath,schemaPath:"#/anyOf/1/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema512.anyOf[1].type,parentSchema:schema512.anyOf[1],data};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}var _valid0 = _errs7 === errors;valid0 = valid0 || _valid0;}if(!valid0){const err6 = {instancePath,schemaPath:"#/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:schema512.anyOf,parentSchema:schema512,data};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}else {errors = _errs0;if(vErrors !== null){if(_errs0){vErrors.length = _errs0;}else {vErrors = null;}}}validate581.errors = vErrors;return errors === 0;}function validate577(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){for(const key0 in data){if(!((key0 === "AutoScalingCreationPolicy") || (key0 === "ResourceSignal"))){const err0 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema509,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}}if(data.AutoScalingCreationPolicy !== undefined){let data0 = data.AutoScalingCreationPolicy;if(data0 && typeof data0 == "object" && !Array.isArray(data0)){for(const key1 in data0){if(!(key1 === "MinSuccessfulInstancesPercent")){const err1 = {instancePath:instancePath+"/AutoScalingCreationPolicy",schemaPath:"#/properties/AutoScalingCreationPolicy/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema509.properties.AutoScalingCreationPolicy,data:data0};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data0.MinSuccessfulInstancesPercent !== undefined){if(!(validate578(data0.MinSuccessfulInstancesPercent, {instancePath:instancePath+"/AutoScalingCreationPolicy/MinSuccessfulInstancesPercent",parentData:data0,parentDataProperty:"MinSuccessfulInstancesPercent",rootData}))){vErrors = vErrors === null ? validate578.errors : vErrors.concat(validate578.errors);errors = vErrors.length;}}}else {const err2 = {instancePath:instancePath+"/AutoScalingCreationPolicy",schemaPath:"#/properties/AutoScalingCreationPolicy/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema509.properties.AutoScalingCreationPolicy.type,parentSchema:schema509.properties.AutoScalingCreationPolicy,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.ResourceSignal !== undefined){let data2 = data.ResourceSignal;if(data2 && typeof data2 == "object" && !Array.isArray(data2)){for(const key2 in data2){if(!((key2 === "Count") || (key2 === "Timeout"))){const err3 = {instancePath:instancePath+"/ResourceSignal",schemaPath:"#/properties/ResourceSignal/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key2},message:"must NOT have additional properties",schema:false,parentSchema:schema509.properties.ResourceSignal,data:data2};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data2.Count !== undefined){if(!(validate578(data2.Count, {instancePath:instancePath+"/ResourceSignal/Count",parentData:data2,parentDataProperty:"Count",rootData}))){vErrors = vErrors === null ? validate578.errors : vErrors.concat(validate578.errors);errors = vErrors.length;}}if(data2.Timeout !== undefined){if(!(validate581(data2.Timeout, {instancePath:instancePath+"/ResourceSignal/Timeout",parentData:data2,parentDataProperty:"Timeout",rootData}))){vErrors = vErrors === null ? validate581.errors : vErrors.concat(validate581.errors);errors = vErrors.length;}}}else {const err4 = {instancePath:instancePath+"/ResourceSignal",schemaPath:"#/properties/ResourceSignal/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema509.properties.ResourceSignal.type,parentSchema:schema509.properties.ResourceSignal,data:data2};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}}else {const err5 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema509.type,parentSchema:schema509,data};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}validate577.errors = vErrors;return errors === 0;}const schema515 = {"type":"object","properties":{"AutoScalingReplacingUpdate":{"type":"object","properties":{"WillReplace":{"$ref":"#/definitions/Value<boolean>"}},"additionalProperties":false},"AutoScalingRollingUpdate":{"type":"object","properties":{"MaxBatchSize":{"$ref":"#/definitions/Value<number>"},"MinInstancesInService":{"$ref":"#/definitions/Value<number>"},"MinSuccessfulInstancesPercent":{"$ref":"#/definitions/Value<number>"},"PauseTime":{"$ref":"#/definitions/Value<string>"},"SuspendProcesses":{"$ref":"#/definitions/List<string>"},"WaitOnResourceSignals":{"$ref":"#/definitions/Value<boolean>"}},"additionalProperties":false},"AutoScalingScheduledAction":{"type":"object","properties":{"IgnoreUnmodifiedGroupSizeProperties":{"$ref":"#/definitions/Value<boolean>"}},"additionalProperties":false},"CodeDeployLambdaAliasUpdate":{"type":"object","properties":{"AfterAllowTrafficHook":{"$ref":"#/definitions/Value<string>"},"ApplicationName":{"$ref":"#/definitions/Value<string>"},"BeforeAllowTrafficHook":{"$ref":"#/definitions/Value<string>"},"DeploymentGroupName":{"$ref":"#/definitions/Value<string>"}},"additionalProperties":false,"required":["AfterAllowTrafficHook","ApplicationName","BeforeAllowTrafficHook","DeploymentGroupName"]}},"additionalProperties":false};const schema516 = {"anyOf":[{"$ref":"#/definitions/IntrinsicFunction"},{"type":"boolean"}]};function validate585(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;const _errs0 = errors;let valid0 = false;const _errs1 = errors;if(data && typeof data == "object" && !Array.isArray(data)){if(data.name === undefined){const err0 = {instancePath,schemaPath:"#/definitions/IntrinsicFunction/required",keyword:"required",params:{missingProperty: "name"},message:"must have required property '"+"name"+"'",schema:schema508.required,parentSchema:schema508,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.payload === undefined){const err1 = {instancePath,schemaPath:"#/definitions/IntrinsicFunction/required",keyword:"required",params:{missingProperty: "payload"},message:"must have required property '"+"payload"+"'",schema:schema508.required,parentSchema:schema508,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}for(const key0 in data){if(!((key0 === "name") || (key0 === "payload"))){const err2 = {instancePath,schemaPath:"#/definitions/IntrinsicFunction/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema508,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.name !== undefined){let data0 = data.name;if(typeof data0 !== "string"){const err3 = {instancePath:instancePath+"/name",schemaPath:"#/definitions/IntrinsicFunction/properties/name/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema508.properties.name.type,parentSchema:schema508.properties.name,data:data0};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}}else {const err4 = {instancePath,schemaPath:"#/definitions/IntrinsicFunction/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema508.type,parentSchema:schema508,data};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}var _valid0 = _errs1 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs7 = errors;if(typeof data !== "boolean"){const err5 = {instancePath,schemaPath:"#/anyOf/1/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema516.anyOf[1].type,parentSchema:schema516.anyOf[1],data};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}var _valid0 = _errs7 === errors;valid0 = valid0 || _valid0;}if(!valid0){const err6 = {instancePath,schemaPath:"#/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:schema516.anyOf,parentSchema:schema516,data};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}else {errors = _errs0;if(vErrors !== null){if(_errs0){vErrors.length = _errs0;}else {vErrors = null;}}}validate585.errors = vErrors;return errors === 0;}const schema518 = {"anyOf":[{"type":"array","items":{"type":"string"}},{"$ref":"#/definitions/IntrinsicFunction"}]};function validate591(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;const _errs0 = errors;let valid0 = false;const _errs1 = errors;if(Array.isArray(data)){const len0 = data.length;for(let i0=0; i0<len0; i0++){let data0 = data[i0];if(typeof data0 !== "string"){const err0 = {instancePath:instancePath+"/" + i0,schemaPath:"#/anyOf/0/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema518.anyOf[0].items.type,parentSchema:schema518.anyOf[0].items,data:data0};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}}}else {const err1 = {instancePath,schemaPath:"#/anyOf/0/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema518.anyOf[0].type,parentSchema:schema518.anyOf[0],data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}var _valid0 = _errs1 === errors;valid0 = valid0 || _valid0;if(!valid0){const _errs5 = errors;if(data && typeof data == "object" && !Array.isArray(data)){if(data.name === undefined){const err2 = {instancePath,schemaPath:"#/definitions/IntrinsicFunction/required",keyword:"required",params:{missingProperty: "name"},message:"must have required property '"+"name"+"'",schema:schema508.required,parentSchema:schema508,data};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}if(data.payload === undefined){const err3 = {instancePath,schemaPath:"#/definitions/IntrinsicFunction/required",keyword:"required",params:{missingProperty: "payload"},message:"must have required property '"+"payload"+"'",schema:schema508.required,parentSchema:schema508,data};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}for(const key0 in data){if(!((key0 === "name") || (key0 === "payload"))){const err4 = {instancePath,schemaPath:"#/definitions/IntrinsicFunction/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema508,data};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.name !== undefined){let data1 = data.name;if(typeof data1 !== "string"){const err5 = {instancePath:instancePath+"/name",schemaPath:"#/definitions/IntrinsicFunction/properties/name/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema508.properties.name.type,parentSchema:schema508.properties.name,data:data1};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}}else {const err6 = {instancePath,schemaPath:"#/definitions/IntrinsicFunction/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema508.type,parentSchema:schema508,data};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}var _valid0 = _errs5 === errors;valid0 = valid0 || _valid0;}if(!valid0){const err7 = {instancePath,schemaPath:"#/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:schema518.anyOf,parentSchema:schema518,data};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}else {errors = _errs0;if(vErrors !== null){if(_errs0){vErrors.length = _errs0;}else {vErrors = null;}}}validate591.errors = vErrors;return errors === 0;}function validate584(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){for(const key0 in data){if(!((((key0 === "AutoScalingReplacingUpdate") || (key0 === "AutoScalingRollingUpdate")) || (key0 === "AutoScalingScheduledAction")) || (key0 === "CodeDeployLambdaAliasUpdate"))){const err0 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema515,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}}if(data.AutoScalingReplacingUpdate !== undefined){let data0 = data.AutoScalingReplacingUpdate;if(data0 && typeof data0 == "object" && !Array.isArray(data0)){for(const key1 in data0){if(!(key1 === "WillReplace")){const err1 = {instancePath:instancePath+"/AutoScalingReplacingUpdate",schemaPath:"#/properties/AutoScalingReplacingUpdate/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema515.properties.AutoScalingReplacingUpdate,data:data0};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data0.WillReplace !== undefined){if(!(validate585(data0.WillReplace, {instancePath:instancePath+"/AutoScalingReplacingUpdate/WillReplace",parentData:data0,parentDataProperty:"WillReplace",rootData}))){vErrors = vErrors === null ? validate585.errors : vErrors.concat(validate585.errors);errors = vErrors.length;}}}else {const err2 = {instancePath:instancePath+"/AutoScalingReplacingUpdate",schemaPath:"#/properties/AutoScalingReplacingUpdate/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema515.properties.AutoScalingReplacingUpdate.type,parentSchema:schema515.properties.AutoScalingReplacingUpdate,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.AutoScalingRollingUpdate !== undefined){let data2 = data.AutoScalingRollingUpdate;if(data2 && typeof data2 == "object" && !Array.isArray(data2)){for(const key2 in data2){if(!((((((key2 === "MaxBatchSize") || (key2 === "MinInstancesInService")) || (key2 === "MinSuccessfulInstancesPercent")) || (key2 === "PauseTime")) || (key2 === "SuspendProcesses")) || (key2 === "WaitOnResourceSignals"))){const err3 = {instancePath:instancePath+"/AutoScalingRollingUpdate",schemaPath:"#/properties/AutoScalingRollingUpdate/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key2},message:"must NOT have additional properties",schema:false,parentSchema:schema515.properties.AutoScalingRollingUpdate,data:data2};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data2.MaxBatchSize !== undefined){if(!(validate578(data2.MaxBatchSize, {instancePath:instancePath+"/AutoScalingRollingUpdate/MaxBatchSize",parentData:data2,parentDataProperty:"MaxBatchSize",rootData}))){vErrors = vErrors === null ? validate578.errors : vErrors.concat(validate578.errors);errors = vErrors.length;}}if(data2.MinInstancesInService !== undefined){if(!(validate578(data2.MinInstancesInService, {instancePath:instancePath+"/AutoScalingRollingUpdate/MinInstancesInService",parentData:data2,parentDataProperty:"MinInstancesInService",rootData}))){vErrors = vErrors === null ? validate578.errors : vErrors.concat(validate578.errors);errors = vErrors.length;}}if(data2.MinSuccessfulInstancesPercent !== undefined){if(!(validate578(data2.MinSuccessfulInstancesPercent, {instancePath:instancePath+"/AutoScalingRollingUpdate/MinSuccessfulInstancesPercent",parentData:data2,parentDataProperty:"MinSuccessfulInstancesPercent",rootData}))){vErrors = vErrors === null ? validate578.errors : vErrors.concat(validate578.errors);errors = vErrors.length;}}if(data2.PauseTime !== undefined){if(!(validate581(data2.PauseTime, {instancePath:instancePath+"/AutoScalingRollingUpdate/PauseTime",parentData:data2,parentDataProperty:"PauseTime",rootData}))){vErrors = vErrors === null ? validate581.errors : vErrors.concat(validate581.errors);errors = vErrors.length;}}if(data2.SuspendProcesses !== undefined){if(!(validate591(data2.SuspendProcesses, {instancePath:instancePath+"/AutoScalingRollingUpdate/SuspendProcesses",parentData:data2,parentDataProperty:"SuspendProcesses",rootData}))){vErrors = vErrors === null ? validate591.errors : vErrors.concat(validate591.errors);errors = vErrors.length;}}if(data2.WaitOnResourceSignals !== undefined){if(!(validate585(data2.WaitOnResourceSignals, {instancePath:instancePath+"/AutoScalingRollingUpdate/WaitOnResourceSignals",parentData:data2,parentDataProperty:"WaitOnResourceSignals",rootData}))){vErrors = vErrors === null ? validate585.errors : vErrors.concat(validate585.errors);errors = vErrors.length;}}}else {const err4 = {instancePath:instancePath+"/AutoScalingRollingUpdate",schemaPath:"#/properties/AutoScalingRollingUpdate/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema515.properties.AutoScalingRollingUpdate.type,parentSchema:schema515.properties.AutoScalingRollingUpdate,data:data2};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.AutoScalingScheduledAction !== undefined){let data9 = data.AutoScalingScheduledAction;if(data9 && typeof data9 == "object" && !Array.isArray(data9)){for(const key3 in data9){if(!(key3 === "IgnoreUnmodifiedGroupSizeProperties")){const err5 = {instancePath:instancePath+"/AutoScalingScheduledAction",schemaPath:"#/properties/AutoScalingScheduledAction/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key3},message:"must NOT have additional properties",schema:false,parentSchema:schema515.properties.AutoScalingScheduledAction,data:data9};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data9.IgnoreUnmodifiedGroupSizeProperties !== undefined){if(!(validate585(data9.IgnoreUnmodifiedGroupSizeProperties, {instancePath:instancePath+"/AutoScalingScheduledAction/IgnoreUnmodifiedGroupSizeProperties",parentData:data9,parentDataProperty:"IgnoreUnmodifiedGroupSizeProperties",rootData}))){vErrors = vErrors === null ? validate585.errors : vErrors.concat(validate585.errors);errors = vErrors.length;}}}else {const err6 = {instancePath:instancePath+"/AutoScalingScheduledAction",schemaPath:"#/properties/AutoScalingScheduledAction/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema515.properties.AutoScalingScheduledAction.type,parentSchema:schema515.properties.AutoScalingScheduledAction,data:data9};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data.CodeDeployLambdaAliasUpdate !== undefined){let data11 = data.CodeDeployLambdaAliasUpdate;if(data11 && typeof data11 == "object" && !Array.isArray(data11)){if(data11.AfterAllowTrafficHook === undefined){const err7 = {instancePath:instancePath+"/CodeDeployLambdaAliasUpdate",schemaPath:"#/properties/CodeDeployLambdaAliasUpdate/required",keyword:"required",params:{missingProperty: "AfterAllowTrafficHook"},message:"must have required property '"+"AfterAllowTrafficHook"+"'",schema:schema515.properties.CodeDeployLambdaAliasUpdate.required,parentSchema:schema515.properties.CodeDeployLambdaAliasUpdate,data:data11};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}if(data11.ApplicationName === undefined){const err8 = {instancePath:instancePath+"/CodeDeployLambdaAliasUpdate",schemaPath:"#/properties/CodeDeployLambdaAliasUpdate/required",keyword:"required",params:{missingProperty: "ApplicationName"},message:"must have required property '"+"ApplicationName"+"'",schema:schema515.properties.CodeDeployLambdaAliasUpdate.required,parentSchema:schema515.properties.CodeDeployLambdaAliasUpdate,data:data11};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}if(data11.BeforeAllowTrafficHook === undefined){const err9 = {instancePath:instancePath+"/CodeDeployLambdaAliasUpdate",schemaPath:"#/properties/CodeDeployLambdaAliasUpdate/required",keyword:"required",params:{missingProperty: "BeforeAllowTrafficHook"},message:"must have required property '"+"BeforeAllowTrafficHook"+"'",schema:schema515.properties.CodeDeployLambdaAliasUpdate.required,parentSchema:schema515.properties.CodeDeployLambdaAliasUpdate,data:data11};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}if(data11.DeploymentGroupName === undefined){const err10 = {instancePath:instancePath+"/CodeDeployLambdaAliasUpdate",schemaPath:"#/properties/CodeDeployLambdaAliasUpdate/required",keyword:"required",params:{missingProperty: "DeploymentGroupName"},message:"must have required property '"+"DeploymentGroupName"+"'",schema:schema515.properties.CodeDeployLambdaAliasUpdate.required,parentSchema:schema515.properties.CodeDeployLambdaAliasUpdate,data:data11};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}for(const key4 in data11){if(!((((key4 === "AfterAllowTrafficHook") || (key4 === "ApplicationName")) || (key4 === "BeforeAllowTrafficHook")) || (key4 === "DeploymentGroupName"))){const err11 = {instancePath:instancePath+"/CodeDeployLambdaAliasUpdate",schemaPath:"#/properties/CodeDeployLambdaAliasUpdate/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key4},message:"must NOT have additional properties",schema:false,parentSchema:schema515.properties.CodeDeployLambdaAliasUpdate,data:data11};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}if(data11.AfterAllowTrafficHook !== undefined){if(!(validate581(data11.AfterAllowTrafficHook, {instancePath:instancePath+"/CodeDeployLambdaAliasUpdate/AfterAllowTrafficHook",parentData:data11,parentDataProperty:"AfterAllowTrafficHook",rootData}))){vErrors = vErrors === null ? validate581.errors : vErrors.concat(validate581.errors);errors = vErrors.length;}}if(data11.ApplicationName !== undefined){if(!(validate581(data11.ApplicationName, {instancePath:instancePath+"/CodeDeployLambdaAliasUpdate/ApplicationName",parentData:data11,parentDataProperty:"ApplicationName",rootData}))){vErrors = vErrors === null ? validate581.errors : vErrors.concat(validate581.errors);errors = vErrors.length;}}if(data11.BeforeAllowTrafficHook !== undefined){if(!(validate581(data11.BeforeAllowTrafficHook, {instancePath:instancePath+"/CodeDeployLambdaAliasUpdate/BeforeAllowTrafficHook",parentData:data11,parentDataProperty:"BeforeAllowTrafficHook",rootData}))){vErrors = vErrors === null ? validate581.errors : vErrors.concat(validate581.errors);errors = vErrors.length;}}if(data11.DeploymentGroupName !== undefined){if(!(validate581(data11.DeploymentGroupName, {instancePath:instancePath+"/CodeDeployLambdaAliasUpdate/DeploymentGroupName",parentData:data11,parentDataProperty:"DeploymentGroupName",rootData}))){vErrors = vErrors === null ? validate581.errors : vErrors.concat(validate581.errors);errors = vErrors.length;}}}else {const err12 = {instancePath:instancePath+"/CodeDeployLambdaAliasUpdate",schemaPath:"#/properties/CodeDeployLambdaAliasUpdate/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema515.properties.CodeDeployLambdaAliasUpdate.type,parentSchema:schema515.properties.CodeDeployLambdaAliasUpdate,data:data11};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}}else {const err13 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema515.type,parentSchema:schema515,data};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}validate584.errors = vErrors;return errors === 0;}function validate576(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.Type === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "Type"},message:"must have required property '"+"Type"+"'",schema:schema507.required,parentSchema:schema507,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!((((((((key0 === "Type") || (key0 === "DependsOn")) || (key0 === "Properties")) || (key0 === "Metadata")) || (key0 === "CreationPolicy")) || (key0 === "DeletionPolicy")) || (key0 === "UpdatePolicy")) || (key0 === "Condition"))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema507,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.Type !== undefined){let data0 = data.Type;if(typeof data0 !== "string"){const err2 = {instancePath:instancePath+"/Type",schemaPath:"#/properties/Type/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema507.properties.Type.type,parentSchema:schema507.properties.Type,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.DependsOn !== undefined){let data1 = data.DependsOn;const _errs5 = errors;let valid1 = false;const _errs6 = errors;if(Array.isArray(data1)){const len0 = data1.length;for(let i0=0; i0<len0; i0++){let data2 = data1[i0];if(typeof data2 !== "string"){const err3 = {instancePath:instancePath+"/DependsOn/" + i0,schemaPath:"#/properties/DependsOn/anyOf/0/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema507.properties.DependsOn.anyOf[0].items.type,parentSchema:schema507.properties.DependsOn.anyOf[0].items,data:data2};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}}else {const err4 = {instancePath:instancePath+"/DependsOn",schemaPath:"#/properties/DependsOn/anyOf/0/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema507.properties.DependsOn.anyOf[0].type,parentSchema:schema507.properties.DependsOn.anyOf[0],data:data1};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}var _valid0 = _errs6 === errors;valid1 = valid1 || _valid0;if(!valid1){const _errs10 = errors;if(data1 && typeof data1 == "object" && !Array.isArray(data1)){if(data1.name === undefined){const err5 = {instancePath:instancePath+"/DependsOn",schemaPath:"#/definitions/IntrinsicFunction/required",keyword:"required",params:{missingProperty: "name"},message:"must have required property '"+"name"+"'",schema:schema508.required,parentSchema:schema508,data:data1};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}if(data1.payload === undefined){const err6 = {instancePath:instancePath+"/DependsOn",schemaPath:"#/definitions/IntrinsicFunction/required",keyword:"required",params:{missingProperty: "payload"},message:"must have required property '"+"payload"+"'",schema:schema508.required,parentSchema:schema508,data:data1};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}for(const key1 in data1){if(!((key1 === "name") || (key1 === "payload"))){const err7 = {instancePath:instancePath+"/DependsOn",schemaPath:"#/definitions/IntrinsicFunction/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema508,data:data1};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data1.name !== undefined){let data3 = data1.name;if(typeof data3 !== "string"){const err8 = {instancePath:instancePath+"/DependsOn/name",schemaPath:"#/definitions/IntrinsicFunction/properties/name/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema508.properties.name.type,parentSchema:schema508.properties.name,data:data3};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}}else {const err9 = {instancePath:instancePath+"/DependsOn",schemaPath:"#/definitions/IntrinsicFunction/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema508.type,parentSchema:schema508,data:data1};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}var _valid0 = _errs10 === errors;valid1 = valid1 || _valid0;if(!valid1){const _errs16 = errors;if(typeof data1 !== "string"){const err10 = {instancePath:instancePath+"/DependsOn",schemaPath:"#/properties/DependsOn/anyOf/2/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema507.properties.DependsOn.anyOf[2].type,parentSchema:schema507.properties.DependsOn.anyOf[2],data:data1};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}var _valid0 = _errs16 === errors;valid1 = valid1 || _valid0;}}if(!valid1){const err11 = {instancePath:instancePath+"/DependsOn",schemaPath:"#/properties/DependsOn/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:schema507.properties.DependsOn.anyOf,parentSchema:schema507.properties.DependsOn,data:data1};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}else {errors = _errs5;if(vErrors !== null){if(_errs5){vErrors.length = _errs5;}else {vErrors = null;}}}}if(data.Properties !== undefined){let data4 = data.Properties;if(data4 && typeof data4 == "object" && !Array.isArray(data4)){}else {const err12 = {instancePath:instancePath+"/Properties",schemaPath:"#/properties/Properties/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema507.properties.Properties.type,parentSchema:schema507.properties.Properties,data:data4};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}if(data.Metadata !== undefined){let data5 = data.Metadata;if(data5 && typeof data5 == "object" && !Array.isArray(data5)){}else {const err13 = {instancePath:instancePath+"/Metadata",schemaPath:"#/properties/Metadata/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema507.properties.Metadata.type,parentSchema:schema507.properties.Metadata,data:data5};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}if(data.CreationPolicy !== undefined){if(!(validate577(data.CreationPolicy, {instancePath:instancePath+"/CreationPolicy",parentData:data,parentDataProperty:"CreationPolicy",rootData}))){vErrors = vErrors === null ? validate577.errors : vErrors.concat(validate577.errors);errors = vErrors.length;}}if(data.DeletionPolicy !== undefined){let data7 = data.DeletionPolicy;if(typeof data7 !== "string"){const err14 = {instancePath:instancePath+"/DeletionPolicy",schemaPath:"#/definitions/DeletionPolicy/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema514.type,parentSchema:schema514,data:data7};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}if(!(((data7 === "Delete") || (data7 === "Retain")) || (data7 === "Snapshot"))){const err15 = {instancePath:instancePath+"/DeletionPolicy",schemaPath:"#/definitions/DeletionPolicy/enum",keyword:"enum",params:{allowedValues: schema514.enum},message:"must be equal to one of the allowed values",schema:schema514.enum,parentSchema:schema514,data:data7};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}}if(data.UpdatePolicy !== undefined){if(!(validate584(data.UpdatePolicy, {instancePath:instancePath+"/UpdatePolicy",parentData:data,parentDataProperty:"UpdatePolicy",rootData}))){vErrors = vErrors === null ? validate584.errors : vErrors.concat(validate584.errors);errors = vErrors.length;}}if(data.Condition !== undefined){if(!(validate581(data.Condition, {instancePath:instancePath+"/Condition",parentData:data,parentDataProperty:"Condition",rootData}))){vErrors = vErrors === null ? validate581.errors : vErrors.concat(validate581.errors);errors = vErrors.length;}}}else {const err16 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema507.type,parentSchema:schema507,data};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}validate576.errors = vErrors;return errors === 0;}function validate10(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(data && typeof data == "object" && !Array.isArray(data)){if(data.resources === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "resources"},message:"must have required property '"+"resources"+"'",schema:schema11.required,parentSchema:schema11,data};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}for(const key0 in data){if(!(func2.call(schema11.properties, key0))){const err1 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties",schema:false,parentSchema:schema11,data};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}if(data.serviceName !== undefined){let data0 = data.serviceName;if(typeof data0 !== "string"){const err2 = {instancePath:instancePath+"/serviceName",schemaPath:"#/properties/serviceName/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema11.properties.serviceName.type,parentSchema:schema11.properties.serviceName,data:data0};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}if(data.providerConfig !== undefined){let data1 = data.providerConfig;if(data1 && typeof data1 == "object" && !Array.isArray(data1)){for(const key1 in data1){if(!((key1 === "mongoDbAtlas") || (key1 === "upstash"))){const err3 = {instancePath:instancePath+"/providerConfig",schemaPath:"#/properties/providerConfig/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties",schema:false,parentSchema:schema11.properties.providerConfig,data:data1};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}if(data1.mongoDbAtlas !== undefined){if(!(validate11(data1.mongoDbAtlas, {instancePath:instancePath+"/providerConfig/mongoDbAtlas",parentData:data1,parentDataProperty:"mongoDbAtlas",rootData}))){vErrors = vErrors === null ? validate11.errors : vErrors.concat(validate11.errors);errors = vErrors.length;}}if(data1.upstash !== undefined){let data3 = data1.upstash;if(data3 && typeof data3 == "object" && !Array.isArray(data3)){if(data3.accountEmail === undefined){const err4 = {instancePath:instancePath+"/providerConfig/upstash",schemaPath:"#/definitions/UpstashProvider/required",keyword:"required",params:{missingProperty: "accountEmail"},message:"must have required property '"+"accountEmail"+"'",schema:schema14.required,parentSchema:schema14,data:data3};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}if(data3.apiKey === undefined){const err5 = {instancePath:instancePath+"/providerConfig/upstash",schemaPath:"#/definitions/UpstashProvider/required",keyword:"required",params:{missingProperty: "apiKey"},message:"must have required property '"+"apiKey"+"'",schema:schema14.required,parentSchema:schema14,data:data3};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}for(const key2 in data3){if(!((key2 === "accountEmail") || (key2 === "apiKey"))){const err6 = {instancePath:instancePath+"/providerConfig/upstash",schemaPath:"#/definitions/UpstashProvider/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key2},message:"must NOT have additional properties",schema:false,parentSchema:schema14,data:data3};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}if(data3.accountEmail !== undefined){let data4 = data3.accountEmail;if(typeof data4 !== "string"){const err7 = {instancePath:instancePath+"/providerConfig/upstash/accountEmail",schemaPath:"#/definitions/UpstashProvider/properties/accountEmail/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema14.properties.accountEmail.type,parentSchema:schema14.properties.accountEmail,data:data4};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data3.apiKey !== undefined){let data5 = data3.apiKey;if(typeof data5 !== "string"){const err8 = {instancePath:instancePath+"/providerConfig/upstash/apiKey",schemaPath:"#/definitions/UpstashProvider/properties/apiKey/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema14.properties.apiKey.type,parentSchema:schema14.properties.apiKey,data:data5};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}}else {const err9 = {instancePath:instancePath+"/providerConfig/upstash",schemaPath:"#/definitions/UpstashProvider/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema14.type,parentSchema:schema14,data:data3};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}}else {const err10 = {instancePath:instancePath+"/providerConfig",schemaPath:"#/properties/providerConfig/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema11.properties.providerConfig.type,parentSchema:schema11.properties.providerConfig,data:data1};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data.variables !== undefined){let data6 = data.variables;if(data6 && typeof data6 == "object" && !Array.isArray(data6)){}else {const err11 = {instancePath:instancePath+"/variables",schemaPath:"#/properties/variables/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema11.properties.variables.type,parentSchema:schema11.properties.variables,data:data6};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}if(data.budgetControl !== undefined){if(!(validate13(data.budgetControl, {instancePath:instancePath+"/budgetControl",parentData:data,parentDataProperty:"budgetControl",rootData}))){vErrors = vErrors === null ? validate13.errors : vErrors.concat(validate13.errors);errors = vErrors.length;}}if(data.hooks !== undefined){if(!(validate15(data.hooks, {instancePath:instancePath+"/hooks",parentData:data,parentDataProperty:"hooks",rootData}))){vErrors = vErrors === null ? validate15.errors : vErrors.concat(validate15.errors);errors = vErrors.length;}}if(data.scripts !== undefined){let data9 = data.scripts;if(data9 && typeof data9 == "object" && !Array.isArray(data9)){for(const key3 in data9){let data10 = data9[key3];const _errs25 = errors;let valid5 = false;const _errs26 = errors;if(!(validate17(data10, {instancePath:instancePath+"/scripts/" + key3.replace(/~/g, "~0").replace(/\//g, "~1"),parentData:data9,parentDataProperty:key3,rootData}))){vErrors = vErrors === null ? validate17.errors : vErrors.concat(validate17.errors);errors = vErrors.length;}var _valid0 = _errs26 === errors;valid5 = valid5 || _valid0;if(!valid5){const _errs27 = errors;if(!(validate21(data10, {instancePath:instancePath+"/scripts/" + key3.replace(/~/g, "~0").replace(/\//g, "~1"),parentData:data9,parentDataProperty:key3,rootData}))){vErrors = vErrors === null ? validate21.errors : vErrors.concat(validate21.errors);errors = vErrors.length;}var _valid0 = _errs27 === errors;valid5 = valid5 || _valid0;if(!valid5){const _errs28 = errors;if(!(validate25(data10, {instancePath:instancePath+"/scripts/" + key3.replace(/~/g, "~0").replace(/\//g, "~1"),parentData:data9,parentDataProperty:key3,rootData}))){vErrors = vErrors === null ? validate25.errors : vErrors.concat(validate25.errors);errors = vErrors.length;}var _valid0 = _errs28 === errors;valid5 = valid5 || _valid0;}}if(!valid5){const err12 = {instancePath:instancePath+"/scripts/" + key3.replace(/~/g, "~0").replace(/\//g, "~1"),schemaPath:"#/properties/scripts/additionalProperties/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:schema11.properties.scripts.additionalProperties.anyOf,parentSchema:schema11.properties.scripts.additionalProperties,data:data10};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}else {errors = _errs25;if(vErrors !== null){if(_errs25){vErrors.length = _errs25;}else {vErrors = null;}}}}}else {const err13 = {instancePath:instancePath+"/scripts",schemaPath:"#/properties/scripts/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema11.properties.scripts.type,parentSchema:schema11.properties.scripts,data:data9};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}if(data.directives !== undefined){let data11 = data.directives;if(Array.isArray(data11)){const len0 = data11.length;for(let i0=0; i0<len0; i0++){let data12 = data11[i0];if(data12 && typeof data12 == "object" && !Array.isArray(data12)){if(data12.filePath === undefined){const err14 = {instancePath:instancePath+"/directives/" + i0,schemaPath:"#/definitions/DirectiveDefinition/required",keyword:"required",params:{missingProperty: "filePath"},message:"must have required property '"+"filePath"+"'",schema:schema35.required,parentSchema:schema35,data:data12};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}if(data12.name === undefined){const err15 = {instancePath:instancePath+"/directives/" + i0,schemaPath:"#/definitions/DirectiveDefinition/required",keyword:"required",params:{missingProperty: "name"},message:"must have required property '"+"name"+"'",schema:schema35.required,parentSchema:schema35,data:data12};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}for(const key4 in data12){if(!((key4 === "name") || (key4 === "filePath"))){const err16 = {instancePath:instancePath+"/directives/" + i0,schemaPath:"#/definitions/DirectiveDefinition/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key4},message:"must NOT have additional properties",schema:false,parentSchema:schema35,data:data12};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}}if(data12.name !== undefined){let data13 = data12.name;if(typeof data13 !== "string"){const err17 = {instancePath:instancePath+"/directives/" + i0+"/name",schemaPath:"#/definitions/DirectiveDefinition/properties/name/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema35.properties.name.type,parentSchema:schema35.properties.name,data:data13};if(vErrors === null){vErrors = [err17];}else {vErrors.push(err17);}errors++;}}if(data12.filePath !== undefined){let data14 = data12.filePath;if(typeof data14 !== "string"){const err18 = {instancePath:instancePath+"/directives/" + i0+"/filePath",schemaPath:"#/definitions/DirectiveDefinition/properties/filePath/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema35.properties.filePath.type,parentSchema:schema35.properties.filePath,data:data14};if(vErrors === null){vErrors = [err18];}else {vErrors.push(err18);}errors++;}}}else {const err19 = {instancePath:instancePath+"/directives/" + i0,schemaPath:"#/definitions/DirectiveDefinition/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema35.type,parentSchema:schema35,data:data12};if(vErrors === null){vErrors = [err19];}else {vErrors.push(err19);}errors++;}}}else {const err20 = {instancePath:instancePath+"/directives",schemaPath:"#/properties/directives/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema11.properties.directives.type,parentSchema:schema11.properties.directives,data:data11};if(vErrors === null){vErrors = [err20];}else {vErrors.push(err20);}errors++;}}if(data.deploymentConfig !== undefined){let data15 = data.deploymentConfig;if(data15 && typeof data15 == "object" && !Array.isArray(data15)){for(const key5 in data15){if(!((((((((key5 === "terminationProtection") || (key5 === "cloudformationRoleArn")) || (key5 === "triggerRollbackOnAlarms")) || (key5 === "monitoringTimeAfterDeploymentInMinutes")) || (key5 === "disableAutoRollback")) || (key5 === "publishEventsToArn")) || (key5 === "previousVersionsToKeep")) || (key5 === "disableS3TransferAcceleration"))){const err21 = {instancePath:instancePath+"/deploymentConfig",schemaPath:"#/definitions/DeploymentConfig/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key5},message:"must NOT have additional properties",schema:false,parentSchema:schema36,data:data15};if(vErrors === null){vErrors = [err21];}else {vErrors.push(err21);}errors++;}}if(data15.terminationProtection !== undefined){let data16 = data15.terminationProtection;if(typeof data16 !== "boolean"){const err22 = {instancePath:instancePath+"/deploymentConfig/terminationProtection",schemaPath:"#/definitions/DeploymentConfig/properties/terminationProtection/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema36.properties.terminationProtection.type,parentSchema:schema36.properties.terminationProtection,data:data16};if(vErrors === null){vErrors = [err22];}else {vErrors.push(err22);}errors++;}}if(data15.cloudformationRoleArn !== undefined){let data17 = data15.cloudformationRoleArn;if(typeof data17 !== "string"){const err23 = {instancePath:instancePath+"/deploymentConfig/cloudformationRoleArn",schemaPath:"#/definitions/DeploymentConfig/properties/cloudformationRoleArn/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema36.properties.cloudformationRoleArn.type,parentSchema:schema36.properties.cloudformationRoleArn,data:data17};if(vErrors === null){vErrors = [err23];}else {vErrors.push(err23);}errors++;}}if(data15.triggerRollbackOnAlarms !== undefined){let data18 = data15.triggerRollbackOnAlarms;if(Array.isArray(data18)){const len1 = data18.length;for(let i1=0; i1<len1; i1++){let data19 = data18[i1];if(typeof data19 !== "string"){const err24 = {instancePath:instancePath+"/deploymentConfig/triggerRollbackOnAlarms/" + i1,schemaPath:"#/definitions/DeploymentConfig/properties/triggerRollbackOnAlarms/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema36.properties.triggerRollbackOnAlarms.items.type,parentSchema:schema36.properties.triggerRollbackOnAlarms.items,data:data19};if(vErrors === null){vErrors = [err24];}else {vErrors.push(err24);}errors++;}}}else {const err25 = {instancePath:instancePath+"/deploymentConfig/triggerRollbackOnAlarms",schemaPath:"#/definitions/DeploymentConfig/properties/triggerRollbackOnAlarms/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema36.properties.triggerRollbackOnAlarms.type,parentSchema:schema36.properties.triggerRollbackOnAlarms,data:data18};if(vErrors === null){vErrors = [err25];}else {vErrors.push(err25);}errors++;}}if(data15.monitoringTimeAfterDeploymentInMinutes !== undefined){let data20 = data15.monitoringTimeAfterDeploymentInMinutes;if(!(typeof data20 == "number")){const err26 = {instancePath:instancePath+"/deploymentConfig/monitoringTimeAfterDeploymentInMinutes",schemaPath:"#/definitions/DeploymentConfig/properties/monitoringTimeAfterDeploymentInMinutes/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema36.properties.monitoringTimeAfterDeploymentInMinutes.type,parentSchema:schema36.properties.monitoringTimeAfterDeploymentInMinutes,data:data20};if(vErrors === null){vErrors = [err26];}else {vErrors.push(err26);}errors++;}}if(data15.disableAutoRollback !== undefined){let data21 = data15.disableAutoRollback;if(typeof data21 !== "boolean"){const err27 = {instancePath:instancePath+"/deploymentConfig/disableAutoRollback",schemaPath:"#/definitions/DeploymentConfig/properties/disableAutoRollback/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema36.properties.disableAutoRollback.type,parentSchema:schema36.properties.disableAutoRollback,data:data21};if(vErrors === null){vErrors = [err27];}else {vErrors.push(err27);}errors++;}}if(data15.publishEventsToArn !== undefined){let data22 = data15.publishEventsToArn;if(Array.isArray(data22)){const len2 = data22.length;for(let i2=0; i2<len2; i2++){let data23 = data22[i2];if(typeof data23 !== "string"){const err28 = {instancePath:instancePath+"/deploymentConfig/publishEventsToArn/" + i2,schemaPath:"#/definitions/DeploymentConfig/properties/publishEventsToArn/items/type",keyword:"type",params:{type: "string"},message:"must be string",schema:schema36.properties.publishEventsToArn.items.type,parentSchema:schema36.properties.publishEventsToArn.items,data:data23};if(vErrors === null){vErrors = [err28];}else {vErrors.push(err28);}errors++;}}}else {const err29 = {instancePath:instancePath+"/deploymentConfig/publishEventsToArn",schemaPath:"#/definitions/DeploymentConfig/properties/publishEventsToArn/type",keyword:"type",params:{type: "array"},message:"must be array",schema:schema36.properties.publishEventsToArn.type,parentSchema:schema36.properties.publishEventsToArn,data:data22};if(vErrors === null){vErrors = [err29];}else {vErrors.push(err29);}errors++;}}if(data15.previousVersionsToKeep !== undefined){let data24 = data15.previousVersionsToKeep;if(!(typeof data24 == "number")){const err30 = {instancePath:instancePath+"/deploymentConfig/previousVersionsToKeep",schemaPath:"#/definitions/DeploymentConfig/properties/previousVersionsToKeep/type",keyword:"type",params:{type: "number"},message:"must be number",schema:schema36.properties.previousVersionsToKeep.type,parentSchema:schema36.properties.previousVersionsToKeep,data:data24};if(vErrors === null){vErrors = [err30];}else {vErrors.push(err30);}errors++;}}if(data15.disableS3TransferAcceleration !== undefined){let data25 = data15.disableS3TransferAcceleration;if(typeof data25 !== "boolean"){const err31 = {instancePath:instancePath+"/deploymentConfig/disableS3TransferAcceleration",schemaPath:"#/definitions/DeploymentConfig/properties/disableS3TransferAcceleration/type",keyword:"type",params:{type: "boolean"},message:"must be boolean",schema:schema36.properties.disableS3TransferAcceleration.type,parentSchema:schema36.properties.disableS3TransferAcceleration,data:data25};if(vErrors === null){vErrors = [err31];}else {vErrors.push(err31);}errors++;}}}else {const err32 = {instancePath:instancePath+"/deploymentConfig",schemaPath:"#/definitions/DeploymentConfig/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema36.type,parentSchema:schema36,data:data15};if(vErrors === null){vErrors = [err32];}else {vErrors.push(err32);}errors++;}}if(data.stackConfig !== undefined){if(!(validate29(data.stackConfig, {instancePath:instancePath+"/stackConfig",parentData:data,parentDataProperty:"stackConfig",rootData}))){vErrors = vErrors === null ? validate29.errors : vErrors.concat(validate29.errors);errors = vErrors.length;}}if(data.resources !== undefined){let data27 = data.resources;if(data27 && typeof data27 == "object" && !Array.isArray(data27)){for(const key6 in data27){if(!(validate33(data27[key6], {instancePath:instancePath+"/resources/" + key6.replace(/~/g, "~0").replace(/\//g, "~1"),parentData:data27,parentDataProperty:key6,rootData}))){vErrors = vErrors === null ? validate33.errors : vErrors.concat(validate33.errors);errors = vErrors.length;}}}else {const err33 = {instancePath:instancePath+"/resources",schemaPath:"#/properties/resources/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema11.properties.resources.type,parentSchema:schema11.properties.resources,data:data27};if(vErrors === null){vErrors = [err33];}else {vErrors.push(err33);}errors++;}}if(data.cloudformationResources !== undefined){let data29 = data.cloudformationResources;if(data29 && typeof data29 == "object" && !Array.isArray(data29)){for(const key7 in data29){if(!(validate576(data29[key7], {instancePath:instancePath+"/cloudformationResources/" + key7.replace(/~/g, "~0").replace(/\//g, "~1"),parentData:data29,parentDataProperty:key7,rootData}))){vErrors = vErrors === null ? validate576.errors : vErrors.concat(validate576.errors);errors = vErrors.length;}}}else {const err34 = {instancePath:instancePath+"/cloudformationResources",schemaPath:"#/properties/cloudformationResources/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema11.properties.cloudformationResources.type,parentSchema:schema11.properties.cloudformationResources,data:data29};if(vErrors === null){vErrors = [err34];}else {vErrors.push(err34);}errors++;}}}else {const err35 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object",schema:schema11.type,parentSchema:schema11,data};if(vErrors === null){vErrors = [err35];}else {vErrors.push(err35);}errors++;}validate10.errors = vErrors;return errors === 0;}